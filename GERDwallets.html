<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>GERD Token Balances Dashboard</title>
  
  <!-- Bootstrap 5.3.3 CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
  
  <!-- Font Awesome 6 -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"/>
  
  <!-- Custom CSS -->
  <link rel="stylesheet" href="css/main.css"/>
  
  <!-- Web3 -->
  <script src="https://cdn.jsdelivr.net/npm/web3@1.8.0/dist/web3.min.js"></script>
</head>
<body>
  <!-- Dynamic Navbar -->
  <div id="navbar-container"></div>
  <script>
    fetch('navtest.html')
      .then(res => res.text())
      .then(html => {
        document.getElementById('navbar-container').innerHTML = html;
      })
      .catch(err => console.error('Error loading navbar:', err));
  </script>

  <section class="py-5 mt-5">
    <div class="container">
      <h2 class="h2 mb-4"><i class="fas fa-wallet text-success me-2"></i>GERD Token Wallet Balances</h2>
      
      <div class="table-responsive">
        <table class="table table-striped table-hover">
          <thead class="table-success">
            <tr>
              <th>Balance (GERD)</th>
              <th>Description</th>
              <th>Wallet Address</th>
            </tr>
          </thead>
          <tbody>
            <tr data-address="0x02a2013C569c3cF7a8bf3DFE70D97c76B44993dc">
              <td class="balance">Loading…</td>
              <td>Vesting Reserve</td>
              <td><a href="https://bscscan.com/token/0x6B16DE4F92e91e91357b5b02640EBAf5be9CF83c?a=0x02a2013C569c3cF7a8bf3DFE70D97c76B44993dc" target="_blank" class="text-decoration-none"><code>0x02a2013C569c3cF7a8bf3DFE70D97c76B44993dc</code></a></td>
            </tr>
            <tr data-address="0x000000000000000000000000000000000000dead">
              <td class="balance">Loading…</td>
              <td>Token Burn - Dead Address</td>
              <td><a href="https://bscscan.com/token/0x6B16DE4F92e91e91357b5b02640EBAf5be9CF83c?a=0x000000000000000000000000000000000000dead" target="_blank" class="text-decoration-none"><code>0x000000000000000000000000000000000000dead</code></a></td>
            </tr>
            <tr data-address="0x8bF286A0135489832300e33F57ACc7ADA2Ca8133">
              <td class="balance">Loading…</td>
              <td>Development Reserve Fund</td>
              <td><a href="https://bscscan.com/token/0x6B16DE4F92e91e91357b5b02640EBAf5be9CF83c?a=0x8bF286A0135489832300e33F57ACc7ADA2Ca8133" target="_blank" class="text-decoration-none"><code>0x8bF286A0135489832300e33F57ACc7ADA2Ca8133</code></a></td>
            </tr>
            <tr data-address="0xAfDAaDe5b0044993813b1f06cC3F3c6C025a1F1D">
              <td class="balance">Loading…</td>
              <td>Distribution - for Claims</td>
              <td><a href="https://bscscan.com/token/0x6B16DE4F92e91e91357b5b02640EBAf5be9CF83c?a=0xAfDAaDe5b0044993813b1f06cC3F3c6C025a1F1D" target="_blank" class="text-decoration-none"><code>0xAfDAaDe5b0044993813b1f06cC3F3c6C025a1F1D</code></a></td>
            </tr>
            <tr data-address="0x2C8FbB5E9b56050401C283a7bd22a8594b64c6d1">
              <td class="balance">Loading…</td>
              <td>Airdrop Smart Contract</td>
              <td><a href="https://bscscan.com/token/0x6B16DE4F92e91e91357b5b02640EBAf5be9CF83c?a=0x2C8FbB5E9b56050401C283a7bd22a8594b64c6d1" target="_blank" class="text-decoration-none"><code>0x2C8FbB5E9b56050401C283a7bd22a8594b64c6d1</code></a></td>
            </tr>
            <tr data-address="0xdA96DBeDD6eF3f4f2b503565A7c6a5a65fbabf17">
              <td class="balance">Loading…</td>
              <td>Liquidity Pool</td>
              <td><a href="https://bscscan.com/token/0x6B16DE4F92e91e91357b5b02640EBAf5be9CF83c?a=0xdA96DBeDD6eF3f4f2b503565A7c6a5a65fbabf17" target="_blank" class="text-decoration-none"><code>0xdA96DBeDD6eF3f4f2b503565A7c6a5a65fbabf17</code></a></td>
            </tr>
            <tr data-address="0x75F5f7d68AD14f467c935d6B375D350614F9cF68">
              <td class="balance">Loading…</td>
              <td>GERD Dignitary Reserve</td>
              <td><a href="https://bscscan.com/token/0x6B16DE4F92e91e91357b5b02640EBAf5be9CF83c?a=0x75F5f7d68AD14f467c935d6B375D350614F9cF68" target="_blank" class="text-decoration-none"><code>0x75F5f7d68AD14f467c935d6B375D350614F9cF68</code></a></td>
            </tr>
            <tr data-address="0xB2d784C9DDFE33359D1Af13E9121D7bd94C28578">
              <td class="balance">Loading…</td>
              <td>Claim Dispensing System</td>
              <td><a href="https://bscscan.com/token/0x6B16DE4F92e91e91357b5b02640EBAf5be9CF83c?a=0xB2d784C9DDFE33359D1Af13E9121D7bd94C28578" target="_blank" class="text-decoration-none"><code>0xB2d784C9DDFE33359D1Af13E9121D7bd94C28578</code></a></td>
            </tr>
            <tr data-address="0x3B84a366a2f25BbB48f34b2b8D587c02237E6a13">
              <td class="balance">Loading…</td>
              <td>Staking Rewards</td>
              <td><a href="https://bscscan.com/token/0x6B16DE4F92e91e91357b5b02640EBAf5be9CF83c?a=0x3B84a366a2f25BbB48f34b2b8D587c02237E6a13" target="_blank" class="text-decoration-none"><code>0x3B84a366a2f25BbB48f34b2b8D587c02237E6a13</code></a></td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </section>

  <script>
    window.addEventListener('load', async () => {
      const rpc = "https://bsc-dataseed.binance.org/";
      const web3 = new Web3(rpc);
      const tokenAddress = "0x6B16DE4F92e91e91357b5b02640EBAf5be9CF83c";
      const tokenABI = [
        { "constant":true, "inputs":[], "name":"decimals", "outputs":[{"name":"","type":"uint8"}], "type":"function" },
        { "constant":true, "inputs":[{"name":"account","type":"address"}], "name":"balanceOf", "outputs":[{"name":"","type":"uint256"}], "type":"function" }
      ];
      const contract = new web3.eth.Contract(tokenABI, tokenAddress);
      const decimals = await contract.methods.decimals().call();

      document.querySelectorAll('tr[data-address]').forEach(async row => {
        const addr = row.getAttribute('data-address');
        try {
          const raw = await contract.methods.balanceOf(addr).call();
          const formatted = (Number(raw) / (10 ** decimals)).toLocaleString();
          row.querySelector('.balance').innerText = formatted;
        } catch (err) {
          console.error(`Failed to fetch for ${addr}:`, err);
          row.querySelector('.balance').innerText = 'Error';
        }
      });
    });
  </script>

  <section class="bg-success-subtle py-5 mb-0">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-md-8">
          <h2 class="h5 mb-3">
            DISCOVER ABAY GERD TOKEN, THE ETHIOPIAN-BORN CRYPTOCURRENCY EMPOWERING OUR COMMUNITY AND SUPPORTING THE GRAND ETHIOPIAN RENAISSANCE DAM PROJECT.
            JOIN US IN CREATING A BRIGHTER FUTURE! #ABAYGERDTOKEN #ETHIOPIA #CRYPTO #GERD
          </h2>
        </div>
        <div class="col-md-4 text-center">
          <img src="image/abay_bluesky.png" alt="AbayGERDToken" class="img-fluid img-hero">
        </div>
      </div>
    </div>
  </section>

  <footer class="bg-dark text-light py-4">
    <div class="container text-center">
      <p class="small mb-0">
        Copyright 2023 Abay GERD Token. All rights reserved.
      </p>
    </div>
  </footer>

  <!-- Bootstrap 5.3.3 JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
