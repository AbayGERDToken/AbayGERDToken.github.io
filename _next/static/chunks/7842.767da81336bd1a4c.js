"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7842],{96604:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.decodeSingle=t.decode=t.encodePacked=t.encodeSingle=t.encode=void 0;let r=n(60885),a=n(89977),i=n(52086);t.encode=(e,t,n,r)=>{try{return(0,i.pack)({types:e,values:t,packed:n,tight:r})}catch(e){if(e instanceof a.ParserError)throw new a.ParserError(`Unable to encode value: ${e.message}`,e);throw new a.ParserError(`An unexpected error occurred: ${(0,a.getErrorMessage)(e)}`,e)}},t.encodeSingle=(e,n)=>(0,t.encode)([e],[n]),t.encodePacked=(e,n,r)=>(0,t.encode)(e,n,!0,r),t.decode=(e,t)=>{let n=(0,r.createBytes)(t);try{return(0,i.unpack)(e,n)}catch(e){if(e instanceof a.ParserError)throw new a.ParserError(`Unable to decode value: ${e.message}`,e);throw new a.ParserError(`An unexpected error occurred: ${(0,a.getErrorMessage)(e)}`,e)}},t.decodeSingle=(e,n)=>{let i=(0,t.decode)([e],n);return(0,r.assert)(1===i.length,new a.ParserError("Decoded value array has unexpected length.")),i[0]}},89977:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ParserError=t.getErrorStack=t.getErrorMessage=void 0;let r=n(60885);t.getErrorMessage=e=>"string"==typeof e?e:e instanceof Error||(0,r.isObject)(e)&&(0,r.hasProperty)(e,"message")&&"string"==typeof e.message?e.message:"Unknown error.",t.getErrorStack=e=>{if(e instanceof Error)return e.stack};class a extends Error{constructor(e,n){super(e),this.name="ParserError";let r=(0,t.getErrorStack)(n);r&&(this.stack=r)}}t.ParserError=a},61690:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),a(n(96604),t),a(n(89977),t),a(n(14083),t)},80482:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.iterate=void 0;let r=n(60885),a=function*(e,t=32){for(let n=0;n<e.length;n+=t){let a=e=>{(0,r.assert)(e>=0,"Cannot skip a negative number of bytes."),(0,r.assert)(e%t==0,"Length must be a multiple of the size."),n+=e},i=e.subarray(n);yield{skip:a,value:i}}return{skip:()=>void 0,value:new Uint8Array}};t.iterate=a},52086:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.unpack=t.pack=t.isDynamicParser=t.getParser=void 0;let r=n(60885),a=n(89977),i=n(80482),s=n(93595),o=n(39362);t.getParser=e=>{let t={address:s.address,array:s.array,bool:s.bool,bytes:s.bytes,fixedBytes:s.fixedBytes,function:s.fn,number:s.number,string:s.string,tuple:s.tuple},n=t[e];if(n)return n;let r=Object.values(t).find(t=>t.isType(e));if(r)return r;throw new a.ParserError(`The type "${e}" is not supported.`)},t.isDynamicParser=(e,t)=>{let{isDynamic:n}=e;return"function"==typeof n?n(t):n},t.pack=({types:e,values:n,packed:i=!1,tight:s=!1,arrayPacked:c=!1,byteArray:u=new Uint8Array})=>{(0,r.assert)(e.length===n.length,new a.ParserError(`The number of types (${e.length}) does not match the number of values (${n.length}).`));let{staticBuffer:l,dynamicBuffer:d,pointers:p}=e.reduce(({staticBuffer:e,dynamicBuffer:a,pointers:o},u,l)=>{let d=(0,t.getParser)(u),p=n[l];return i||c||!(0,t.isDynamicParser)(d,u)?{staticBuffer:d.encode({buffer:e,value:p,type:u,packed:i,tight:s}),dynamicBuffer:a,pointers:o}:{staticBuffer:(0,r.concatBytes)([e,new Uint8Array(32)]),dynamicBuffer:d.encode({buffer:a,value:p,type:u,packed:i,tight:s}),pointers:[...o,{position:e.length,pointer:a.length}]}},{staticBuffer:new Uint8Array,dynamicBuffer:new Uint8Array,pointers:[]});(0,r.assert)(!i&&!c||0===d.length,new a.ParserError("Invalid pack state."));let f=l.length,y=p.reduce((e,{pointer:t,position:n})=>{let a=(0,o.padStart)((0,r.numberToBytes)(f+t));return(0,o.set)(e,a,n)},l);return(0,r.concatBytes)([u,y,d])},t.unpack=(e,n)=>{let s=(0,i.iterate)(n);return e.map(e=>{let{value:{value:i,skip:o},done:c}=s.next();(0,r.assert)(!c,new a.ParserError(`The encoded value is invalid for the provided types. Reached end of buffer while attempting to parse "${e}".`));let u=(0,t.getParser)(e);if((0,t.isDynamicParser)(u,e)){let t=(0,r.bytesToNumber)(i.subarray(0,32)),a=n.subarray(t);return u.decode({type:e,value:a,skip:o})}return u.decode({type:e,value:i,skip:o})})}},22200:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.address=t.getAddress=void 0;let r=n(60885),a=n(89977),i=n(39362);t.getAddress=e=>{let t=(0,r.createBytes)(e);return(0,r.assert)(t.length<=20,new a.ParserError(`Invalid address value. Expected address to be 20 bytes long, but received ${t.length} bytes.`)),(0,i.padStart)(t,20)},t.address={isDynamic:!1,isType:e=>"address"===e,getByteLength:()=>32,encode({buffer:e,value:n,packed:a}){let s=(0,t.getAddress)(n);if(a)return(0,r.concatBytes)([e,s]);let o=(0,i.padStart)(s);return(0,r.concatBytes)([e,o])},decode:({value:e})=>(0,r.add0x)((0,r.bytesToHex)(e.slice(12,32)))}},40987:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.array=t.getTupleType=t.getArrayType=t.isArrayType=void 0;let r=n(60885),a=n(89977),i=n(52086),s=n(39362),o=n(87550),c=n(55247),u=/^(?<type>.*)\[(?<length>\d*?)\]$/u;t.isArrayType=e=>u.test(e),t.getArrayType=e=>{let t=e.match(u);return(0,r.assert)(t?.groups?.type,new a.ParserError(`Invalid array type. Expected an array type, but received "${e}".`)),[t.groups.type,t.groups.length?parseInt(t.groups.length,10):void 0]},t.getTupleType=(e,t)=>`(${Array(t).fill(e).join(",")})`,t.array={isDynamic(e){let[n,r]=(0,t.getArrayType)(e);return void 0===r||(0,i.isDynamicParser)((0,i.getParser)(n),n)},isType:e=>(0,t.isArrayType)(e),getByteLength(e){(0,r.assert)((0,t.isArrayType)(e),new a.ParserError(`Expected an array type, but received "${e}".`));let[n,s]=(0,t.getArrayType)(e);return(0,i.isDynamicParser)(this,e)||void 0===s?32:c.tuple.getByteLength((0,t.getTupleType)(n,s))},encode({type:e,buffer:n,value:u,packed:l,tight:d}){let[p,f]=(0,t.getArrayType)(e);if((0,r.assert)(!l||!(0,t.isArrayType)(p),new a.ParserError("Cannot pack nested arrays.")),l&&(0,i.isDynamicParser)((0,i.getParser)(p),p))return(0,i.pack)({types:Array(u.length).fill(p),values:u,byteArray:n,packed:l,arrayPacked:!0,tight:d});if(f)return(0,r.assert)(f===u.length,new a.ParserError(`Array length does not match type length. Expected a length of ${f}, but received ${u.length}.`)),c.tuple.encode({type:(0,t.getTupleType)(p,f),buffer:n,value:u,packed:o.fixedBytes.isType(p)&&d,tight:d});if(l)return(0,i.pack)({types:Array(u.length).fill(p),values:u,byteArray:n,packed:o.fixedBytes.isType(p)&&d,arrayPacked:!0,tight:d});let y=(0,s.padStart)((0,r.numberToBytes)(u.length));return(0,i.pack)({types:Array(u.length).fill(p),values:u,byteArray:(0,r.concatBytes)([n,y]),packed:l,tight:d})},decode({type:e,value:n,...s}){let[o,u]=(0,t.getArrayType)(e);if(u){let e=c.tuple.decode({type:(0,t.getTupleType)(o,u),value:n,...s});return(0,r.assert)(e.length===u,new a.ParserError(`Array length does not match type length. Expected a length of ${u}, but received ${e.length}.`)),e}let l=(0,r.bytesToNumber)(n.subarray(0,32));return(0,i.unpack)(Array(l).fill(o),n.subarray(32))}}},17923:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.bool=t.getBooleanValue=void 0;let r=n(12776),a=n(60885),i=n(89977),s=n(31150),o=(0,r.coerce)((0,r.boolean)(),(0,r.union)([(0,r.literal)("true"),(0,r.literal)("false")]),e=>"true"===e);t.getBooleanValue=e=>{try{if((0,r.create)(e,o))return BigInt(1);return BigInt(0)}catch{throw new i.ParserError(`Invalid boolean value. Expected a boolean literal, or the string "true" or "false", but received "${e}".`)}},t.bool={isDynamic:!1,isType:e=>"bool"===e,getByteLength:()=>32,encode({buffer:e,value:n,packed:r,tight:i}){let o=(0,t.getBooleanValue)(n);return r?(0,a.concatBytes)([e,(0,a.bigIntToBytes)(o)]):s.number.encode({type:"uint256",buffer:e,value:o,packed:r,tight:i})},decode:e=>s.number.decode({...e,type:"uint256"})===BigInt(1)}},89134:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.bytes=void 0;let r=n(60885),a=n(39362);t.bytes={isDynamic:!0,isType:e=>"bytes"===e,getByteLength:()=>32,encode({buffer:e,value:t,packed:n}){let i=(0,r.createBytes)(t);if(n)return(0,r.concatBytes)([e,i]);let s=32*Math.ceil(i.byteLength/32);return(0,r.concatBytes)([e,(0,a.padStart)((0,r.numberToBytes)(i.byteLength)),(0,a.padEnd)(i,s)])},decode({value:e}){let t=e.subarray(0,32),n=(0,r.bytesToNumber)(t);return e.slice(32,32+n)}}},87550:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.fixedBytes=t.getByteLength=void 0;let r=n(60885),a=n(89977),i=n(39362),s=/^bytes([0-9]{1,2})$/u;t.getByteLength=e=>{let t=e.match(s)?.[1];(0,r.assert)(t,`Invalid byte length. Expected a number between 1 and 32, but received "${e}".`);let n=Number(t);return(0,r.assert)(n>0&&n<=32,new a.ParserError(`Invalid byte length. Expected a number between 1 and 32, but received "${e}".`)),n},t.fixedBytes={isDynamic:!1,isType:e=>s.test(e),getByteLength:()=>32,encode({type:e,buffer:n,value:s,packed:o}){let c=(0,t.getByteLength)(e),u=(0,r.createBytes)(s);return((0,r.assert)(u.length<=c,new a.ParserError(`Expected a value of length ${c}, but received a value of length ${u.length}.`)),o)?(0,r.concatBytes)([n,(0,i.padEnd)(u,c)]):(0,r.concatBytes)([n,(0,i.padEnd)(u)])},decode({type:e,value:n}){let r=(0,t.getByteLength)(e);return n.slice(0,r)}}},24957:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.fn=t.getFunction=void 0;let r=n(12776),a=n(60885),i=n(89977),s=n(87550),o=(0,r.coerce)((0,r.object)({address:a.StrictHexStruct,selector:a.StrictHexStruct}),(0,r.union)([a.StrictHexStruct,(0,r.instance)(Uint8Array)]),e=>{let t=(0,a.createBytes)(e);return(0,a.assert)(24===t.length,new i.ParserError(`Invalid Solidity function. Expected function to be 24 bytes long, but received ${t.length} bytes.`)),{address:(0,a.bytesToHex)(t.subarray(0,20)),selector:(0,a.bytesToHex)(t.subarray(20,24))}});t.getFunction=e=>{let t=(0,r.create)(e,o);return(0,a.concatBytes)([(0,a.hexToBytes)(t.address),(0,a.hexToBytes)(t.selector)])},t.fn={isDynamic:!1,isType:e=>"function"===e,getByteLength:()=>32,encode({buffer:e,value:n,packed:r,tight:a}){let i=(0,t.getFunction)(n);return s.fixedBytes.encode({type:"bytes24",buffer:e,value:i,packed:r,tight:a})},decode:({value:e})=>({address:(0,a.bytesToHex)(e.slice(0,20)),selector:(0,a.bytesToHex)(e.slice(20,24))})}},93595:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),a(n(22200),t),a(n(40987),t),a(n(17923),t),a(n(89134),t),a(n(87550),t),a(n(24957),t),a(n(31150),t),a(n(77987),t),a(n(58575),t),a(n(55247),t)},31150:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.number=t.getBigInt=t.assertNumberLength=t.getLength=t.isSigned=void 0;let r=n(60885),a=n(89977),i=n(39362),s=/^u?int(?<length>[0-9]*)?$/u;t.isSigned=e=>!e.startsWith("u"),t.getLength=e=>{if("int"===e||"uint"===e)return 256;let t=e.match(s);(0,r.assert)(t?.groups?.length,new a.ParserError(`Invalid number type. Expected a number type, but received "${e}".`));let n=parseInt(t.groups.length,10);return(0,r.assert)(n>=8&&n<=256,new a.ParserError(`Invalid number length. Expected a number between 8 and 256, but received "${e}".`)),(0,r.assert)(n%8==0,new a.ParserError(`Invalid number length. Expected a multiple of 8, but received "${e}".`)),n},t.assertNumberLength=(e,n)=>{let i=(0,t.getLength)(n),s=BigInt(2)**BigInt(i-((0,t.isSigned)(n)?1:0))-BigInt(1);if((0,t.isSigned)(n)){(0,r.assert)(e>=-(s+BigInt(1))&&e<=s,new a.ParserError(`Number "${e}" is out of range for type "${n}".`));return}(0,r.assert)(e<=s,new a.ParserError(`Number "${e}" is out of range for type "${n}".`))},t.getBigInt=e=>{try{return(0,r.createBigInt)(e)}catch{throw new a.ParserError(`Invalid number. Expected a valid number value, but received "${e}".`)}},t.number={isDynamic:!1,isType:e=>s.test(e),getByteLength:()=>32,encode({type:e,buffer:n,value:a,packed:s}){let o=(0,t.getBigInt)(a);if((0,t.assertNumberLength)(o,e),(0,t.isSigned)(e)){if(s){let a=(0,t.getLength)(e)/8;return(0,r.concatBytes)([n,(0,r.signedBigIntToBytes)(o,a)])}return(0,r.concatBytes)([n,(0,i.padStart)((0,r.signedBigIntToBytes)(o,32))])}if(s){let a=(0,t.getLength)(e)/8;return(0,r.concatBytes)([n,(0,i.padStart)((0,r.bigIntToBytes)(o),a)])}return(0,r.concatBytes)([n,(0,i.padStart)((0,r.bigIntToBytes)(o))])},decode({type:e,value:n}){let a=n.subarray(0,32);if((0,t.isSigned)(e)){let n=(0,r.bytesToSignedBigInt)(a);return(0,t.assertNumberLength)(n,e),n}let i=(0,r.bytesToBigInt)(a);return(0,t.assertNumberLength)(i,e),i}}},77987:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},58575:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.string=void 0;let r=n(60885),a=n(89134);t.string={isDynamic:!0,isType:e=>"string"===e,getByteLength:()=>32,encode:({buffer:e,value:t,packed:n,tight:i})=>a.bytes.encode({type:"bytes",buffer:e,value:(0,r.stringToBytes)(t),packed:n,tight:i}),decode:e=>(0,r.bytesToString)(a.bytes.decode(e))}},55247:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.tuple=t.getTupleElements=void 0;let r=n(60885),a=n(89977),i=n(52086),s=/^\((.+)\)$/u,o=e=>s.test(e);t.getTupleElements=e=>{(0,r.assert)(e.startsWith("(")&&e.endsWith(")"),new a.ParserError(`Invalid tuple type. Expected tuple type, but received "${e}".`));let t=[],n="",i=0;for(let r=1;r<e.length-1;r++){let a=e[r];","===a&&0===i?(t.push(n.trim()),n=""):(n+=a,"("===a?i+=1:")"===a&&(i-=1))}return n.trim()&&t.push(n.trim()),t},t.tuple={isDynamic:e=>(0,t.getTupleElements)(e).some(e=>{let t=(0,i.getParser)(e);return(0,i.isDynamicParser)(t,e)}),isType:e=>o(e),getByteLength(e){return(0,i.isDynamicParser)(this,e)?32:(0,t.getTupleElements)(e).reduce((e,t)=>e+(0,i.getParser)(t).getByteLength(t),0)},encode({type:e,buffer:n,value:r,packed:a,tight:s}){let o=(0,t.getTupleElements)(e);return(0,i.pack)({types:o,values:r,byteArray:n,packed:a,tight:s})},decode({type:e,value:n,skip:r}){let a=(0,t.getTupleElements)(e);return r(this.getByteLength(e)-32),(0,i.unpack)(a,n)}}},3050:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},14083:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),a(n(3050),t)},20193:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.padEnd=t.padStart=t.set=void 0;let r=n(60885),a=32;t.set=(e,t,n)=>(0,r.concatBytes)([e.subarray(0,n),t,e.subarray(n+t.length)]),t.padStart=(e,t=a)=>{let n=new Uint8Array(Math.max(t-e.length,0)).fill(0);return(0,r.concatBytes)([n,e])},t.padEnd=(e,t=a)=>{let n=new Uint8Array(Math.max(t-e.length,0)).fill(0);return(0,r.concatBytes)([e,n])}},39362:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),a(n(20193),t)},48444:function(e,t){function n(e){if(!Number.isSafeInteger(e)||e<0)throw Error(`positive integer expected, not ${e}`)}function r(e){if("boolean"!=typeof e)throw Error(`boolean expected, not ${e}`)}function a(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function i(e,...t){if(!a(e))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function s(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.wrapConstructor");n(e.outputLen),n(e.blockLen)}function o(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function c(e,t){i(e);let n=t.outputLen;if(e.length<n)throw Error(`digestInto() expects output buffer of length at least ${n}`)}Object.defineProperty(t,"__esModule",{value:!0}),t.output=t.exists=t.hash=t.bytes=t.bool=t.number=t.isBytes=void 0,t.number=n,t.bool=r,t.isBytes=a,t.bytes=i,t.hash=s,t.exists=o,t.output=c,t.default={number:n,bool:r,bytes:i,hash:s,exists:o,output:c}},11993:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.HashMD=t.Maj=t.Chi=void 0;let r=n(48444),a=n(28772);t.Chi=(e,t,n)=>e&t^~e&n,t.Maj=(e,t,n)=>e&t^e&n^t&n;class i extends a.Hash{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,a.createView)(this.buffer)}update(e){(0,r.exists)(this);let{view:t,buffer:n,blockLen:i}=this,s=(e=(0,a.toBytes)(e)).length;for(let r=0;r<s;){let o=Math.min(i-this.pos,s-r);if(o===i){let t=(0,a.createView)(e);for(;i<=s-r;r+=i)this.process(t,r);continue}n.set(e.subarray(r,r+o),this.pos),this.pos+=o,r+=o,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,r.exists)(this),(0,r.output)(e,this),this.finished=!0;let{buffer:t,view:n,blockLen:i,isLE:s}=this,{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let e=o;e<i;e++)t[e]=0;!function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);let a=BigInt(32),i=BigInt(4294967295),s=Number(n>>a&i),o=Number(n&i),c=r?4:0,u=r?0:4;e.setUint32(t+c,s,r),e.setUint32(t+u,o,r)}(n,i-8,BigInt(8*this.length),s),this.process(n,0);let c=(0,a.createView)(e),u=this.outputLen;if(u%4)throw Error("_sha2: outputLen should be aligned to 32bit");let l=u/4,d=this.get();if(l>d.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)c.setUint32(4*e,d[e],s)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:n,length:r,finished:a,destroyed:i,pos:s}=this;return e.length=r,e.pos=s,e.finished=a,e.destroyed=i,r%t&&e.buffer.set(n),e}}t.HashMD=i},34755:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.add5L=t.add5H=t.add4H=t.add4L=t.add3H=t.add3L=t.add=t.rotlBL=t.rotlBH=t.rotlSL=t.rotlSH=t.rotr32L=t.rotr32H=t.rotrBL=t.rotrBH=t.rotrSL=t.rotrSH=t.shrSL=t.shrSH=t.toBig=t.split=t.fromBig=void 0;let n=BigInt(4294967296-1),r=BigInt(32);function a(e,t=!1){return t?{h:Number(e&n),l:Number(e>>r&n)}:{h:0|Number(e>>r&n),l:0|Number(e&n)}}function i(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){let{h:s,l:o}=a(e[i],t);[n[i],r[i]]=[s,o]}return[n,r]}t.fromBig=a,t.split=i;let s=(e,t)=>BigInt(e>>>0)<<r|BigInt(t>>>0);t.toBig=s;let o=(e,t,n)=>e>>>n;t.shrSH=o;let c=(e,t,n)=>e<<32-n|t>>>n;t.shrSL=c;let u=(e,t,n)=>e>>>n|t<<32-n;t.rotrSH=u;let l=(e,t,n)=>e<<32-n|t>>>n;t.rotrSL=l;let d=(e,t,n)=>e<<64-n|t>>>n-32;t.rotrBH=d;let p=(e,t,n)=>e>>>n-32|t<<64-n;t.rotrBL=p;let f=(e,t)=>t;t.rotr32H=f;let y=(e,t)=>e;t.rotr32L=y;let m=(e,t,n)=>e<<n|t>>>32-n;t.rotlSH=m;let g=(e,t,n)=>t<<n|e>>>32-n;t.rotlSL=g;let h=(e,t,n)=>t<<n-32|e>>>64-n;t.rotlBH=h;let b=(e,t,n)=>e<<n-32|t>>>64-n;function E(e,t,n,r){let a=(t>>>0)+(r>>>0);return{h:e+n+(a/4294967296|0)|0,l:0|a}}t.rotlBL=b,t.add=E;let A=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0);t.add3L=A;let v=(e,t,n,r)=>t+n+r+(e/4294967296|0)|0;t.add3H=v;let w=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0);t.add4L=w;let S=(e,t,n,r,a)=>t+n+r+a+(e/4294967296|0)|0;t.add4H=S;let x=(e,t,n,r,a)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(a>>>0);t.add5L=x;let I=(e,t,n,r,a,i)=>t+n+r+a+i+(e/4294967296|0)|0;t.add5H=I,t.default={fromBig:a,split:i,toBig:s,shrSH:o,shrSL:c,rotrSH:u,rotrSL:l,rotrBH:d,rotrBL:p,rotr32H:f,rotr32L:y,rotlSH:m,rotlSL:g,rotlBH:h,rotlBL:b,add:E,add3L:A,add3H:v,add4L:w,add4H:S,add5H:I,add5L:x}},83917:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.crypto=void 0,t.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},89470:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.sha224=t.sha256=void 0;let r=n(11993),a=n(28772),i=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),s=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),o=new Uint32Array(64);class c extends r.HashMD{constructor(){super(64,32,8,!1),this.A=0|s[0],this.B=0|s[1],this.C=0|s[2],this.D=0|s[3],this.E=0|s[4],this.F=0|s[5],this.G=0|s[6],this.H=0|s[7]}get(){let{A:e,B:t,C:n,D:r,E:a,F:i,G:s,H:o}=this;return[e,t,n,r,a,i,s,o]}set(e,t,n,r,a,i,s,o){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|a,this.F=0|i,this.G=0|s,this.H=0|o}process(e,t){for(let n=0;n<16;n++,t+=4)o[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=o[e-15],n=o[e-2],r=(0,a.rotr)(t,7)^(0,a.rotr)(t,18)^t>>>3,i=(0,a.rotr)(n,17)^(0,a.rotr)(n,19)^n>>>10;o[e]=i+o[e-7]+r+o[e-16]|0}let{A:n,B:s,C:c,D:u,E:l,F:d,G:p,H:f}=this;for(let e=0;e<64;e++){let t=f+((0,a.rotr)(l,6)^(0,a.rotr)(l,11)^(0,a.rotr)(l,25))+(0,r.Chi)(l,d,p)+i[e]+o[e]|0,y=((0,a.rotr)(n,2)^(0,a.rotr)(n,13)^(0,a.rotr)(n,22))+(0,r.Maj)(n,s,c)|0;f=p,p=d,d=l,l=u+t|0,u=c,c=s,s=n,n=t+y|0}n=n+this.A|0,s=s+this.B|0,c=c+this.C|0,u=u+this.D|0,l=l+this.E|0,d=d+this.F|0,p=p+this.G|0,f=f+this.H|0,this.set(n,s,c,u,l,d,p,f)}roundClean(){o.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class u extends c{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}t.sha256=(0,a.wrapConstructor)(()=>new c),t.sha224=(0,a.wrapConstructor)(()=>new u)},32517:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.shake256=t.shake128=t.keccak_512=t.keccak_384=t.keccak_256=t.keccak_224=t.sha3_512=t.sha3_384=t.sha3_256=t.sha3_224=t.Keccak=t.keccakP=void 0;let r=n(48444),a=n(34755),i=n(28772),s=[],o=[],c=[],u=BigInt(0),l=BigInt(1),d=BigInt(2),p=BigInt(7),f=BigInt(256),y=BigInt(113);for(let e=0,t=l,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],s.push(2*(5*r+n)),o.push((e+1)*(e+2)/2%64);let a=u;for(let e=0;e<7;e++)(t=(t<<l^(t>>p)*y)%f)&d&&(a^=l<<(l<<BigInt(e))-l);c.push(a)}let[m,g]=(0,a.split)(c,!0),h=(e,t,n)=>n>32?(0,a.rotlBH)(e,t,n):(0,a.rotlSH)(e,t,n),b=(e,t,n)=>n>32?(0,a.rotlBL)(e,t,n):(0,a.rotlSL)(e,t,n);function E(e,t=24){let n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let t=0;t<10;t++)n[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let r=(t+8)%10,a=(t+2)%10,i=n[a],s=n[a+1],o=h(i,s,1)^n[r],c=b(i,s,1)^n[r+1];for(let n=0;n<50;n+=10)e[t+n]^=o,e[t+n+1]^=c}let t=e[2],a=e[3];for(let n=0;n<24;n++){let r=o[n],i=h(t,a,r),c=b(t,a,r),u=s[n];t=e[u],a=e[u+1],e[u]=i,e[u+1]=c}for(let t=0;t<50;t+=10){for(let r=0;r<10;r++)n[r]=e[t+r];for(let r=0;r<10;r++)e[t+r]^=~n[(r+2)%10]&n[(r+4)%10]}e[0]^=m[r],e[1]^=g[r]}n.fill(0)}t.keccakP=E;class A extends i.Hash{constructor(e,t,n,a=!1,s=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=a,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,r.number)(n),0>=this.blockLen||this.blockLen>=200)throw Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,i.u32)(this.state)}keccak(){i.isLE||(0,i.byteSwap32)(this.state32),E(this.state32,this.rounds),i.isLE||(0,i.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(e){(0,r.exists)(this);let{blockLen:t,state:n}=this,a=(e=(0,i.toBytes)(e)).length;for(let r=0;r<a;){let i=Math.min(t-this.pos,a-r);for(let t=0;t<i;t++)n[this.pos++]^=e[r++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,(128&t)!=0&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){(0,r.exists)(this,!1),(0,r.bytes)(e),this.finish();let t=this.state,{blockLen:n}=this;for(let r=0,a=e.length;r<a;){this.posOut>=n&&this.keccak();let i=Math.min(n-this.posOut,a-r);e.set(t.subarray(this.posOut,this.posOut+i),r),this.posOut+=i,r+=i}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,r.number)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,r.output)(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:t,suffix:n,outputLen:r,rounds:a,enableXOF:i}=this;return e||(e=new A(t,n,r,i,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=n,e.outputLen=r,e.enableXOF=i,e.destroyed=this.destroyed,e}}t.Keccak=A;let v=(e,t,n)=>(0,i.wrapConstructor)(()=>new A(t,e,n));t.sha3_224=v(6,144,28),t.sha3_256=v(6,136,32),t.sha3_384=v(6,104,48),t.sha3_512=v(6,72,64),t.keccak_224=v(1,144,28),t.keccak_256=v(1,136,32),t.keccak_384=v(1,104,48),t.keccak_512=v(1,72,64);let w=(e,t,n)=>(0,i.wrapXOFConstructorWithOpts)((r={})=>new A(t,e,void 0===r.dkLen?n:r.dkLen,!0));t.shake128=w(31,168,16),t.shake256=w(31,136,32)},28772:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.byteSwap32=t.byteSwapIfBE=t.byteSwap=t.isLE=t.rotl=t.rotr=t.createView=t.u32=t.u8=t.isBytes=void 0;let r=n(83917),a=n(48444);t.isBytes=function(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name},t.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength),t.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),t.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),t.rotr=(e,t)=>e<<32-t|e>>>t,t.rotl=(e,t)=>e<<t|e>>>32-t>>>0,t.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],t.byteSwap=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255,t.byteSwapIfBE=t.isLE?e=>e:e=>(0,t.byteSwap)(e),t.byteSwap32=function(e){for(let n=0;n<e.length;n++)e[n]=(0,t.byteSwap)(e[n])};let i=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));t.bytesToHex=function(e){(0,a.bytes)(e);let t="";for(let n=0;n<e.length;n++)t+=i[e[n]];return t};let s={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function o(e){return e>=s._0&&e<=s._9?e-s._0:e>=s._A&&e<=s._F?e-(s._A-10):e>=s._a&&e<=s._f?e-(s._a-10):void 0}t.hexToBytes=function(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);let t=e.length,n=t/2;if(t%2)throw Error("padded hex string expected, got unpadded hex of length "+t);let r=new Uint8Array(n);for(let t=0,a=0;t<n;t++,a+=2){let n=o(e.charCodeAt(a)),i=o(e.charCodeAt(a+1));if(void 0===n||void 0===i)throw Error('hex string expected, got non-hex character "'+(e[a]+e[a+1])+'" at index '+a);r[t]=16*n+i}return r};let c=async()=>{};async function u(e,n,r){let a=Date.now();for(let i=0;i<e;i++){r(i);let e=Date.now()-a;e>=0&&e<n||(await (0,t.nextTick)(),a+=e)}}function l(e){if("string"!=typeof e)throw Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function d(e){return"string"==typeof e&&(e=l(e)),(0,a.bytes)(e),e}t.nextTick=c,t.asyncLoop=u,t.utf8ToBytes=l,t.toBytes=d,t.concatBytes=function(...e){let t=0;for(let n=0;n<e.length;n++){let r=e[n];(0,a.bytes)(r),t+=r.length}let n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){let a=e[t];n.set(a,r),r+=a.length}return n};class p{clone(){return this._cloneInto()}}t.Hash=p;let f={}.toString;t.checkOpts=function(e,t){if(void 0!==t&&"[object Object]"!==f.call(t))throw Error("Options should be object or undefined");return Object.assign(e,t)},t.wrapConstructor=function(e){let t=t=>e().update(d(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t},t.wrapConstructorWithOpts=function(e){let t=(t,n)=>e(n).update(d(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t},t.wrapXOFConstructorWithOpts=function(e){let t=(t,n)=>e(n).update(d(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t},t.randomBytes=function(e=32){if(r.crypto&&"function"==typeof r.crypto.getRandomValues)return r.crypto.getRandomValues(new Uint8Array(e));throw Error("crypto.getRandomValues must be defined")}},25291:function(e,t){function n(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function r(...e){let t=e=>e,n=(e,t)=>n=>e(t(n));return{encode:e.map(e=>e.encode).reduceRight(n,t),decode:e.map(e=>e.decode).reduce(n,t)}}function a(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw Error("alphabet.encode input should be an array of numbers");return t.map(t=>{if(t<0||t>=e.length)throw Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]})},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw Error("alphabet.decode input should be array of strings");return t.map(t=>{if("string"!=typeof t)throw Error(`alphabet.decode: not string element=${t}`);let n=e.indexOf(t);if(-1===n)throw Error(`Unknown letter: "${t}". Allowed: ${e}`);return n})}}}function i(e=""){if("string"!=typeof e)throw Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw Error("join.encode input should be array of strings");for(let e of t)if("string"!=typeof e)throw Error(`join.encode: non-string input=${e}`);return t.join(e)},decode:t=>{if("string"!=typeof t)throw Error("join.decode input should be string");return t.split(e)}}}function s(e,t="="){if("string"!=typeof t)throw Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw Error("padding.encode input should be array of strings");for(let e of n)if("string"!=typeof e)throw Error(`padding.encode: non-string input=${e}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw Error("padding.encode input should be array of strings");for(let e of n)if("string"!=typeof e)throw Error(`padding.decode: non-string input=${e}`);let r=n.length;if(r*e%8)throw Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function o(e){if("function"!=typeof e)throw Error("normalize fn should be function");return{encode:e=>e,decode:t=>e(t)}}function c(e,t,n){if(t<2)throw Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw Error("convertRadix: data should be array");if(!e.length)return[];let r=0,a=[],i=Array.from(e);for(i.forEach(e=>{if(e<0||e>=t)throw Error(`Wrong integer: ${e}`)});;){let e=0,s=!0;for(let a=r;a<i.length;a++){let o=i[a],c=t*e+o;if(!Number.isSafeInteger(c)||t*e/t!==e||c-o!=t*e)throw Error("convertRadix: carry overflow");e=c%n;let u=Math.floor(c/n);if(i[a]=u,!Number.isSafeInteger(u)||u*n+e!==c)throw Error("convertRadix: carry overflow");s&&(u?s=!1:r=a)}if(a.push(e),s)break}for(let t=0;t<e.length-1&&0===e[t];t++)a.push(0);return a.reverse()}Object.defineProperty(t,"__esModule",{value:!0}),t.bytes=t.stringToBytes=t.str=t.bytesToString=t.hex=t.utf8=t.bech32m=t.bech32=t.base58check=t.createBase58check=t.base58xmr=t.base58xrp=t.base58flickr=t.base58=t.base64urlnopad=t.base64url=t.base64nopad=t.base64=t.base32crockford=t.base32hexnopad=t.base32hex=t.base32nopad=t.base32=t.base16=t.utils=void 0,t.assertNumber=function(e){if(!Number.isSafeInteger(e))throw Error(`Wrong integer: ${e}`)};let u=(e,t)=>t?u(t,e%t):e,l=(e,t)=>e+(t-u(e,t));function d(e,t,n,r){if(!Array.isArray(e))throw Error("convertRadix2: data should be array");if(t<=0||t>32)throw Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw Error(`convertRadix2: wrong to=${n}`);if(l(t,n)>32)throw Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${l(t,n)}`);let a=0,i=0,s=2**n-1,o=[];for(let r of e){if(r>=2**t)throw Error(`convertRadix2: invalid data word=${r} from=${t}`);if(a=a<<t|r,i+t>32)throw Error(`convertRadix2: carry overflow pos=${i} from=${t}`);for(i+=t;i>=n;i-=n)o.push((a>>i-n&s)>>>0);a&=2**i-1}if(a=a<<n-i&s,!r&&i>=t)throw Error("Excess padding");if(!r&&a)throw Error(`Non-zero padding: ${a}`);return r&&i>0&&o.push(a>>>0),o}function p(e){return{encode:t=>{if(!n(t))throw Error("radix.encode input should be Uint8Array");return c(Array.from(t),256,e)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw Error("radix.decode input should be array of numbers");return Uint8Array.from(c(t,e,256))}}}function f(e,t=!1){if(e<=0||e>32)throw Error("radix2: bits should be in (0..32]");if(l(8,e)>32||l(e,8)>32)throw Error("radix2: carry overflow");return{encode:r=>{if(!n(r))throw Error("radix2.encode input should be Uint8Array");return d(Array.from(r),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&"number"!=typeof n[0])throw Error("radix2.decode input should be array of numbers");return Uint8Array.from(d(n,e,8,t))}}}function y(e){if("function"!=typeof e)throw Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch(e){}}}function m(e,t){if("function"!=typeof t)throw Error("checksum fn should be function");return{encode(r){if(!n(r))throw Error("checksum.encode: input should be Uint8Array");let a=t(r).slice(0,e),i=new Uint8Array(r.length+e);return i.set(r),i.set(a,r.length),i},decode(r){if(!n(r))throw Error("checksum.decode: input should be Uint8Array");let a=r.slice(0,-e),i=t(a).slice(0,e),s=r.slice(-e);for(let t=0;t<e;t++)if(i[t]!==s[t])throw Error("Invalid checksum");return a}}}t.utils={alphabet:a,chain:r,checksum:m,convertRadix:c,convertRadix2:d,radix:p,radix2:f,join:i,padding:s},t.base16=r(f(4),a("0123456789ABCDEF"),i("")),t.base32=r(f(5),a("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),s(5),i("")),t.base32nopad=r(f(5),a("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),i("")),t.base32hex=r(f(5),a("0123456789ABCDEFGHIJKLMNOPQRSTUV"),s(5),i("")),t.base32hexnopad=r(f(5),a("0123456789ABCDEFGHIJKLMNOPQRSTUV"),i("")),t.base32crockford=r(f(5),a("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),i(""),o(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),t.base64=r(f(6),a("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),s(6),i("")),t.base64nopad=r(f(6),a("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),i("")),t.base64url=r(f(6),a("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),s(6),i("")),t.base64urlnopad=r(f(6),a("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),i(""));let g=e=>r(p(58),a(e),i(""));t.base58=g("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),t.base58flickr=g("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),t.base58xrp=g("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");let h=[0,2,3,5,6,7,9,10,11];t.base58xmr={encode(e){let n="";for(let r=0;r<e.length;r+=8){let a=e.subarray(r,r+8);n+=t.base58.encode(a).padStart(h[a.length],"1")}return n},decode(e){let n=[];for(let r=0;r<e.length;r+=11){let a=e.slice(r,r+11),i=h.indexOf(a.length),s=t.base58.decode(a);for(let e=0;e<s.length-i;e++)if(0!==s[e])throw Error("base58xmr: wrong padding");n=n.concat(Array.from(s.slice(s.length-i)))}return Uint8Array.from(n)}},t.createBase58check=e=>r(m(4,t=>e(e(t))),t.base58),t.base58check=t.createBase58check;let b=r(a("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),i("")),E=[996825010,642813549,513874426,1027748829,705979059];function A(e){let t=e>>25,n=(33554431&e)<<5;for(let e=0;e<E.length;e++)(t>>e&1)==1&&(n^=E[e]);return n}function v(e,t,n=1){let r=e.length,a=1;for(let t=0;t<r;t++){let n=e.charCodeAt(t);if(n<33||n>126)throw Error(`Invalid prefix (${e})`);a=A(a)^n>>5}a=A(a);for(let t=0;t<r;t++)a=A(a)^31&e.charCodeAt(t);for(let e of t)a=A(a)^e;for(let e=0;e<6;e++)a=A(a);return a^=n,b.encode(d([a%1073741824],30,5,!1))}function w(e){let t="bech32"===e?1:734539939,n=f(5),r=n.decode,a=n.encode,i=y(r);function s(e,n,r=90){if("string"!=typeof e)throw Error(`bech32.encode prefix should be string, not ${typeof e}`);if(n instanceof Uint8Array&&(n=Array.from(n)),!Array.isArray(n)||n.length&&"number"!=typeof n[0])throw Error(`bech32.encode words should be array of numbers, not ${typeof n}`);if(0===e.length)throw TypeError(`Invalid prefix length ${e.length}`);let a=e.length+7+n.length;if(!1!==r&&a>r)throw TypeError(`Length ${a} exceeds limit ${r}`);let i=e.toLowerCase(),s=v(i,n,t);return`${i}1${b.encode(n)}${s}`}function o(e,n=90){if("string"!=typeof e)throw Error(`bech32.decode input should be string, not ${typeof e}`);if(e.length<8||!1!==n&&e.length>n)throw TypeError(`Wrong string length: ${e.length} (${e}). Expected (8..${n})`);let r=e.toLowerCase();if(e!==r&&e!==e.toUpperCase())throw Error("String must be lowercase or uppercase");let a=r.lastIndexOf("1");if(0===a||-1===a)throw Error('Letter "1" must be present between prefix and data only');let i=r.slice(0,a),s=r.slice(a+1);if(s.length<6)throw Error("Data must be at least 6 characters long");let o=b.decode(s).slice(0,-6),c=v(i,o,t);if(!s.endsWith(c))throw Error(`Invalid checksum in ${e}: expected "${c}"`);return{prefix:i,words:o}}let c=y(o);return{encode:s,decode:o,encodeFromBytes:function(e,t){return s(e,a(t))},decodeToBytes:function(e){let{prefix:t,words:n}=o(e,!1);return{prefix:t,words:n,bytes:r(n)}},decodeUnsafe:c,fromWords:r,fromWordsUnsafe:i,toWords:a}}t.bech32=w("bech32"),t.bech32m=w("bech32m"),t.utf8={encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)},t.hex=r(f(4),a("0123456789abcdef"),i(""),o(e=>{if("string"!=typeof e||e.length%2)throw TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()}));let S={utf8:t.utf8,hex:t.hex,base16:t.base16,base32:t.base32,base64:t.base64,base64url:t.base64url,base58:t.base58,base58xmr:t.base58xmr},x="Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr";t.bytesToString=(e,t)=>{if("string"!=typeof e||!S.hasOwnProperty(e))throw TypeError(x);if(!n(t))throw TypeError("bytesToString() expects Uint8Array");return S[e].encode(t)},t.str=t.bytesToString,t.stringToBytes=(e,t)=>{if(!S.hasOwnProperty(e))throw TypeError(x);if("string"!=typeof t)throw TypeError("stringToBytes() expects string");return S[e].decode(t)},t.bytes=t.stringToBytes},7842:function(e,t,n){n.d(t,{BiconomySmartAccount:function(){return ed},KernelSmartAccount:function(){return e3},MetamaskSmartAccount:function(){return sa},NexusSmartAccount:function(){return so},SafeSmartAccount:function(){return sL},TrustSmartAccount:function(){return sV}});var r,a,i,s,o,c,u=n(31686),l=n(56127),d=n(17283),p=n(65531),f=n(10052),y=n(4012),m=n(89256),g=n(8796),h=n(59455),b=n(23251);function E(e,t){if(e.length!==t.length)throw new p.fs({expectedLength:e.length,givenLength:t.length});let n=[];for(let r=0;r<e.length;r++){let a=e[r],i=t[r];n.push(function e(t,n,r=!1){if("address"===t){if(!(0,y.U)(n))throw new f.b({address:n});return(0,g.vk)(n.toLowerCase(),{size:r?32:null})}if("string"===t)return(0,h.$G)(n);if("bytes"===t)return n;if("bool"===t)return(0,g.vk)((0,h.C4)(n),{size:r?32:1});let a=t.match(b.lh);if(a){let[e,t,i="256"]=a,s=Number.parseInt(i,10)/8;return(0,h.eC)(n,{size:r?32:s,signed:"int"===t})}let i=t.match(b.eL);if(i){let[e,t]=i;if(Number.parseInt(t,10)!==(n.length-2)/2)throw new p.KY({expectedSize:Number.parseInt(t,10),givenSize:(n.length-2)/2});return(0,g.vk)(n,{dir:"right",size:r?32:null})}let s=t.match(b.Ow);if(s&&Array.isArray(n)){let[t,r]=s,a=[];for(let t=0;t<n.length;t++)a.push(e(r,n[t],!0));return 0===a.length?"0x":(0,m.SM)(a)}throw new p.Mi(t)}(a,i))}return(0,m.SM)(n)}var A=n(72932),v=n(34763);function w(e){return!!e&&"object"==typeof e&&"BYTES_PER_ELEMENT"in e&&1===e.BYTES_PER_ELEMENT&&"Uint8Array"===e.constructor.name}var S=n(69921),x=n(44659),I=n(70044),C=n(31669);function D(e){return"CREATE2"===e.opcode?function(e){let t=(0,x.O0)((0,C.K)(e.from)),n=(0,g.vk)(w(e.salt)?e.salt:(0,x.O0)(e.salt),{size:32}),r="bytecodeHash"in e?w(e.bytecodeHash)?e.bytecodeHash:(0,x.O0)(e.bytecodeHash):(0,v.w)(e.bytecode,"bytes");return(0,C.K)((0,S.tP)((0,v.w)((0,m.zo)([(0,x.O0)("0xff"),t,n,r])),12))}(e):function(e){let t=(0,x.O0)((0,C.K)(e.from)),n=(0,x.O0)(e.nonce);return 0===n[0]&&(n=new Uint8Array([])),(0,C.K)(`0x${(0,v.w)((0,I.LV)([t,n],"bytes")).slice(26)}`)}(e)}var T=n(87721),R=n(30056),O=n(97913),N=n(99940),P=n(19540),_=n(64289);function B(e){let t=[];if("string"==typeof e){let n=(0,_.Q4)(e),r=n.length;for(let e=0;e<r;e++)t.push((0,_.C$)(n[e],{modifiers:N.LY}))}else{let n=(0,P.D)(e),r=e.length;for(let a=0;a<r;a++){let r=e[a];if((0,N.N0)(r))continue;let i=(0,_.Q4)(r),s=i.length;for(let e=0;e<s;e++)t.push((0,_.C$)(i[e],{modifiers:N.LY,structs:n}))}}if(0===t.length)throw new O.$r({params:e});return t}let $="0x5FF137D4b0FDCD49DcA30c7CF57E578a026d2789",M="0x0000000071727De22E5E9d8BAf0edAc6f37da032",L=[{inputs:[{name:"preOpGas",type:"uint256"},{name:"paid",type:"uint256"},{name:"validAfter",type:"uint48"},{name:"validUntil",type:"uint48"},{name:"targetSuccess",type:"bool"},{name:"targetResult",type:"bytes"}],name:"ExecutionResult",type:"error"},{inputs:[{name:"opIndex",type:"uint256"},{name:"reason",type:"string"}],name:"FailedOp",type:"error"},{inputs:[{name:"sender",type:"address"}],name:"SenderAddressResult",type:"error"},{inputs:[{name:"aggregator",type:"address"}],name:"SignatureValidationFailed",type:"error"},{inputs:[{components:[{name:"preOpGas",type:"uint256"},{name:"prefund",type:"uint256"},{name:"sigFailed",type:"bool"},{name:"validAfter",type:"uint48"},{name:"validUntil",type:"uint48"},{name:"paymasterContext",type:"bytes"}],name:"returnInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"senderInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"factoryInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"paymasterInfo",type:"tuple"}],name:"ValidationResult",type:"error"},{inputs:[{components:[{name:"preOpGas",type:"uint256"},{name:"prefund",type:"uint256"},{name:"sigFailed",type:"bool"},{name:"validAfter",type:"uint48"},{name:"validUntil",type:"uint48"},{name:"paymasterContext",type:"bytes"}],name:"returnInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"senderInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"factoryInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"paymasterInfo",type:"tuple"},{components:[{name:"aggregator",type:"address"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"stakeInfo",type:"tuple"}],name:"aggregatorInfo",type:"tuple"}],name:"ValidationResultWithAggregation",type:"error"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!1,name:"factory",type:"address"},{indexed:!1,name:"paymaster",type:"address"}],name:"AccountDeployed",type:"event"},{anonymous:!1,inputs:[],name:"BeforeExecution",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"totalDeposit",type:"uint256"}],name:"Deposited",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"aggregator",type:"address"}],name:"SignatureAggregatorChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"totalStaked",type:"uint256"},{indexed:!1,name:"unstakeDelaySec",type:"uint256"}],name:"StakeLocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"withdrawTime",type:"uint256"}],name:"StakeUnlocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"withdrawAddress",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"StakeWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!0,name:"paymaster",type:"address"},{indexed:!1,name:"nonce",type:"uint256"},{indexed:!1,name:"success",type:"bool"},{indexed:!1,name:"actualGasCost",type:"uint256"},{indexed:!1,name:"actualGasUsed",type:"uint256"}],name:"UserOperationEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!1,name:"nonce",type:"uint256"},{indexed:!1,name:"revertReason",type:"bytes"}],name:"UserOperationRevertReason",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"withdrawAddress",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"Withdrawn",type:"event"},{inputs:[],name:"SIG_VALIDATION_FAILED",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"initCode",type:"bytes"},{name:"sender",type:"address"},{name:"paymasterAndData",type:"bytes"}],name:"_validateSenderAndPaymaster",outputs:[],stateMutability:"view",type:"function"},{inputs:[{name:"unstakeDelaySec",type:"uint32"}],name:"addStake",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"depositTo",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{name:"",type:"address"}],name:"deposits",outputs:[{name:"deposit",type:"uint112"},{name:"staked",type:"bool"},{name:"stake",type:"uint112"},{name:"unstakeDelaySec",type:"uint32"},{name:"withdrawTime",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"getDepositInfo",outputs:[{components:[{name:"deposit",type:"uint112"},{name:"staked",type:"bool"},{name:"stake",type:"uint112"},{name:"unstakeDelaySec",type:"uint32"},{name:"withdrawTime",type:"uint48"}],name:"info",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{name:"sender",type:"address"},{name:"key",type:"uint192"}],name:"getNonce",outputs:[{name:"nonce",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"initCode",type:"bytes"}],name:"getSenderAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOp",type:"tuple"}],name:"getUserOpHash",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{components:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOps",type:"tuple[]"},{name:"aggregator",type:"address"},{name:"signature",type:"bytes"}],name:"opsPerAggregator",type:"tuple[]"},{name:"beneficiary",type:"address"}],name:"handleAggregatedOps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"ops",type:"tuple[]"},{name:"beneficiary",type:"address"}],name:"handleOps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"key",type:"uint192"}],name:"incrementNonce",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"callData",type:"bytes"},{components:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"paymaster",type:"address"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"}],name:"mUserOp",type:"tuple"},{name:"userOpHash",type:"bytes32"},{name:"prefund",type:"uint256"},{name:"contextOffset",type:"uint256"},{name:"preOpGas",type:"uint256"}],name:"opInfo",type:"tuple"},{name:"context",type:"bytes"}],name:"innerHandleOp",outputs:[{name:"actualGasCost",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"",type:"address"},{name:"",type:"uint192"}],name:"nonceSequenceNumber",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"op",type:"tuple"},{name:"target",type:"address"},{name:"targetCallData",type:"bytes"}],name:"simulateHandleOp",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOp",type:"tuple"}],name:"simulateValidation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unlockStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"withdrawAddress",type:"address"}],name:"withdrawStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"withdrawAddress",type:"address"},{name:"withdrawAmount",type:"uint256"}],name:"withdrawTo",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],k=[{inputs:[{name:"success",type:"bool"},{name:"ret",type:"bytes"}],name:"DelegateAndRevert",type:"error"},{inputs:[{name:"opIndex",type:"uint256"},{name:"reason",type:"string"}],name:"FailedOp",type:"error"},{inputs:[{name:"opIndex",type:"uint256"},{name:"reason",type:"string"},{name:"inner",type:"bytes"}],name:"FailedOpWithRevert",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"PostOpReverted",type:"error"},{inputs:[],name:"ReentrancyGuardReentrantCall",type:"error"},{inputs:[{name:"sender",type:"address"}],name:"SenderAddressResult",type:"error"},{inputs:[{name:"aggregator",type:"address"}],name:"SignatureValidationFailed",type:"error"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!1,name:"factory",type:"address"},{indexed:!1,name:"paymaster",type:"address"}],name:"AccountDeployed",type:"event"},{anonymous:!1,inputs:[],name:"BeforeExecution",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"totalDeposit",type:"uint256"}],name:"Deposited",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!1,name:"nonce",type:"uint256"},{indexed:!1,name:"revertReason",type:"bytes"}],name:"PostOpRevertReason",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"aggregator",type:"address"}],name:"SignatureAggregatorChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"totalStaked",type:"uint256"},{indexed:!1,name:"unstakeDelaySec",type:"uint256"}],name:"StakeLocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"withdrawTime",type:"uint256"}],name:"StakeUnlocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"withdrawAddress",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"StakeWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!0,name:"paymaster",type:"address"},{indexed:!1,name:"nonce",type:"uint256"},{indexed:!1,name:"success",type:"bool"},{indexed:!1,name:"actualGasCost",type:"uint256"},{indexed:!1,name:"actualGasUsed",type:"uint256"}],name:"UserOperationEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!1,name:"nonce",type:"uint256"}],name:"UserOperationPrefundTooLow",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!1,name:"nonce",type:"uint256"},{indexed:!1,name:"revertReason",type:"bytes"}],name:"UserOperationRevertReason",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"withdrawAddress",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"Withdrawn",type:"event"},{inputs:[{name:"unstakeDelaySec",type:"uint32"}],name:"addStake",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"target",type:"address"},{name:"data",type:"bytes"}],name:"delegateAndRevert",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"account",type:"address"}],name:"depositTo",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{name:"",type:"address"}],name:"deposits",outputs:[{name:"deposit",type:"uint256"},{name:"staked",type:"bool"},{name:"stake",type:"uint112"},{name:"unstakeDelaySec",type:"uint32"},{name:"withdrawTime",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"getDepositInfo",outputs:[{components:[{name:"deposit",type:"uint256"},{name:"staked",type:"bool"},{name:"stake",type:"uint112"},{name:"unstakeDelaySec",type:"uint32"},{name:"withdrawTime",type:"uint48"}],name:"info",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{name:"sender",type:"address"},{name:"key",type:"uint192"}],name:"getNonce",outputs:[{name:"nonce",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"initCode",type:"bytes"}],name:"getSenderAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"accountGasLimits",type:"bytes32"},{name:"preVerificationGas",type:"uint256"},{name:"gasFees",type:"bytes32"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOp",type:"tuple"}],name:"getUserOpHash",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{components:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"accountGasLimits",type:"bytes32"},{name:"preVerificationGas",type:"uint256"},{name:"gasFees",type:"bytes32"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOps",type:"tuple[]"},{name:"aggregator",type:"address"},{name:"signature",type:"bytes"}],name:"opsPerAggregator",type:"tuple[]"},{name:"beneficiary",type:"address"}],name:"handleAggregatedOps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"accountGasLimits",type:"bytes32"},{name:"preVerificationGas",type:"uint256"},{name:"gasFees",type:"bytes32"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"ops",type:"tuple[]"},{name:"beneficiary",type:"address"}],name:"handleOps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"key",type:"uint192"}],name:"incrementNonce",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"callData",type:"bytes"},{components:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"callGasLimit",type:"uint256"},{name:"paymasterVerificationGasLimit",type:"uint256"},{name:"paymasterPostOpGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"paymaster",type:"address"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"}],name:"mUserOp",type:"tuple"},{name:"userOpHash",type:"bytes32"},{name:"prefund",type:"uint256"},{name:"contextOffset",type:"uint256"},{name:"preOpGas",type:"uint256"}],name:"opInfo",type:"tuple"},{name:"context",type:"bytes"}],name:"innerHandleOp",outputs:[{name:"actualGasCost",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"",type:"address"},{name:"",type:"uint192"}],name:"nonceSequenceNumber",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"unlockStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"withdrawAddress",type:"address"}],name:"withdrawStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"withdrawAddress",type:"address"},{name:"withdrawAmount",type:"uint256"}],name:"withdrawTo",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}];var F=n(75475),U=n(56570),j=n(28766),G=n(82645),V=(n(16689),n(82061));function H(e){let{address:t,data:n,signature:r,to:a="hex"}=e,i=(0,m.SM)([(0,R.E)([{type:"address"},{type:"bytes"},{type:"bytes"}],[t,n,r]),"0x6492649264926492649264926492649264926492649264926492649264926492"]);return"hex"===a?i:(0,x.nr)(i)}async function z(e){let{extend:t,nonceKeyManager:n=function(e){let{source:t}=e,n=new Map,r=new V.k(8192),a=new Map,i=({address:e,chainId:t})=>`${e}.${t}`;return{async consume({address:e,chainId:n,client:a}){let s=i({address:e,chainId:n}),o=this.get({address:e,chainId:n,client:a});this.increment({address:e,chainId:n});let c=await o;return await t.set({address:e,chainId:n},c),r.set(s,c),c},async increment({address:e,chainId:t}){let r=i({address:e,chainId:t}),a=n.get(r)??0;n.set(r,a+1)},async get({address:e,chainId:s,client:o}){let c=i({address:e,chainId:s}),u=a.get(c);return u||(u=(async()=>{try{let n=await t.get({address:e,chainId:s,client:o}),a=r.get(c)??0;if(a>0&&n<=a)return a+1;return r.delete(c),n}finally{this.reset({address:e,chainId:s})}})(),a.set(c,u)),(n.get(c)??0)+await u},reset({address:e,chainId:t}){let r=i({address:e,chainId:t});n.delete(r),a.delete(r)}}}({source:{get:()=>Date.now(),set(){}}}),...r}=e,a=!1,i=await e.getAddress();return{...t,...r,address:i,async getFactoryArgs(){return"isDeployed"in this&&await this.isDeployed()?{factory:void 0,factoryData:void 0}:e.getFactoryArgs()},async getNonce(t){let r=t?.key??BigInt(await n.consume({address:i,chainId:e.client.chain.id,client:e.client}));return e.getNonce?await e.getNonce({...t,key:r}):await (0,j.L)(e.client,{abi:(0,F.V)(["function getNonce(address, uint192) pure returns (uint256)"]),address:e.entryPoint.address,functionName:"getNonce",args:[i,r]})},isDeployed:async()=>!!a||(a=!!await (0,G.s)(e.client,U.C,"getCode")({address:i})),...e.sign?{async sign(t){let[{factory:n,factoryData:r},a]=await Promise.all([this.getFactoryArgs(),e.sign(t)]);return n&&r?H({address:n,data:r,signature:a}):a}}:{},async signMessage(t){let[{factory:n,factoryData:r},a]=await Promise.all([this.getFactoryArgs(),e.signMessage(t)]);return n&&r&&"0x7702"!==n?H({address:n,data:r,signature:a}):a},async signTypedData(t){let[{factory:n,factoryData:r},a]=await Promise.all([this.getFactoryArgs(),e.signTypedData(t)]);return n&&r&&"0x7702"!==n?H({address:n,data:r,signature:a}):a},type:"smart"}}var X=n(42727);function J(e,t={}){let{forHash:n}=t,{authorization:r,factory:a,factoryData:i}=e;return n&&("0x7702"===a||"0x7702000000000000000000000000000000000000"===a)?r?(0,m.zo)([r.address,i??"0x"]):"0x7702000000000000000000000000000000000000":a?(0,m.zo)([a,i??"0x"]):"0x"}var W=n(20556);let Y="0x22e325a297439656";function K(e,t={}){let{callGasLimit:n,callData:r,maxPriorityFeePerGas:a,maxFeePerGas:i,paymaster:s,paymasterData:o,paymasterPostOpGasLimit:c,paymasterSignature:u,paymasterVerificationGasLimit:l,sender:d,signature:p="0x",verificationGasLimit:f}=e,y=(0,m.zo)([(0,g.vk)((0,h.eC)(f||0n),{size:16}),(0,g.vk)((0,h.eC)(n||0n),{size:16})]),b=J(e,t),E=(0,m.zo)([(0,g.vk)((0,h.eC)(a||0n),{size:16}),(0,g.vk)((0,h.eC)(i||0n),{size:16})]);return{accountGasLimits:y,callData:r,initCode:b,gasFees:E,nonce:e.nonce??0n,paymasterAndData:s?(0,m.zo)([s,(0,g.vk)((0,h.eC)(l||0n),{size:16}),(0,g.vk)((0,h.eC)(c||0n),{size:16}),o||"0x",...u?t.forHash?[Y]:[u,(0,g.vk)((0,h.eC)((0,W.d)(u)),{size:2}),Y]:[]]):"0x",preVerificationGas:e.preVerificationGas??0n,sender:d,signature:p}}let Z={PackedUserOperation:[{type:"address",name:"sender"},{type:"uint256",name:"nonce"},{type:"bytes",name:"initCode"},{type:"bytes",name:"callData"},{type:"bytes32",name:"accountGasLimits"},{type:"uint256",name:"preVerificationGas"},{type:"bytes32",name:"gasFees"},{type:"bytes",name:"paymasterAndData"}]};function q(e){let{chainId:t,entryPointAddress:n,entryPointVersion:r}=e,a=e.userOperation,{authorization:i,callData:s="0x",callGasLimit:o,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,paymasterAndData:d="0x",preVerificationGas:p,sender:f,verificationGasLimit:y}=a;if("0.8"===r||"0.9"===r)return(0,X.Jv)(function(e){let{chainId:t,entryPointAddress:n,userOperation:r}=e;return{types:Z,primaryType:"PackedUserOperation",domain:{name:"ERC4337",version:"1",chainId:t,verifyingContract:n},message:K(r,{forHash:!0})}}({chainId:t,entryPointAddress:n,userOperation:a}));let m=(()=>{if("0.6"===r){let e=J({authorization:i,factory:a.initCode?.slice(0,42),factoryData:a.initCode?.slice(42)},{forHash:!0});return(0,R.E)([{type:"address"},{type:"uint256"},{type:"bytes32"},{type:"bytes32"},{type:"uint256"},{type:"uint256"},{type:"uint256"},{type:"uint256"},{type:"uint256"},{type:"bytes32"}],[f,l,(0,v.w)(e),(0,v.w)(s),o,y,p,c,u,(0,v.w)(d)])}if("0.7"===r){let e=K(a,{forHash:!0});return(0,R.E)([{type:"address"},{type:"uint256"},{type:"bytes32"},{type:"bytes32"},{type:"bytes32"},{type:"uint256"},{type:"bytes32"},{type:"bytes32"}],[e.sender,e.nonce,(0,v.w)(e.initCode),(0,v.w)(e.callData),e.accountGasLimits,e.preVerificationGas,e.gasFees,(0,v.w)(e.paymasterAndData)])}throw Error(`entryPointVersion "${r}" not supported.`)})();return(0,v.w)((0,R.E)([{type:"bytes32"},{type:"address"},{type:"uint256"}],[(0,v.w)(m),n,BigInt(t)]))}var Q=n(70550);let ee=async(e,t)=>{let{address:n,entryPointAddress:r,key:a=BigInt(0)}=t;return await (0,G.s)(e,j.L,"readContract")({address:r,abi:[{inputs:[{name:"sender",type:"address"},{name:"key",type:"uint192"}],name:"getNonce",outputs:[{name:"nonce",type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"getNonce",args:[n,a]})};var et=n(51678),en=n(93715),er=n(43541);async function ea({owner:e,address:t}){let n;if("type"in e&&"local"===e.type)return e;if("request"in e){if(!t)try{[t]=await e.request({method:"eth_requestAccounts"})}catch{[t]=await e.request({method:"eth_accounts"})}if(!t)throw Error("address is required");n=(0,et.K)({account:t,transport:(0,en.P)(e)})}return n||(n=e),function(e){if("string"==typeof e){if(!(0,y.U)(e,{strict:!1}))throw new f.b({address:e});return{address:e,type:"json-rpc"}}if(!(0,y.U)(e.address,{strict:!1}))throw new f.b({address:e.address});return{address:e.address,nonceManager:e.nonceManager,sign:e.sign,signAuthorization:e.signAuthorization,signMessage:e.signMessage,signTransaction:e.signTransaction,signTypedData:e.signTypedData,source:"custom",type:"local"}}({address:n.account.address,signMessage:async({message:e})=>n.signMessage({message:e}),signTypedData:async e=>(0,G.s)(n,er.x,"signTypedData")(e),async signTransaction(e){throw Error("Smart account signer doesn't need to sign transactions")}})}let ei=[{inputs:[{internalType:"address",name:"moduleSetupContract",type:"address"},{internalType:"bytes",name:"moduleSetupData",type:"bytes"},{internalType:"uint256",name:"index",type:"uint256"}],name:"deployCounterFactualAccount",outputs:[{internalType:"address",name:"proxy",type:"address"}],stateMutability:"nonpayable",type:"function"}],es=[{inputs:[{internalType:"address",name:"handler",type:"address"},{internalType:"address",name:"moduleSetupContract",type:"address"},{internalType:"bytes",name:"moduleSetupData",type:"bytes"}],name:"init",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"eoaOwner",type:"address"}],name:"initForSmartAccount",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"dest",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"func",type:"bytes"}],name:"execute_ncC",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"dest",type:"address[]"},{internalType:"uint256[]",name:"value",type:"uint256[]"},{internalType:"bytes[]",name:"func",type:"bytes[]"}],name:"executeBatch_y6U",outputs:[],stateMutability:"nonpayable",type:"function"}],eo=async({owner:e,index:t,ecdsaModuleAddress:n})=>{if(!e)throw Error("Owner account not found");let r=(0,d.R)({abi:es,functionName:"initForSmartAccount",args:[e]});return(0,d.R)({abi:ei,functionName:"deployCounterFactualAccount",args:[n,r,t]})},ec=async({factoryAddress:e,accountLogicAddress:t,fallbackHandlerAddress:n,ecdsaModuleAddress:r,owner:a,index:i=BigInt(0)})=>{let s=(0,d.R)({abi:es,functionName:"initForSmartAccount",args:[a]}),o=(0,d.R)({abi:es,functionName:"init",args:[n,r,s]}),c=E(["bytes","uint256"],["0x6080346100aa57601f61012038819003918201601f19168301916001600160401b038311848410176100af578084926020946040528339810103126100aa57516001600160a01b0381168082036100aa5715610065573055604051605a90816100c68239f35b60405162461bcd60e51b815260206004820152601e60248201527f496e76616c696420696d706c656d656e746174696f6e206164647265737300006044820152606490fd5b600080fd5b634e487b7160e01b600052604160045260246000fdfe608060405230546000808092368280378136915af43d82803e156020573d90f35b3d90fdfea2646970667358221220a03b18dce0be0b4c9afe58a9eb85c35205e2cf087da098bbf1d23945bf89496064736f6c63430008110033",(0,A.y_)(t)]);return D({from:e,salt:(0,v.w)(E(["bytes32","uint256"],[(0,v.w)(E(["bytes"],[o])),i])),bytecode:c,opcode:"CREATE2"})};async function eu(e){let{owners:t,client:n,index:r=0n,address:a,accountLogicAddress:i="0x0000002512019Dafb59528B82CB92D3c5D2423aC",fallbackHandlerAddress:s="0x0bBa6d96BD616BedC6BFaa341742FD43c60b83C1",ecdsaModuleAddress:o="0x0000001c5b32F37F5beA87BDD5374eB2aC54eA8e",factoryAddress:c="0x000000a56Aaca3e9a4C479ea6b6CD0DbcB6634F5"}=e,u=await ea({owner:t[0]}),l={address:e.entryPoint?.address??$,abi:L,version:e.entryPoint?.version??"0.6"},p=a;return z({client:n,entryPoint:l,getFactoryArgs:async()=>({factory:c,factoryData:await eo({owner:u.address,index:r,ecdsaModuleAddress:o})}),getAddress:async()=>p||(p=await ec({owner:u.address,ecdsaModuleAddress:o,factoryAddress:c,accountLogicAddress:i,fallbackHandlerAddress:s,index:r})),async getNonce(t){return ee(n,{address:await this.getAddress(),entryPointAddress:l.address,key:e?.nonceKey??t?.key})},encodeCalls:async e=>{if(e.length>1)return(0,d.R)({abi:es,functionName:"executeBatch_y6U",args:[e.map(e=>e.to),e.map(e=>e.value??0n),e.map(e=>e.data??"0x")]});let t=0===e.length?void 0:e[0];if(!t)throw Error("No calls to encode");return(0,d.R)({abi:es,functionName:"execute_ncC",args:[t.to,t.value??0n,t.data??"0x"]})},decodeCalls:async e=>{let t=(0,T.p)({abi:es,data:e});if("execute_ncC"===t.functionName)return[{to:t.args[0],value:t.args[1],data:t.args[2]}];if("executeBatch_y6U"===t.functionName){let e=[];for(let n=0;n<t.args[0].length;n++)e.push({to:t.args[0][n],value:t.args[1][n],data:t.args[2][n]});return e}throw Error("Invalid function name")},async getStubSignature(){let e=o.substring(2).padEnd(40,"0");return`0x0000000000000000000000000000000000000000000000000000000000000040000000000000000000000000${e}000000000000000000000000000000000000000000000000000000000000004181d4b4981670cb18f99f0b4a66446df1bf5b204d24cfcb659bf38ba27a4359b5711649ec2423c5e1247245eba2964679b6a1dbb85c992ae40b9b00c6935b02ff1b00000000000000000000000000000000000000000000000000000000000000`},async sign({hash:e}){return this.signMessage({message:e})},async signMessage({message:e}){let t=await u.signMessage({message:e}),n=Number.parseInt(t.slice(-2),16);if(![27,28].includes(n)){let e=n+27;t=t.slice(0,-2)+e.toString(16)}return(0,R.E)([{type:"bytes"},{type:"address"}],[t,o])},async signTypedData(e){let t=await u.signTypedData(e),n=Number.parseInt(t.slice(-2),16);if(![27,28].includes(n)){let e=n+27;t=t.slice(0,-2)+e.toString(16)}return(0,R.E)([{type:"bytes"},{type:"address"}],[t,o])},async signUserOperation(e){let{chainId:t=n.chain?.id,...r}=e;if(!t)throw Error("Chain id not found");let a=q({userOperation:{...r,sender:r.sender??await this.getAddress(),signature:"0x"},entryPointAddress:l.address,entryPointVersion:l.version,chainId:t}),i=await (0,Q.l)(n,{account:u,message:{raw:a}});return(0,R.E)(B("bytes, address"),[i,o])}})}var el=n(19387);class ed{constructor(e){(0,l.Z)(this,"name",el.FN.BICONOMY),(0,l.Z)(this,"options",void 0),this.options=e}async getSmartAccount(e){var t,n;return eu((0,u.Z)((0,u.Z)((0,u.Z)({},this.options||{}),{},{entryPoint:{address:(null===(t=this.options)||void 0===t||null===(t=t.entryPoint)||void 0===t?void 0:t.address)||$,version:(null===(n=this.options)||void 0===n||null===(n=n.entryPoint)||void 0===n?void 0:n.version)||"0.6"}},e),{},{owners:[e.walletClient],client:e.client}))}}var ep=n(74409),ef=n(12363),ey=n(81544),em=n(23010),eg=n(2742),eh=n(50550);let eb=[{inputs:[{internalType:"address",name:"_entryPoint",type:"address"},{internalType:"bytes",name:"initCode",type:"bytes"}],stateMutability:"payable",type:"constructor"}],eE=async(e,t)=>{let{initCode:n,entryPointAddress:r,factory:a,factoryData:i}=t;if(!n&&!a&&!i)throw Error("Either `initCode` or `factory` and `factoryData` must be provided");let s=n||(0,m.zo)([a,i]),{data:o}=await (0,G.s)(e,eh.R,"call")({data:(0,em.w)({abi:eb,bytecode:"0x60806040526102a28038038091610015826100ae565b6080396040816080019112610093576080516001600160a01b03811681036100935760a0516001600160401b0381116100935782609f82011215610093578060800151610061816100fc565b9361006f60405195866100d9565b81855260a082840101116100935761008e9160a0602086019101610117565b610196565b600080fd5b634e487b7160e01b600052604160045260246000fd5b6080601f91909101601f19168101906001600160401b038211908210176100d457604052565b610098565b601f909101601f19168101906001600160401b038211908210176100d457604052565b6001600160401b0381116100d457601f01601f191660200190565b60005b83811061012a5750506000910152565b818101518382015260200161011a565b6040916020825261015a8151809281602086015260208686019101610117565b601f01601f1916010190565b3d15610191573d90610177826100fc565b9161018560405193846100d9565b82523d6000602084013e565b606090565b600091908291826040516101cd816101bf6020820195639b249f6960e01b87526024830161013a565b03601f1981018352826100d9565b51925af16101d9610166565b906102485760048151116000146101f7576024015160005260206000f35b60405162461bcd60e51b8152602060048201526024808201527f67657453656e64657241646472657373206661696c656420776974686f7574206044820152636461746160e01b6064820152608490fd5b60405162461bcd60e51b815260206004820152602b60248201527f67657453656e6465724164647265737320646964206e6f74207265766572742060448201526a185cc8195e1c1958dd195960aa1b6064820152608490fdfe",args:[r,s]})});if(!o)throw Error("Failed to get sender address");return(0,eg.r)([{type:"address"}],o)[0]};function eA({type:e,revertOnError:t,selector:n,context:r}){return E(["bytes1","bytes1","bytes4","bytes4","bytes22"],[(0,h.NC)((0,x.O0)(function(e){switch(e){case"call":return"0x00";case"batchcall":return"0x01";case"delegatecall":return"0xff"}}(e),{size:1})),(0,h.NC)((0,x.O0)(t?"0x01":"0x00",{size:1})),(0,h.NC)((0,x.O0)("0x0",{size:4})),(0,h.NC)((0,x.O0)(n??"0x",{size:4})),(0,h.NC)((0,x.O0)(r??"0x",{size:22}))])}function ev({mode:e,callData:t}){if(t.length>1&&e?.type!=="batchcall")throw Error(`mode ${JSON.stringify(e)} does not supported for batchcall calldata`);let n=[{type:"function",name:"execute",inputs:[{name:"execMode",type:"bytes32",internalType:"ExecMode"},{name:"executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"}];if(t.length>1)return(0,d.R)({abi:n,functionName:"execute",args:[eA(e),(0,R.E)([{name:"executionBatch",type:"tuple[]",components:[{name:"target",type:"address"},{name:"value",type:"uint256"},{name:"callData",type:"bytes"}]}],[t.map(e=>({target:e.to,value:e.value??0n,callData:e.data??"0x"}))])]});let r=0===t.length?void 0:t[0];if(!r)throw Error("No calls to encode");return(0,d.R)({abi:n,functionName:"execute",args:[eA(e),(0,m.SM)([r.to,(0,h.NC)(r.value??0n,{size:32}),r.data??"0x"])]})}function ew(e){switch(e){case"validator":return BigInt(1);case"executor":return BigInt(2);case"fallback":return BigInt(3);case"hook":return BigInt(4);default:throw Error("Invalid module type")}}class eS extends ey.G{constructor({docsPath:e}={}){super("Could not find an Account to execute with this Action.\nPlease provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client.",{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}let ex=null;try{ex={importPromise:Promise.all([n.e(4879),n.e(8832)]).then(n.bind(n,8832))}}catch(e){}async function eI(){if(!ex)throw Error("The 'ox' package is required for WebAuthn functionality. Please install it: npm install ox");try{return await ex.importPromise}catch(e){throw Error("The 'ox' package is required for WebAuthn functionality. Please install it: npm install ox")}}async function eC(){let e=await eI();return{Base64:e.Base64,Hex:e.Hex,PublicKey:e.PublicKey,Signature:e.Signature,WebAuthnP256:e.WebAuthnP256}}let eD=[{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Operation",name:"",type:"uint8"}],name:"execute",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Call[]",name:"calls",type:"tuple[]"}],name:"executeBatch",outputs:[],stateMutability:"payable",type:"function"}],eT=[{inputs:[{internalType:"contract IKernelValidator",name:"_defaultValidator",type:"address"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"initialize",outputs:[],stateMutability:"payable",type:"function"}],eR=[{type:"function",name:"initialize",inputs:[{name:"_rootValidator",type:"bytes21",internalType:"ValidationId"},{name:"hook",type:"address",internalType:"contract IHook"},{name:"validatorData",type:"bytes",internalType:"bytes"},{name:"hookData",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"}],eO=[{type:"function",name:"initialize",inputs:[{name:"_rootValidator",type:"bytes21",internalType:"ValidationId"},{name:"hook",type:"address",internalType:"contract IHook"},{name:"validatorData",type:"bytes",internalType:"bytes"},{name:"hookData",type:"bytes",internalType:"bytes"},{name:"initConfig",type:"bytes[]",internalType:"bytes[]"}],outputs:[],stateMutability:"nonpayable"}],eN=[{type:"function",name:"createAccount",inputs:[{name:"data",type:"bytes",internalType:"bytes"},{name:"salt",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"payable"}],eP=[{type:"function",name:"deployWithFactory",inputs:[{name:"factory",type:"address",internalType:"contract KernelFactory"},{name:"createData",type:"bytes",internalType:"bytes"},{name:"salt",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"payable"}],e_="0xfffffffffffffffffffffffffffffff0000000000000000000000000000000007aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa1c",eB={ROOT:"0x00",VALIDATOR:"0x01",EIP7702:"0x00"};function e$(e){let t;let n=(0,T.p)({abi:[{type:"function",name:"execute",inputs:[{name:"execMode",type:"bytes32",internalType:"ExecMode"},{name:"executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"}],data:e}),r=n.args[0],a=n.args[1],i=(0,S.tP)(r,0,1),s=(0,S.tP)(r,1,2),o=(0,S.tP)(r,3,7),c=(0,S.tP)(r,7);switch(BigInt(i)){case BigInt(0):t="call";break;case BigInt(1):t="batchcall";break;case BigInt(255):t="delegatecall";break;default:throw Error("Invalid call type")}let u={type:t,revertOnError:BigInt(s)===BigInt(1),selector:o,context:c};if("batchcall"===u.type){let[e]=(0,eg.r)([{name:"executionBatch",type:"tuple[]",components:[{name:"target",type:"address"},{name:"value",type:"uint256"},{name:"callData",type:"bytes"}]}],a);return{mode:u,callData:e.map(e=>({to:e.target,value:e.value,data:e.callData}))}}return{mode:u,callData:[{to:(0,C.K)((0,S.tP)(a,0,20)),value:BigInt((0,S.tP)(a,20,52)),data:(0,W.d)(a)>52?(0,S.tP)(a,52):"0x"}]}}(r=c||(c={})).DEFAULT="0x00",r.ENABLE="0x01";let eM=e=>/0\.2\.\d+/.test(e),eL=({kernelVersion:e,callData:t})=>{if(eM(e)){let e=(0,T.p)({abi:eD,data:t});if("executeBatch"===e.functionName)return e.args[0].map(e=>({to:e.to,value:e.value,data:e.data}));if("execute"===e.functionName){let[t,n,r]=e.args;return[{to:t,value:n,data:r}]}throw Error("Invalid function name")}return e$(t).callData},ek=({kernelVersion:e,calls:t})=>{if(eM(e)){if(t.length>1)return(0,d.R)({abi:eD,functionName:"executeBatch",args:[t.map(e=>({to:e.to,value:e.value??0n,data:e.data??"0x"}))]});let e=0===t.length?void 0:t[0];if(!e)throw Error("No calls to encode");return(0,d.R)({abi:eD,functionName:"execute",args:[e.to,e.value??0n,e.data??"0x",0]})}return ev({mode:{type:t.length>1?"batchcall":"call",revertOnError:!1,selector:"0x",context:"0x"},callData:t})};var eF=n(75018);let eU=(e,t,n=0n)=>{if(eM(e))return n;if(n>eF.rU)throw Error(`nonce key must be equal or less than 2 bytes(maxUint16) for Kernel version ${e}`);let r=c.DEFAULT,a=eB.ROOT;return BigInt((0,g.vk)((0,m.SM)([r,a,t,(0,h.NC)(n,{size:2})]),{size:24}))},ej=e=>"webAuthn"===e.type;var eG=n(15566),eV=n(99493);let eH=(e,{accountAddress:t,kernelVersion:n,chainId:r})=>{let a=(0,eV.Xp)({domain:{name:"Kernel",version:n,chainId:r,verifyingContract:t}}),i=eM(n)?e:(0,v.w)((0,R.E)([{type:"bytes32"},{type:"bytes32"}],[(0,v.w)((0,h.$G)("Kernel(bytes32 hash)")),e]));return(0,v.w)((0,m.SM)(["0x1901",a,i]))};async function ez({message:e,owner:t,accountAddress:n,kernelVersion:r,chainId:a,eip7702:i}){if(ej(t)){let i;if("string"==typeof e)i=eH((0,eG.r)(e),{kernelVersion:r,accountAddress:n,chainId:a});else if("raw"in e&&"string"==typeof e.raw)i=e.raw;else if("raw"in e&&e.raw instanceof Uint8Array)i=e.raw.toString();else throw Error("Unsupported message format");let{signature:s,webauthn:o}=await t.sign({hash:i}),{Signature:c}=await eC(),u=c.fromHex(s);return(0,R.E)([{name:"authenticatorData",type:"bytes"},{name:"clientDataJSON",type:"string"},{name:"responseTypeLocation",type:"uint256"},{name:"r",type:"uint256"},{name:"s",type:"uint256"},{name:"usePrecompiled",type:"bool"}],[o.authenticatorData,o.clientDataJSON,BigInt(o.typeIndex),BigInt(u.r),BigInt(u.s),!1])}if(i)return t.signTypedData({message:{hash:(0,eG.r)(e)},primaryType:"Kernel",types:{Kernel:[{name:"hash",type:"bytes32"}]},domain:{name:"Kernel",version:r,chainId:a,verifyingContract:n}});if("0.2.1"===r||"0.2.2"===r)return t.signMessage({message:e});let s=eH((0,eG.r)(e),{kernelVersion:r,accountAddress:n,chainId:a});return t.signMessage({message:{raw:s}})}async function eX(e){let{owner:t,accountAddress:n,kernelVersion:r,chainId:a,eip7702:i,...s}=e;if(("0.2.1"===r||"0.2.2"===r)&&!ej(t))return t.signTypedData({...s});let{message:o,primaryType:c,types:u,domain:l}=s,d={EIP712Domain:(0,eV.cj)({domain:l}),...u};(0,eV.iC)({domain:l,message:o,primaryType:c,types:d});let p=(0,X.Jv)({message:o,primaryType:c,types:d,domain:l});if(i&&!ej(t))return t.signTypedData({message:{hash:p},primaryType:"Kernel",types:{Kernel:[{name:"hash",type:"bytes32"}]},domain:{name:"Kernel",version:r,chainId:a,verifyingContract:n}});let f=eH(p,{kernelVersion:r,accountAddress:n,chainId:a});return ej(t)?ez({message:{raw:f},owner:t,accountAddress:n,kernelVersion:r,chainId:a,eip7702:!1}):t.signMessage({message:{raw:f}})}let eJ=[{type:"function",name:"migrateWithCall",inputs:[{name:"validators",type:"address[]",internalType:"contract IValidator[]"},{name:"permissionIds",type:"bytes4[]",internalType:"bytes4[]"},{name:"execMode",type:"bytes32",internalType:"ExecMode"},{name:"execData",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"}],eW=[{inputs:[{internalType:"address",name:"_implementation",type:"address"},{internalType:"bytes",name:"_data",type:"bytes"},{internalType:"uint256",name:"_index",type:"uint256"}],name:"createAccount",outputs:[{internalType:"address",name:"proxy",type:"address"}],stateMutability:"payable",type:"function"}],eY="0x03EB97959433D55748839D27C93330Cb85F31A93",eK={"0.2.1":{ECDSA_VALIDATOR:"0xd9AB5096a832b9ce79914329DAEE236f8Eea0390",ACCOUNT_LOGIC:"0xf048AD83CB2dfd6037A43902a2A5Be04e53cd2Eb",FACTORY_ADDRESS:"0x5de4839a76cf55d0c90e2061ef4386d962E15ae3"},"0.2.2":{ECDSA_VALIDATOR:"0xd9AB5096a832b9ce79914329DAEE236f8Eea0390",ACCOUNT_LOGIC:"0x0DA6a956B9488eD4dd761E59f52FDc6c8068E6B5",FACTORY_ADDRESS:"0x5de4839a76cf55d0c90e2061ef4386d962E15ae3"},"0.2.3":{ECDSA_VALIDATOR:"0xd9AB5096a832b9ce79914329DAEE236f8Eea0390",ACCOUNT_LOGIC:"0xD3F582F6B4814E989Ee8E96bc3175320B5A540ab",FACTORY_ADDRESS:"0x5de4839a76cf55d0c90e2061ef4386d962E15ae3"},"0.2.4":{ECDSA_VALIDATOR:"0xd9AB5096a832b9ce79914329DAEE236f8Eea0390",ACCOUNT_LOGIC:"0xd3082872F8B06073A021b4602e022d5A070d7cfC",FACTORY_ADDRESS:"0x5de4839a76cf55d0c90e2061ef4386d962E15ae3"},"0.3.0-beta":{ECDSA_VALIDATOR:"0x8104e3Ad430EA6d354d013A6789fDFc71E671c43",ACCOUNT_LOGIC:"0x94F097E1ebEB4ecA3AAE54cabb08905B239A7D27",FACTORY_ADDRESS:"0x6723b44Abeec4E71eBE3232BD5B455805baDD22f",META_FACTORY_ADDRESS:"0xd703aaE79538628d27099B8c4f621bE4CCd142d5",WEB_AUTHN_VALIDATOR:"0x7ab16Ff354AcB328452F1D445b3Ddee9a91e9e69"},"0.3.1":{ECDSA_VALIDATOR:"0x845ADb2C711129d4f3966735eD98a9F09fC4cE57",ACCOUNT_LOGIC:"0xBAC849bB641841b44E965fB01A4Bf5F074f84b4D",FACTORY_ADDRESS:"0xaac5D4240AF87249B3f71BC8E4A2cae074A3E419",META_FACTORY_ADDRESS:"0xd703aaE79538628d27099B8c4f621bE4CCd142d5",WEB_AUTHN_VALIDATOR:"0x7ab16Ff354AcB328452F1D445b3Ddee9a91e9e69"},"0.3.2":{ECDSA_VALIDATOR:"0x845ADb2C711129d4f3966735eD98a9F09fC4cE57",ACCOUNT_LOGIC:"0xD830D15D3dc0C269F3dBAa0F3e8626d33CFdaBe1",FACTORY_ADDRESS:"0x7a1dBAB750f12a90EB1B60D2Ae3aD17D4D81EfFe",META_FACTORY_ADDRESS:"0xd703aaE79538628d27099B8c4f621bE4CCd142d5"},"0.3.3":{ECDSA_VALIDATOR:"0x845ADb2C711129d4f3966735eD98a9F09fC4cE57",ACCOUNT_LOGIC:"0xd6CEDDe84be40893d153Be9d467CD6aD37875b28",FACTORY_ADDRESS:"0x2577507b78c2008Ff367261CB6285d44ba5eF2E9",META_FACTORY_ADDRESS:"0xd703aaE79538628d27099B8c4f621bE4CCd142d5"}},eZ=(e,t,n)=>n?"0.3.3":t||("0.6"===e?"0.2.2":"0.3.0-beta"),eq=({validatorAddress:e,accountLogicAddress:t,factoryAddress:n,metaFactoryAddress:r,kernelVersion:a,isWebAuthn:i})=>{let s=eK[a],o=e??(i?s.WEB_AUTHN_VALIDATOR:s.ECDSA_VALIDATOR);return{validatorAddress:o,accountLogicAddress:t??s.ACCOUNT_LOGIC,factoryAddress:n??s.FACTORY_ADDRESS,metaFactoryAddress:r??s?.META_FACTORY_ADDRESS??ep.D}},eQ=(e,t=!1)=>(0,m.SM)([t?eB.EIP7702:eB.VALIDATOR,t?"0x":e]),e0=({entryPoint:{version:e},kernelVersion:t,validatorData:n,validatorAddress:r})=>"0.6"===e?(0,d.R)({abi:eT,functionName:"initialize",args:[r,n]}):"0.3.0-beta"===t?(0,d.R)({abi:eR,functionName:"initialize",args:[eQ(r),ep.D,n,"0x"]}):(0,d.R)({abi:eO,functionName:"initialize",args:[eQ(r),ep.D,n,"0x",[]]}),e2=async e=>{if("local"===e.type)return e.address;if(ej(e)){let{PublicKey:t,Hex:n,Base64:r}=await eC(),a=t.fromHex(e.publicKey),i=(0,v.w)(n.fromBytes(r.toBytes(e.id)));return(0,R.E)([{components:[{name:"x",type:"uint256"},{name:"y",type:"uint256"}],name:"webAuthnData",type:"tuple"},{name:"authenticatorIdHash",type:"bytes32"}],[{x:a.x,y:a.y},i])}throw Error("Invalid owner type")},e1=async({entryPointVersion:e,kernelVersion:t,validatorData:n,index:r,factoryAddress:a,accountLogicAddress:i,validatorAddress:s,useMetaFactory:o})=>{let c=e0({entryPoint:{version:e},kernelVersion:t,validatorAddress:s,validatorData:n});return"0.6"===e?(0,d.R)({abi:eW,functionName:"createAccount",args:[i,c,r]}):o?(0,d.R)({abi:eP,functionName:"deployWithFactory",args:[a,c,(0,h.NC)(r,{size:32})]}):(0,d.R)({abi:eN,functionName:"createAccount",args:[c,(0,h.NC)(r,{size:32})]})};async function e6(e){let t;let{client:n,address:r,index:a=0n,version:i,validatorAddress:s,factoryAddress:o,metaFactoryAddress:c,accountLogicAddress:u,useMetaFactory:l=!0,eip7702:p=!1}=e,f=(()=>{if(p&&"owner"in e)return[e.owner];if("owners"in e)return e.owners;throw Error("Invalid parameters")})(),y="webAuthn"===f[0].type,g=await (y?f[0]:ea({owner:f[0]})),h=(()=>{let t=e.entryPoint?.address??M,n=e.entryPoint?.version??"0.7",r=k;return"0.6"===n&&(r=L),{address:t,abi:r,version:n}})(),b=eZ(h.version,i,p),{accountLogicAddress:E,validatorAddress:A,factoryAddress:v,metaFactoryAddress:w}=eq({validatorAddress:s,accountLogicAddress:u,factoryAddress:o,metaFactoryAddress:c,kernelVersion:b,isWebAuthn:y});if(!A)throw Error("Validator address is required");let S=async e=>e1({entryPointVersion:h.version,kernelVersion:b,validatorData:await e2(g),index:a,factoryAddress:v,accountLogicAddress:E,validatorAddress:A,useMetaFactory:e}),x=async()=>t||(t=n.chain?n.chain.id:await (0,G.s)(n,ef.L,"getChainId")({})),I=e=>async()=>({factory:"0.6"===h.version||!1===e?v:w,factoryData:await S(e)}),{accountAddress:D,getFactoryArgs:O}=await (async()=>{if(p)return{accountAddress:g.address,getFactoryArgs:async()=>({factory:void 0,factoryData:void 0})};let e=I("optional"===l||l);if(r&&"optional"!==l)return{accountAddress:r,getFactoryArgs:e};let{factory:t,factoryData:a}=await e(),i=await eE(n,{factory:t,factoryData:a,entryPointAddress:h.address});if(r===i)return{accountAddress:i,getFactoryArgs:e};if("optional"===l&&i===ep.D){e=I(!1);let{factory:t,factoryData:r}=await e();i=await eE(n,{factory:t,factoryData:r,entryPointAddress:h.address})}return{accountAddress:i,getFactoryArgs:e}})(),N=async()=>"0x017ab16ff354acb328452f1d445b3ddee9a91e9e69"===(await (0,G.s)(n,j.L,"readContract")({address:D,abi:[{type:"function",name:"rootValidator",inputs:[],outputs:[{name:"",type:"bytes21",internalType:"ValidationId"}],stateMutability:"view"}],functionName:"rootValidator",args:[]})).toLowerCase(),P="0xbA45a2BFb8De3D24cA9D7F1B551E14dFF5d690Fd"!==A;return z({client:n,entryPoint:h,getFactoryArgs:O,extend:p?{implementation:E}:void 0,authorization:p?{address:E,account:g}:void 0,getAddress:async()=>D,async encodeCalls(e){if(P||(P="isDeployed"in this&&await this.isDeployed()&&await N()),!P){let[t]=function(e){let t=e.account;if(!t)throw new eS({docsPath:"/docs/actions/wallet/sendTransaction"});return(Array.isArray(e.modules)?e.modules:[e.modules]).map(({type:e,address:n,context:r,initData:a})=>({to:t.address,value:BigInt(0),data:(0,d.R)({abi:[{type:"function",name:"installModule",inputs:[{name:"moduleType",type:"uint256",internalType:"uint256"},{name:"module",type:"address",internalType:"address"},{name:"initData",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"}],functionName:"installModule",args:[ew(e),(0,C.K)(n),r??a]})}))}({account:this,modules:[{type:"fallback",address:eY,context:"0x36f541c10000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000800000000000000000000000000000000000000000000000000000000000000001FF0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000"}]}),[n]=function(e){let t=e.account;if(!t)throw new eS({docsPath:"/docs/actions/wallet/sendTransaction"});return(Array.isArray(e.modules)?e.modules:[e.modules]).map(({type:e,address:n,context:r,deInitData:a})=>({to:t.address,value:BigInt(0),data:(0,d.R)({abi:[{type:"function",name:"uninstallModule",inputs:[{name:"moduleType",type:"uint256",internalType:"uint256"},{name:"module",type:"address",internalType:"address"},{name:"deInitData",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"}],functionName:"uninstallModule",args:[ew(e),(0,C.K)(n),r??a]})}))}({account:this,modules:[{type:"fallback",address:eY,context:"0x36f541c1"}]}),r=ek({calls:e,kernelVersion:b}),{args:a}=(0,T.p)({abi:[{type:"function",name:"execute",inputs:[{name:"execMode",type:"bytes32",internalType:"ExecMode"},{name:"executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"}],data:r}),i=(0,d.R)({abi:eJ,functionName:"migrateWithCall",args:[[],[],...a]});return"0.3.0-beta"!==b?ev({mode:{type:"delegatecall",revertOnError:!1,selector:"0x",context:"0x"},callData:[{to:eY,data:i,value:0n}]}):ek({calls:[t,{to:D,data:i,value:0n},n],kernelVersion:b})}return ek({calls:e,kernelVersion:b})},decodeCalls:async e=>eL({callData:e,kernelVersion:b}),async getNonce(t){return ee(n,{address:await this.getAddress(),entryPointAddress:h.address,key:eU(b,A,e.nonceKey??0n)})},getStubSignature:async()=>eM(b)?(0,m.SM)(["0x00000000",e_]):ej(g)?(0,R.E)([{name:"authenticatorData",type:"bytes"},{name:"clientDataJSON",type:"string"},{name:"responseTypeLocation",type:"uint256"},{name:"r",type:"uint256"},{name:"s",type:"uint256"},{name:"usePrecompiled",type:"bool"}],["0x49960de5880e8c687434170f6476605b8fe4aeb9a28632c7995cf3ba831d97631d00000000",'{"type":"webauthn.get","challenge":"tbxXNFS9X_4Byr1cMwqKrIGB-_30a0QhZ6y7ucM0BOE","origin":"http://localhost:3000","crossOrigin":false, "other_keys_can_be_added_here":"do not compare clientDataJSON against a template. See https://goo.gl/yabPex"}',1n,0x635bc6d0f68ff895cae8a288ecf7542a6a9cd555df784b73e1e2ea7e9104b1dbn,0x15e9015d280cb19527881c625fee43fd3a405d5b0d199a8c8e6589a7381209e4n,!1]):e_,async sign({hash:e}){return this.signMessage({message:e})},async signMessage({message:e}){if("isDeployed"in this&&!await this.isDeployed()&&p)throw Error("Kernel with EIP-7702 isn't 1271 compliant before delegation.");let t=await ez({owner:g,message:e,accountAddress:await this.getAddress(),kernelVersion:b,chainId:await x(),eip7702:p});return eM(b)?t:(0,m.SM)([eQ(A,p),t])},async signTypedData(e){if("isDeployed"in this&&!await this.isDeployed()&&p)throw Error("Kernel with EIP-7702 isn't 1271 compliant before delegation.");let t=await eX({owner:g,chainId:await x(),...e,accountAddress:await this.getAddress(),kernelVersion:b,eip7702:p});return eM(b)?t:(0,m.SM)([eQ(A,p),t])},async signUserOperation(e){let{chainId:t=await x(),...n}=e,r=q({userOperation:{...n,sender:n.sender??await this.getAddress(),signature:"0x"},entryPointAddress:h.address,entryPointVersion:h.version,chainId:t}),a=ej(g)?await ez({owner:g,message:{raw:r},chainId:t,accountAddress:await this.getAddress(),kernelVersion:b,eip7702:!1}):await g.signMessage({message:{raw:r}});return eM(b)?(0,m.SM)(["0x00000000",a]):a}})}async function e5(e){return e6({...e,validatorAddress:e.validatorAddress??e.ecdsaValidatorAddress})}class e3{constructor(e){(0,l.Z)(this,"name",el.FN.KERNEL),(0,l.Z)(this,"options",void 0),this.options=e}async getSmartAccount(e){return e5((0,u.Z)((0,u.Z)((0,u.Z)({},this.options||{}),e),{},{owners:[e.walletClient],client:e.client}))}}var e4=({target:e,value:t=0n,callData:n="0x"})=>({target:e,value:t,callData:n}),e8=((a=e8||{}).SingleDefault="0x0000000000000000000000000000000000000000000000000000000000000000",a.SingleTry="0x0001000000000000000000000000000000000000000000000000000000000000",a.BatchDefault="0x0100000000000000000000000000000000000000000000000000000000000000",a.BatchTry="0x0101000000000000000000000000000000000000000000000000000000000000",a),e7=[{type:"address",name:"target"},{type:"uint256",name:"value"},{type:"bytes",name:"callData"}],e9=e=>E(["address","uint256","bytes"],[e.target,e.value,e.callData]),te=e=>(0,R.E)([{components:e7,name:"executions",type:"tuple[]"}],[e]),tt=e=>{if(0===e.length)throw Error("Error while getting the execution calldatas, executions is empty");if(1===e.length){let t=e[0];if(!t)throw Error("Execution not found");return e9(t)}return te(e)},tn=e=>{if(0===e.length)throw Error("Error while getting the execution calldatas, executionsBatch is empty");return e.map(tt)};class tr extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}function ta(e,t="Assertion failed.",n=tr){if(!e){if(t instanceof Error)throw t;throw"string"==typeof n?.prototype?.constructor?.name?new n({message:t}):n({message:t})}}class ti extends TypeError{constructor(e,t){let n;let{message:r,explanation:a,...i}=e,{path:s}=e,o=0===s.length?r:`At path: ${s.join(".")} -- ${r}`;super(a??o),null!=a&&(this.cause=o),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...t()])}}function ts(e){return"object"==typeof e&&null!==e}function to(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function*tc(e,t,n,r){var a;for(let i of(ts(a=e)&&"function"==typeof a[Symbol.iterator]||(e=[e]),e)){let e=function(e,t,n,r){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});let{path:a,branch:i}=t,{type:s}=n,{refinement:o,message:c=`Expected a value of type \`${s}\`${o?` with refinement \`${o}\``:""}, but received: \`${to(r)}\``}=e;return{value:r,type:s,refinement:o,key:a[a.length-1],path:a,branch:i,...e,message:c}}(i,t,n,r);e&&(yield e)}}class tu{constructor(e){let{type:t,schema:n,validator:r,refiner:a,coercer:i=e=>e,entries:s=function*(){}}=e;this.type=t,this.schema=n,this.entries=s,this.coercer=i,r?this.validator=(e,t)=>tc(r(e,t),t,this,e):this.validator=()=>[],a?this.refiner=(e,t)=>tc(a(e,t),t,this,e):this.refiner=()=>[]}assert(e,t){return function(e,t,n){let r=tl(e,t,{message:n});if(r[0])throw r[0]}(e,this,t)}create(e,t){return function(e,t,n){let r=tl(e,t,{coerce:!0,message:n});if(!r[0])return r[1];throw r[0]}(e,this,t)}is(e){return!tl(e,this)[0]}mask(e,t){return function(e,t,n){let r=tl(e,t,{coerce:!0,mask:!0,message:n});if(!r[0])return r[1];throw r[0]}(e,this,t)}validate(e,t={}){return tl(e,this,t)}}function tl(e,t,n={}){let r=function* e(t,n,r={}){let{path:a=[],branch:i=[t],coerce:s=!1,mask:o=!1}=r,c={path:a,branch:i};if(s&&(t=n.coercer(t,c),o&&"type"!==n.type&&ts(n.schema)&&ts(t)&&!Array.isArray(t)))for(let e in t)void 0===n.schema[e]&&delete t[e];let u="valid";for(let e of n.validator(t,c))e.explanation=r.message,u="not_valid",yield[e,void 0];for(let[l,d,p]of n.entries(t,c))for(let n of e(d,p,{path:void 0===l?a:[...a,l],branch:void 0===l?i:[...i,d],coerce:s,mask:o,message:r.message}))n[0]?(u=null===n[0].refinement||void 0===n[0].refinement?"not_valid":"not_refined",yield[n[0],void 0]):s&&(d=n[1],void 0===l?t=d:t instanceof Map?t.set(l,d):t instanceof Set?t.add(d):ts(t)&&(void 0!==d||l in t)&&(t[l]=d));if("not_valid"!==u)for(let e of n.refiner(t,c))e.explanation=r.message,u="not_refined",yield[e,void 0];"valid"===u&&(yield[void 0,t])}(e,t,n),a=function(e){let{done:t,value:n}=e.next();return t?void 0:n}(r);return a[0]?[new ti(a[0],function*(){for(let e of r)e[0]&&(yield e[0])}),void 0]:[void 0,a[1]]}function td(e,t){var n;return n=n=>t.test(n)||`Expected a ${e.type} matching \`/${t.source}/\` but received "${n}"`,new tu({...e,*refiner(t,r){for(let a of(yield*e.refiner(t,r),tc(n(t,r),r,e,t)))yield{...a,refinement:"pattern"}}})}function tp(){return new tu({type:"string",schema:null,validator:e=>"string"==typeof e||`Expected a string, but received: ${to(e)}`})}let tf=BigInt(4294967296-1),ty=BigInt(32),tm=(e,t,n)=>e<<n|t>>>32-n,tg=(e,t,n)=>t<<n|e>>>32-n,th=(e,t,n)=>t<<n-32|e>>>64-n,tb=(e,t,n)=>e<<n-32|t>>>64-n;function tE(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function tA(e,...t){if(!(e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function tv(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function tw(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}let tS=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]?e=>e:function(e){for(let n=0;n<e.length;n++){var t;e[n]=(t=e[n])<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}return e};function tx(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}(e)),tA(e),e}class tI{}let tC=BigInt(0),tD=BigInt(1),tT=BigInt(2),tR=BigInt(7),tO=BigInt(256),tN=BigInt(113),tP=[],t_=[],tB=[];for(let e=0,t=tD,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],tP.push(2*(5*r+n)),t_.push((e+1)*(e+2)/2%64);let a=tC;for(let e=0;e<7;e++)(t=(t<<tD^(t>>tR)*tN)%tO)&tT&&(a^=tD<<(tD<<BigInt(e))-tD);tB.push(a)}let t$=function(e,t=!1){let n=e.length,r=new Uint32Array(n),a=new Uint32Array(n);for(let i=0;i<n;i++){let{h:n,l:s}=function(e,t=!1){return t?{h:Number(e&tf),l:Number(e>>ty&tf)}:{h:0|Number(e>>ty&tf),l:0|Number(e&tf)}}(e[i],t);[r[i],a[i]]=[n,s]}return[r,a]}(tB,!0),tM=t$[0],tL=t$[1],tk=(e,t,n)=>n>32?th(e,t,n):tm(e,t,n),tF=(e,t,n)=>n>32?tb(e,t,n):tg(e,t,n);class tU extends tI{constructor(e,t,n,r=!1,a=24){var i;if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=a,tE(n),!(0<e&&e<200))throw Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=new Uint32Array((i=this.state).buffer,i.byteOffset,Math.floor(i.byteLength/4))}clone(){return this._cloneInto()}keccak(){tS(this.state32),function(e,t=24){let n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let t=0;t<10;t++)n[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let r=(t+8)%10,a=(t+2)%10,i=n[a],s=n[a+1],o=tk(i,s,1)^n[r],c=tF(i,s,1)^n[r+1];for(let n=0;n<50;n+=10)e[t+n]^=o,e[t+n+1]^=c}let t=e[2],a=e[3];for(let n=0;n<24;n++){let r=t_[n],i=tk(t,a,r),s=tF(t,a,r),o=tP[n];t=e[o],a=e[o+1],e[o]=i,e[o+1]=s}for(let t=0;t<50;t+=10){for(let r=0;r<10;r++)n[r]=e[t+r];for(let r=0;r<10;r++)e[t+r]^=~n[(r+2)%10]&n[(r+4)%10]}e[0]^=tM[r],e[1]^=tL[r]}tw(n)}(this.state32,this.rounds),tS(this.state32),this.posOut=0,this.pos=0}update(e){tv(this),tA(e=tx(e));let{blockLen:t,state:n}=this,r=e.length;for(let a=0;a<r;){let i=Math.min(t-this.pos,r-a);for(let t=0;t<i;t++)n[this.pos++]^=e[a++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,(128&t)!=0&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){tv(this,!1),tA(e),this.finish();let t=this.state,{blockLen:n}=this;for(let r=0,a=e.length;r<a;){this.posOut>=n&&this.keccak();let i=Math.min(n-this.posOut,a-r);e.set(t.subarray(this.posOut,this.posOut+i),r),this.posOut+=i,r+=i}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return tE(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(!function(e,t){tA(e);let n=t.outputLen;if(e.length<n)throw Error("digestInto() expects output buffer of length at least "+n)}(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,tw(this.state)}_cloneInto(e){let{blockLen:t,suffix:n,outputLen:r,rounds:a,enableXOF:i}=this;return e||(e=new tU(t,n,r,i,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=n,e.outputLen=r,e.enableXOF=i,e.destroyed=this.destroyed,e}}let tj=function(e){let t=t=>e().update(tx(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}(()=>new tU(136,1,32)),{memoize:tG}=n(8946),tV=/^(?:0x)?[0-9a-f]+$/iu,tH=/^0x[0-9a-f]{40}$/u,tz=/^0x[0-9a-fA-F]{40}$/u;td(tp(),tV),td(tp(),/^0x[0-9a-f]+$/iu),td(tp(),tH),td(tp(),tz);let tX=e=>"string"==typeof e;function tJ(e){return tX(e)&&tz.test(e)}let tW=tG(function(e){ta(tJ(e),"Invalid hex address.");let t=tK(e).toLowerCase(),n=tj(t),{length:r}=t,a=Array(r);for(let e=0;e<r;e++){let r=e>>1,i=1&e,s=n[r],o=0===i?s>>4:15&s;a[e]=o>=8?t[e].toUpperCase():t[e]}return`0x${a.join("")}`}),tY=tG(function(e){return!!tJ(e)&&tW(e)===e});function tK(e){return e.startsWith("0x")||e.startsWith("0X")?e.substring(2):e}tG(function(e){return tX(e)&&tH.test(e)||tY(e)}),n(82957).Buffer;let tZ=function(){let e=[];return()=>{if(0===e.length)for(let t=0;t<256;t++)e.push(t.toString(16).padStart(2,"0"));return e}}();function tq(e){if(e?.toLowerCase?.()==="0x")return new Uint8Array;ta(tX(e)&&tV.test(e),"Value must be a hexadecimal string.");let t=tK(e).toLowerCase(),n=t.length%2==0?t:`0${t}`,r=new Uint8Array(n.length/2);for(let e=0;e<r.length;e++){let t=n.charCodeAt(2*e),a=n.charCodeAt(2*e+1),i=t-(t<58?48:87),s=a-(a<58?48:87);r[e]=16*i+s}return r}var tQ=n(61690),t0={out:"hex"};function t2(e,t){if("hex"===t.out){let t="string"==typeof e?e:function(e){var t;if(ta(e instanceof Uint8Array,"Value must be a Uint8Array."),0===e.length)return"0x";let n=tZ(),r=Array(e.length);for(let t=0;t<e.length;t++)r[t]=n[e[t]];return(t=r.join("")).startsWith("0x")?t:t.startsWith("0X")?`0x${t.substring(2)}`:`0x${t}`}(e);return t.startsWith("0x")?t:`0x${t}`}return e instanceof Uint8Array?e:tq(e)}var t1="0x0000000000000000000000000000000000000a11",t6="0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",t5=Object.defineProperty,t3=(e,t)=>{for(var n in t)t5(e,n,{get:t[n],enumerable:!0})},t4=((i=t4||{})[i.Increase=0]="Increase",i[i.Decrease=1]="Decrease",i);(0,v.w)((0,h.NC)("Caveat(address enforcer,bytes terms)"));var t8=e=>{let t=e.caveats.map(e=>({enforcer:(0,C.K)(e.enforcer),terms:e.terms,args:e.args})),n="0x"===e.salt?0n:BigInt(e.salt);return{delegate:(0,C.K)(e.delegate),delegator:(0,C.K)(e.delegator),authority:void 0===e.authority?t6:e.authority,caveats:t,salt:n,signature:e.signature}},t7=e=>(function(e,t=t0){let n;if(0===e.length)(n=new Uint8Array(64))[31]=32;else{let t=e.map(e=>[e.delegate,e.delegator,e.authority,e.caveats.map(e=>[e.enforcer,e.terms,e.args]),e.salt,e.signature]);n=(0,tQ.encodeSingle)("(address,address,bytes32,(address,bytes,bytes)[],uint256,bytes)[]",t)}return t2(n,t)})(e.map(t8)),t9=e=>e.map(e=>t7(e)),ne={Caveat:[{name:"enforcer",type:"address"},{name:"terms",type:"bytes"}],Delegation:[{name:"delegate",type:"address"},{name:"delegator",type:"address"},{name:"authority",type:"bytes32"},{name:"caveats",type:"Caveat[]"},{name:"salt",type:"uint256"}]},nt=e=>(function(e,t=t0){return t2(tj((0,tQ.encode)(["bytes32","address","address","bytes32","bytes32","uint256"],["0x88c1d2ecf185adf710588203a5f263f0ff61be0d33da39792cde19ba9aa4331e",e.delegate,e.delegator,e.authority,function(e){let t=new Uint8Array(32*e.length);for(let n=0;n<e.length;n++){let r=e[n];if(!r)throw Error(`Caveat was undefined at index ${n}`);let a=function(e){let t=tj("string"==typeof e.terms?tq(e.terms):e.terms);return tj((0,tQ.encode)(["bytes32","address","bytes32"],["0x80ad7e1b04ee6d994a125f4714ca0720908bd80ed16063ec8aee4b88e9253e2d",e.enforcer,t]))}(r);t.set(a,32*n)}return tj(t)}(e.caveats),e.salt])),t)})(t8(e)),nn=({delegation:e,delegationManager:t,chainId:n,name:r="DelegationManager",version:a="1",allowInsecureUnrestrictedDelegation:i=!1})=>{let s=t8({...e,signature:"0x"});if(0===s.caveats.length&&!i)throw Error("No caveats found. If you definitely want to sign a delegation without caveats, set `allowInsecureUnrestrictedDelegation` to `true`.");return{domain:{chainId:n,name:r,version:a,verifyingContract:t},types:ne,primaryType:"Delegation",message:s}},nr=n(31618),na=n(21541),ni=n(50825),ns={};t3(ns,{getDelegationManager:()=>no,getDeposit:()=>nc,getEntryPoint:()=>nu,getNonce:()=>nl,getProxyImplementation:()=>nd,getProxyVersion:()=>np,isValidSignature:()=>nf});var no=async({client:e,contractAddress:t})=>await (0,j.L)(e,{address:t,abi:nr.f1.abi,functionName:"delegationManager"}),nc=async({client:e,contractAddress:t})=>await (0,j.L)(e,{address:t,abi:nr.f1.abi,functionName:"getDeposit"}),nu=async({client:e,contractAddress:t})=>await (0,j.L)(e,{address:t,abi:nr.f1.abi,functionName:"entryPoint"}),nl=async({client:e,contractAddress:t,key:n})=>await (0,j.L)(e,{address:t,abi:nr.f1.abi,functionName:"getNonce",args:n?[n]:void 0}),nd=async({client:e,contractAddress:t})=>await (0,j.L)(e,{address:t,abi:nr.f1.abi,functionName:"getImplementation"}),np=async({client:e,contractAddress:t})=>await (0,j.L)(e,{address:t,abi:nr.f1.abi,functionName:"getInitializedVersion"}),nf=async({client:e,contractAddress:t,hash:n,signature:r})=>await (0,j.L)(e,{address:t,abi:nr.f1.abi,functionName:"isValidSignature",args:[n,r]}),ny=({hash:e,signature:t})=>(0,d.R)({abi:nr.f1.abi,functionName:"isValidSignature",args:[e,t]});async function nm({client:e,contractAddress:t}){let n=await (0,U.C)(e,{address:t});return!!n&&"0x"!==n}async function ng({client:e,contractAddress:t,expectedImplementationAddress:n}){return!!await nm({client:e,contractAddress:t})&&await nd({client:e,contractAddress:t})===n}var nh=({implementationAddress:e,initcode:t})=>(0,em.w)({abi:nr.fW.abi,args:[e,t],bytecode:nr.fW.bytecode}),nb=async({client:e,hybridDeleGatorAddress:t,eoaOwner:n,p256Owners:r})=>(0,na.a)(e,{address:t,abi:nr.xt.abi,functionName:"initialize",args:[n,r.map(e=>e.keyId),r.map(e=>e.x),r.map(e=>e.y)]}),nE=({eoaOwner:e,p256Owners:t})=>(0,d.R)({abi:nr.xt.abi,functionName:"initialize",args:[e,t.map(e=>e.keyId),t.map(e=>e.x),t.map(e=>e.y)]}),nA={};t3(nA,{addKey:()=>nw,initializeHybridDeleGator:()=>nE,reinitializeHybridDeleGator:()=>nx,removeKey:()=>nC,updateSigners:()=>nT});var nv=async({client:e,hybridDeleGatorAddress:t,p256Owner:n})=>(0,na.a)(e,{address:t,abi:nr.xt.abi,functionName:"addKey",args:[n.keyId,n.x,n.y]}),nw=({p256Owner:e})=>(0,d.R)({abi:nr.xt.abi,functionName:"addKey",args:[e.keyId,e.x,e.y]}),nS=async({client:e,hybridDeleGatorAddress:t,version:n,eoaOwner:r,p256Owners:a,removeExistingP256Owners:i})=>(0,na.a)(e,{address:t,abi:nr.xt.abi,functionName:"reinitialize",args:[n,r,a.map(e=>e.keyId),a.map(e=>e.x),a.map(e=>e.y),i]}),nx=({version:e,eoaOwner:t,p256Owners:n,removeExistingP256Owners:r})=>(0,d.R)({abi:nr.xt.abi,functionName:"reinitialize",args:[e,t,n.map(e=>e.keyId),n.map(e=>e.x),n.map(e=>e.y),r]}),nI=async({client:e,hybridDeleGatorAddress:t,keyId:n})=>(0,na.a)(e,{address:t,abi:nr.xt.abi,functionName:"removeKey",args:[n]}),nC=({keyId:e})=>(0,d.R)({abi:nr.xt.abi,functionName:"removeKey",args:[e]}),nD=async({client:e,hybridDeleGatorAddress:t,eoaOwner:n,p256Owners:r})=>(0,na.a)(e,{address:t,abi:nr.xt.abi,functionName:"updateSigners",args:[n,r.map(e=>e.keyId),r.map(e=>e.x),r.map(e=>e.y)]}),nT=({eoaOwner:e,p256Owners:t})=>(0,d.R)({abi:nr.xt.abi,functionName:"updateSigners",args:[e,t.map(e=>e.keyId),t.map(e=>e.x),t.map(e=>e.y)]}),nR=async({client:e,multiSigDeleGatorAddress:t,owners:n,threshold:r})=>(0,na.a)(e,{address:t,abi:nr.tX.abi,functionName:"initialize",args:[n,r]}),nO=({owners:e,threshold:t})=>(0,d.R)({abi:nr.tX.abi,functionName:"initialize",args:[e,t]}),nN={};t3(nN,{addSigner:()=>n_,initializeMultiSigDeleGator:()=>nO,reinitializeMultiSigDeleGator:()=>n$,removeSigner:()=>nL,replaceSigner:()=>nF,updateMultiSigParameters:()=>nj,updateThreshold:()=>nV});var nP=async({client:e,multiSigDeleGatorAddress:t,signer:n})=>(0,na.a)(e,{address:t,abi:nr.tX.abi,functionName:"addSigner",args:[n]}),n_=({signer:e})=>(0,d.R)({abi:nr.tX.abi,functionName:"addSigner",args:[e]}),nB=async({client:e,multiSigDeleGatorAddress:t,version:n,owners:r,threshold:a,removeExistingOwners:i})=>(0,na.a)(e,{address:t,abi:nr.tX.abi,functionName:"reinitialize",args:[n,r,a,i]}),n$=({version:e,owners:t,threshold:n,removeExistingOwners:r})=>(0,d.R)({abi:nr.tX.abi,functionName:"reinitialize",args:[e,t,n,r]}),nM=async({client:e,multiSigDeleGatorAddress:t,signer:n})=>(0,na.a)(e,{address:t,abi:nr.tX.abi,functionName:"removeSigner",args:[n]}),nL=({signer:e})=>(0,d.R)({abi:nr.tX.abi,functionName:"removeSigner",args:[e]}),nk=async({client:e,multiSigDeleGatorAddress:t,oldSigner:n,newSigner:r})=>(0,na.a)(e,{address:t,abi:nr.tX.abi,functionName:"replaceSigner",args:[n,r]}),nF=({oldSigner:e,newSigner:t})=>(0,d.R)({abi:nr.tX.abi,functionName:"replaceSigner",args:[e,t]}),nU=async({client:e,multiSigDeleGatorAddress:t,owners:n,threshold:r,removeExistingOwners:a})=>(0,na.a)(e,{address:t,abi:nr.tX.abi,functionName:"updateMultiSigParameters",args:[n,r,a]}),nj=({owners:e,threshold:t,removeExistingOwners:n})=>(0,d.R)({abi:nr.tX.abi,functionName:"updateMultiSigParameters",args:[e,t,n]}),nG=async({client:e,multiSigDeleGatorAddress:t,threshold:n})=>(0,na.a)(e,{address:t,abi:nr.tX.abi,functionName:"updateThreshold",args:[n]}),nV=({threshold:e})=>(0,d.R)({abi:nr.tX.abi,functionName:"updateThreshold",args:[e]}),nH=async({client:e,factoryAddress:t,creationCode:n,salt:r})=>(0,na.a)(e,{address:t,abi:nr.oM.abi,functionName:"deploy",args:[n,r]}),nz=(e,t)=>(0,d.R)({abi:nr.oM.abi,functionName:"deploy",args:[e,t]}),nX=async({client:e,factoryAddress:t,creationCode:n,salt:r})=>{let{request:a}=await nH({client:e,factoryAddress:t,creationCode:n,salt:r});return(0,ni.n)(e,a)},nJ={};t3(nJ,{create2Deploy:()=>nz});var nW=async({client:e,contractAddress:t,execution:n})=>(0,na.a)(e,{address:t,abi:nr.f1.abi,functionName:"execute",args:[n]}),nY=async({client:e,contractAddress:t,execution:n})=>{let{request:r}=await nW({client:e,contractAddress:t,execution:n});return(0,ni.n)(e,r)},nK=({execution:e})=>(0,d.R)({abi:nr.f1.abi,functionName:"execute",args:[e]}),nZ=async({client:e,contractAddress:t,mode:n,executions:r})=>(0,na.a)(e,{address:t,abi:nr.f1.abi,functionName:"execute",args:[n,tt(r)]}),nq=async({client:e,contractAddress:t,mode:n,executions:r})=>{let{request:a}=await nZ({client:e,contractAddress:t,mode:n,executions:r});return(0,ni.n)(e,a)},nQ=({mode:e,executions:t})=>(0,d.R)({abi:nr.f1.abi,functionName:"execute",args:[e,tt(t)]}),n0={};t3(n0,{disableDelegation:()=>n6,enableDelegation:()=>n4,execute:()=>nK,executeWithMode:()=>nQ,isValidSignature:()=>ny,upgradeToAndCall:()=>n9});var n2=async({client:e,delegationManagerAddress:t,delegation:n})=>{let r=nr.f1.abi,a=t8(n);return(0,na.a)(e,{address:t,abi:r,functionName:"disableDelegation",args:[a]})},n1=async({client:e,delegationManagerAddress:t,delegation:n})=>{let{request:r}=await n2({client:e,delegationManagerAddress:t,delegation:n});return(0,ni.n)(e,r)},n6=({delegation:e})=>{let t=t8(e);return(0,d.R)({abi:nr.f1.abi,functionName:"disableDelegation",args:[t]})},n5=async({client:e,delegationManagerAddress:t,delegation:n})=>{let r=nr.f1.abi,a=t8(n);return(0,na.a)(e,{address:t,abi:r,functionName:"enableDelegation",args:[a]})},n3=async({client:e,delegationManagerAddress:t,delegation:n})=>{let{request:r}=await n5({client:e,delegationManagerAddress:t,delegation:n});return(0,ni.n)(e,r)},n4=({delegation:e})=>{let t=t8(e);return(0,d.R)({abi:nr.f1.abi,functionName:"enableDelegation",args:[t]})},n8=async({client:e,contractAddress:t,implementation:n,data:r})=>(0,na.a)(e,{address:t,abi:nr.f1.abi,functionName:"upgradeToAndCall",args:[n,r]}),n7=async({client:e,contractAddress:t,implementation:n,data:r})=>{let{request:a}=await n8({client:e,contractAddress:t,implementation:n,data:r});return(0,ni.n)(e,a)},n9=({implementation:e,data:t})=>(0,d.R)({abi:nr.f1.abi,functionName:"upgradeToAndCall",args:[e,t]}),re=n(10662);function rt(e){return`0x${(0,re.ci)(e)}`}var rn=((s=rn||{}).MultiSig="MultiSig",s.Hybrid="Hybrid",s.Stateless7702="Stateless7702",s),rr=((o=rr||{})[o.Hourly=3600]="Hourly",o[o.Daily=86400]="Daily",o[o.Weekly=604800]="Weekly",o[o.BiWeekly=1209600]="BiWeekly",o[o.Monthly=2592e3]="Monthly",o[o.Quarterly=7776e3]="Quarterly",o[o.Yearly=31536e3]="Yearly",o),ra=async({factory:e,implementations:t,implementation:n,deployParams:r,deploySalt:a})=>{let i,s;switch(n){case"Hybrid":{let[e,n,a,o]=r;if(!t.HybridDeleGatorImpl)throw Error("HybridDeleGatorImpl address not provided in environment");i=t.HybridDeleGatorImpl,s=nE({eoaOwner:e,p256Owners:n.map((e,t)=>{let n=a[t],r=o[t];if(!n||!r)throw Error(`Missing X or Y value for keyId ${e} at index ${t}`);return{keyId:e,x:n,y:r}})});break}case"MultiSig":{let[e,n]=r;if(!t.MultiSigDeleGatorImpl)throw Error("MultiSigDeleGatorImpl address not provided in environment");i=t.MultiSigDeleGatorImpl,s=nO({owners:e,threshold:n});break}default:throw Error(`Implementation type '${n}' not supported`)}let o=(0,g.vk)(a,{dir:"left",size:32}),c=nh({implementationAddress:i,initcode:s}),u=D({bytecode:c,from:e,opcode:"CREATE2",salt:o});return{factoryData:nz(c,o),address:u}},ri=e=>"permissionsContext"in e&&"delegationManager"in e,rs=e=>{let{permissionsContext:t,delegationManager:n,to:r,value:a,data:i}=e,s=e4({target:r,value:a,callData:i});return t?e4({target:n,callData:(0,d.R)({abi:nr.Ux.abi,functionName:"redeemDelegations",args:[[t],["0x0000000000000000000000000000000000000000000000000000000000000000"],tn([[s]])]})}):s},ro=e=>{if(1===e.length){let t=e[0];if(t&&!ri(t)){let{to:e,value:n,data:r}=t;return nK({execution:e4({target:e,value:n,callData:r})})}}let t=e.map(e=>{if(ri(e))return rs(e);let{to:t,value:n,data:r}=e;return e4({target:t,value:n,callData:r})});return nQ({mode:1===e.length?"0x0000000000000000000000000000000000000000000000000000000000000000":"0x0100000000000000000000000000000000000000000000000000000000000000",executions:t})},rc=async(e,t)=>{if(1===t.length){let n=t[0];if(n&&n.to===e&&!ri(n))return n.data??"0x"}return ro(t)},ru=0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551n/2n,rl=B("bytes32, uint256, uint256, bytes, bool, string, string, uint256"),rd=e=>{try{let{challenge:t}=JSON.parse(e);if(void 0===t)throw Error('No "challenge" found in the input string');return e.split(t)}catch(e){throw Error('No "challenge" found in the input string',{cause:e})}},rp=e=>{try{let t=e.indexOf('"type":');if(-1===t)throw Error('No "type" found in the input string');return BigInt(t)}catch(e){throw Error('No "type" found in the input string',{cause:e})}},rf=e=>{let t=(0,v.w)(E(["string"],["AuthenticatorData"])),n=(0,m.zo)([t,"0x05","0x00000000"]),r=(0,v.w)(E(["string"],[e]));return(0,R.E)(rl,[r,0x7fffffff800000007fffffffffffffffde737d56d38bcf4279dce5617e3192a8n,0x7fffffff800000007fffffffffffffffde737d56d38bcf4279dce5617e3192a8n,n,!0,'{"type":"webauthn.get","challenge":"','","origin":"passkey-domain","crossOrigin":false}',1n])},ry=n(74587),rm={};t3(rm,{read:()=>rg});var rg={};t3(rg,{getAvailableAmount:()=>rh});var rh=async({client:e,contractAddress:t,delegationHash:n,delegationManager:r,terms:a})=>{let[i,s,o]=await (0,j.L)(e,{address:t,abi:nr.Yi.abi,functionName:"getAvailableAmount",args:[n,r,a]});return{availableAmount:i,isNewPeriod:s,currentPeriod:o}},rb={};t3(rb,{read:()=>rE});var rE={};t3(rE,{getAvailableAmount:()=>rA});var rA=async({client:e,contractAddress:t,delegationManager:n,delegationHash:r,terms:a})=>{let i=(await (0,ry.Q)(e)).timestamp,[s,o,c,u,l]=await (0,j.L)(e,{address:t,abi:nr.rS.abi,functionName:"streamingAllowances",args:[n,r]});if(0n!==u)return{availableAmount:rv({initialAmount:s,maxAmount:o,amountPerSecond:c,startTime:u,spent:l,currentTimestamp:i})};let[,d,p,f,y]=await (0,j.L)(e,{address:t,abi:nr.rS.abi,functionName:"getTermsInfo",args:[a]});return{availableAmount:rv({initialAmount:d,maxAmount:p,amountPerSecond:f,startTime:y,spent:0n,currentTimestamp:i})}};function rv(e){if(e.currentTimestamp<e.startTime)return 0n;let t=e.currentTimestamp-e.startTime,n=e.initialAmount+e.amountPerSecond*t;return(n>e.maxAmount&&(n=e.maxAmount),e.spent>=n)?0n:n-e.spent}var rw={};t3(rw,{read:()=>rS});var rS={};t3(rS,{getAvailableAmount:()=>rx});var rx=async({client:e,contractAddress:t,delegationHash:n,delegationManager:r,terms:a,args:i})=>{let[s,o,c]=await (0,j.L)(e,{address:t,abi:nr.Fs.abi,functionName:"getAvailableAmount",args:[n,r,a,i]});return{availableAmount:s,isNewPeriod:o,currentPeriod:c}},rI={};t3(rI,{read:()=>rC});var rC={};t3(rC,{getAvailableAmount:()=>rD});var rD=async({client:e,contractAddress:t,delegationHash:n,delegationManager:r,terms:a})=>{let[i,s,o]=await (0,j.L)(e,{address:t,abi:nr.Bj.abi,functionName:"getAvailableAmount",args:[n,r,a]});return{availableAmount:i,isNewPeriod:s,currentPeriod:o}},rT={};t3(rT,{read:()=>rR});var rR={};t3(rR,{getAvailableAmount:()=>rO});var rO=async({client:e,contractAddress:t,delegationManager:n,delegationHash:r,terms:a})=>{let i=(await (0,ry.Q)(e)).timestamp,[s,o,c,u,l]=await (0,j.L)(e,{address:t,abi:nr.Pk.abi,functionName:"streamingAllowances",args:[n,r]});if(0n!==u)return{availableAmount:rN({initialAmount:s,maxAmount:o,amountPerSecond:c,startTime:u,spent:l,currentTimestamp:i})};let[d,p,f,y]=await (0,j.L)(e,{address:t,abi:nr.Pk.abi,functionName:"getTermsInfo",args:[a]});return{availableAmount:rN({initialAmount:d,maxAmount:p,amountPerSecond:f,startTime:y,spent:0n,currentTimestamp:i})}};function rN(e){if(e.currentTimestamp<e.startTime)return 0n;let t=e.currentTimestamp-e.startTime,n=e.initialAmount+e.amountPerSecond*t;return(n>e.maxAmount&&(n=e.maxAmount),e.spent>=n)?0n:n-e.spent}var rP={DelegationManager:"0xdb9B1e94B5b69Df7e401DDbedE43491141047dB3",EntryPoint:"0x0000000071727De22E5E9d8BAf0edAc6f37da032",SimpleFactory:"0x69Aa2f9fe1572F1B640E1bbc512f5c3a734fc77c",MultiSigDeleGatorImpl:"0x56a9EdB16a0105eb5a4C54f4C062e2868844f3A7",HybridDeleGatorImpl:"0x48dBe696A4D990079e039489bA2053B36E8FFEC4",EIP7702StatelessDeleGatorImpl:"0x63c0c19a282a1B52b07dD5a65b58948A07DAE32B",AllowedCalldataEnforcer:"0xc2b0d624c1c4319760C96503BA27C347F3260f55",AllowedMethodsEnforcer:"0x2c21fD0Cb9DC8445CB3fb0DC5E7Bb0Aca01842B5",AllowedTargetsEnforcer:"0x7F20f61b1f09b08D970938F6fa563634d65c4EeB",BlockNumberEnforcer:"0x5d9818dF0AE3f66e9c3D0c5029DAF99d1823ca6c",DeployedEnforcer:"0x24ff2AA430D53a8CD6788018E902E098083dcCd2",ERC20BalanceChangeEnforcer:"0xcdF6aB796408598Cea671d79506d7D48E97a5437",ERC20TransferAmountEnforcer:"0xf100b0819427117EcF76Ed94B358B1A5b5C6D2Fc",ERC20PeriodTransferEnforcer:"0x474e3Ae7E169e940607cC624Da8A15Eb120139aB",ERC20StreamingEnforcer:"0x56c97aE02f233B29fa03502Ecc0457266d9be00e",ERC721BalanceChangeEnforcer:"0x8aFdf96eDBbe7e1eD3f5Cd89C7E084841e12A09e",ERC721TransferEnforcer:"0x3790e6B7233f779b09DA74C72b6e94813925b9aF",ERC1155BalanceChangeEnforcer:"0x63c322732695cAFbbD488Fc6937A0A7B66fC001A",ExactCalldataBatchEnforcer:"0x982FD5C86BBF425d7d1451f974192d4525113DfD",ExactCalldataEnforcer:"0x99F2e9bF15ce5eC84685604836F71aB835DBBdED",ExactExecutionBatchEnforcer:"0x1e141e455d08721Dd5BCDA1BaA6Ea5633Afd5017",ExactExecutionEnforcer:"0x146713078D39eCC1F5338309c28405ccf85Abfbb",IdEnforcer:"0xC8B5D93463c893401094cc70e66A206fb5987997",LimitedCallsEnforcer:"0x04658B29F6b82ed55274221a06Fc97D318E25416",NativeBalanceChangeEnforcer:"0xbD7B277507723490Cd50b12EaaFe87C616be6880",ArgsEqualityCheckEnforcer:"0x44B8C6ae3C304213c3e298495e12497Ed3E56E41",NativeTokenPaymentEnforcer:"0x4803a326ddED6dDBc60e659e5ed12d85c7582811",NativeTokenTransferAmountEnforcer:"0xF71af580b9c3078fbc2BBF16FbB8EEd82b330320",NativeTokenStreamingEnforcer:"0xD10b97905a320b13a0608f7E9cC506b56747df19",NativeTokenPeriodTransferEnforcer:"0x9BC0FAf4Aca5AE429F4c06aEEaC517520CB16BD9",NonceEnforcer:"0xDE4f2FAC4B3D87A1d9953Ca5FC09FCa7F366254f",OwnershipTransferEnforcer:"0x7EEf9734E7092032B5C56310Eb9BbD1f4A524681",RedeemerEnforcer:"0xE144b0b2618071B4E56f746313528a669c7E65c5",SpecificActionERC20TransferBatchEnforcer:"0x6649b61c873F6F9686A1E1ae9ee98aC380c7bA13",TimestampEnforcer:"0x1046bb45C8d673d4ea75321280DB34899413c069",ValueLteEnforcer:"0x92Bf12322527cAA612fd31a0e810472BBB106A8F",MultiTokenPeriodEnforcer:"0xFB2f1a9BD76d3701B730E5d69C3219D42D80eBb7"},r_={DelegationManager:"0x56D56e07e3d6Ee5a24e30203A37a0a460f42D7A3",EntryPoint:"0x0000000071727De22E5E9d8BAf0edAc6f37da032",SimpleFactory:"0x6ff518884f21168c30c58CB21184D6AdBC18Ad90",MultiSigDeleGatorImpl:"0xd1f421EDbA5e3FA9efe3874827114b20C5BEC40C",HybridDeleGatorImpl:"0x941f3a016F8726d5643Ce62452d0D78492D42b42",AllowedCalldataEnforcer:"0xff71d60f3208469cBCE0859717B5198042DCB3F3",AllowedMethodsEnforcer:"0xe32C2561792e8446Abe73B9f557B881C13906186",AllowedTargetsEnforcer:"0x06aaE4c67EEA95277c46Bf79b1583d4a01772D22",BlockNumberEnforcer:"0x8E470D2Ae278457b42d2405E0B8Cd4BE21Ed9045",DeployedEnforcer:"0xf9088f013dBD9ebb7Cebd66fEB48253c6Ac5a820",ERC20BalanceGteEnforcer:"0xB7B6f32ec6343261D814e55Ed8C5925d91Cab861",ERC20TransferAmountEnforcer:"0x9A069b18032B31429A363AeCFb1B6A0564b44471",IdEnforcer:"0x91015c3b9D9523966eD2399885e5Df7A567f916c",LimitedCallsEnforcer:"0xe694bFfffEA3E85923b1210b37e6a0175e910863",NonceEnforcer:"0xE83BCFD8bBE672A96747e831050a91cf44F4F87A",TimestampEnforcer:"0x550FdD13eEBC1f22ea2a2480024BacBF0Ad7e5CE",ValueLteEnforcer:"0xBE32a6DB7471F63BB168C088c57Db01AfAe87967",NativeTokenTransferAmountEnforcer:"0x5eD3833d7B957A8DB8A461c3AF2d668Ec25382E0",NativeBalanceGteEnforcer:"0x376a98860E210DdEda3689fb39565592c563cB0A",ArgsEqualityCheckEnforcer:"0x7378dE585998d3E18Ce147867C335C25B3dB8Ee5",NativeTokenPaymentEnforcer:"0x87Fe18EbF99e42fcE8A03a25F1d20E119407f8e7",RedeemerEnforcer:"0x926672b130D1EF60A9d6b11D2048d121b30f40C1"},rB={DelegationManager:"0xbe4138886cb096bdc1b930f2f0ca7892aa234d78",EntryPoint:"0x0000000071727De22E5E9d8BAf0edAc6f37da032",SimpleFactory:"0x6ff518884f21168c30c58CB21184D6AdBC18Ad90",MultiSigDeleGatorImpl:"0x11f555af5844d85bfcf5d61d2a22866527eb585a",HybridDeleGatorImpl:"0xd6edd1256deccb2b06bdecef92dc16bcf26e531b",AllowedCalldataEnforcer:"0x48db3835a873d64a4af2c09f014052407c003bd7",AllowedMethodsEnforcer:"0xfd731951bf1c52afccee3e6f14ab656475b76dd4",AllowedTargetsEnforcer:"0xbc8673c0afa52d86d991c06881e55b2966920564",BlockNumberEnforcer:"0xc15faffa0d879b9263c15a46ce31eacfa2e0e8ae",DeployedEnforcer:"0x5accb9559b56a6c1e3f90e342c85c42d93720d43",ERC20BalanceGteEnforcer:"0xb5d6b1ec6d868a3bae5b7f48178eaa2686a7a087",ERC20TransferAmountEnforcer:"0x92ac423b9c111962179a6242e1adb58d02c103be",IdEnforcer:"0x34152d9f3f8f74338d50703e780389e829b4abac",LimitedCallsEnforcer:"0x4b3adad4a328bee8ba17b86074d92fe7372180cd",NonceEnforcer:"0x2f32ff3fc3086d7f63f16fe8d0065390d460b40d",TimestampEnforcer:"0x78e05f779490c24bf3bfa135b4112e7003b321cd",ValueLteEnforcer:"0xfc20ede0a1132e839fbda9d7ed3904ff3c89540f"},r$={"1.0.0":{10:rB,137:rB,8453:rB,42161:rB,59144:rB,11155111:{...rB,HybridDeleGatorImpl:"0x5989F5D13DF8fc818EdA65e417AED90459fD67F7"},59141:{...rB,HybridDeleGatorImpl:"0x5989F5D13DF8fc818EdA65e417AED90459fD67F7"}},"1.1.0":{42161:r_,8453:r_,59144:r_,10:r_,137:r_,11155111:r_,59141:r_,84532:{...r_,SimpleFactory:"0xE8eA1DE8D6AfE400B7C8C1A81B7C29B7876b4d02"}},"1.3.0":{1:rP,137:rP,56:rP,10:rP,42161:rP,57073:rP,59144:rP,8453:rP,100:rP,80094:rP,130:rP,42170:rP,1329:rP,146:rP,143:rP,97:rP,5115:rP,6342:rP,10200:rP,59141:rP,80069:rP,84532:rP,421614:rP,11155111:rP,11155420:rP,1301:rP,80002:rP,763373:rP,10143:rP,1328:rP,14601:rP,560048:rP}},rM=new Map,rL=(e,t)=>`${t}:${e}`;function rk(e,t="1.3.0"){let n=rL(e,t),r=rM.get(n);if(r)return r;let a=r$[t]?.[e];if(!a)throw Error(`No contracts found for version ${t} chain ${e}`);return{DelegationManager:a.DelegationManager,EntryPoint:a.EntryPoint,SimpleFactory:a.SimpleFactory,implementations:{MultiSigDeleGatorImpl:a.MultiSigDeleGatorImpl,HybridDeleGatorImpl:a.HybridDeleGatorImpl,EIP7702StatelessDeleGatorImpl:a.EIP7702StatelessDeleGatorImpl},caveatEnforcers:{AllowedCalldataEnforcer:a.AllowedCalldataEnforcer,AllowedMethodsEnforcer:a.AllowedMethodsEnforcer,AllowedTargetsEnforcer:a.AllowedTargetsEnforcer,ArgsEqualityCheckEnforcer:a.ArgsEqualityCheckEnforcer,BlockNumberEnforcer:a.BlockNumberEnforcer,DeployedEnforcer:a.DeployedEnforcer,ERC20BalanceChangeEnforcer:a.ERC20BalanceChangeEnforcer,ERC20TransferAmountEnforcer:a.ERC20TransferAmountEnforcer,ERC20StreamingEnforcer:a.ERC20StreamingEnforcer,ERC721BalanceChangeEnforcer:a.ERC721BalanceChangeEnforcer,ERC721TransferEnforcer:a.ERC721TransferEnforcer,ERC1155BalanceChangeEnforcer:a.ERC1155BalanceChangeEnforcer,IdEnforcer:a.IdEnforcer,LimitedCallsEnforcer:a.LimitedCallsEnforcer,NonceEnforcer:a.NonceEnforcer,TimestampEnforcer:a.TimestampEnforcer,ValueLteEnforcer:a.ValueLteEnforcer,NativeTokenTransferAmountEnforcer:a.NativeTokenTransferAmountEnforcer,NativeBalanceChangeEnforcer:a.NativeBalanceChangeEnforcer,NativeTokenStreamingEnforcer:a.NativeTokenStreamingEnforcer,NativeTokenPaymentEnforcer:a.NativeTokenPaymentEnforcer,OwnershipTransferEnforcer:a.OwnershipTransferEnforcer,RedeemerEnforcer:a.RedeemerEnforcer,SpecificActionERC20TransferBatchEnforcer:a.SpecificActionERC20TransferBatchEnforcer,ERC20PeriodTransferEnforcer:a.ERC20PeriodTransferEnforcer,NativeTokenPeriodTransferEnforcer:a.NativeTokenPeriodTransferEnforcer,ExactCalldataBatchEnforcer:a.ExactCalldataBatchEnforcer,ExactCalldataEnforcer:a.ExactCalldataEnforcer,ExactExecutionEnforcer:a.ExactExecutionEnforcer,ExactExecutionBatchEnforcer:a.ExactExecutionBatchEnforcer,MultiTokenPeriodEnforcer:a.MultiTokenPeriodEnforcer}}}var rF={PackedUserOperation:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"accountGasLimits",type:"bytes32"},{name:"preVerificationGas",type:"uint256"},{name:"gasFees",type:"bytes32"},{name:"paymasterAndData",type:"bytes"},{name:"entryPoint",type:"address"}]},rU=({userOperation:e,entryPoint:t,chainId:n,name:r,address:a,version:i="1"})=>({domain:{chainId:n,name:r,version:i,verifyingContract:a},types:rF,primaryType:"PackedUserOperation",message:{...K({...e,signature:"0x"}),entryPoint:t.address}}),rj=n(93637),rG=n(93610),rV=n(19775);async function rH(e,t){if(!t.to)throw Error("`to` is required. `sendTransactionWithDelegation` cannot be used to deploy contracts.");let n=[e4({target:t.to,value:t.value,callData:t.data})],r=(0,d.R)({abi:nr.Ux.abi,functionName:"redeemDelegations",args:[[t.permissionsContext],["0x0000000000000000000000000000000000000000000000000000000000000000"],tn([n])]}),{value:a,permissionsContext:i,delegationManager:s,...o}=t;return await e.sendTransaction({...o,to:t.delegationManager,data:r})}async function rz(e,t){if(t.accountMetadata){let{publicClient:e}=t,n={},r=e.chain?.id;if(!r)throw Error("Chain ID is not set");let{SimpleFactory:a}=rk(r),i=t.accountMetadata.filter(e=>{if(!(0,rj.E)(e.factory,a))throw Error(`Invalid accountMetadata: ${e.factory} is not allowed.`);let t=(0,m.zo)([e.factory,e.factoryData]),r=n[t];return n[t]=!0,!r}),s=(await Promise.all(i.map(async({factory:t,factoryData:n})=>{if(!await e.call({to:t,data:n}).then(()=>!1).catch(()=>!0))return{to:t,value:0n,data:n}}))).filter(e=>void 0!==e);t.calls=[...s,...t.calls]}return e.sendUserOperation(t)}async function rX(e,t){let n=t.map(rJ),r=await e.request({method:"wallet_requestExecutionPermissions",params:n},{retryCount:0});if(!r)throw Error("Failed to grant permissions");return r}function rJ(e){let{chainId:t,address:n,expiry:r,isAdjustmentAllowed:a}=e,i=function(e){switch(e){case"native-token-stream":return({permission:e,isAdjustmentAllowed:t})=>(function({permission:e,isAdjustmentAllowed:t}){let{data:{initialAmount:n,justification:r,maxAmount:a,startTime:i,amountPerSecond:s}}=e,o={...rW(n)&&{initialAmount:rY(n,"initialAmount")},...rW(a)&&{maxAmount:rY(a,"maxAmount")},...rW(i)&&{startTime:Number(i)},...r?{justification:r}:{}};return{type:"native-token-stream",data:{amountPerSecond:rY(s,"amountPerSecond"),...o},isAdjustmentAllowed:t}})({permission:e,isAdjustmentAllowed:t});case"erc20-token-stream":return({permission:e,isAdjustmentAllowed:t})=>(function({permission:e,isAdjustmentAllowed:t}){let{data:{tokenAddress:n,amountPerSecond:r,initialAmount:a,startTime:i,maxAmount:s,justification:o}}=e,c={...rW(a)&&{initialAmount:rY(a,"initialAmount")},...rW(s)&&{maxAmount:rY(s,"maxAmount")},...rW(i)&&{startTime:Number(i)},...o?{justification:o}:{}};return{type:"erc20-token-stream",data:{tokenAddress:rY(n,"tokenAddress"),amountPerSecond:rY(r,"amountPerSecond"),...c},isAdjustmentAllowed:t}})({permission:e,isAdjustmentAllowed:t});case"native-token-periodic":return({permission:e,isAdjustmentAllowed:t})=>(function({permission:e,isAdjustmentAllowed:t}){let{data:{periodAmount:n,periodDuration:r,startTime:a,justification:i}}=e,s={...rW(a)&&{startTime:Number(a)},...i?{justification:i}:{}};return{type:"native-token-periodic",data:{periodAmount:rY(n,"periodAmount"),periodDuration:Number(r),...s},isAdjustmentAllowed:t}})({permission:e,isAdjustmentAllowed:t});case"erc20-token-periodic":return({permission:e,isAdjustmentAllowed:t})=>(function({permission:e,isAdjustmentAllowed:t}){let{data:{tokenAddress:n,periodAmount:r,periodDuration:a,startTime:i,justification:s}}=e,o={...rW(i)&&{startTime:Number(i)},...s?{justification:s}:{}};return{type:"erc20-token-periodic",data:{tokenAddress:rY(n,"tokenAddress"),periodAmount:rY(r,"periodAmount"),periodDuration:Number(a),...o},isAdjustmentAllowed:t}})({permission:e,isAdjustmentAllowed:t});case"erc20-token-revocation":return({permission:e,isAdjustmentAllowed:t})=>(function({permission:e,isAdjustmentAllowed:t}){let{data:{justification:n}}=e;return{type:"erc20-token-revocation",data:{...n?{justification:n}:{}},isAdjustmentAllowed:t}})({permission:e,isAdjustmentAllowed:t});default:throw Error(`Unsupported permission type: ${e}`)}}(e.permission.type),s="string"==typeof e.signer?e.signer:e.signer.data.address,o=[{type:"expiry",isAdjustmentAllowed:a,data:{timestamp:r}}];return{...{...n?{address:n}:{}},chainId:(0,h.NC)(t),permission:i({permission:e.permission,isAdjustmentAllowed:a}),signer:{type:"account",data:{address:s}},rules:o}}function rW(e){return null!=e}function rY(e,t){if(!function(e,t){if(!rW(e))throw Error(`Invalid parameters: ${t??"value"} is required`)}(e,t),"string"==typeof e){if(!(0,rG.v)(e))throw Error(`Invalid parameters: ${t??"value"} is not a valid hex value`);return e}return(0,h.NC)(e)}function rK({delegation:e,enforcerAddress:t,enforcerName:n}){let r=e.caveats.filter(e=>e.enforcer.toLowerCase()===t.toLowerCase());if(0===r.length)throw Error(`No caveat found with enforcer matching ${n}`);if(r.length>1)throw Error(`Multiple caveats found with enforcer matching ${n}`);let[{terms:a,args:i}]=r;return{terms:a,args:i}}function rZ(e){if(!e.DelegationManager)throw Error("Delegation manager address not found");return e.DelegationManager}function rq({enforcerName:e,environment:t}){let n=t.caveatEnforcers[e];if(!n)throw Error(`${e} not found in environment`);return n}async function rQ(e,t,n){let r="ERC20PeriodTransferEnforcer",a=rZ(t),i=rq({enforcerName:r,environment:t}),s=nt(n.delegation),{terms:o}=rK({delegation:n.delegation,enforcerAddress:i,enforcerName:r});return rg.getAvailableAmount({client:e,contractAddress:i,delegationHash:s,delegationManager:a,terms:o})}async function r0(e,t,n){let r="ERC20StreamingEnforcer",a=rZ(t),i=rq({enforcerName:r,environment:t}),s=nt(n.delegation),{terms:o}=rK({delegation:n.delegation,enforcerAddress:i,enforcerName:r});return rE.getAvailableAmount({client:e,contractAddress:i,delegationManager:a,delegationHash:s,terms:o})}async function r2(e,t,n){let r="MultiTokenPeriodEnforcer",a=rZ(t),i=rq({enforcerName:r,environment:t}),s=nt(n.delegation),{terms:o,args:c}=rK({delegation:n.delegation,enforcerAddress:i,enforcerName:r});return rS.getAvailableAmount({client:e,contractAddress:i,delegationHash:s,delegationManager:a,terms:o,args:c})}async function r1(e,t,n){let r="NativeTokenPeriodTransferEnforcer",a=rZ(t),i=rq({enforcerName:r,environment:t}),s=nt(n.delegation),{terms:o}=rK({delegation:n.delegation,enforcerAddress:i,enforcerName:r});return rC.getAvailableAmount({client:e,contractAddress:i,delegationHash:s,delegationManager:a,terms:o})}async function r6(e,t,n){let r="NativeTokenStreamingEnforcer",a=rZ(t),i=rq({enforcerName:r,environment:t}),s=nt(n.delegation),{terms:o}=rK({delegation:n.delegation,enforcerAddress:i,enforcerName:r});return rR.getAvailableAmount({client:e,contractAddress:i,delegationManager:a,delegationHash:s,terms:o})}t3({},{caveatEnforcerActions:()=>r5,erc7710BundlerActions:()=>an,erc7710WalletActions:()=>at,erc7715ProviderActions:()=>ae,getErc20PeriodTransferEnforcerAvailableAmount:()=>rQ,getErc20StreamingEnforcerAvailableAmount:()=>r0,getMultiTokenPeriodEnforcerAvailableAmount:()=>r2,getNativeTokenPeriodTransferEnforcerAvailableAmount:()=>r1,getNativeTokenStreamingEnforcerAvailableAmount:()=>r6,isValid7702Implementation:()=>r3,requestExecutionPermissions:()=>rX,signDelegation:()=>r4,signDelegationActions:()=>r8,signUserOperation:()=>r7,signUserOperationActions:()=>r9});var r5=({environment:e})=>t=>({getErc20PeriodTransferEnforcerAvailableAmount:async n=>rQ(t,e,n),getErc20StreamingEnforcerAvailableAmount:async n=>r0(t,e,n),getMultiTokenPeriodEnforcerAvailableAmount:async n=>r2(t,e,n),getNativeTokenPeriodTransferEnforcerAvailableAmount:async n=>r1(t,e,n),getNativeTokenStreamingEnforcerAvailableAmount:async n=>r6(t,e,n)});async function r3({client:e,accountAddress:t,environment:n}){try{let r=await (0,U.C)(e,{address:t}),a=function(e){if(e?.length!==48||!e.toLowerCase().startsWith("0xef0100"))return null;let t=e.slice(8);return`0x${t}`}(r);if(!a)return!1;let i=n.implementations.EIP7702StatelessDeleGatorImpl;if(!i)return!1;return(0,rj.E)(a,i)}catch(e){return!1}}async function r4(e,t){let{account:n=e.account,delegation:r,delegationManager:a,chainId:i,name:s="DelegationManager",version:o="1",allowInsecureUnrestrictedDelegation:c=!1}=t;if(!n)throw new ey.G("Account not found. Please provide an account.");let u=(0,rV.T)(n),l=nn({delegation:r,delegationManager:a,chainId:i,name:s,version:o,allowInsecureUnrestrictedDelegation:c});return e.signTypedData({account:u,...l})}function r8(){return e=>({signDelegation:async t=>r4(e,{chainId:t.chainId??(()=>{if(!e.chain?.id)throw new ey.G("Chain ID is required. Either provide it in parameters or configure the client with a chain.");return e.chain.id})(),...t})})}async function r7(e,t){let{account:n=e.account,userOperation:r,entryPoint:a,chainId:i,name:s,address:o,version:c="1"}=t;if(!n)throw new ey.G("Account not found. Please provide an account.");let u=(0,rV.T)(n),l=rU({userOperation:r,entryPoint:a,chainId:i,name:s,address:o,version:c});return e.signTypedData({account:u,...l})}function r9(){return e=>({signUserOperation:async t=>r7(e,{chainId:t.chainId??(()=>{if(!e.chain?.id)throw new ey.G("Chain ID is required. Either provide it in parameters or configure the client with a chain.");return e.chain.id})(),...t})})}var ae=()=>e=>({requestExecutionPermissions:async t=>rX(e,t)}),at=()=>e=>({sendTransactionWithDelegation:async t=>rH(e,t)}),an=()=>e=>({sendUserOperationWithDelegation:async t=>rz(e,t)});t3({},{DeleGatorCore:()=>ax,DelegationManager:()=>ar,EIP712:()=>aD,ERC20PeriodTransferEnforcer:()=>rm,ERC20StreamingEnforcer:()=>rb,ERC20TransferAmountEnforcer:()=>a$,EntryPoint:()=>aP,HybridDeleGator:()=>aF,IdEnforcer:()=>aY,LimitedCallsEnforcer:()=>aQ,MultiSigDeleGator:()=>a6,MultiTokenPeriodEnforcer:()=>rw,NativeTokenPeriodTransferEnforcer:()=>rI,NativeTokenStreamingEnforcer:()=>rT,NativeTokenTransferAmountEnforcer:()=>ia,NonceEnforcer:()=>ic,Ownable2Step:()=>iE,Pausable:()=>i$,SimpleFactory:()=>iY,SpecificActionERC20TransferBatchEnforcer:()=>i0,encodeProxyCreationCode:()=>nh,isContractDeployed:()=>nm,isImplementationExpected:()=>ng});var ar={};t3(ar,{constants:()=>aa,encode:()=>ac,execute:()=>ab,read:()=>aE,simulate:()=>aS});var aa={};t3(aa,{ANY_BENEFICIARY:()=>t1,DOMAIN_VERSION:()=>ao,NAME:()=>ai,ROOT_AUTHORITY:()=>t6,VERSION:()=>as});var ai="DelegationManager",as="1.3.0",ao="1",ac={};t3(ac,{disableDelegation:()=>ad,enableDelegation:()=>ay,redeemDelegations:()=>ah});var au=async({client:e,delegationManagerAddress:t,delegation:n})=>{let r=nr.Ux.abi,a=t8(n);return(0,na.a)(e,{address:t,abi:r,functionName:"disableDelegation",args:[a]})},al=async({client:e,delegationManagerAddress:t,delegation:n})=>{let{request:r}=await au({client:e,delegationManagerAddress:t,delegation:n});return(0,ni.n)(e,r)},ad=({delegation:e})=>{let t=t8(e);return(0,d.R)({abi:nr.Ux.abi,functionName:"disableDelegation",args:[t]})},ap=async({client:e,delegationManagerAddress:t,delegation:n})=>{let r=nr.Ux.abi,a=t8(n);return(0,na.a)(e,{address:t,abi:r,functionName:"enableDelegation",args:[a]})},af=async({client:e,delegationManagerAddress:t,delegation:n})=>{let{request:r}=await ap({client:e,delegationManagerAddress:t,delegation:n});return(0,ni.n)(e,r)},ay=({delegation:e})=>{let t=t8(e);return(0,d.R)({abi:nr.Ux.abi,functionName:"enableDelegation",args:[t]})},am=async({client:e,delegationManagerAddress:t,delegations:n,modes:r,executions:a})=>{let i=nr.Ux.abi;return(0,na.a)(e,{address:t,abi:i,functionName:"redeemDelegations",args:[t9(n),r,tn(a)]})},ag=async({client:e,delegationManagerAddress:t,delegations:n,modes:r,executions:a})=>{let{request:i}=await am({client:e,delegationManagerAddress:t,delegations:n,modes:r,executions:a});return(0,ni.n)(e,i)},ah=({delegations:e,modes:t,executions:n})=>(0,d.R)({abi:nr.Ux.abi,functionName:"redeemDelegations",args:[t9(e),t,tn(n)]}),ab={};t3(ab,{disableDelegation:()=>al,enableDelegation:()=>af,redeemDelegations:()=>ag});var aE={};t3(aE,{disabledDelegations:()=>aA,getAnyDelegate:()=>av,getRootAuthority:()=>aw});var aA=async({client:e,contractAddress:t,delegationHash:n})=>await (0,j.L)(e,{address:t,abi:nr.Ux.abi,functionName:"disabledDelegations",args:[n]}),av=async({client:e,contractAddress:t})=>await (0,j.L)(e,{address:t,abi:nr.Ux.abi,functionName:"ANY_DELEGATE"}),aw=async({client:e,contractAddress:t})=>await (0,j.L)(e,{address:t,abi:nr.Ux.abi,functionName:"ROOT_AUTHORITY"}),aS={};t3(aS,{disableDelegation:()=>au,enableDelegation:()=>ap,redeemDelegations:()=>am});var ax={};t3(ax,{encode:()=>n0,execute:()=>aI,read:()=>ns,simulate:()=>aC});var aI={};t3(aI,{disableDelegation:()=>n1,enableDelegation:()=>n3,execute:()=>nY,executeWithMode:()=>nq,upgradeToAndCall:()=>n7});var aC={};t3(aC,{disableDelegation:()=>n2,enableDelegation:()=>n5,execute:()=>nW,executeWithMode:()=>nZ,upgradeToAndCall:()=>n8});var aD={};t3(aD,{read:()=>aT});var aT={};t3(aT,{getContractName:()=>aR,getContractVersion:()=>aO,getDomainVersion:()=>aN});var aR=async({client:e,contractAddress:t})=>await (0,j.L)(e,{address:t,abi:[{type:"function",name:"NAME",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"}],functionName:"NAME"}),aO=async({client:e,contractAddress:t})=>await (0,j.L)(e,{address:t,abi:[{type:"function",name:"VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"}],functionName:"VERSION"}),aN=async({client:e,contractAddress:t})=>await (0,j.L)(e,{address:t,abi:[{type:"function",name:"DOMAIN_VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"}],functionName:"DOMAIN_VERSION"}),aP={};t3(aP,{read:()=>a_});var a_={};t3(a_,{entryPointGetNonce:()=>aB});var aB=async({client:e,entryPoint:t,contractAddress:n,key:r})=>await (0,j.L)(e,{address:t,abi:nr.N9.abi,functionName:"getNonce",args:[n,r]}),a$={};t3(a$,{read:()=>aM});var aM={};t3(aM,{getSpentAmount:()=>aL,getTermsInfo:()=>ak});var aL=async({client:e,contractAddress:t,delegationManager:n,delegationHash:r})=>await (0,j.L)(e,{address:t,abi:nr.vE.abi,functionName:"spentMap",args:[n,r]}),ak=async({client:e,contractAddress:t,terms:n})=>{let[r,a]=await (0,j.L)(e,{address:t,abi:nr.vE.abi,functionName:"getTermsInfo",args:[n]});return{allowedContract:r,maxTokens:a}},aF={};t3(aF,{constants:()=>az,encode:()=>nA,read:()=>aU,simulate:()=>aH});var aU={};t3(aU,{getKey:()=>aj,getKeyIdHashes:()=>aG,getKeyIdHashesCount:()=>aV});var aj=async({client:e,hybridDeleGatorAddress:t,keyId:n})=>await (0,j.L)(e,{address:t,abi:nr.xt.abi,functionName:"getKey",args:[n]}),aG=async({client:e,hybridDeleGatorAddress:t})=>await (0,j.L)(e,{address:t,abi:nr.xt.abi,functionName:"getKeyIdHashes"}),aV=async({client:e,hybridDeleGatorAddress:t})=>await (0,j.L)(e,{address:t,abi:nr.xt.abi,functionName:"getKeyIdHashesCount"}),aH={};t3(aH,{addKey:()=>nv,initializeHybridDeleGator:()=>nb,reinitializeHybridDeleGator:()=>nS,removeKey:()=>nI,updateSigners:()=>nD});var az={};t3(az,{ANY_BENEFICIARY:()=>t1,DOMAIN_VERSION:()=>aW,NAME:()=>aX,ROOT_AUTHORITY:()=>t6,VERSION:()=>aJ});var aX="HybridDeleGator",aJ="1.3.0",aW="1",aY={};t3(aY,{read:()=>aK});var aK={};t3(aK,{getIsUsed:()=>aZ,getTermsInfo:()=>aq});var aZ=async({client:e,contractAddress:t,delegationManager:n,delegator:r,id:a})=>await (0,j.L)(e,{address:t,abi:nr.HC.abi,functionName:"getIsUsed",args:[n,r,a]}),aq=async({client:e,contractAddress:t,terms:n})=>await (0,j.L)(e,{address:t,abi:nr.HC.abi,functionName:"getTermsInfo",args:[n]}),aQ={};t3(aQ,{read:()=>a0});var a0={};t3(a0,{callCounts:()=>a2,getTermsInfo:()=>a1});var a2=async({client:e,contractAddress:t,delegationManager:n,delegationHash:r})=>await (0,j.L)(e,{address:t,abi:nr.bc.abi,functionName:"callCounts",args:[n,r]}),a1=async({client:e,contractAddress:t,terms:n})=>await (0,j.L)(e,{address:t,abi:nr.bc.abi,functionName:"getTermsInfo",args:[n]}),a6={};t3(a6,{constants:()=>it,encode:()=>nN,read:()=>a5,simulate:()=>ie});var a5={};t3(a5,{getMaxNumberOfSigners:()=>a3,getSigners:()=>a4,getSignersCount:()=>a8,getThreshold:()=>a7,isSigner:()=>a9});var a3=async({client:e,multiSigDeleGatorAddress:t})=>await (0,j.L)(e,{address:t,abi:nr.tX.abi,functionName:"MAX_NUMBER_OF_SIGNERS"}),a4=async({client:e,multiSigDeleGatorAddress:t})=>await (0,j.L)(e,{address:t,abi:nr.tX.abi,functionName:"getSigners"}),a8=async({client:e,multiSigDeleGatorAddress:t})=>await (0,j.L)(e,{address:t,abi:nr.tX.abi,functionName:"getSignersCount"}),a7=async({client:e,multiSigDeleGatorAddress:t})=>await (0,j.L)(e,{address:t,abi:nr.tX.abi,functionName:"getThreshold"}),a9=async({client:e,multiSigDeleGatorAddress:t,signer:n})=>await (0,j.L)(e,{address:t,abi:nr.tX.abi,functionName:"isSigner",args:[n]}),ie={};t3(ie,{addSigner:()=>nP,initializeMultiSigDeleGator:()=>nR,reinitializeMultiSigDeleGator:()=>nB,removeSigner:()=>nM,replaceSigner:()=>nk,updateMultiSigParameters:()=>nU,updateThreshold:()=>nG});var it={};t3(it,{MAX_NUMBER_OF_SIGNERS:()=>ir});var ir=30,ia={};t3(ia,{read:()=>ii});var ii={};t3(ii,{getSpentAmount:()=>is,getTermsInfo:()=>io});var is=async({client:e,contractAddress:t,delegationManager:n,delegationHash:r})=>await (0,j.L)(e,{address:t,abi:nr.$6.abi,functionName:"spentMap",args:[n,r]}),io=async({client:e,contractAddress:t,terms:n})=>await (0,j.L)(e,{address:t,abi:nr.$6.abi,functionName:"getTermsInfo",args:[n]}),ic={};t3(ic,{encode:()=>iu,execute:()=>iy,read:()=>im,simulate:()=>ib});var iu={};t3(iu,{incrementNonce:()=>il});var il=e=>(0,d.R)({abi:nr.n7.abi,functionName:"incrementNonce",args:[e]}),id=async({client:e,contractAddress:t,delegationManager:n})=>(0,na.a)(e,{address:t,abi:nr.n7.abi,functionName:"incrementNonce",args:[n]}),ip=async({client:e,contractAddress:t,delegationManager:n})=>{let{request:r}=await id({client:e,contractAddress:t,delegationManager:n});return(0,ni.n)(e,r)},iy={};t3(iy,{incrementNonce:()=>ip});var im={};t3(im,{currentNonce:()=>ig,getTermsInfo:()=>ih});var ig=async({client:e,contractAddress:t,delegationManager:n,delegator:r})=>await (0,j.L)(e,{address:t,abi:nr.n7.abi,functionName:"currentNonce",args:[n,r]}),ih=async({client:e,contractAddress:t,terms:n})=>await (0,j.L)(e,{address:t,abi:nr.n7.abi,functionName:"getTermsInfo",args:[n]}),ib={};t3(ib,{incrementNonce:()=>id});var iE={};t3(iE,{encode:()=>i_,execute:()=>iS,read:()=>iA,simulate:()=>iB});var iA={};t3(iA,{getOwner:()=>iv,getPendingOwner:()=>iw});var iv=async({client:e,contractAddress:t})=>await (0,j.L)(e,{address:t,abi:nr.Ym.abi,functionName:"owner"}),iw=async({client:e,contractAddress:t})=>await (0,j.L)(e,{address:t,abi:nr.Ym.abi,functionName:"pendingOwner"}),iS={};t3(iS,{acceptOwnership:()=>iI,renounceOwnership:()=>iT,transferOwnership:()=>iN});var ix=async({client:e,contractAddress:t})=>(0,na.a)(e,{address:t,abi:nr.Ym.abi,functionName:"acceptOwnership"}),iI=async({client:e,contractAddress:t})=>{let{request:n}=await ix({client:e,contractAddress:t});return(0,ni.n)(e,n)},iC=()=>(0,d.R)({abi:nr.Ym.abi,functionName:"acceptOwnership"}),iD=async({client:e,contractAddress:t})=>(0,na.a)(e,{address:t,abi:nr.Ym.abi,functionName:"renounceOwnership"}),iT=async({client:e,contractAddress:t})=>{let{request:n}=await iD({client:e,contractAddress:t});return(0,ni.n)(e,n)},iR=()=>(0,d.R)({abi:nr.Ym.abi,functionName:"renounceOwnership"}),iO=async({client:e,contractAddress:t,account:n})=>(0,na.a)(e,{address:t,abi:nr.Ym.abi,functionName:"transferOwnership",args:[n]}),iN=async({client:e,contractAddress:t,account:n})=>{let{request:r}=await iO({client:e,contractAddress:t,account:n});return(0,ni.n)(e,r)},iP=e=>(0,d.R)({abi:nr.Ym.abi,functionName:"transferOwnership",args:[e]}),i_={};t3(i_,{acceptOwnership:()=>iC,renounceOwnership:()=>iR,transferOwnership:()=>iP});var iB={};t3(iB,{acceptOwnership:()=>ix,renounceOwnership:()=>iD,transferOwnership:()=>iO});var i$={};t3(i$,{encode:()=>iJ,execute:()=>ik,read:()=>iM,simulate:()=>iW});var iM={};t3(iM,{isPaused:()=>iL});var iL=async({client:e,contractAddress:t})=>await (0,j.L)(e,{address:t,abi:nr.tz.abi,functionName:"paused"}),ik={};t3(ik,{pause:()=>ij,unpause:()=>iz});var iF=[{type:"function",name:"pause",inputs:[],outputs:[],stateMutability:"nonpayable"}],iU=async({client:e,contractAddress:t})=>(0,na.a)(e,{address:t,abi:iF,functionName:"pause"}),ij=async({client:e,contractAddress:t})=>{let{request:n}=await iU({client:e,contractAddress:t});return(0,ni.n)(e,n)},iG=()=>(0,d.R)({abi:iF,functionName:"pause"}),iV=[{type:"function",name:"unpause",inputs:[],outputs:[],stateMutability:"nonpayable"}],iH=async({client:e,contractAddress:t})=>(0,na.a)(e,{address:t,abi:iV,functionName:"unpause"}),iz=async({client:e,contractAddress:t})=>{let{request:n}=await iH({client:e,contractAddress:t});return(0,ni.n)(e,n)},iX=()=>(0,d.R)({abi:iV,functionName:"unpause"}),iJ={};t3(iJ,{pause:()=>iG,unpause:()=>iX});var iW={};t3(iW,{pause:()=>iU,unpause:()=>iH});var iY={};t3(iY,{encode:()=>nJ,execute:()=>iK,read:()=>iZ,simulate:()=>iQ});var iK={};t3(iK,{create2Deploy:()=>nX});var iZ={};t3(iZ,{getCreate2Address:()=>iq});var iq=async(e,t,n,r)=>(0,j.L)(e,{address:t,abi:nr.oM.abi,functionName:"computeAddress",args:[n,r]}),iQ={};t3(iQ,{create2Deploy:()=>nH});var i0={};t3(i0,{read:()=>i2});var i2={};t3(i2,{getTermsInfo:()=>i1,usedDelegations:()=>i6});var i1=async({client:e,contractAddress:t,terms:n})=>await (0,j.L)(e,{address:t,abi:nr.a0.abi,functionName:"getTermsInfo",args:[n]}),i6=async({client:e,contractAddress:t,delegationManager:n,delegationHash:r})=>await (0,j.L)(e,{address:t,abi:nr.a0.abi,functionName:"usedDelegations",args:[n,r]}),i5=["ECDSA"],i3=({signatures:e})=>{if(0===e.length)return"0x";for(let{type:t}of e)if(!i5.includes(t))throw Error(`Invalid signature type: ${t}`);let t=[...e].sort((e,t)=>e.signer.localeCompare(t.signer));return(0,m.zo)(t.map(({signature:e})=>e))},i4="0x000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000011b",i8=e=>({signMessage:e.walletClient.signMessage,signTypedData:async t=>e.walletClient.signTypedData(t),getStubSignature:async()=>i4}),i7=e=>({signMessage:e.account.signMessage,signTypedData:e.account.signTypedData,getStubSignature:async()=>i4}),i9=e=>{if("walletClient"in e)return i8(e);if("account"in e){let{signMessage:t,signTypedData:n,getStubSignature:r}=i7(e);if(!t)throw Error("Account does not support signMessage");if(!n)throw Error("Account does not support signTypedData");return{signMessage:t,signTypedData:n,getStubSignature:r}}let{keyId:t,webAuthnAccount:n}=e;if("webAuthn"!==n.type)throw Error("Account is not a webAuthn account");let r=({signature:e,webauthn:n})=>(function(e,t,n,r){let a=(0,v.w)(E(["string"],[e])),i=function(e){let t="string"==typeof e?(0,re.nr)(e.slice(2)):e,n=t.slice(0,32),r=t.slice(32,64);return{r:BigInt(rt(n)),s:BigInt(rt(r))}}(t),{s}=i;for(;s>ru;)s=0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551n-s;let{r:o}=i,[c,u]=rd(n),{userVerified:l}=function(e){let t=new Uint8Array((0,x.nr)(e))[32];if(void 0===t)throw Error("Authenticator flags not found in authenticator data");return{userVerified:(4&t)!=0}}(r),d=rp(n);return(0,R.E)(rl,[a,o,s,r,l,c,u,d])})(t,e,n.clientDataJSON,n.authenticatorData);return{signMessage:async e=>n.signMessage(e).then(r),signTypedData:async e=>n.signTypedData(e).then(r),getStubSignature:async()=>rf(t)}},se=e=>{let t=e.map(e=>{let t,n,r;if("walletClient"in e){let{signMessage:a,signTypedData:i}=i8(e);t=a,n=i,r=e.walletClient.account.address}else{let{signMessage:a,signTypedData:i}=i7(e);if(!a)throw Error("Account does not support signMessage");if(!i)throw Error("Account does not support signTypedData");t=a,n=i,r=e.account.address}return{address:r,individualSignMessage:t,individualSignTypedData:n}});return{signMessage:async e=>{let n=t.map(async({individualSignMessage:t,address:n})=>({signature:await t(e),signer:n,type:"ECDSA"}));return i3({signatures:await Promise.all(n)})},signTypedData:async e=>{let n=t.map(async({individualSignTypedData:t,address:n})=>({signature:await t(e),signer:n,type:"ECDSA"}));return i3({signatures:await Promise.all(n)})},getStubSignature:async()=>(0,m.zo)(t.map(()=>i4))}},st=e=>{if("walletClient"in e)return i8(e);if("account"in e){let{signMessage:t,signTypedData:n,getStubSignature:r}=i7(e);if(!t)throw Error("Account does not support signMessage");if(!n)throw Error("Account does not support signTypedData");return{signMessage:t,signTypedData:n,getStubSignature:r}}throw Error("Invalid signer config")},sn=e=>{let{implementation:t}=e;if("Hybrid"===t)return i9(e.signer);if("MultiSig"===t)return se(e.signer);if("Stateless7702"===t)return st(e.signer);throw Error(`Implementation type '${t}' not supported`)};async function sr(e){let t,n;let{client:r,client:{chain:a},implementation:i}=e;if(!a)throw Error("Chain not specified");let s=sn({implementation:i,signer:e.signer}),o=e.environment??rk(a.id);if(e.address)n=void 0,t=e.address;else{if("Stateless7702"===i)throw Error("Stateless7702 does not support counterfactual accounts");let r=await ra({factory:o.SimpleFactory,implementations:o.implementations,implementation:i,deployParams:e.deployParams,deploySalt:e.deploySalt});t=r.address,n=r.factoryData}let c={abi:k,address:o.EntryPoint,version:"0.7"},{abi:u,contractName:l}={Hybrid:{contractName:"HybridDeleGator",abi:nr.xt.abi},MultiSig:{contractName:"MultiSigDeleGator",abi:nr.tX.abi},Stateless7702:{contractName:"EIP7702StatelessDeleGator",abi:nr.W2.abi}}[i],d=async()=>{if(void 0===n)throw Error("Deploy params were not provided, so factory args cannot be inferred");return{factoryData:n,factory:o.SimpleFactory}},p=async e=>{let{delegation:t,chainId:n}=e,r=t8({...t,signature:"0x"});return s.signTypedData({domain:{chainId:n??a.id,name:"DelegationManager",version:"1",verifyingContract:o.DelegationManager},types:ne,primaryType:"Delegation",message:r})},f=async e=>{let{chainId:n}=e,r=K({sender:t,...e,signature:"0x"});return await s.signTypedData({domain:{chainId:n??a.id,name:l,version:"1",verifyingContract:t},types:rF,primaryType:"PackedUserOperation",message:{...r,entryPoint:c.address}})},y=async()=>t,m=async()=>aB({client:r,entryPoint:o.EntryPoint,contractAddress:t,key:0n}),g=async e=>rc(t,e),h=await z({abi:u,client:r,entryPoint:c,environment:o,getAddress:y,getFactoryArgs:d,encodeCalls:g,getNonce:m,signUserOperation:f,signDelegation:p,...s});return"Stateless7702"===i?{...h,isDeployed:async()=>r3({client:r,accountAddress:t,environment:o})}:h}class sa{constructor(e){(0,l.Z)(this,"name",el.FN.METAMASK),(0,l.Z)(this,"options",void 0),this.options=e}async getSmartAccount(e){var t,n,r,a,i,s,o,c,l,d,p,f,y,m;let g={walletClient:e.walletClient,webAuthnAccount:null===(t=this.options)||void 0===t||null===(t=t.hybridParams)||void 0===t?void 0:t.webAuthnAccount,keyId:null===(n=this.options)||void 0===n||null===(n=n.hybridParams)||void 0===n?void 0:n.keyId},h=[{walletClient:e.walletClient},...(null===(r=this.options)||void 0===r||null===(r=r.multiSigParams)||void 0===r?void 0:r.additionalSignerWalletClients)||[]],[b]=await e.walletClient.getAddresses(),E=[b,[...(null===(a=this.options)||void 0===a||null===(a=a.hybridParams)||void 0===a?void 0:a.p256KeyIds)||[]],[...(null===(i=this.options)||void 0===i||null===(i=i.hybridParams)||void 0===i?void 0:i.p256XValues)||[]],[...(null===(s=this.options)||void 0===s||null===(s=s.hybridParams)||void 0===s?void 0:s.p256YValues)||[]]],A=[[b,...(null===(o=this.options)||void 0===o||null===(o=o.multiSigParams)||void 0===o?void 0:o.additionalSignerAddresses)||[]],null!==(c=null===(l=this.options)||void 0===l||null===(l=l.multiSigParams)||void 0===l?void 0:l.threshold)&&void 0!==c?c:BigInt(1+((null===(d=this.options)||void 0===d||null===(d=d.multiSigParams)||void 0===d||null===(d=d.additionalSignerWalletClients)||void 0===d?void 0:d.length)||0))],v={client:e.client,deploySalt:null!==(p=null===(f=this.options)||void 0===f?void 0:f.deploySalt)&&void 0!==p?p:"0x0"},w=null!==(y=null===(m=this.options)||void 0===m?void 0:m.implementation)&&void 0!==y?y:rn.Hybrid;if(w===rn.Hybrid)return sr((0,u.Z)((0,u.Z)({},v),{},{implementation:w,deployParams:E,signer:g}));if(w===rn.MultiSig)return sr((0,u.Z)((0,u.Z)({},v),{},{implementation:w,deployParams:A,signer:h}));throw Error(`MetamaskSmartAccount - unsupported implementation: ${w}`)}}let si=(e,{accountAddress:t,version:n,chainId:r})=>{let a=(0,eV.Xp)({domain:{name:"Nexus",version:n,chainId:r,verifyingContract:t}}),i=(0,v.w)((0,R.E)([{type:"bytes32"},{type:"bytes32"}],[(0,v.w)((0,h.$G)("PersonalSign(bytes prefixed)")),e]));return(0,v.w)((0,m.SM)(["0x1901",a,i]))};async function ss(e){let t;let{owners:n,client:r,index:a=0n,address:i,version:s,factoryAddress:o="0x00000bb19a3579F4D779215dEf97AFbd0e30DB55",validatorAddress:c="0x00000004171351c442B202678c48D8AB5B321E8f",attesters:u=[],threshold:l=0}=e,p=await ea({owner:n[0]}),f={address:e.entryPoint?.address??M,abi:k,version:e.entryPoint?.version??"0.7"},y=i,g=async()=>t||(t=r.chain?r.chain.id:await (0,G.s)(r,ef.L,"getChainId")({}));return z({client:r,entryPoint:f,getFactoryArgs:async()=>({factory:o,factoryData:(0,d.R)({abi:[{name:"createAccount",type:"function",stateMutability:"nonpayable",inputs:[{type:"address",name:"eoaOwner"},{type:"uint256",name:"index"},{type:"address[]",name:"attesters"},{type:"uint8",name:"threshold"}],outputs:[{type:"address"}]}],functionName:"createAccount",args:[p.address,a,u.sort((e,t)=>e.toLowerCase().localeCompare(t.toLowerCase())),l]})}),getAddress:async()=>y||(y=await (0,j.L)(r,{address:o,abi:[{name:"computeAccountAddress",type:"function",stateMutability:"view",inputs:[{type:"address",name:"eoaOwner"},{type:"uint256",name:"index"},{type:"address[]",name:"attesters"},{type:"uint8",name:"threshold"}],outputs:[{type:"address"}]}],functionName:"computeAccountAddress",args:[p.address,a,u.sort((e,t)=>e.toLowerCase().localeCompare(t.toLowerCase())),l]})),async getNonce(e){let t=(e?.key??0n)%16777215n,n=(0,m.zo)([(0,h.NC)(t,{size:3}),"0x00",c]);return ee(r,{address:await this.getAddress(),entryPointAddress:f.address,key:BigInt(n)})},encodeCalls:async e=>ev({mode:{type:e.length>1?"batchcall":"call",revertOnError:!1,selector:"0x",context:"0x"},callData:e}),decodeCalls:async e=>e$(e).callData,async getStubSignature(){let e=c.substring(2).padEnd(40,"0");return`0x0000000000000000000000000000000000000000000000000000000000000040000000000000000000000000${e}000000000000000000000000000000000000000000000000000000000000004181d4b4981670cb18f99f0b4a66446df1bf5b204d24cfcb659bf38ba27a4359b5711649ec2423c5e1247245eba2964679b6a1dbb85c992ae40b9b00c6935b02ff1b00000000000000000000000000000000000000000000000000000000000000`},async sign({hash:e}){return this.signMessage({message:e})},async signMessage({message:e}){let t=si((0,eG.r)(e),{version:s,accountAddress:await this.getAddress(),chainId:await g()});return E(["address","bytes"],[c,await p.signMessage({message:{raw:t}})])},async signTypedData(e){let{message:t,primaryType:n,types:r,domain:a}=e,i={EIP712Domain:(0,eV.cj)({domain:a}),...r};(0,eV.iC)({domain:a,message:t,primaryType:n,types:i});let o=si((0,X.Jv)({message:t,primaryType:n,types:i,domain:a}),{version:s,accountAddress:await this.getAddress(),chainId:await g()});return E(["address","bytes"],[c,await p.signMessage({message:{raw:o}})])},async signUserOperation(e){let{chainId:t=await g(),...n}=e;if(!t)throw Error("Chain id not found");let r=q({userOperation:{...n,sender:n.sender??await this.getAddress(),signature:"0x"},entryPointAddress:f.address,entryPointVersion:f.version,chainId:t});return await p.signMessage({message:{raw:r}})}})}class so{constructor(e){(0,l.Z)(this,"name",el.FN.NEXUS),(0,l.Z)(this,"options",void 0),this.options=e}async getSmartAccount(e){var t,n,r;return ss((0,u.Z)((0,u.Z)((0,u.Z)({},this.options||{}),{},{entryPoint:{address:(null===(t=this.options)||void 0===t||null===(t=t.entryPoint)||void 0===t?void 0:t.address)||M,version:(null===(n=this.options)||void 0===n||null===(n=n.entryPoint)||void 0===n?void 0:n.version)||"0.7"},version:(null===(r=this.options)||void 0===r?void 0:r.version)||"1.0.0"},e),{},{owners:[e.walletClient],client:e.client}))}}let sc=async(e,t)=>!!await (0,U.C)(e,{address:t}),su=e=>{e.sort((e,t)=>e.signer.toLowerCase().localeCompare(t.signer.toLowerCase()));let t="0x",n="";for(let r of e)if(r.dynamic){let a=(65*e.length+n.length/2).toString(16).padStart(64,"0"),i=(r.data.slice(2).length/2).toString(16).padStart(64,"0"),s=`${r.signer.slice(2).padStart(64,"0")}${a}00`,o=`${i}${r.data.slice(2)}`;t+=s,n+=o}else t+=r.data.slice(2);return t+n},sl=async({owner:e,hash:t})=>{let{signature:n,webauthn:r}=await e.sign({hash:t}),{Signature:a}=await eC(),i=a.fromHex(n),s=r.clientDataJSON.match(/^\{"type":"webauthn.get","challenge":"[A-Za-z0-9\-_]{43}",(.*)\}$/);if(!s)throw Error("challenge not found in client data JSON");let[,o]=s;return(0,R.E)([{name:"authenticatorData",type:"bytes"},{name:"clientDataJSON",type:"string"},{name:"signature",type:"uint256[2]"}],[r.authenticatorData,o,[BigInt(i.r),BigInt(i.s)]])};async function sd(e){let{chainId:t,entryPoint:n,validAfter:r=0,validUntil:a=0,safe4337ModuleAddress:i,version:s,owners:o,signatures:c,account:u,...l}=e,{safe4337ModuleAddress:d}=sP(s,n.version,{safe4337ModuleAddress:i}),p={safe:l.sender,callData:l.callData,nonce:l.nonce,initCode:l.initCode??"0x",maxFeePerGas:l.maxFeePerGas,maxPriorityFeePerGas:l.maxPriorityFeePerGas,preVerificationGas:l.preVerificationGas,verificationGasLimit:l.verificationGasLimit,callGasLimit:l.callGasLimit,paymasterAndData:l.paymasterAndData??"0x",validAfter:r,validUntil:a,entryPoint:n.address};if("initCode"in l&&(p.paymasterAndData=l.paymasterAndData??"0x"),"factory"in l){var f;if(l.factory&&l.factoryData&&(p.initCode=(0,m.SM)([l.factory,l.factoryData])),!l.sender)throw Error("Sender is required");p.paymasterAndData=(f={...l,sender:l.sender}).paymaster?(0,m.zo)([f.paymaster,(0,g.vk)((0,h.NC)(f.paymasterVerificationGasLimit||BigInt(0)),{size:16}),(0,g.vk)((0,h.NC)(f.paymasterPostOpGasLimit||BigInt(0)),{size:16}),f.paymasterData||"0x"]):"0x"}let y=sR(u)?u:await ea({owner:u}),b=sR(y)?e.safeWebAuthnSharedSignerAddress:y.address;if(!b)throw Error("no signer found");let A=[];if(c)try{A=(0,eg.r)([{components:[{type:"address",name:"signer"},{type:"bytes",name:"data"},{type:"bool",name:"dynamic"}],name:"signatures",type:"tuple[]"}],c)[0]}catch{A=(0,eg.r)([{components:[{type:"address",name:"signer"},{type:"bytes",name:"data"}],name:"signatures",type:"tuple[]"}],c)[0].map(e=>({...e,dynamic:!1}))}let v=[...A,{signer:b,dynamic:sR(y),data:await (async()=>sR(y)?sl({owner:y,hash:(0,X.Jv)({domain:{chainId:t,verifyingContract:d},types:"0.6"===n.version?sv:sw,primaryType:"SafeOp",message:p})}):y.signTypedData({domain:{chainId:t,verifyingContract:d},types:"0.6"===n.version?sv:sw,primaryType:"SafeOp",message:p}))()}];return v.length!==o.length?(0,R.E)([{components:[{type:"address",name:"signer"},{type:"bytes",name:"data"},{type:"bool",name:"dynamic"}],name:"signatures",type:"tuple[]"}],[v]):E(["uint48","uint48","bytes"],[r,a,su(v)])}let sp=[{inputs:[{internalType:"bytes",name:"transactions",type:"bytes"}],name:"multiSend",outputs:[],stateMutability:"payable",type:"function"}],sf=[{type:"function",name:"initSafe7579",inputs:[{name:"safe7579",type:"address",internalType:"address"},{name:"executors",type:"tuple[]",internalType:"struct ModuleInit[]",components:[{name:"module",type:"address",internalType:"address"},{name:"initData",type:"bytes",internalType:"bytes"}]},{name:"fallbacks",type:"tuple[]",internalType:"struct ModuleInit[]",components:[{name:"module",type:"address",internalType:"address"},{name:"initData",type:"bytes",internalType:"bytes"}]},{name:"hooks",type:"tuple[]",internalType:"struct ModuleInit[]",components:[{name:"module",type:"address",internalType:"address"},{name:"initData",type:"bytes",internalType:"bytes"}]},{name:"attesters",type:"address[]",internalType:"address[]"},{name:"threshold",type:"uint8",internalType:"uint8"}],outputs:[],stateMutability:"nonpayable"}],sy=[{type:"function",name:"preValidationSetup",inputs:[{name:"initHash",type:"bytes32",internalType:"bytes32"},{name:"to",type:"address",internalType:"address"},{name:"preInit",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"}],sm=[{inputs:[{internalType:"address[]",name:"modules",type:"address[]"}],name:"enableModules",outputs:[],stateMutability:"nonpayable",type:"function"}],sg=[{inputs:[{components:[{internalType:"uint256",name:"x",type:"uint256"},{internalType:"uint256",name:"y",type:"uint256"},{internalType:"P256.Verifiers",name:"verifiers",type:"uint176"}],internalType:"struct SafeWebAuthnSharedSigner.Signer",name:"signer",type:"tuple"}],name:"configure",outputs:[],stateMutability:"nonpayable",type:"function"}],sh=[{inputs:[{internalType:"address[]",name:"_owners",type:"address[]"},{internalType:"uint256",name:"_threshold",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"address",name:"fallbackHandler",type:"address"},{internalType:"address",name:"paymentToken",type:"address"},{internalType:"uint256",name:"payment",type:"uint256"},{internalType:"address payable",name:"paymentReceiver",type:"address"}],name:"setup",outputs:[],stateMutability:"nonpayable",type:"function"}],sb=[{inputs:[{internalType:"address",name:"_singleton",type:"address"},{internalType:"bytes",name:"initializer",type:"bytes"},{internalType:"uint256",name:"saltNonce",type:"uint256"}],name:"createProxyWithNonce",outputs:[{internalType:"contract SafeProxy",name:"proxy",type:"address"}],stateMutability:"nonpayable",type:"function"}],sE=[{type:"function",name:"setupSafe",inputs:[{name:"initData",type:"tuple",internalType:"struct Safe7579Launchpad.InitData",components:[{name:"singleton",type:"address",internalType:"address"},{name:"owners",type:"address[]",internalType:"address[]"},{name:"threshold",type:"uint256",internalType:"uint256"},{name:"setupTo",type:"address",internalType:"address"},{name:"setupData",type:"bytes",internalType:"bytes"},{name:"safe7579",type:"address",internalType:"contract ISafe7579"},{name:"validators",type:"tuple[]",internalType:"struct ModuleInit[]",components:[{name:"module",type:"address",internalType:"address"},{name:"initData",type:"bytes",internalType:"bytes"}]},{name:"callData",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"}],sA=[{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"uint8",name:"operation",type:"uint8"}],name:"executeUserOpWithErrorString",outputs:[],stateMutability:"nonpayable",type:"function"}],sv={SafeOp:[{type:"address",name:"safe"},{type:"uint256",name:"nonce"},{type:"bytes",name:"initCode"},{type:"bytes",name:"callData"},{type:"uint256",name:"callGasLimit"},{type:"uint256",name:"verificationGasLimit"},{type:"uint256",name:"preVerificationGas"},{type:"uint256",name:"maxFeePerGas"},{type:"uint256",name:"maxPriorityFeePerGas"},{type:"bytes",name:"paymasterAndData"},{type:"uint48",name:"validAfter"},{type:"uint48",name:"validUntil"},{type:"address",name:"entryPoint"}]},sw={SafeOp:[{type:"address",name:"safe"},{type:"uint256",name:"nonce"},{type:"bytes",name:"initCode"},{type:"bytes",name:"callData"},{type:"uint128",name:"verificationGasLimit"},{type:"uint128",name:"callGasLimit"},{type:"uint256",name:"preVerificationGas"},{type:"uint128",name:"maxPriorityFeePerGas"},{type:"uint128",name:"maxFeePerGas"},{type:"bytes",name:"paymasterAndData"},{type:"uint48",name:"validAfter"},{type:"uint48",name:"validUntil"},{type:"address",name:"entryPoint"}]},sS={"1.4.1":{"0.6":{SAFE_MODULE_SETUP_ADDRESS:"0x8EcD4ec46D4D2a6B64fE960B3D64e8B94B2234eb",SAFE_4337_MODULE_ADDRESS:"0xa581c4A4DB7175302464fF3C06380BC3270b4037",SAFE_PROXY_FACTORY_ADDRESS:"0x4e1DCf7AD4e460CfD30791CCC4F9c8a4f820ec67",SAFE_SINGLETON_ADDRESS:"0x41675C099F32341bf84BFc5382aF534df5C7461a",MULTI_SEND_ADDRESS:"0x38869bf66a61cF6bDB996A6aE40D5853Fd43B526",MULTI_SEND_CALL_ONLY_ADDRESS:"0x9641d764fc13c8B624c04430C7356C1C7C8102e2"},"0.7":{SAFE_MODULE_SETUP_ADDRESS:"0x2dd68b007B46fBe91B9A7c3EDa5A7a1063cB5b47",SAFE_4337_MODULE_ADDRESS:"0x75cf11467937ce3F2f357CE24ffc3DBF8fD5c226",SAFE_PROXY_FACTORY_ADDRESS:"0x4e1DCf7AD4e460CfD30791CCC4F9c8a4f820ec67",SAFE_SINGLETON_ADDRESS:"0x41675C099F32341bf84BFc5382aF534df5C7461a",MULTI_SEND_ADDRESS:"0x38869bf66a61cF6bDB996A6aE40D5853Fd43B526",MULTI_SEND_CALL_ONLY_ADDRESS:"0x9641d764fc13c8B624c04430C7356C1C7C8102e2",WEB_AUTHN_SHARED_SIGNER_ADDRESS:"0x94a4F6affBd8975951142c3999aEAB7ecee555c2",SAFE_P256_VERIFIER_ADDRESS:"0xA86e0054C51E4894D88762a017ECc5E5235f5DBA"}},"1.5.0":{"0.7":{SAFE_MODULE_SETUP_ADDRESS:"0x2dd68b007B46fBe91B9A7c3EDa5A7a1063cB5b47",SAFE_4337_MODULE_ADDRESS:"0x75cf11467937ce3F2f357CE24ffc3DBF8fD5c226",SAFE_PROXY_FACTORY_ADDRESS:"0x14F2982D601c9458F93bd70B218933A6f8165e7b",SAFE_SINGLETON_ADDRESS:"0xFf51A5898e281Db6DfC7855790607438dF2ca44b",MULTI_SEND_ADDRESS:"0x218543288004CD07832472D464648173c77D7eB7",MULTI_SEND_CALL_ONLY_ADDRESS:"0xA83c336B20401Af773B6219BA5027174338D1836",WEB_AUTHN_SHARED_SIGNER_ADDRESS:"0x94a4F6affBd8975951142c3999aEAB7ecee555c2",SAFE_P256_VERIFIER_ADDRESS:"0xA86e0054C51E4894D88762a017ECc5E5235f5DBA"}}},sx=(e,t)=>{let n=Number.parseInt(t.slice(-2),16);if(![0,1,27,28].includes(n))throw Error("Invalid signature");return"eth_sign"===e&&(n<27&&(n+=27),n+=4),"eth_signTypedData"===e&&n<27&&(n+=27),t.slice(0,-2)+n.toString(16)},sI=e=>"string"==typeof e||e.raw?(0,eG.r)(e):(0,X.Jv)(e),sC=e=>E(["uint8","address","uint256","uint256","bytes"],[e.operation,e.to,e.value,BigInt(e.data.slice(2).length/2),e.data]).slice(2),sD=e=>{let t=`0x${e.map(e=>sC(e)).join("")}`;return(0,d.R)({abi:sp,functionName:"multiSend",args:[t]})},sT=({safe4337ModuleAddress:e,safeSingletonAddress:t,erc7579LaunchpadAddress:n,safeWebAuthnSharedSignerAddress:r,owners:a,validators:i,executors:s,fallbacks:o,hooks:c,attesters:u,threshold:l,attestersThreshold:p})=>({singleton:t,owners:a.map(e=>{if("type"in e&&"webAuthn"===e.type){if(!r)throw Error("safeWebAuthnSharedSignerAddress not defined");return r}if("address"in e&&e.address)return e.address;throw Error("Incorrect owner found")}),threshold:l,setupTo:n,setupData:(0,d.R)({abi:sf,functionName:"initSafe7579",args:[e,s.map(e=>({module:e.address,initData:e.context})),o.map(e=>({module:e.address,initData:e.context})),c.map(e=>({module:e.address,initData:e.context})),u.sort((e,t)=>e.toLowerCase().localeCompare(t.toLowerCase())),p]}),safe7579:e,validators:i}),sR=e=>"type"in e&&"webAuthn"===e.type,sO=async({owners:e,threshold:t,safeModuleSetupAddress:n,safe4337ModuleAddress:r,safeWebAuthnSharedSignerAddress:a,safeP256VerifierAddress:i,multiSendAddress:s,safeSingletonAddress:o,erc7579LaunchpadAddress:c,setupTransactions:u=[],safeModules:l=[],validators:p=[],executors:f=[],fallbacks:y=[],hooks:m=[],attesters:g=[],attestersThreshold:h=0,paymentToken:b=ep.D,payment:E=BigInt(0),paymentReceiver:A=ep.D})=>{if(c){let n=sT({safe4337ModuleAddress:r,safeSingletonAddress:o,safeWebAuthnSharedSignerAddress:a,erc7579LaunchpadAddress:c,owners:e,validators:p,executors:f,fallbacks:y,threshold:t,hooks:m,attesters:g,attestersThreshold:h}),i=(0,v.w)((0,R.E)([{internalType:"address",name:"singleton",type:"address"},{internalType:"address[]",name:"owners",type:"address[]"},{internalType:"uint256",name:"threshold",type:"uint256"},{internalType:"address",name:"setupTo",type:"address"},{internalType:"bytes",name:"setupData",type:"bytes"},{internalType:"contract ISafe7579",name:"safe7579",type:"address"},{internalType:"struct ModuleInit[]",name:"validators",type:"tuple[]",components:[{internalType:"address",name:"module",type:"address"},{internalType:"bytes",name:"initData",type:"bytes"}]}],[n.singleton,n.owners,n.threshold,n.setupTo,n.setupData,n.safe7579,n.validators.map(e=>({module:e.address,initData:e.context}))]));return(0,d.R)({abi:sy,functionName:"preValidationSetup",args:[i,ep.D,"0x"]})}let w=e.reduce((e,t)=>sR(t)?t:e,void 0),S=e.map(e=>{if(sR(e)){if(!a)throw Error("safeWebAuthnSharedSignerAddress not defined");return a}if("address"in e&&e.address)return e.address;throw Error("Incorrect owner found")}),x=[{to:n,data:(0,d.R)({abi:sm,functionName:"enableModules",args:[[r,...l]]}),value:BigInt(0),operation:1}];if(w&&a&&i){let{PublicKey:e}=await eC(),t=e.fromHex(w.publicKey);x.push({to:a,data:(0,d.R)({abi:sg,functionName:"configure",args:[{x:t.x,y:t.y,verifiers:BigInt(i)}]}),value:BigInt(0),operation:1})}for(let e of u)x.push({...e,operation:0});let I=sD(x);return(0,d.R)({abi:sh,functionName:"setup",args:[S,t,s,I,r,b,E,A]})},sN=async({owners:e,threshold:t,safeModuleSetupAddress:n,safe4337ModuleAddress:r,safeSingletonAddress:a,erc7579LaunchpadAddress:i,safeWebAuthnSharedSignerAddress:s,safeP256VerifierAddress:o,multiSendAddress:c,paymentToken:u,payment:l,paymentReceiver:p,saltNonce:f=BigInt(0),setupTransactions:y=[],safeModules:m=[],validators:g=[],executors:h=[],fallbacks:b=[],hooks:E=[],attesters:A=[],attestersThreshold:v=0})=>{let w=await sO({owners:e,threshold:t,safeModuleSetupAddress:n,safeWebAuthnSharedSignerAddress:s,safeP256VerifierAddress:o,safe4337ModuleAddress:r,multiSendAddress:c,setupTransactions:y,safeSingletonAddress:a,safeModules:m,erc7579LaunchpadAddress:i,validators:g,executors:h,fallbacks:b,hooks:E,attesters:A,attestersThreshold:v,paymentToken:u,payment:l,paymentReceiver:p});return(0,d.R)({abi:sb,functionName:"createProxyWithNonce",args:[i??a,w,f]})},sP=(e,t,{addModuleLibAddress:n,safeModuleSetupAddress:r,safe4337ModuleAddress:a,safeProxyFactoryAddress:i,safeSingletonAddress:s,multiSendAddress:o,multiSendCallOnlyAddress:c,safeWebAuthnSharedSignerAddress:u,safeP256VerifierAddress:l})=>{let d=sS[e][t];if(!d)throw Error(`Safe version ${e} does not support EntryPoint version ${t}`);let p=r??n??d.SAFE_MODULE_SETUP_ADDRESS,f=a??d.SAFE_4337_MODULE_ADDRESS,y=i??d.SAFE_PROXY_FACTORY_ADDRESS,m=s??d.SAFE_SINGLETON_ADDRESS,g=o??d.MULTI_SEND_ADDRESS;return{safeModuleSetupAddress:p,safe4337ModuleAddress:f,safeProxyFactoryAddress:y,safeSingletonAddress:m,multiSendAddress:g,multiSendCallOnlyAddress:c??d.MULTI_SEND_CALL_ONLY_ADDRESS,safeWebAuthnSharedSignerAddress:u??d.WEB_AUTHN_SHARED_SIGNER_ADDRESS,safeP256VerifierAddress:l??d.SAFE_P256_VERIFIER_ADDRESS}};function s_(e){return void 0!==e.erc7579LaunchpadAddress}let sB=[{inputs:[],name:"proxyCreationCode",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"pure",type:"function"}],s$=async({client:e,owners:t,threshold:n,safeModuleSetupAddress:r,safe4337ModuleAddress:a,safeProxyFactoryAddress:i,safeSingletonAddress:s,multiSendAddress:o,safeWebAuthnSharedSignerAddress:c,safeP256VerifierAddress:u,erc7579LaunchpadAddress:l,paymentToken:d,payment:p,paymentReceiver:f,setupTransactions:y=[],safeModules:m=[],saltNonce:g=BigInt(0),validators:h=[],executors:b=[],fallbacks:w=[],hooks:S=[],attesters:x=[],attestersThreshold:I=0})=>{let C=await (0,j.L)(e,{abi:sB,address:i,functionName:"proxyCreationCode"}),T=await sO({owners:t,threshold:n,safeModuleSetupAddress:r,safe4337ModuleAddress:a,safeWebAuthnSharedSignerAddress:c,safeP256VerifierAddress:u,multiSendAddress:o,setupTransactions:y,safeSingletonAddress:s,safeModules:m,erc7579LaunchpadAddress:l,validators:h,executors:b,fallbacks:w,hooks:S,attesters:x,attestersThreshold:I,paymentToken:d,payment:p,paymentReceiver:f}),R=E(["bytes","uint256"],[C,(0,A.y_)(l??s)]);return D({from:i,salt:(0,v.w)(E(["bytes32","uint256"],[(0,v.w)(E(["bytes"],[T])),g])),bytecode:R,opcode:"CREATE2"})};async function sM(e){let t,n,r,a,i;let{client:s,owners:o,address:c,threshold:u=BigInt(o.length),version:l,safe4337ModuleAddress:p,safeProxyFactoryAddress:f,safeSingletonAddress:y,erc7579LaunchpadAddress:g,saltNonce:h=BigInt(0),validUntil:b=0,validAfter:A=0,nonceKey:v,paymentToken:w,payment:I,paymentReceiver:D,onchainIdentifier:O}=e,N=await Promise.all(o.map(async e=>"account"in e?e.account:"request"in e?ea({owner:e}):e)),P=await Promise.all(o.filter(e=>!!("type"in e&&"local"===e.type||"request"in e||"account"in e||sR(e))).map(e=>sR(e)?e:ea({owner:e}))),_={address:e.entryPoint?.address??M,abi:(e.entryPoint?.version??"0.7")==="0.6"?L:k,version:e.entryPoint?.version??"0.7"},B=[],$=[],F=[],U=[],j=[],V=[],H=0;s_(e)||(n=e.safeModuleSetupAddress,r=e.multiSendAddress,a=e.multiSendCallOnlyAddress,i=e.safeModules,B=e.setupTransactions??[]),s_(e)&&($=e.validators??[],F=e.executors??[],U=e.fallbacks??[],j=e.hooks??[],V=e.attesters??[],H=e.attestersThreshold??0);let{safeModuleSetupAddress:J,safe4337ModuleAddress:Y,safeProxyFactoryAddress:K,safeSingletonAddress:Z,multiSendAddress:q,multiSendCallOnlyAddress:Q,safeWebAuthnSharedSignerAddress:et,safeP256VerifierAddress:en}=sP(l,_.version,{safeModuleSetupAddress:n,safe4337ModuleAddress:p,safeProxyFactoryAddress:f,safeSingletonAddress:y,multiSendAddress:r,multiSendCallOnlyAddress:a,safeWebAuthnSharedSignerAddress:e.safeWebAuthnSharedSignerAddress,safeP256VerifierAddress:e.safeP256VerifierAddress}),er=c,ei=async()=>t||(t=s.chain?s.chain.id:await (0,G.s)(s,ef.L,"getChainId")({}));return z({client:s,entryPoint:_,getFactoryArgs:async()=>({factory:K,factoryData:await sN({owners:N,threshold:u,safeModuleSetupAddress:J,safe4337ModuleAddress:Y,safeSingletonAddress:Z,safeWebAuthnSharedSignerAddress:et,safeP256VerifierAddress:en,multiSendAddress:q,erc7579LaunchpadAddress:g,saltNonce:h,setupTransactions:B,safeModules:i,validators:$,executors:F,fallbacks:U,hooks:j,attesters:V,attestersThreshold:H,paymentToken:w,payment:I,paymentReceiver:D})}),getAddress:async()=>er||(er=await s$({client:s,owners:N,threshold:u,safeModuleSetupAddress:J,safe4337ModuleAddress:Y,safeProxyFactoryAddress:K,safeSingletonAddress:Z,safeWebAuthnSharedSignerAddress:et,safeP256VerifierAddress:en,multiSendAddress:q,erc7579LaunchpadAddress:g,saltNonce:h,setupTransactions:B,safeModules:i,validators:$,executors:F,fallbacks:U,hooks:j,attesters:V,attestersThreshold:H,paymentToken:w,payment:I,paymentReceiver:D})),async encodeCalls(e){let t,n,r;let a=e.length>1;if(g){if(!await sc(s,await this.getAddress())){let t=sT({safe4337ModuleAddress:Y,safeSingletonAddress:Z,erc7579LaunchpadAddress:g,safeWebAuthnSharedSignerAddress:et,owners:N,threshold:u,validators:$,executors:F,fallbacks:U,hooks:j,attesters:V,attestersThreshold:H});return(0,d.R)({abi:sE,functionName:"setupSafe",args:[{...t,validators:t.validators.map(e=>({module:e.address,initData:e.context})),callData:ev({mode:{type:a?"batchcall":"call",revertOnError:!1,selector:"0x",context:"0x"},callData:e})}]})}return ev({mode:{type:a?"batchcall":"call",revertOnError:!1,selector:"0x",context:"0x"},callData:e})}let i=0;if(a)t=Q,n=BigInt(0),r=sD(e.map(e=>({to:e.to,value:e.value??0n,data:e.data??"0x",operation:0}))),i=1;else{let a=0===e.length?void 0:e[0];if(!a)throw Error("No calls to encode");t=a.to,r=a.data??"0x",n=a.value??0n}let o=(0,d.R)({abi:sA,functionName:"executeUserOpWithErrorString",args:[t,n,r,i]});return O?(0,m.zo)([o,O]):o},async decodeCalls(e){try{let t=(0,T.p)({abi:sE,data:e});return e$(t.args[0].callData).callData}catch{}try{return e$(e).callData}catch{}let t=(0,T.p)({abi:sA,data:e}),n=t.args[0],r=t.args[1],a=t.args[2];if(n===Q){let e=(0,T.p)({abi:sp,data:a}).args[0],t=[],n=0,r=(0,W.d)(e);for(;n<r;){n+=1;let r=(0,C.K)((0,S.tP)(e,n,n+20));n+=20;let a=BigInt((0,S.tP)(e,n,n+32));n+=32;let i=Number(BigInt((0,S.tP)(e,n,n+32))*BigInt(2));n+=32;let s=(0,S.tP)(e,n,n+i);n+=i,t.push({to:r,value:a,data:s})}return t}return[{to:n,value:r,data:a}]},async getNonce(e){return ee(s,{address:await this.getAddress(),entryPointAddress:_.address,key:v??e?.key})},getStubSignature:async()=>E(["uint48","uint48","bytes"],[0,0,su(N.map(e=>{let t=et,n=!0,r="0xfffffffffffffffffffffffffffffff0000000000000000000000000000000007aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa1c";if(sR(e)?r=(0,R.E)([{name:"authenticatorData",type:"bytes"},{name:"clientDataJSON",type:"string"},{name:"signature",type:"uint256[2]"}],["0x49960de5880e8c687434170f6476605b8fe4aeb9a28632c7995cf3ba831d97631d00000000",'"origin":"http://somelargdomainheresothatwehaveenoughbytes.com","crossOrigin":false',[0x635bc6d0f68ff895cae8a288ecf7542a6a9cd555df784b73e1e2ea7e9104b1dbn,0x15e9015d280cb19527881c625fee43fd3a405d5b0d199a8c8e6589a7381209e4n]]):(t=e.address,n=!1),!t)throw Error("No signer found");return{signer:t,data:r,dynamic:n}}))]),async sign({hash:e}){return this.signMessage({message:e})},async signMessage({message:e}){if(P.length<Number(u))throw Error("Owners length mismatch, currently not supported");if(g&&"1.5.0"===l)throw Error("Safe 7579 & version 1.5.0 are not compatible");let t=(0,X.Jv)({domain:{chainId:await ei(),verifyingContract:await this.getAddress()},types:{SafeMessage:[{name:"message",type:"bytes"}]},primaryType:"SafeMessage",message:{message:sI(e)}}),n=su(await Promise.all(P.map(async e=>{let n,r=et,a=!0;if(sR(e)?n=await sl({owner:e,hash:t}):(r=e.address,n=sx("eth_sign",await e.signMessage({message:{raw:(0,x.O0)(t)}})),a=!1),!r)throw Error("no signer found");return{signer:r,dynamic:a,data:n}})));return g?(0,m.zo)([ep.D,n]):n},async signTypedData(e){if(P.length<Number(u))throw Error("Owners length mismatch, currently not supported");if(g&&"1.5.0"===l)throw Error("Safe 7579 & version 1.5.0 are not compatible");let t=su(await Promise.all(P.map(async t=>{let n,r=et,a=!0;if(sR(t)){let r=(0,X.Jv)({domain:{chainId:await ei(),verifyingContract:await this.getAddress()},types:{SafeMessage:[{name:"message",type:"bytes"}]},primaryType:"SafeMessage",message:{message:sI(e)}});n=await sl({owner:t,hash:r})}else r=t.address,n=sx("eth_signTypedData",await t.signTypedData({domain:{chainId:await ei(),verifyingContract:await this.getAddress()},types:{SafeMessage:[{name:"message",type:"bytes"}]},primaryType:"SafeMessage",message:{message:sI(e)}})),a=!1;if(!r)throw Error("no signer found");return{signer:r,dynamic:a,data:n}})));return g?(0,m.zo)([ep.D,t]):t},async signUserOperation(e){let t;let{chainId:n=await ei(),...r}=e;if(P.length<Number(u))throw Error("Owners length mismatch use SafeSmartAccount.signUserOperation from `permissionless/accounts/safe`");for(let e of P)t=await sd({...r,version:l,entryPoint:_,owners:P,account:e,chainId:n,signatures:t,validAfter:A,validUntil:b,safe4337ModuleAddress:Y,safeWebAuthnSharedSignerAddress:et});if(!t)throw Error("No signatures found");return t}})}class sL{constructor(e){(0,l.Z)(this,"name",el.FN.SAFE),(0,l.Z)(this,"options",void 0),this.options=e}async getSmartAccount(e){var t,n,r;return sM((0,u.Z)((0,u.Z)((0,u.Z)({},this.options||{}),{},{entryPoint:{address:(null===(t=this.options)||void 0===t||null===(t=t.entryPoint)||void 0===t?void 0:t.address)||M,version:(null===(n=this.options)||void 0===n||null===(n=n.entryPoint)||void 0===n?void 0:n.version)||"0.7"},version:(null===(r=this.options)||void 0===r?void 0:r.version)||"1.4.1"},e),{},{owners:[e.walletClient],client:e.client}))}}let sk=async e=>{try{let t=(0,T.p)({abi:[{inputs:[{internalType:"address[]",name:"dest",type:"address[]"},{internalType:"uint256[]",name:"value",type:"uint256[]"},{internalType:"bytes[]",name:"func",type:"bytes[]"}],name:"executeBatch",outputs:[],stateMutability:"nonpayable",type:"function"}],data:e}),n=[];for(let e=0;e<t.args[0].length;e++)n.push({to:t.args[0][e],value:t.args[1][e],data:t.args[2][e]});return n}catch{}let t=(0,T.p)({abi:[{inputs:[{internalType:"address",name:"dest",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"func",type:"bytes"}],name:"execute",outputs:[],stateMutability:"nonpayable",type:"function"}],data:e});return[{to:t.args[0],value:t.args[1],data:t.args[2]}]},sF=async e=>{if(e.length>1)return(0,d.R)({abi:[{inputs:[{internalType:"address[]",name:"dest",type:"address[]"},{internalType:"uint256[]",name:"value",type:"uint256[]"},{internalType:"bytes[]",name:"func",type:"bytes[]"}],name:"executeBatch",outputs:[],stateMutability:"nonpayable",type:"function"}],functionName:"executeBatch",args:[e.map(e=>e.to),e.map(e=>e.value??0n),e.map(e=>e.data??"0x")]});let t=0===e.length?void 0:e[0];if(!t)throw Error("No calls to encode");return(0,d.R)({abi:[{inputs:[{internalType:"address",name:"dest",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"func",type:"bytes"}],name:"execute",outputs:[],stateMutability:"nonpayable",type:"function"}],functionName:"execute",args:[t.to,t.value??0n,t.data??"0x"]})},sU=async({bytes:e,index:t,secp256k1VerificationFacetAddress:n})=>(0,d.R)({abi:[{inputs:[{internalType:"address",name:"_verificationFacet",type:"address"},{internalType:"bytes",name:"_owner",type:"bytes"},{internalType:"uint256",name:"_salt",type:"uint256"}],name:"createAccount",outputs:[{internalType:"contract Barz",name:"barz",type:"address"}],stateMutability:"nonpayable",type:"function"}],functionName:"createAccount",args:[n,e,t]});async function sj(e,t,n,r){return e.signTypedData({domain:{chainId:Number(t),name:"Barz",verifyingContract:n,version:"v0.2.0"},types:{BarzMessage:[{name:"message",type:"bytes"}]},message:{message:r},primaryType:"BarzMessage"})}async function sG(e){let t;let{owner:n,client:r,index:a=0n,address:i,factoryAddress:s="0x729c310186a57833f622630a16d13f710b83272a",secp256k1VerificationFacetAddress:o="0x81b9E3689390C7e74cF526594A105Dea21a8cdD5"}=e,c=await ea({owner:n}),u=i,l={address:e.entryPoint?.address??$,abi:L,version:e.entryPoint?.version??"0.6"},d=async()=>t||(t=r.chain?r.chain.id:await (0,G.s)(r,ef.L,"getChainId")({})),p=async()=>({factory:s,factoryData:await sU({bytes:c.address,secp256k1VerificationFacetAddress:o,index:a})});return z({client:r,entryPoint:l,getFactoryArgs:p,async getAddress(){if(u)return u;let{factory:e,factoryData:t}=await p();return u=await eE(r,{factory:e,factoryData:t,entryPointAddress:l.address})},encodeCalls:async e=>sF(e),decodeCalls:async e=>sk(e),async getNonce(t){return ee(r,{address:await this.getAddress(),entryPointAddress:l.address,key:e?.nonceKey??t?.key})},getStubSignature:async()=>"0xfffffffffffffffffffffffffffffff0000000000000000000000000000000007aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa1c",async sign({hash:e}){return this.signMessage({message:e})},async signMessage({message:e}){return sj(c,await d(),await this.getAddress(),(0,eG.r)(e))},async signTypedData(e){return sj(c,await d(),await this.getAddress(),(0,X.Jv)(e))},async signUserOperation(e){let{chainId:t=await d(),...n}=e;return(0,Q.l)(r,{account:c,message:{raw:q({userOperation:{...n,sender:n.sender??await this.getAddress(),signature:"0x"},entryPointAddress:l.address,entryPointVersion:l.version,chainId:t})}})}})}class sV{constructor(e){(0,l.Z)(this,"name",el.FN.TRUST),(0,l.Z)(this,"options",void 0),this.options=e}async getSmartAccount(e){var t,n;return sG((0,u.Z)((0,u.Z)((0,u.Z)({},this.options||{}),{},{entryPoint:{address:(null===(t=this.options)||void 0===t||null===(t=t.entryPoint)||void 0===t?void 0:t.address)||$,version:(null===(n=this.options)||void 0===n||null===(n=n.entryPoint)||void 0===n?void 0:n.version)||"0.6"}},e),{},{owner:e.walletClient,client:e.client}))}}},76346:function(e,t,n){let{ErrorWithCause:r}=n(54170),{findCauseByReference:a,getErrorCause:i,messageWithCauses:s,stackWithCauses:o}=n(91430);e.exports={ErrorWithCause:r,findCauseByReference:a,getErrorCause:i,stackWithCauses:o,messageWithCauses:s}},54170:function(e){class t extends Error{constructor(e,{cause:n}={}){super(e),this.name=t.name,n&&(this.cause=n),this.message=e}}e.exports={ErrorWithCause:t}},91430:function(e){let t=e=>{if(e&&"object"==typeof e&&"cause"in e){if("function"!=typeof e.cause)return e.cause instanceof Error?e.cause:void 0;{let t=e.cause();return t instanceof Error?t:void 0}}},n=(e,r)=>{if(!(e instanceof Error))return"";let a=e.stack||"";if(r.has(e))return a+"\ncauses have become circular...";let i=t(e);return i?(r.add(e),a+"\ncaused by: "+n(i,r)):a},r=(e,n,a)=>{if(!(e instanceof Error))return"";let i=a?"":e.message||"";if(n.has(e))return i+": ...";let s=t(e);if(!s)return i;{n.add(e);let t="cause"in e&&"function"==typeof e.cause;return i+(t?"":": ")+r(s,n,t)}};e.exports={findCauseByReference:(e,n)=>{if(!e||!n||!(e instanceof Error)||!(n.prototype instanceof Error)&&n!==Error)return;let r=new Set,a=e;for(;a&&!r.has(a);){if(r.add(a),a instanceof n)return a;a=t(a)}},getErrorCause:t,stackWithCauses:e=>n(e,new Set),messageWithCauses:e=>r(e,new Set)}},98365:function(e,t,n){let r=Symbol("SemVer ANY");class a{static get ANY(){return r}constructor(e,t){if(t=i(t),e instanceof a){if(!!t.loose===e.loose)return e;e=e.value}u("comparator",e=e.trim().split(/\s+/).join(" "),t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===r?this.value="":this.value=this.operator+this.semver.version,u("comp",this)}parse(e){let t=this.options.loose?s[o.COMPARATORLOOSE]:s[o.COMPARATOR],n=e.match(t);if(!n)throw TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new l(n[2],this.options.loose):this.semver=r}toString(){return this.value}test(e){if(u("Comparator.test",e,this.options.loose),this.semver===r||e===r)return!0;if("string"==typeof e)try{e=new l(e,this.options)}catch(e){return!1}return c(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof a))throw TypeError("a Comparator is required");return""===this.operator?""===this.value||new d(e.value,t).test(this.value):""===e.operator?""===e.value||new d(this.value,t).test(e.semver):!((t=i(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0")))&&!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||c(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||c(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">"))}}e.exports=a;let i=n(56573),{safeRe:s,t:o}=n(61834),c=n(74526),u=n(37481),l=n(61269),d=n(96308)},96308:function(e,t,n){let r=/\s+/g;class a{constructor(e,t){if(t=s(t),e instanceof a){if(!!t.loose===e.loose&&!!t.includePrerelease===e.includePrerelease)return e;return new a(e.raw,t)}if(e instanceof o)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(r," "),this.set=this.raw.split("||").map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let e=this.set[0];if(this.set=this.set.filter(e=>!h(e[0])),0===this.set.length)this.set=[e];else if(this.set.length>1){for(let e of this.set)if(1===e.length&&b(e[0])){this.set=[e];break}}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let t=this.set[e];for(let e=0;e<t.length;e++)e>0&&(this.formatted+=" "),this.formatted+=t[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let t=((this.options.includePrerelease&&m)|(this.options.loose&&g))+":"+e,n=i.get(t);if(n)return n;let r=this.options.loose,a=r?l[d.HYPHENRANGELOOSE]:l[d.HYPHENRANGE];c("hyphen replace",e=e.replace(a,O(this.options.includePrerelease))),c("comparator trim",e=e.replace(l[d.COMPARATORTRIM],p)),c("tilde trim",e=e.replace(l[d.TILDETRIM],f)),c("caret trim",e=e.replace(l[d.CARETTRIM],y));let s=e.split(" ").map(e=>A(e,this.options)).join(" ").split(/\s+/).map(e=>R(e,this.options));r&&(s=s.filter(e=>(c("loose invalid filter",e,this.options),!!e.match(l[d.COMPARATORLOOSE])))),c("range list",s);let u=new Map;for(let e of s.map(e=>new o(e,this.options))){if(h(e))return[e];u.set(e.value,e)}u.size>1&&u.has("")&&u.delete("");let b=[...u.values()];return i.set(t,b),b}intersects(e,t){if(!(e instanceof a))throw TypeError("a Range is required");return this.set.some(n=>E(n,t)&&e.set.some(e=>E(e,t)&&n.every(n=>e.every(e=>n.intersects(e,t)))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(N(this.set[t],e,this.options))return!0;return!1}}e.exports=a;let i=new(n(88911)),s=n(56573),o=n(98365),c=n(37481),u=n(61269),{safeRe:l,t:d,comparatorTrimReplace:p,tildeTrimReplace:f,caretTrimReplace:y}=n(61834),{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:g}=n(52310),h=e=>"<0.0.0-0"===e.value,b=e=>""===e.value,E=(e,t)=>{let n=!0,r=e.slice(),a=r.pop();for(;n&&r.length;)n=r.every(e=>a.intersects(e,t)),a=r.pop();return n},A=(e,t)=>(c("comp",e=e.replace(l[d.BUILD],""),t),c("caret",e=x(e,t)),c("tildes",e=w(e,t)),c("xrange",e=C(e,t)),c("stars",e=T(e,t)),e),v=e=>!e||"x"===e.toLowerCase()||"*"===e,w=(e,t)=>e.trim().split(/\s+/).map(e=>S(e,t)).join(" "),S=(e,t)=>{let n=t.loose?l[d.TILDELOOSE]:l[d.TILDE];return e.replace(n,(t,n,r,a,i)=>{let s;return c("tilde",e,t,n,r,a,i),v(n)?s="":v(r)?s=`>=${n}.0.0 <${+n+1}.0.0-0`:v(a)?s=`>=${n}.${r}.0 <${n}.${+r+1}.0-0`:i?(c("replaceTilde pr",i),s=`>=${n}.${r}.${a}-${i} <${n}.${+r+1}.0-0`):s=`>=${n}.${r}.${a} <${n}.${+r+1}.0-0`,c("tilde return",s),s})},x=(e,t)=>e.trim().split(/\s+/).map(e=>I(e,t)).join(" "),I=(e,t)=>{c("caret",e,t);let n=t.loose?l[d.CARETLOOSE]:l[d.CARET],r=t.includePrerelease?"-0":"";return e.replace(n,(t,n,a,i,s)=>{let o;return c("caret",e,t,n,a,i,s),v(n)?o="":v(a)?o=`>=${n}.0.0${r} <${+n+1}.0.0-0`:v(i)?o="0"===n?`>=${n}.${a}.0${r} <${n}.${+a+1}.0-0`:`>=${n}.${a}.0${r} <${+n+1}.0.0-0`:s?(c("replaceCaret pr",s),o="0"===n?"0"===a?`>=${n}.${a}.${i}-${s} <${n}.${a}.${+i+1}-0`:`>=${n}.${a}.${i}-${s} <${n}.${+a+1}.0-0`:`>=${n}.${a}.${i}-${s} <${+n+1}.0.0-0`):(c("no pr"),o="0"===n?"0"===a?`>=${n}.${a}.${i}${r} <${n}.${a}.${+i+1}-0`:`>=${n}.${a}.${i}${r} <${n}.${+a+1}.0-0`:`>=${n}.${a}.${i} <${+n+1}.0.0-0`),c("caret return",o),o})},C=(e,t)=>(c("replaceXRanges",e,t),e.split(/\s+/).map(e=>D(e,t)).join(" ")),D=(e,t)=>{e=e.trim();let n=t.loose?l[d.XRANGELOOSE]:l[d.XRANGE];return e.replace(n,(n,r,a,i,s,o)=>{c("xRange",e,n,r,a,i,s,o);let u=v(a),l=u||v(i),d=l||v(s);return"="===r&&d&&(r=""),o=t.includePrerelease?"-0":"",u?n=">"===r||"<"===r?"<0.0.0-0":"*":r&&d?(l&&(i=0),s=0,">"===r?(r=">=",l?(a=+a+1,i=0):i=+i+1,s=0):"<="===r&&(r="<",l?a=+a+1:i=+i+1),"<"===r&&(o="-0"),n=`${r+a}.${i}.${s}${o}`):l?n=`>=${a}.0.0${o} <${+a+1}.0.0-0`:d&&(n=`>=${a}.${i}.0${o} <${a}.${+i+1}.0-0`),c("xRange return",n),n})},T=(e,t)=>(c("replaceStars",e,t),e.trim().replace(l[d.STAR],"")),R=(e,t)=>(c("replaceGTE0",e,t),e.trim().replace(l[t.includePrerelease?d.GTE0PRE:d.GTE0],"")),O=e=>(t,n,r,a,i,s,o,c,u,l,d,p)=>(n=v(r)?"":v(a)?`>=${r}.0.0${e?"-0":""}`:v(i)?`>=${r}.${a}.0${e?"-0":""}`:s?`>=${n}`:`>=${n}${e?"-0":""}`,c=v(u)?"":v(l)?`<${+u+1}.0.0-0`:v(d)?`<${u}.${+l+1}.0-0`:p?`<=${u}.${l}.${d}-${p}`:e?`<${u}.${l}.${+d+1}-0`:`<=${c}`,`${n} ${c}`.trim()),N=(e,t,n)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(let n=0;n<e.length;n++)if(c(e[n].semver),e[n].semver!==o.ANY&&e[n].semver.prerelease.length>0){let r=e[n].semver;if(r.major===t.major&&r.minor===t.minor&&r.patch===t.patch)return!0}return!1}return!0}},61269:function(e,t,n){let r=n(37481),{MAX_LENGTH:a,MAX_SAFE_INTEGER:i}=n(52310),{safeRe:s,t:o}=n(61834),c=n(56573),{compareIdentifiers:u}=n(13751);class l{constructor(e,t){if(t=c(t),e instanceof l){if(!!t.loose===e.loose&&!!t.includePrerelease===e.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>a)throw TypeError(`version is longer than ${a} characters`);r("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let n=e.trim().match(t.loose?s[o.LOOSE]:s[o.FULL]);if(!n)throw TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>i||this.major<0)throw TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){let t=+e;if(t>=0&&t<i)return t}return e}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(r("SemVer.compare",this.version,this.options,e),!(e instanceof l)){if("string"==typeof e&&e===this.version)return 0;e=new l(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return(e instanceof l||(e=new l(e,this.options)),this.major<e.major)?-1:this.major>e.major?1:this.minor<e.minor?-1:this.minor>e.minor?1:this.patch<e.patch?-1:this.patch>e.patch?1:0}comparePre(e){if(e instanceof l||(e=new l(e,this.options)),this.prerelease.length&&!e.prerelease.length)return -1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let n=this.prerelease[t],a=e.prerelease[t];if(r("prerelease compare",t,n,a),void 0===n&&void 0===a)return 0;if(void 0===a)return 1;if(void 0===n)return -1;if(n===a)continue;else return u(n,a)}while(++t)}compareBuild(e){e instanceof l||(e=new l(e,this.options));let t=0;do{let n=this.build[t],a=e.build[t];if(r("build compare",t,n,a),void 0===n&&void 0===a)return 0;if(void 0===a)return 1;if(void 0===n)return -1;if(n===a)continue;else return u(n,a)}while(++t)}inc(e,t,n){if(e.startsWith("pre")){if(!t&&!1===n)throw Error("invalid increment argument: identifier is empty");if(t){let e=`-${t}`.match(this.options.loose?s[o.PRERELEASELOOSE]:s[o.PRERELEASE]);if(!e||e[1]!==t)throw Error(`invalid identifier: ${t}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"release":if(0===this.prerelease.length)throw Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{let e=Number(n)?1:0;if(0===this.prerelease.length)this.prerelease=[e];else{let r=this.prerelease.length;for(;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);if(-1===r){if(t===this.prerelease.join(".")&&!1===n)throw Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let r=[t,e];!1===n&&(r=[t]),0===u(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=r):this.prerelease=r}break}default:throw Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=l},74423:function(e,t,n){let r=n(86472);e.exports=(e,t)=>{let n=r(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null}},74526:function(e,t,n){let r=n(84429),a=n(54084),i=n(91877),s=n(54159),o=n(1749),c=n(74063);e.exports=(e,t,n,u)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return r(e,n,u);case"!=":return a(e,n,u);case">":return i(e,n,u);case">=":return s(e,n,u);case"<":return o(e,n,u);case"<=":return c(e,n,u);default:throw TypeError(`Invalid operator: ${t}`)}}},6028:function(e,t,n){let r=n(61269),a=n(86472),{safeRe:i,t:s}=n(61834);e.exports=(e,t)=>{if(e instanceof r)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let n=null;if((t=t||{}).rtl){let r;let a=t.includePrerelease?i[s.COERCERTLFULL]:i[s.COERCERTL];for(;(r=a.exec(e))&&(!n||n.index+n[0].length!==e.length);)n&&r.index+r[0].length===n.index+n[0].length||(n=r),a.lastIndex=r.index+r[1].length+r[2].length;a.lastIndex=-1}else n=e.match(t.includePrerelease?i[s.COERCEFULL]:i[s.COERCE]);if(null===n)return null;let o=n[2],c=n[3]||"0",u=n[4]||"0",l=t.includePrerelease&&n[5]?`-${n[5]}`:"",d=t.includePrerelease&&n[6]?`+${n[6]}`:"";return a(`${o}.${c}.${u}${l}${d}`,t)}},47239:function(e,t,n){let r=n(61269);e.exports=(e,t,n)=>{let a=new r(e,n),i=new r(t,n);return a.compare(i)||a.compareBuild(i)}},78754:function(e,t,n){let r=n(75625);e.exports=(e,t)=>r(e,t,!0)},75625:function(e,t,n){let r=n(61269);e.exports=(e,t,n)=>new r(e,n).compare(new r(t,n))},42921:function(e,t,n){let r=n(86472);e.exports=(e,t)=>{let n=r(e,null,!0),a=r(t,null,!0),i=n.compare(a);if(0===i)return null;let s=i>0,o=s?n:a,c=s?a:n,u=!!o.prerelease.length;if(c.prerelease.length&&!u){if(!c.patch&&!c.minor)return"major";if(0===c.compareMain(o))return c.minor&&!c.patch?"minor":"patch"}let l=u?"pre":"";return n.major!==a.major?l+"major":n.minor!==a.minor?l+"minor":n.patch!==a.patch?l+"patch":"prerelease"}},84429:function(e,t,n){let r=n(75625);e.exports=(e,t,n)=>0===r(e,t,n)},91877:function(e,t,n){let r=n(75625);e.exports=(e,t,n)=>r(e,t,n)>0},54159:function(e,t,n){let r=n(75625);e.exports=(e,t,n)=>r(e,t,n)>=0},60827:function(e,t,n){let r=n(61269);e.exports=(e,t,n,a,i)=>{"string"==typeof n&&(i=a,a=n,n=void 0);try{return new r(e instanceof r?e.version:e,n).inc(t,a,i).version}catch(e){return null}}},1749:function(e,t,n){let r=n(75625);e.exports=(e,t,n)=>0>r(e,t,n)},74063:function(e,t,n){let r=n(75625);e.exports=(e,t,n)=>0>=r(e,t,n)},87176:function(e,t,n){let r=n(61269);e.exports=(e,t)=>new r(e,t).major},38161:function(e,t,n){let r=n(61269);e.exports=(e,t)=>new r(e,t).minor},54084:function(e,t,n){let r=n(75625);e.exports=(e,t,n)=>0!==r(e,t,n)},86472:function(e,t,n){let r=n(61269);e.exports=(e,t,n=!1)=>{if(e instanceof r)return e;try{return new r(e,t)}catch(e){if(!n)return null;throw e}}},35516:function(e,t,n){let r=n(61269);e.exports=(e,t)=>new r(e,t).patch},95936:function(e,t,n){let r=n(86472);e.exports=(e,t)=>{let n=r(e,t);return n&&n.prerelease.length?n.prerelease:null}},723:function(e,t,n){let r=n(75625);e.exports=(e,t,n)=>r(t,e,n)},27415:function(e,t,n){let r=n(47239);e.exports=(e,t)=>e.sort((e,n)=>r(n,e,t))},60875:function(e,t,n){let r=n(96308);e.exports=(e,t,n)=>{try{t=new r(t,n)}catch(e){return!1}return t.test(e)}},63535:function(e,t,n){let r=n(47239);e.exports=(e,t)=>e.sort((e,n)=>r(e,n,t))},24121:function(e,t,n){let r=n(86472);e.exports=(e,t)=>{let n=r(e,t);return n?n.version:null}},67374:function(e,t,n){let r=n(61834),a=n(52310),i=n(61269),s=n(13751),o=n(86472),c=n(24121),u=n(74423),l=n(60827),d=n(42921),p=n(87176),f=n(38161),y=n(35516),m=n(95936),g=n(75625),h=n(723),b=n(78754),E=n(47239),A=n(63535),v=n(27415),w=n(91877),S=n(1749),x=n(84429),I=n(54084),C=n(54159),D=n(74063),T=n(74526),R=n(6028),O=n(98365),N=n(96308),P=n(60875),_=n(72705),B=n(96018),$=n(75899),M=n(36977),L=n(93274),k=n(55040),F=n(96953),U=n(18123),j=n(61679),G=n(72298),V=n(67411);e.exports={parse:o,valid:c,clean:u,inc:l,diff:d,major:p,minor:f,patch:y,prerelease:m,compare:g,rcompare:h,compareLoose:b,compareBuild:E,sort:A,rsort:v,gt:w,lt:S,eq:x,neq:I,gte:C,lte:D,cmp:T,coerce:R,Comparator:O,Range:N,satisfies:P,toComparators:_,maxSatisfying:B,minSatisfying:$,minVersion:M,validRange:L,outside:k,gtr:F,ltr:U,intersects:j,simplifyRange:G,subset:V,SemVer:i,re:r.re,src:r.src,tokens:r.t,SEMVER_SPEC_VERSION:a.SEMVER_SPEC_VERSION,RELEASE_TYPES:a.RELEASE_TYPES,compareIdentifiers:s.compareIdentifiers,rcompareIdentifiers:s.rcompareIdentifiers}},52310:function(e){let t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},37481:function(e,t,n){var r=n(25566);let a="object"==typeof r&&r.env&&r.env.NODE_DEBUG&&/\bsemver\b/i.test(r.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=a},13751:function(e){let t=/^[0-9]+$/,n=(e,n)=>{if("number"==typeof e&&"number"==typeof n)return e===n?0:e<n?-1:1;let r=t.test(e),a=t.test(n);return r&&a&&(e=+e,n=+n),e===n?0:r&&!a?-1:a&&!r?1:e<n?-1:1};e.exports={compareIdentifiers:n,rcompareIdentifiers:(e,t)=>n(t,e)}},88911:function(e){class t{constructor(){this.max=1e3,this.map=new Map}get(e){let t=this.map.get(e);if(void 0!==t)return this.map.delete(e),this.map.set(e,t),t}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){let e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}e.exports=t},56573:function(e){let t=Object.freeze({loose:!0}),n=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:n},61834:function(e,t,n){let{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:a,MAX_LENGTH:i}=n(52310),s=n(37481),o=(t=e.exports={}).re=[],c=t.safeRe=[],u=t.src=[],l=t.safeSrc=[],d=t.t={},p=0,f="[a-zA-Z0-9-]",y=[["\\s",1],["\\d",i],[f,a]],m=e=>{for(let[t,n]of y)e=e.split(`${t}*`).join(`${t}{0,${n}}`).split(`${t}+`).join(`${t}{1,${n}}`);return e},g=(e,t,n)=>{let r=m(t),a=p++;s(e,a,t),d[e]=a,u[a]=t,l[a]=r,o[a]=new RegExp(t,n?"g":void 0),c[a]=new RegExp(r,n?"g":void 0)};g("NUMERICIDENTIFIER","0|[1-9]\\d*"),g("NUMERICIDENTIFIERLOOSE","\\d+"),g("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),g("MAINVERSION",`(${u[d.NUMERICIDENTIFIER]})\\.(${u[d.NUMERICIDENTIFIER]})\\.(${u[d.NUMERICIDENTIFIER]})`),g("MAINVERSIONLOOSE",`(${u[d.NUMERICIDENTIFIERLOOSE]})\\.(${u[d.NUMERICIDENTIFIERLOOSE]})\\.(${u[d.NUMERICIDENTIFIERLOOSE]})`),g("PRERELEASEIDENTIFIER",`(?:${u[d.NONNUMERICIDENTIFIER]}|${u[d.NUMERICIDENTIFIER]})`),g("PRERELEASEIDENTIFIERLOOSE",`(?:${u[d.NONNUMERICIDENTIFIER]}|${u[d.NUMERICIDENTIFIERLOOSE]})`),g("PRERELEASE",`(?:-(${u[d.PRERELEASEIDENTIFIER]}(?:\\.${u[d.PRERELEASEIDENTIFIER]})*))`),g("PRERELEASELOOSE",`(?:-?(${u[d.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${u[d.PRERELEASEIDENTIFIERLOOSE]})*))`),g("BUILDIDENTIFIER",`${f}+`),g("BUILD",`(?:\\+(${u[d.BUILDIDENTIFIER]}(?:\\.${u[d.BUILDIDENTIFIER]})*))`),g("FULLPLAIN",`v?${u[d.MAINVERSION]}${u[d.PRERELEASE]}?${u[d.BUILD]}?`),g("FULL",`^${u[d.FULLPLAIN]}$`),g("LOOSEPLAIN",`[v=\\s]*${u[d.MAINVERSIONLOOSE]}${u[d.PRERELEASELOOSE]}?${u[d.BUILD]}?`),g("LOOSE",`^${u[d.LOOSEPLAIN]}$`),g("GTLT","((?:<|>)?=?)"),g("XRANGEIDENTIFIERLOOSE",`${u[d.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),g("XRANGEIDENTIFIER",`${u[d.NUMERICIDENTIFIER]}|x|X|\\*`),g("XRANGEPLAIN",`[v=\\s]*(${u[d.XRANGEIDENTIFIER]})(?:\\.(${u[d.XRANGEIDENTIFIER]})(?:\\.(${u[d.XRANGEIDENTIFIER]})(?:${u[d.PRERELEASE]})?${u[d.BUILD]}?)?)?`),g("XRANGEPLAINLOOSE",`[v=\\s]*(${u[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[d.XRANGEIDENTIFIERLOOSE]})(?:${u[d.PRERELEASELOOSE]})?${u[d.BUILD]}?)?)?`),g("XRANGE",`^${u[d.GTLT]}\\s*${u[d.XRANGEPLAIN]}$`),g("XRANGELOOSE",`^${u[d.GTLT]}\\s*${u[d.XRANGEPLAINLOOSE]}$`),g("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),g("COERCE",`${u[d.COERCEPLAIN]}(?:$|[^\\d])`),g("COERCEFULL",u[d.COERCEPLAIN]+`(?:${u[d.PRERELEASE]})?`+`(?:${u[d.BUILD]})?`+"(?:$|[^\\d])"),g("COERCERTL",u[d.COERCE],!0),g("COERCERTLFULL",u[d.COERCEFULL],!0),g("LONETILDE","(?:~>?)"),g("TILDETRIM",`(\\s*)${u[d.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",g("TILDE",`^${u[d.LONETILDE]}${u[d.XRANGEPLAIN]}$`),g("TILDELOOSE",`^${u[d.LONETILDE]}${u[d.XRANGEPLAINLOOSE]}$`),g("LONECARET","(?:\\^)"),g("CARETTRIM",`(\\s*)${u[d.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",g("CARET",`^${u[d.LONECARET]}${u[d.XRANGEPLAIN]}$`),g("CARETLOOSE",`^${u[d.LONECARET]}${u[d.XRANGEPLAINLOOSE]}$`),g("COMPARATORLOOSE",`^${u[d.GTLT]}\\s*(${u[d.LOOSEPLAIN]})$|^$`),g("COMPARATOR",`^${u[d.GTLT]}\\s*(${u[d.FULLPLAIN]})$|^$`),g("COMPARATORTRIM",`(\\s*)${u[d.GTLT]}\\s*(${u[d.LOOSEPLAIN]}|${u[d.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",g("HYPHENRANGE",`^\\s*(${u[d.XRANGEPLAIN]})\\s+-\\s+(${u[d.XRANGEPLAIN]})\\s*$`),g("HYPHENRANGELOOSE",`^\\s*(${u[d.XRANGEPLAINLOOSE]})\\s+-\\s+(${u[d.XRANGEPLAINLOOSE]})\\s*$`),g("STAR","(<|>)?=?\\s*\\*"),g("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),g("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},96953:function(e,t,n){let r=n(55040);e.exports=(e,t,n)=>r(e,t,">",n)},61679:function(e,t,n){let r=n(96308);e.exports=(e,t,n)=>(e=new r(e,n),t=new r(t,n),e.intersects(t,n))},18123:function(e,t,n){let r=n(55040);e.exports=(e,t,n)=>r(e,t,"<",n)},96018:function(e,t,n){let r=n(61269),a=n(96308);e.exports=(e,t,n)=>{let i=null,s=null,o=null;try{o=new a(t,n)}catch(e){return null}return e.forEach(e=>{o.test(e)&&(!i||-1===s.compare(e))&&(s=new r(i=e,n))}),i}},75899:function(e,t,n){let r=n(61269),a=n(96308);e.exports=(e,t,n)=>{let i=null,s=null,o=null;try{o=new a(t,n)}catch(e){return null}return e.forEach(e=>{o.test(e)&&(!i||1===s.compare(e))&&(s=new r(i=e,n))}),i}},36977:function(e,t,n){let r=n(61269),a=n(96308),i=n(91877);e.exports=(e,t)=>{e=new a(e,t);let n=new r("0.0.0");if(e.test(n)||(n=new r("0.0.0-0"),e.test(n)))return n;n=null;for(let t=0;t<e.set.length;++t){let a=e.set[t],s=null;a.forEach(e=>{let t=new r(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":(!s||i(t,s))&&(s=t);break;case"<":case"<=":break;default:throw Error(`Unexpected operation: ${e.operator}`)}}),s&&(!n||i(n,s))&&(n=s)}return n&&e.test(n)?n:null}},55040:function(e,t,n){let r=n(61269),a=n(98365),{ANY:i}=a,s=n(96308),o=n(60875),c=n(91877),u=n(1749),l=n(74063),d=n(54159);e.exports=(e,t,n,p)=>{let f,y,m,g,h;switch(e=new r(e,p),t=new s(t,p),n){case">":f=c,y=l,m=u,g=">",h=">=";break;case"<":f=u,y=d,m=c,g="<",h="<=";break;default:throw TypeError('Must provide a hilo val of "<" or ">"')}if(o(e,t,p))return!1;for(let n=0;n<t.set.length;++n){let r=t.set[n],s=null,o=null;if(r.forEach(e=>{e.semver===i&&(e=new a(">=0.0.0")),s=s||e,o=o||e,f(e.semver,s.semver,p)?s=e:m(e.semver,o.semver,p)&&(o=e)}),s.operator===g||s.operator===h||(!o.operator||o.operator===g)&&y(e,o.semver)||o.operator===h&&m(e,o.semver))return!1}return!0}},72298:function(e,t,n){let r=n(60875),a=n(75625);e.exports=(e,t,n)=>{let i=[],s=null,o=null,c=e.sort((e,t)=>a(e,t,n));for(let e of c)r(e,t,n)?(o=e,s||(s=e)):(o&&i.push([s,o]),o=null,s=null);s&&i.push([s,null]);let u=[];for(let[e,t]of i)e===t?u.push(e):t||e!==c[0]?t?e===c[0]?u.push(`<=${t}`):u.push(`${e} - ${t}`):u.push(`>=${e}`):u.push("*");let l=u.join(" || "),d="string"==typeof t.raw?t.raw:String(t);return l.length<d.length?l:t}},67411:function(e,t,n){let r=n(96308),a=n(98365),{ANY:i}=a,s=n(60875),o=n(75625),c=[new a(">=0.0.0-0")],u=[new a(">=0.0.0")],l=(e,t,n)=>{let r,a,l,f,y,m,g;if(e===t)return!0;if(1===e.length&&e[0].semver===i){if(1===t.length&&t[0].semver===i)return!0;e=n.includePrerelease?c:u}if(1===t.length&&t[0].semver===i){if(n.includePrerelease)return!0;t=u}let h=new Set;for(let t of e)">"===t.operator||">="===t.operator?r=d(r,t,n):"<"===t.operator||"<="===t.operator?a=p(a,t,n):h.add(t.semver);if(h.size>1||r&&a&&((l=o(r.semver,a.semver,n))>0||0===l&&(">="!==r.operator||"<="!==a.operator)))return null;for(let e of h){if(r&&!s(e,String(r),n)||a&&!s(e,String(a),n))return null;for(let r of t)if(!s(e,String(r),n))return!1;return!0}let b=!!a&&!n.includePrerelease&&!!a.semver.prerelease.length&&a.semver,E=!!r&&!n.includePrerelease&&!!r.semver.prerelease.length&&r.semver;for(let e of(b&&1===b.prerelease.length&&"<"===a.operator&&0===b.prerelease[0]&&(b=!1),t)){if(g=g||">"===e.operator||">="===e.operator,m=m||"<"===e.operator||"<="===e.operator,r){if(E&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===E.major&&e.semver.minor===E.minor&&e.semver.patch===E.patch&&(E=!1),">"===e.operator||">="===e.operator){if((f=d(r,e,n))===e&&f!==r)return!1}else if(">="===r.operator&&!s(r.semver,String(e),n))return!1}if(a){if(b&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===b.major&&e.semver.minor===b.minor&&e.semver.patch===b.patch&&(b=!1),"<"===e.operator||"<="===e.operator){if((y=p(a,e,n))===e&&y!==a)return!1}else if("<="===a.operator&&!s(a.semver,String(e),n))return!1}if(!e.operator&&(a||r)&&0!==l)return!1}return(!r||!m||!!a||0===l)&&(!a||!g||!!r||0===l)&&!E&&!b},d=(e,t,n)=>{if(!e)return t;let r=o(e.semver,t.semver,n);return r>0?e:r<0?t:">"===t.operator&&">="===e.operator?t:e},p=(e,t,n)=>{if(!e)return t;let r=o(e.semver,t.semver,n);return r<0?e:r>0?t:"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,n={})=>{if(e===t)return!0;e=new r(e,n),t=new r(t,n);let a=!1;e:for(let r of e.set){for(let e of t.set){let t=l(r,e,n);if(a=a||null!==t,t)continue e}if(a)return!1}return!0}},72705:function(e,t,n){let r=n(96308);e.exports=(e,t)=>new r(e,t).set.map(e=>e.map(e=>e.value).join(" ").trim().split(" "))},93274:function(e,t,n){let r=n(96308);e.exports=(e,t)=>{try{return new r(e,t).range||"*"}catch(e){return null}}},71794:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.assertExhaustive=t.assertStruct=t.assert=t.AssertionError=void 0;let r=n(12776),a=n(46562);function i(e,t){return"string"==typeof e?.prototype?.constructor?.name?new e({message:t}):e({message:t})}class s extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}t.AssertionError=s,t.assert=function(e,t="Assertion failed.",n=s){if(!e){if(t instanceof Error)throw t;throw i(n,t)}},t.assertStruct=function(e,t,n="Assertion failed",o=s){try{(0,r.assert)(e,t)}catch(e){throw i(o,`${n}: ${(0,a.getErrorMessage)(e).replace(/\.$/u,"")}.`)}},t.assertExhaustive=function(e){throw Error("Invalid branch reached. Should be detected during compilation.")}},34932:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.base64=void 0;let r=n(12776),a=n(71794);t.base64=(e,t={})=>{let n,i;let s=t.paddingRequired??!1,o=t.characterSet??"base64";return"base64"===o?n=String.raw`[A-Za-z0-9+\/]`:((0,a.assert)("base64url"===o),n=String.raw`[-_A-Za-z0-9]`),i=s?RegExp(`^(?:${n}{4})*(?:${n}{3}=|${n}{2}==)?$`,"u"):RegExp(`^(?:${n}{4})*(?:${n}{2,3}|${n}{3}=|${n}{2}==)?$`,"u"),(0,r.pattern)(e,i)}},15209:function(e,t,n){var r=n(82957).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.areUint8ArraysEqual=t.createDataView=t.concatBytes=t.valueToBytes=t.base64ToBytes=t.stringToBytes=t.numberToBytes=t.signedBigIntToBytes=t.bigIntToBytes=t.hexToBytes=t.bytesToBase64=t.bytesToString=t.bytesToNumber=t.bytesToSignedBigInt=t.bytesToBigInt=t.bytesToHex=t.assertIsBytes=t.isBytes=void 0;let a=n(25291),i=n(71794),s=n(84460),o=function(){let e=[];return()=>{if(0===e.length)for(let t=0;t<256;t++)e.push(t.toString(16).padStart(2,"0"));return e}}();function c(e){return e instanceof Uint8Array}function u(e){(0,i.assert)(c(e),"Value must be a Uint8Array.")}function l(e){if(u(e),0===e.length)return"0x";let t=o(),n=Array(e.length);for(let r=0;r<e.length;r++)n[r]=t[e[r]];return(0,s.add0x)(n.join(""))}function d(e){return u(e),BigInt(l(e))}function p(e){if(e?.toLowerCase?.()==="0x")return new Uint8Array;(0,s.assertIsHexString)(e);let t=(0,s.remove0x)(e).toLowerCase(),n=t.length%2==0?t:`0${t}`,r=new Uint8Array(n.length/2);for(let e=0;e<r.length;e++){let t=n.charCodeAt(2*e),a=n.charCodeAt(2*e+1),i=t-(t<58?48:87),s=a-(a<58?48:87);r[e]=16*i+s}return r}function f(e){return(0,i.assert)("bigint"==typeof e,"Value must be a bigint."),(0,i.assert)(e>=BigInt(0),"Value must be a non-negative bigint."),p(e.toString(16))}function y(e){return(0,i.assert)("number"==typeof e,"Value must be a number."),(0,i.assert)(e>=0,"Value must be a non-negative number."),(0,i.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToBytes` instead."),p(e.toString(16))}function m(e){return(0,i.assert)("string"==typeof e,"Value must be a string."),new TextEncoder().encode(e)}function g(e){if("bigint"==typeof e)return f(e);if("number"==typeof e)return y(e);if("string"==typeof e)return e.startsWith("0x")?p(e):m(e);if(c(e))return e;throw TypeError(`Unsupported value type: "${typeof e}".`)}t.isBytes=c,t.assertIsBytes=u,t.bytesToHex=l,t.bytesToBigInt=d,t.bytesToSignedBigInt=function(e){u(e);let t=BigInt(0);for(let n of e)t=(t<<BigInt(8))+BigInt(n);return BigInt.asIntN(8*e.length,t)},t.bytesToNumber=function(e){u(e);let t=d(e);return(0,i.assert)(t<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(t)},t.bytesToString=function(e){return u(e),new TextDecoder().decode(e)},t.bytesToBase64=function(e){return u(e),a.base64.encode(e)},t.hexToBytes=p,t.bigIntToBytes=f,t.signedBigIntToBytes=function(e,t){(0,i.assert)("bigint"==typeof e,"Value must be a bigint."),(0,i.assert)("number"==typeof t,"Byte length must be a number."),(0,i.assert)(t>0,"Byte length must be greater than 0."),(0,i.assert)(function(e,t){(0,i.assert)(t>0);let n=e>>BigInt(31);return!((~e&n)+(e&~n)>>BigInt(8*t+-1))}(e,t),"Byte length is too small to represent the given value.");let n=e,r=new Uint8Array(t);for(let e=0;e<r.length;e++)r[e]=Number(BigInt.asUintN(8,n)),n>>=BigInt(8);return r.reverse()},t.numberToBytes=y,t.stringToBytes=m,t.base64ToBytes=function(e){return(0,i.assert)("string"==typeof e,"Value must be a string."),a.base64.decode(e)},t.valueToBytes=g,t.concatBytes=function(e){let t=Array(e.length),n=0;for(let r=0;r<e.length;r++){let a=g(e[r]);t[r]=a,n+=a.length}let r=new Uint8Array(n);for(let e=0,n=0;e<t.length;e++)r.set(t[e],n),n+=t[e].length;return r},t.createDataView=function(e){return void 0!==r&&e instanceof r?new DataView(e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)):new DataView(e.buffer,e.byteOffset,e.byteLength)},t.areUint8ArraysEqual=function(e,t){let n=e.byteLength^t.byteLength,r=Math.max(e.byteLength,t.byteLength);for(let a=0;a<r;a++)n|=(e[a]??0)^(t[a]??0);return 0===n}},17433:function(e,t,n){var r;Object.defineProperty(t,"__esModule",{value:!0}),t.toCaipAssetId=t.toCaipAssetType=t.toCaipAccountId=t.toCaipChainId=t.parseCaipAssetId=t.parseCaipAssetType=t.parseCaipAccountId=t.parseCaipChainId=t.isCaipAssetId=t.isCaipAssetType=t.isCaipTokenId=t.isCaipAssetReference=t.isCaipAssetNamespace=t.isCaipAccountAddress=t.isCaipAccountId=t.isCaipReference=t.isCaipNamespace=t.isCaipChainId=t.KnownCaipNamespace=t.CaipAssetTypeOrIdStruct=t.CaipAssetIdStruct=t.CaipAssetTypeStruct=t.CaipTokenIdStruct=t.CaipAssetReferenceStruct=t.CaipAssetNamespaceStruct=t.CaipAccountAddressStruct=t.CaipAccountIdStruct=t.CaipReferenceStruct=t.CaipNamespaceStruct=t.CaipChainIdStruct=t.CAIP_ASSET_ID_REGEX=t.CAIP_ASSET_TYPE_REGEX=t.CAIP_TOKEN_ID_REGEX=t.CAIP_ASSET_REFERENCE_REGEX=t.CAIP_ASSET_NAMESPACE_REGEX=t.CAIP_ACCOUNT_ADDRESS_REGEX=t.CAIP_ACCOUNT_ID_REGEX=t.CAIP_REFERENCE_REGEX=t.CAIP_NAMESPACE_REGEX=t.CAIP_CHAIN_ID_REGEX=void 0;let a=n(12608);function i(e){return"string"==typeof e&&t.CAIP_NAMESPACE_REGEX.test(e)}function s(e){return"string"==typeof e&&t.CAIP_REFERENCE_REGEX.test(e)}function o(e){return"string"==typeof e&&t.CAIP_ACCOUNT_ADDRESS_REGEX.test(e)}function c(e){return"string"==typeof e&&t.CAIP_ASSET_NAMESPACE_REGEX.test(e)}function u(e){return"string"==typeof e&&t.CAIP_ASSET_REFERENCE_REGEX.test(e)}function l(e){return"string"==typeof e&&t.CAIP_TOKEN_ID_REGEX.test(e)}t.CAIP_CHAIN_ID_REGEX=/^(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})$/u,t.CAIP_NAMESPACE_REGEX=/^[-a-z0-9]{3,8}$/u,t.CAIP_REFERENCE_REGEX=/^[-_a-zA-Z0-9]{1,32}$/u,t.CAIP_ACCOUNT_ID_REGEX=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})):(?<accountAddress>[-.%a-zA-Z0-9]{1,128})$/u,t.CAIP_ACCOUNT_ADDRESS_REGEX=/^[-.%a-zA-Z0-9]{1,128}$/u,t.CAIP_ASSET_NAMESPACE_REGEX=/^[-a-z0-9]{3,8}$/u,t.CAIP_ASSET_REFERENCE_REGEX=/^[-.%a-zA-Z0-9]{1,128}$/u,t.CAIP_TOKEN_ID_REGEX=/^[-.%a-zA-Z0-9]{1,78}$/u,t.CAIP_ASSET_TYPE_REGEX=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})$/u,t.CAIP_ASSET_ID_REGEX=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})\/(?<tokenId>[-.%a-zA-Z0-9]{1,78})$/u,t.CaipChainIdStruct=(0,a.definePattern)("CaipChainId",t.CAIP_CHAIN_ID_REGEX),t.CaipNamespaceStruct=(0,a.definePattern)("CaipNamespace",t.CAIP_NAMESPACE_REGEX),t.CaipReferenceStruct=(0,a.definePattern)("CaipReference",t.CAIP_REFERENCE_REGEX),t.CaipAccountIdStruct=(0,a.definePattern)("CaipAccountId",t.CAIP_ACCOUNT_ID_REGEX),t.CaipAccountAddressStruct=(0,a.definePattern)("CaipAccountAddress",t.CAIP_ACCOUNT_ADDRESS_REGEX),t.CaipAssetNamespaceStruct=(0,a.definePattern)("CaipAssetNamespace",t.CAIP_ASSET_NAMESPACE_REGEX),t.CaipAssetReferenceStruct=(0,a.definePattern)("CaipAssetReference",t.CAIP_ASSET_REFERENCE_REGEX),t.CaipTokenIdStruct=(0,a.definePattern)("CaipTokenId",t.CAIP_TOKEN_ID_REGEX),t.CaipAssetTypeStruct=(0,a.definePattern)("CaipAssetType",t.CAIP_ASSET_TYPE_REGEX),t.CaipAssetIdStruct=(0,a.definePattern)("CaipAssetId",t.CAIP_ASSET_ID_REGEX),t.CaipAssetTypeOrIdStruct=(0,a.definePattern)("CaipAssetTypeOrId",/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})(\/(?<tokenId>[-.%a-zA-Z0-9]{1,78}))?$/u),(r=t.KnownCaipNamespace||(t.KnownCaipNamespace={})).Bip122="bip122",r.Solana="solana",r.Tron="tron",r.Eip155="eip155",r.Wallet="wallet",t.isCaipChainId=function(e){return"string"==typeof e&&t.CAIP_CHAIN_ID_REGEX.test(e)},t.isCaipNamespace=i,t.isCaipReference=s,t.isCaipAccountId=function(e){return"string"==typeof e&&t.CAIP_ACCOUNT_ID_REGEX.test(e)},t.isCaipAccountAddress=o,t.isCaipAssetNamespace=c,t.isCaipAssetReference=u,t.isCaipTokenId=l,t.isCaipAssetType=function(e){return"string"==typeof e&&t.CAIP_ASSET_TYPE_REGEX.test(e)},t.isCaipAssetId=function(e){return"string"==typeof e&&t.CAIP_ASSET_ID_REGEX.test(e)},t.parseCaipChainId=function(e){let n=t.CAIP_CHAIN_ID_REGEX.exec(e);if(!n?.groups)throw Error("Invalid CAIP chain ID.");return{namespace:n.groups.namespace,reference:n.groups.reference}},t.parseCaipAccountId=function(e){let n=t.CAIP_ACCOUNT_ID_REGEX.exec(e);if(!n?.groups)throw Error("Invalid CAIP account ID.");return{address:n.groups.accountAddress,chainId:n.groups.chainId,chain:{namespace:n.groups.namespace,reference:n.groups.reference}}},t.parseCaipAssetType=function(e){let n=t.CAIP_ASSET_TYPE_REGEX.exec(e);if(!n?.groups)throw Error("Invalid CAIP asset type.");return{assetNamespace:n.groups.assetNamespace,assetReference:n.groups.assetReference,chainId:n.groups.chainId,chain:{namespace:n.groups.namespace,reference:n.groups.reference}}},t.parseCaipAssetId=function(e){let n=t.CAIP_ASSET_ID_REGEX.exec(e);if(!n?.groups)throw Error("Invalid CAIP asset ID.");return{assetNamespace:n.groups.assetNamespace,assetReference:n.groups.assetReference,tokenId:n.groups.tokenId,chainId:n.groups.chainId,chain:{namespace:n.groups.namespace,reference:n.groups.reference}}},t.toCaipChainId=function(e,n){if(!i(e))throw Error(`Invalid "namespace", must match: ${t.CAIP_NAMESPACE_REGEX.toString()}`);if(!s(n))throw Error(`Invalid "reference", must match: ${t.CAIP_REFERENCE_REGEX.toString()}`);return`${e}:${n}`},t.toCaipAccountId=function(e,n,r){if(!i(e))throw Error(`Invalid "namespace", must match: ${t.CAIP_NAMESPACE_REGEX.toString()}`);if(!s(n))throw Error(`Invalid "reference", must match: ${t.CAIP_REFERENCE_REGEX.toString()}`);if(!o(r))throw Error(`Invalid "accountAddress", must match: ${t.CAIP_ACCOUNT_ADDRESS_REGEX.toString()}`);return`${e}:${n}:${r}`},t.toCaipAssetType=function(e,n,r,a){if(!i(e))throw Error(`Invalid "namespace", must match: ${t.CAIP_NAMESPACE_REGEX.toString()}`);if(!s(n))throw Error(`Invalid "reference", must match: ${t.CAIP_REFERENCE_REGEX.toString()}`);if(!c(r))throw Error(`Invalid "assetNamespace", must match: ${t.CAIP_ASSET_NAMESPACE_REGEX.toString()}`);if(!u(a))throw Error(`Invalid "assetReference", must match: ${t.CAIP_ASSET_REFERENCE_REGEX.toString()}`);return`${e}:${n}/${r}:${a}`},t.toCaipAssetId=function(e,n,r,a,o){if(!i(e))throw Error(`Invalid "namespace", must match: ${t.CAIP_NAMESPACE_REGEX.toString()}`);if(!s(n))throw Error(`Invalid "reference", must match: ${t.CAIP_REFERENCE_REGEX.toString()}`);if(!c(r))throw Error(`Invalid "assetNamespace", must match: ${t.CAIP_ASSET_NAMESPACE_REGEX.toString()}`);if(!u(a))throw Error(`Invalid "assetReference", must match: ${t.CAIP_ASSET_REFERENCE_REGEX.toString()}`);if(!l(o))throw Error(`Invalid "tokenId", must match: ${t.CAIP_TOKEN_ID_REGEX.toString()}`);return`${e}:${n}/${r}:${a}/${o}`}},26819:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ChecksumStruct=void 0;let r=n(12776),a=n(34932);t.ChecksumStruct=(0,r.size)((0,a.base64)((0,r.string)(),{paddingRequired:!0}),44,44)},46262:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.createHex=t.createBytes=t.createBigInt=t.createNumber=void 0;let r=n(12776),a=n(71794),i=n(15209),s=n(84460),o=(0,r.union)([(0,r.number)(),(0,r.bigint)(),(0,r.string)(),s.StrictHexStruct]),c=(0,r.coerce)((0,r.number)(),o,Number),u=(0,r.coerce)((0,r.bigint)(),o,BigInt);(0,r.union)([s.StrictHexStruct,(0,r.instance)(Uint8Array)]);let l=(0,r.coerce)((0,r.instance)(Uint8Array),(0,r.union)([s.StrictHexStruct]),i.hexToBytes),d=(0,r.coerce)(s.StrictHexStruct,(0,r.instance)(Uint8Array),i.bytesToHex);t.createNumber=function(e){try{let t=(0,r.create)(e,c);return(0,a.assert)(Number.isFinite(t),`Expected a number-like value, got "${e}".`),t}catch(t){if(t instanceof r.StructError)throw Error(`Expected a number-like value, got "${e}".`);throw t}},t.createBigInt=function(e){try{return(0,r.create)(e,u)}catch(e){if(e instanceof r.StructError)throw Error(`Expected a number-like value, got "${String(e.value)}".`);throw e}},t.createBytes=function(e){if("string"==typeof e&&"0x"===e.toLowerCase())return new Uint8Array;try{return(0,r.create)(e,l)}catch(e){if(e instanceof r.StructError)throw Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}},t.createHex=function(e){if(e instanceof Uint8Array&&0===e.length||"string"==typeof e&&"0x"===e.toLowerCase())return"0x";try{return(0,r.create)(e,d)}catch(e){if(e instanceof r.StructError)throw Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}}},24444:function(e,t){var n,r,a=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},i=this&&this.__classPrivateFieldSet||function(e,t,n,r,a){if("m"===r)throw TypeError("Private method is not writable");if("a"===r&&!a)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!a:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?a.call(e,n):a?a.value=n:t.set(e,n),n};Object.defineProperty(t,"__esModule",{value:!0}),t.FrozenSet=t.FrozenMap=void 0;class s{get size(){return a(this,n,"f").size}[(n=new WeakMap,Symbol.iterator)](){return a(this,n,"f")[Symbol.iterator]()}constructor(e){n.set(this,void 0),i(this,n,new Map(e),"f"),Object.freeze(this)}entries(){return a(this,n,"f").entries()}forEach(e,t){return a(this,n,"f").forEach((n,r,a)=>e.call(t,n,r,this))}get(e){return a(this,n,"f").get(e)}has(e){return a(this,n,"f").has(e)}keys(){return a(this,n,"f").keys()}values(){return a(this,n,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([e,t])=>`${String(e)} => ${String(t)}`).join(", ")} `:""}}`}}t.FrozenMap=s;class o{get size(){return a(this,r,"f").size}[(r=new WeakMap,Symbol.iterator)](){return a(this,r,"f")[Symbol.iterator]()}constructor(e){r.set(this,void 0),i(this,r,new Set(e),"f"),Object.freeze(this)}entries(){return a(this,r,"f").entries()}forEach(e,t){return a(this,r,"f").forEach((n,r,a)=>e.call(t,n,r,this))}has(e){return a(this,r,"f").has(e)}keys(){return a(this,r,"f").keys()}values(){return a(this,r,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(e=>String(e)).join(", ")} `:""}}`}}t.FrozenSet=o,Object.freeze(s),Object.freeze(s.prototype),Object.freeze(o),Object.freeze(o.prototype)},67770:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},46562:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.wrapError=t.getErrorMessage=t.isErrorWithStack=t.isErrorWithMessage=t.isErrorWithCode=void 0;let r=n(76346),a=n(44607);function i(e){return"object"==typeof e&&null!==e&&"code"in e}function s(e){return"object"==typeof e&&null!==e&&"message"in e}t.isErrorWithCode=i,t.isErrorWithMessage=s,t.isErrorWithStack=function(e){return"object"==typeof e&&null!==e&&"stack"in e},t.getErrorMessage=function(e){return s(e)&&"string"==typeof e.message?e.message:(0,a.isNullOrUndefined)(e)?"":String(e)},t.wrapError=function(e,t){if(e instanceof Error||(0,a.isObject)(e)&&"Error"===e.constructor.name){let n;return n=2===Error.length?Error(t,{cause:e}):new r.ErrorWithCause(t,{cause:e}),i(e)&&(n.code=e.code),n}return t.length>0?Error(`${String(e)}: ${t}`):Error(String(e))}},2693:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.sha256=void 0;let r=n(89470);async function a(e){return"crypto"in globalThis&&"object"==typeof globalThis.crypto&&globalThis.crypto.subtle?.digest?new Uint8Array(await globalThis.crypto.subtle.digest("SHA-256",e)):(0,r.sha256)(e)}t.sha256=a},84460:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.remove0x=t.add0x=t.isValidHexAddress=t.isValidHexAddressUnmemoized=t.isValidChecksumAddress=t.isValidChecksumAddressUnmemoized=t.getChecksumAddress=t.getChecksumAddressUnmemoized=t.assertIsStrictHexString=t.assertIsHexString=t.isHexChecksumAddress=t.isHexAddress=t.isStrictHexString=t.isHexString=t.HexChecksumAddressStruct=t.HexAddressStruct=t.StrictHexStruct=t.HexStruct=void 0;let r=n(12776),a=n(32517),i=n(8946),s=n(71794),o=/^(?:0x)?[0-9a-f]+$/iu,c=/^0x[0-9a-f]+$/iu,u=/^0x[0-9a-f]{40}$/u,l=/^0x[0-9a-fA-F]{40}$/u;t.HexStruct=(0,r.pattern)((0,r.string)(),o),t.StrictHexStruct=(0,r.pattern)((0,r.string)(),c),t.HexAddressStruct=(0,r.pattern)((0,r.string)(),u),t.HexChecksumAddressStruct=(0,r.pattern)((0,r.string)(),l);let d=e=>"string"==typeof e;function p(e){return d(e)&&o.test(e)}function f(e){return d(e)&&c.test(e)}function y(e){return d(e)&&u.test(e)}function m(e){return d(e)&&l.test(e)}function g(e){(0,s.assert)(m(e),"Invalid hex address.");let t=E(e).toLowerCase(),n=(0,a.keccak_256)(t),{length:r}=t,i=Array(r);for(let e=0;e<r;e++){let r=e>>1,a=1&e,s=n[r],o=0===a?s>>4:15&s;i[e]=o>=8?t[e].toUpperCase():t[e]}return`0x${i.join("")}`}function h(e){return!!m(e)&&(0,t.getChecksumAddress)(e)===e}function b(e){return y(e)||(0,t.isValidChecksumAddress)(e)}function E(e){return e.startsWith("0x")||e.startsWith("0X")?e.substring(2):e}t.isHexString=p,t.isStrictHexString=f,t.isHexAddress=y,t.isHexChecksumAddress=m,t.assertIsHexString=function(e){(0,s.assert)(p(e),"Value must be a hexadecimal string.")},t.assertIsStrictHexString=function(e){(0,s.assert)(f(e),'Value must be a hexadecimal string, starting with "0x".')},t.getChecksumAddressUnmemoized=g,t.getChecksumAddress=(0,i.memoize)(g),t.isValidChecksumAddressUnmemoized=h,t.isValidChecksumAddress=(0,i.memoize)(h),t.isValidHexAddressUnmemoized=b,t.isValidHexAddress=(0,i.memoize)(b),t.add0x=function(e){return e.startsWith("0x")?e:e.startsWith("0X")?`0x${e.substring(2)}`:`0x${e}`},t.remove0x=E},60885:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.unitMap=t.getValueOfUnit=t.numberToString=t.fromWei=t.toWei=t.remove0x=t.add0x=t.isValidChecksumAddress=t.getChecksumAddress=t.isValidHexAddress=t.assertIsStrictHexString=t.assertIsHexString=t.isHexChecksumAddress=t.isHexAddress=t.isStrictHexString=t.isHexString=t.HexChecksumAddressStruct=t.HexAddressStruct=t.StrictHexStruct=t.HexStruct=void 0,a(n(71794),t),a(n(34932),t),a(n(15209),t),a(n(17433),t),a(n(26819),t),a(n(46262),t),a(n(24444),t),a(n(67770),t),a(n(46562),t),a(n(2693),t);var i=n(84460);Object.defineProperty(t,"HexStruct",{enumerable:!0,get:function(){return i.HexStruct}}),Object.defineProperty(t,"StrictHexStruct",{enumerable:!0,get:function(){return i.StrictHexStruct}}),Object.defineProperty(t,"HexAddressStruct",{enumerable:!0,get:function(){return i.HexAddressStruct}}),Object.defineProperty(t,"HexChecksumAddressStruct",{enumerable:!0,get:function(){return i.HexChecksumAddressStruct}}),Object.defineProperty(t,"isHexString",{enumerable:!0,get:function(){return i.isHexString}}),Object.defineProperty(t,"isStrictHexString",{enumerable:!0,get:function(){return i.isStrictHexString}}),Object.defineProperty(t,"isHexAddress",{enumerable:!0,get:function(){return i.isHexAddress}}),Object.defineProperty(t,"isHexChecksumAddress",{enumerable:!0,get:function(){return i.isHexChecksumAddress}}),Object.defineProperty(t,"assertIsHexString",{enumerable:!0,get:function(){return i.assertIsHexString}}),Object.defineProperty(t,"assertIsStrictHexString",{enumerable:!0,get:function(){return i.assertIsStrictHexString}}),Object.defineProperty(t,"isValidHexAddress",{enumerable:!0,get:function(){return i.isValidHexAddress}}),Object.defineProperty(t,"getChecksumAddress",{enumerable:!0,get:function(){return i.getChecksumAddress}}),Object.defineProperty(t,"isValidChecksumAddress",{enumerable:!0,get:function(){return i.isValidChecksumAddress}}),Object.defineProperty(t,"add0x",{enumerable:!0,get:function(){return i.add0x}}),Object.defineProperty(t,"remove0x",{enumerable:!0,get:function(){return i.remove0x}}),a(n(22729),t),a(n(19630),t),a(n(46024),t),a(n(44607),t),a(n(60739),t),a(n(54855),t),a(n(27910),t),a(n(12608),t),a(n(69351),t),a(n(95860),t),a(n(5502),t);var s=n(23390);Object.defineProperty(t,"toWei",{enumerable:!0,get:function(){return s.toWei}}),Object.defineProperty(t,"fromWei",{enumerable:!0,get:function(){return s.fromWei}}),Object.defineProperty(t,"numberToString",{enumerable:!0,get:function(){return s.numberToString}}),Object.defineProperty(t,"getValueOfUnit",{enumerable:!0,get:function(){return s.getValueOfUnit}}),Object.defineProperty(t,"unitMap",{enumerable:!0,get:function(){return s.unitMap}})},22729:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getJsonRpcIdValidator=t.assertIsJsonRpcError=t.isJsonRpcError=t.assertIsJsonRpcFailure=t.isJsonRpcFailure=t.assertIsJsonRpcSuccess=t.isJsonRpcSuccess=t.assertIsJsonRpcResponse=t.isJsonRpcResponse=t.assertIsPendingJsonRpcResponse=t.isPendingJsonRpcResponse=t.JsonRpcResponseStruct=t.JsonRpcFailureStruct=t.JsonRpcSuccessStruct=t.PendingJsonRpcResponseStruct=t.assertIsJsonRpcRequest=t.isJsonRpcRequest=t.assertIsJsonRpcNotification=t.isJsonRpcNotification=t.JsonRpcNotificationStruct=t.JsonRpcRequestStruct=t.JsonRpcParamsStruct=t.JsonRpcErrorStruct=t.JsonRpcIdStruct=t.JsonRpcVersionStruct=t.jsonrpc2=t.getJsonSize=t.getSafeJson=t.isValidJson=t.JsonStruct=t.UnsafeJsonStruct=t.exactOptional=t.object=void 0;let r=n(12776),a=n(71794),i=n(44607);function s({path:e,branch:t}){let n=e[e.length-1];return(0,i.hasProperty)(t[t.length-2],n)}function o(e){return new r.Struct({...e,type:`optional ${e.type}`,validator:(t,n)=>!s(n)||e.validator(t,n),refiner:(t,n)=>!s(n)||e.refiner(t,n)})}function c(e){return(0,r.create)(e,t.JsonStruct)}t.object=e=>(0,r.object)(e),t.exactOptional=o,t.UnsafeJsonStruct=(0,r.define)("JSON",e=>(function e(t){if(null===t||"boolean"==typeof t||"string"==typeof t||"number"==typeof t&&Number.isFinite(t))return!0;if("object"==typeof t){let n=!0;if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(!e(t[r])){n=!1;break}return n}let r=Object.entries(t);for(let t=0;t<r.length;t++)if("string"!=typeof r[t][0]||!e(r[t][1])){n=!1;break}return n}return!1})(e)),t.JsonStruct=(0,r.coerce)(t.UnsafeJsonStruct,(0,r.refine)((0,r.any)(),"JSON",e=>(0,r.is)(e,t.UnsafeJsonStruct)),e=>JSON.parse(JSON.stringify(e,(e,t)=>{if("__proto__"!==e&&"constructor"!==e)return t}))),t.isValidJson=function(e){try{return c(e),!0}catch{return!1}},t.getSafeJson=c,t.getJsonSize=function(e){(0,a.assertStruct)(e,t.JsonStruct,"Invalid JSON value");let n=JSON.stringify(e);return new TextEncoder().encode(n).byteLength},t.jsonrpc2="2.0",t.JsonRpcVersionStruct=(0,r.literal)(t.jsonrpc2),t.JsonRpcIdStruct=(0,r.nullable)((0,r.union)([(0,r.number)(),(0,r.string)()])),t.JsonRpcErrorStruct=(0,t.object)({code:(0,r.integer)(),message:(0,r.string)(),data:o(t.JsonStruct),stack:o((0,r.string)())}),t.JsonRpcParamsStruct=(0,r.union)([(0,r.record)((0,r.string)(),t.JsonStruct),(0,r.array)(t.JsonStruct)]),t.JsonRpcRequestStruct=(0,t.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,method:(0,r.string)(),params:o(t.JsonRpcParamsStruct)}),t.JsonRpcNotificationStruct=(0,t.object)({jsonrpc:t.JsonRpcVersionStruct,method:(0,r.string)(),params:o(t.JsonRpcParamsStruct)}),t.isJsonRpcNotification=function(e){return(0,r.is)(e,t.JsonRpcNotificationStruct)},t.assertIsJsonRpcNotification=function(e,n){(0,a.assertStruct)(e,t.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",n)},t.isJsonRpcRequest=function(e){return(0,r.is)(e,t.JsonRpcRequestStruct)},t.assertIsJsonRpcRequest=function(e,n){(0,a.assertStruct)(e,t.JsonRpcRequestStruct,"Invalid JSON-RPC request",n)},t.PendingJsonRpcResponseStruct=(0,r.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:(0,r.optional)((0,r.unknown)()),error:(0,r.optional)(t.JsonRpcErrorStruct)}),t.JsonRpcSuccessStruct=(0,t.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:t.JsonStruct}),t.JsonRpcFailureStruct=(0,t.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,error:t.JsonRpcErrorStruct}),t.JsonRpcResponseStruct=(0,r.union)([t.JsonRpcSuccessStruct,t.JsonRpcFailureStruct]),t.isPendingJsonRpcResponse=function(e){return(0,r.is)(e,t.PendingJsonRpcResponseStruct)},t.assertIsPendingJsonRpcResponse=function(e,n){(0,a.assertStruct)(e,t.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",n)},t.isJsonRpcResponse=function(e){return(0,r.is)(e,t.JsonRpcResponseStruct)},t.assertIsJsonRpcResponse=function(e,n){(0,a.assertStruct)(e,t.JsonRpcResponseStruct,"Invalid JSON-RPC response",n)},t.isJsonRpcSuccess=function(e){return(0,r.is)(e,t.JsonRpcSuccessStruct)},t.assertIsJsonRpcSuccess=function(e,n){(0,a.assertStruct)(e,t.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",n)},t.isJsonRpcFailure=function(e){return(0,r.is)(e,t.JsonRpcFailureStruct)},t.assertIsJsonRpcFailure=function(e,n){(0,a.assertStruct)(e,t.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",n)},t.isJsonRpcError=function(e){return(0,r.is)(e,t.JsonRpcErrorStruct)},t.assertIsJsonRpcError=function(e,n){(0,a.assertStruct)(e,t.JsonRpcErrorStruct,"Invalid JSON-RPC error",n)},t.getJsonRpcIdValidator=function(e){let{permitEmptyString:t,permitFractions:n,permitNull:r}={permitEmptyString:!0,permitFractions:!1,permitNull:!0,...e};return e=>!!("number"==typeof e&&(n||Number.isInteger(e))||"string"==typeof e&&(t||e.length>0)||r&&null===e)}},19630:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},46024:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createModuleLogger=t.createProjectLogger=void 0;let a=(0,r(n(31464)).default)("metamask");t.createProjectLogger=function(e){return a.extend(e)},t.createModuleLogger=function(e,t){return e.extend(t)}},44607:function(e,t){var n;function r(e){return 127>=e.charCodeAt(0)}Object.defineProperty(t,"__esModule",{value:!0}),t.calculateNumberSize=t.calculateStringSize=t.isASCII=t.isPlainObject=t.ESCAPE_CHARACTERS_REGEXP=t.JsonSize=t.getKnownPropertyNames=t.hasProperty=t.isObject=t.isNullOrUndefined=t.isNonEmptyArray=void 0,t.isNonEmptyArray=function(e){return Array.isArray(e)&&e.length>0},t.isNullOrUndefined=function(e){return null==e},t.isObject=function(e){return!!e&&"object"==typeof e&&!Array.isArray(e)},t.hasProperty=(e,t)=>Object.hasOwnProperty.call(e,t),t.getKnownPropertyNames=function(e){return Object.getOwnPropertyNames(e)},(n=t.JsonSize||(t.JsonSize={}))[n.Null=4]="Null",n[n.Comma=1]="Comma",n[n.Wrapper=1]="Wrapper",n[n.True=4]="True",n[n.False=5]="False",n[n.Quote=1]="Quote",n[n.Colon=1]="Colon",n[n.Date=24]="Date",t.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu,t.isPlainObject=function(e){if("object"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}},t.isASCII=r,t.calculateStringSize=function(e){return e.split("").reduce((e,t)=>r(t)?e+1:e+2,0)+(e.match(t.ESCAPE_CHARACTERS_REGEXP)??[]).length},t.calculateNumberSize=function(e){return e.toString().length}},60739:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.hexToBigInt=t.hexToNumber=t.bigIntToHex=t.numberToHex=void 0;let r=n(71794),a=n(84460);t.numberToHex=e=>((0,r.assert)("number"==typeof e,"Value must be a number."),(0,r.assert)(e>=0,"Value must be a non-negative number."),(0,r.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,a.add0x)(e.toString(16))),t.bigIntToHex=e=>((0,r.assert)("bigint"==typeof e,"Value must be a bigint."),(0,r.assert)(e>=0,"Value must be a non-negative bigint."),(0,a.add0x)(e.toString(16))),t.hexToNumber=e=>{(0,a.assertIsHexString)(e);let t=parseInt(e,16);return(0,r.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `hexToBigInt` instead."),t},t.hexToBigInt=e=>((0,a.assertIsHexString)(e),BigInt((0,a.add0x)(e)))},54855:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},27910:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.createDeferredPromise=void 0,t.createDeferredPromise=function({suppressUnhandledRejection:e=!1}={}){let t,n;let r=new Promise((e,r)=>{t=e,n=r});return e&&r.catch(e=>{}),{promise:r,resolve:t,reject:n}}},12608:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.definePattern=void 0;let r=n(12776);t.definePattern=function(e,t){return(0,r.define)(e,e=>"string"==typeof e&&t.test(e))}},69351:function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.timeSince=t.inMilliseconds=t.Duration=void 0,(n=t.Duration||(t.Duration={}))[n.Millisecond=1]="Millisecond",n[n.Second=1e3]="Second",n[n.Minute=6e4]="Minute",n[n.Hour=36e5]="Hour",n[n.Day=864e5]="Day",n[n.Week=6048e5]="Week",n[n.Year=31536e6]="Year";let r=e=>Number.isInteger(e)&&e>=0,a=(e,t)=>{if(!r(e))throw Error(`"${t}" must be a non-negative integer. Received: "${e}".`)};t.inMilliseconds=function(e,t){return a(e,"count"),e*t},t.timeSince=function(e){return a(e,"timestamp"),Date.now()-e}},95860:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},23390:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.toWei=t.fromWei=t.numberToString=t.getValueOfUnit=t.unitMap=t.numericToBigInt=void 0;let n=BigInt(0),r=BigInt(-1);function a(e){if("string"==typeof e||"number"==typeof e)return BigInt(e);if("bigint"==typeof e)return e;throw Error(`Cannot convert ${typeof e} to BigInt`)}t.numericToBigInt=a,t.unitMap={noether:"0",wei:"1",kwei:"1000",Kwei:"1000",babbage:"1000",femtoether:"1000",mwei:"1000000",Mwei:"1000000",lovelace:"1000000",picoether:"1000000",gwei:"1000000000",Gwei:"1000000000",shannon:"1000000000",nanoether:"1000000000",nano:"1000000000",szabo:"1000000000000",microether:"1000000000000",micro:"1000000000000",finney:"1000000000000000",milliether:"1000000000000000",milli:"1000000000000000",ether:"1000000000000000000",kether:"1000000000000000000000",grand:"1000000000000000000000",mether:"1000000000000000000000000",gether:"1000000000000000000000000000",tether:"1000000000000000000000000000000"};let i=Object.fromEntries(Object.entries(t.unitMap).map(([e,t])=>[e,BigInt(t)])),s=Object.fromEntries(Object.entries(t.unitMap).map(([e,t])=>[e,t.length-1||1])),o=/^-?[0-9.]+$/u,c=/^([0-9]*[1-9]|0)(0*)/u,u=/\B(?=(\d{3})+(?!\d))/gu;function l(e){if("string"==typeof e){if(!o.test(e))throw Error(`while converting number to string, invalid number value '${e}', should be a number matching (^-?[0-9.]+).`);return e}if("number"==typeof e)return String(e);if("bigint"==typeof e)return e.toString();throw Error(`while converting number to string, invalid number value '${String(e)}' type ${typeof e}.`)}t.getValueOfUnit=function(e="ether"){let n=i[e.toLowerCase()];if(void 0===n)throw Error(`The unit provided ${e} doesn't exist, please use the one of the following units ${JSON.stringify(t.unitMap,null,2)}`);return n},t.numberToString=l,t.fromWei=function(e,o,l){let d=a(e),p=d<n,f=o.toLowerCase(),y=i[f],m=s[f],g=l??{};if(void 0===y)throw Error(`The unit provided ${o} doesn't exist, please use the one of the following units ${JSON.stringify(t.unitMap,null,2)}`);if(y===n)return p?"-0":"0";p&&(d*=r);let h=(d%y).toString();if(h=h.padStart(m,"0"),!g.pad){let e=h.match(c);h=e?.[1]??"0"}let b=(d/y).toString();g.commify&&(b=b.replace(u,","));let E=`${b}${"0"===h?"":`.${h}`}`;return p&&(E=`-${E}`),E},t.toWei=function(e,a){let o=a.toLowerCase(),c=i[o],u=s[o];if(void 0===c)throw Error(`The unit provided ${a} doesn't exist, please use the one of the following units ${JSON.stringify(t.unitMap,null,2)}`);if(c===n)return n;if("bigint"==typeof e&&"wei"===o)return e;if("bigint"==typeof e)return e*c;let d=l(e),p=d.startsWith("-");if(p&&(d=d.substring(1)),"."===d)throw Error(`While converting number ${e} to wei, invalid value`);let f=d.split(".");if(f.length>2)throw Error(`While converting number ${e} to wei,  too many decimal points`);let y=f[0],m=f[1];if(y||(y="0"),m||(m="0"),m.length>u)throw Error(`While converting number ${e} to wei, too many decimal places`);m=m.padEnd(u,"0");let g=BigInt(y)*c+BigInt(m);return p&&(g*=r),g}},5502:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.satisfiesVersionRange=t.gtRange=t.gtVersion=t.assertIsSemVerRange=t.assertIsSemVerVersion=t.isValidSemVerRange=t.isValidSemVerVersion=t.VersionRangeStruct=t.VersionStruct=void 0;let r=n(12776),a=n(67374),i=n(71794);t.VersionStruct=(0,r.refine)((0,r.string)(),"Version",e=>null!==(0,a.valid)(e)||`Expected SemVer version, got "${e}"`),t.VersionRangeStruct=(0,r.refine)((0,r.string)(),"Version range",e=>null!==(0,a.validRange)(e)||`Expected SemVer range, got "${e}"`),t.isValidSemVerVersion=function(e){return(0,r.is)(e,t.VersionStruct)},t.isValidSemVerRange=function(e){return(0,r.is)(e,t.VersionRangeStruct)},t.assertIsSemVerVersion=function(e){(0,i.assertStruct)(e,t.VersionStruct)},t.assertIsSemVerRange=function(e){(0,i.assertStruct)(e,t.VersionRangeStruct)},t.gtVersion=function(e,t){return(0,a.gt)(e,t)},t.gtRange=function(e,t){return(0,a.gtr)(e,t)},t.satisfiesVersionRange=function(e,t){return(0,a.satisfies)(e,t,{includePrerelease:!0})}},24258:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.StructError=void 0;class n extends TypeError{constructor(e,t){let n;let{message:r,explanation:a,...i}=e,{path:s}=e,o=0===s.length?r:`At path: ${s.join(".")} -- ${r}`;super(a??o),null!=a&&(this.cause=o),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...t()])}}t.StructError=n},12776:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),a(n(24258),t),a(n(72561),t),a(n(19043),t),a(n(87450),t),a(n(93272),t),a(n(74597),t)},72561:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.validate=t.is=t.mask=t.create=t.assert=t.ExactOptionalStruct=t.Struct=void 0;let r=n(24258),a=n(40629);class i{constructor(e){let{type:t,schema:n,validator:r,refiner:i,coercer:s=e=>e,entries:o=function*(){}}=e;this.type=t,this.schema=n,this.entries=o,this.coercer=s,r?this.validator=(e,t)=>{let n=r(e,t);return(0,a.toFailures)(n,t,this,e)}:this.validator=()=>[],i?this.refiner=(e,t)=>{let n=i(e,t);return(0,a.toFailures)(n,t,this,e)}:this.refiner=()=>[]}assert(e,t){return c(e,this,t)}create(e,t){return u(e,this,t)}is(e){return d(e,this)}mask(e,t){return l(e,this,t)}validate(e,t={}){return p(e,this,t)}}t.Struct=i;let s="EXACT_OPTIONAL";class o extends i{constructor(e){super({...e,type:`exact optional ${e.type}`}),this.brand=s}static isExactOptional(e){return(0,a.isObject)(e)&&"brand"in e&&e.brand===s}}function c(e,t,n){let r=p(e,t,{message:n});if(r[0])throw r[0]}function u(e,t,n){let r=p(e,t,{coerce:!0,message:n});if(!r[0])return r[1];throw r[0]}function l(e,t,n){let r=p(e,t,{coerce:!0,mask:!0,message:n});if(!r[0])return r[1];throw r[0]}function d(e,t){return!p(e,t)[0]}function p(e,t,n={}){let i=(0,a.run)(e,t,n),s=(0,a.shiftIterator)(i);return s[0]?[new r.StructError(s[0],function*(){for(let e of i)e[0]&&(yield e[0])}),void 0]:[void 0,s[1]]}t.ExactOptionalStruct=o,t.assert=c,t.create=u,t.mask=l,t.is=d,t.validate=p},19043:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.trimmed=t.defaulted=t.coerce=void 0;let r=n(72561),a=n(40629),i=n(93272);function s(e,t,n){return new r.Struct({...e,coercer:(a,i)=>(0,r.is)(a,t)?e.coercer(n(a,i),i):e.coercer(a,i)})}t.coerce=s,t.defaulted=function(e,t,n={}){return s(e,(0,i.unknown)(),e=>{let r="function"==typeof t?t():t;if(void 0===e)return r;if(!n.strict&&(0,a.isPlainObject)(e)&&(0,a.isPlainObject)(r)){let t={...e},n=!1;for(let e in r)void 0===t[e]&&(t[e]=r[e],n=!0);if(n)return t}return e})},t.trimmed=function(e){return s(e,(0,i.string)(),e=>e.trim())}},87450:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.refine=t.size=t.pattern=t.nonempty=t.min=t.max=t.empty=void 0;let r=n(72561),a=n(40629);function i(e){return e instanceof Map||e instanceof Set?e.size:e.length}function s(e,t,n){return new r.Struct({...e,*refiner(r,i){yield*e.refiner(r,i);let s=n(r,i);for(let n of(0,a.toFailures)(s,i,e,r))yield{...n,refinement:t}}})}t.empty=function(e){return s(e,"empty",t=>{let n=i(t);return 0===n||`Expected an empty ${e.type} but received one with a size of \`${n}\``})},t.max=function(e,t,n={}){let{exclusive:r}=n;return s(e,"max",n=>r?n<t:n<=t||`Expected a ${e.type} less than ${r?"":"or equal to "}${t} but received \`${n}\``)},t.min=function(e,t,n={}){let{exclusive:r}=n;return s(e,"min",n=>r?n>t:n>=t||`Expected a ${e.type} greater than ${r?"":"or equal to "}${t} but received \`${n}\``)},t.nonempty=function(e){return s(e,"nonempty",t=>i(t)>0||`Expected a nonempty ${e.type} but received an empty one`)},t.pattern=function(e,t){return s(e,"pattern",n=>t.test(n)||`Expected a ${e.type} matching \`/${t.source}/\` but received "${n}"`)},t.size=function(e,t,n=t){let r=`Expected a ${e.type}`,a=t===n?`of \`${t}\``:`between \`${t}\` and \`${n}\``;return s(e,"size",e=>{if("number"==typeof e||e instanceof Date)return t<=e&&e<=n||`${r} ${a} but received \`${e}\``;if(e instanceof Map||e instanceof Set){let{size:i}=e;return t<=i&&i<=n||`${r} with a size ${a} but received one with a size of \`${i}\``}let{length:i}=e;return t<=i&&i<=n||`${r} with a length ${a} but received one with a length of \`${i}\``})},t.refine=s},93272:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.unknown=t.union=t.type=t.tuple=t.string=t.set=t.regexp=t.record=t.exactOptional=t.optional=t.object=t.number=t.nullable=t.never=t.map=t.literal=t.intersection=t.integer=t.instance=t.func=t.enums=t.date=t.boolean=t.bigint=t.array=t.any=void 0;let r=n(72561),a=n(40629),i=n(74597);function s(){return(0,i.define)("never",()=>!1)}t.any=function(){return(0,i.define)("any",()=>!0)},t.array=function(e){return new r.Struct({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(let[n,r]of t.entries())yield[n,r,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${(0,a.print)(e)}`})},t.bigint=function(){return(0,i.define)("bigint",e=>"bigint"==typeof e)},t.boolean=function(){return(0,i.define)("boolean",e=>"boolean"==typeof e)},t.date=function(){return(0,i.define)("date",e=>e instanceof Date&&!isNaN(e.getTime())||`Expected a valid \`Date\` object, but received: ${(0,a.print)(e)}`)},t.enums=function(e){let t={},n=e.map(e=>(0,a.print)(e)).join();for(let n of e)t[n]=n;return new r.Struct({type:"enums",schema:t,validator:t=>e.includes(t)||`Expected one of \`${n}\`, but received: ${(0,a.print)(t)}`})},t.func=function(){return(0,i.define)("func",e=>"function"==typeof e||`Expected a function, but received: ${(0,a.print)(e)}`)},t.instance=function(e){return(0,i.define)("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${(0,a.print)(t)}`)},t.integer=function(){return(0,i.define)("integer",e=>"number"==typeof e&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${(0,a.print)(e)}`)},t.intersection=function(e){return new r.Struct({type:"intersection",schema:null,*entries(t,n){for(let{entries:r}of e)yield*r(t,n)},*validator(t,n){for(let{validator:r}of e)yield*r(t,n)},*refiner(t,n){for(let{refiner:r}of e)yield*r(t,n)}})},t.literal=function(e){let t=(0,a.print)(e),n=typeof e;return new r.Struct({type:"literal",schema:"string"===n||"number"===n||"boolean"===n?e:null,validator:n=>n===e||`Expected the literal \`${t}\`, but received: ${(0,a.print)(n)}`})},t.map=function(e,t){return new r.Struct({type:"map",schema:null,*entries(n){if(e&&t&&n instanceof Map)for(let[r,a]of n.entries())yield[r,r,e],yield[r,a,t]},coercer:e=>e instanceof Map?new Map(e):e,validator:e=>e instanceof Map||`Expected a \`Map\` object, but received: ${(0,a.print)(e)}`})},t.never=s,t.nullable=function(e){return new r.Struct({...e,validator:(t,n)=>null===t||e.validator(t,n),refiner:(t,n)=>null===t||e.refiner(t,n)})},t.number=function(){return(0,i.define)("number",e=>"number"==typeof e&&!isNaN(e)||`Expected a number, but received: ${(0,a.print)(e)}`)},t.object=function(e){let t=e?Object.keys(e):[],n=s();return new r.Struct({type:"object",schema:e??null,*entries(i){if(e&&(0,a.isObject)(i)){let a=new Set(Object.keys(i));for(let n of t){a.delete(n);let t=e[n];(!r.ExactOptionalStruct.isExactOptional(t)||Object.prototype.hasOwnProperty.call(i,n))&&(yield[n,i[n],e[n]])}for(let e of a)yield[e,i[e],n]}},validator:e=>(0,a.isObject)(e)||`Expected an object, but received: ${(0,a.print)(e)}`,coercer:e=>(0,a.isObject)(e)?{...e}:e})},t.optional=function(e){return new r.Struct({...e,validator:(t,n)=>void 0===t||e.validator(t,n),refiner:(t,n)=>void 0===t||e.refiner(t,n)})},t.exactOptional=function(e){return new r.ExactOptionalStruct(e)},t.record=function(e,t){return new r.Struct({type:"record",schema:null,*entries(n){if((0,a.isObject)(n))for(let r in n){let a=n[r];yield[r,r,e],yield[r,a,t]}},validator:e=>(0,a.isObject)(e)||`Expected an object, but received: ${(0,a.print)(e)}`})},t.regexp=function(){return(0,i.define)("regexp",e=>e instanceof RegExp)},t.set=function(e){return new r.Struct({type:"set",schema:null,*entries(t){if(e&&t instanceof Set)for(let n of t)yield[n,n,e]},coercer:e=>e instanceof Set?new Set(e):e,validator:e=>e instanceof Set||`Expected a \`Set\` object, but received: ${(0,a.print)(e)}`})},t.string=function(){return(0,i.define)("string",e=>"string"==typeof e||`Expected a string, but received: ${(0,a.print)(e)}`)},t.tuple=function(e){let t=s();return new r.Struct({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){let r=Math.max(e.length,n.length);for(let a=0;a<r;a++)yield[a,n[a],e[a]||t]}},validator:e=>Array.isArray(e)||`Expected an array, but received: ${(0,a.print)(e)}`})},t.type=function(e){let t=Object.keys(e);return new r.Struct({type:"type",schema:e,*entries(n){if((0,a.isObject)(n))for(let r of t)yield[r,n[r],e[r]]},validator:e=>(0,a.isObject)(e)||`Expected an object, but received: ${(0,a.print)(e)}`,coercer:e=>(0,a.isObject)(e)?{...e}:e})},t.union=function(e){let t=e.map(e=>e.type).join(" | ");return new r.Struct({type:"union",schema:null,coercer(t){for(let n of e){let[e,r]=n.validate(t,{coerce:!0});if(!e)return r}return t},validator(n,r){let i=[];for(let t of e){let[...e]=(0,a.run)(n,t,r),[s]=e;if(!s?.[0])return[];for(let[t]of e)t&&i.push(t)}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${(0,a.print)(n)}`,...i]}})},t.unknown=function(){return(0,i.define)("unknown",()=>!0)}},74597:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.pick=t.partial=t.omit=t.lazy=t.dynamic=t.deprecated=t.define=t.assign=void 0;let r=n(72561),a=n(93272);t.assign=function(...e){let t=e[0]?.type==="type",n=Object.assign({},...e.map(({schema:e})=>e));return t?(0,a.type)(n):(0,a.object)(n)},t.define=function(e,t){return new r.Struct({type:e,schema:null,validator:t})},t.deprecated=function(e,t){return new r.Struct({...e,refiner:(t,n)=>void 0===t||e.refiner(t,n),validator:(n,r)=>void 0===n||(t(n,r),e.validator(n,r))})},t.dynamic=function(e){return new r.Struct({type:"dynamic",schema:null,*entries(t,n){let r=e(t,n);yield*r.entries(t,n)},validator:(t,n)=>e(t,n).validator(t,n),coercer:(t,n)=>e(t,n).coercer(t,n),refiner:(t,n)=>e(t,n).refiner(t,n)})},t.lazy=function(e){let t;return new r.Struct({type:"lazy",schema:null,*entries(n,r){t??(t=e()),yield*t.entries(n,r)},validator:(n,r)=>(t??(t=e()),t.validator(n,r)),coercer:(n,r)=>(t??(t=e()),t.coercer(n,r)),refiner:(n,r)=>(t??(t=e()),t.refiner(n,r))})},t.omit=function(e,t){let{schema:n}=e,r={...n};for(let e of t)delete r[e];return"type"===e.type?(0,a.type)(r):(0,a.object)(r)},t.partial=function(e){let t=e instanceof r.Struct,n=t?{...e.schema}:{...e};for(let e in n)n[e]=(0,a.optional)(n[e]);return t&&"type"===e.type?(0,a.type)(n):(0,a.object)(n)},t.pick=function(e,t){let{schema:n}=e,r={};for(let e of t)r[e]=n[e];return"type"===e.type?(0,a.type)(r):(0,a.object)(r)}},40629:function(e,t){function n(e){return"object"==typeof e&&null!==e}function r(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function a(e,t,n,a){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});let{path:i,branch:s}=t,{type:o}=n,{refinement:c,message:u=`Expected a value of type \`${o}\`${c?` with refinement \`${c}\``:""}, but received: \`${r(a)}\``}=e;return{value:a,type:o,refinement:c,key:i[i.length-1],path:i,branch:s,...e,message:u}}Object.defineProperty(t,"__esModule",{value:!0}),t.run=t.toFailures=t.toFailure=t.shiftIterator=t.print=t.isPlainObject=t.isObject=void 0,t.isObject=n,t.isPlainObject=function(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;let t=Object.getPrototypeOf(e);return null===t||t===Object.prototype},t.print=r,t.shiftIterator=function(e){let{done:t,value:n}=e.next();return t?void 0:n},t.toFailure=a,t.toFailures=function*(e,t,r,i){var s;for(let o of(n(s=e)&&"function"==typeof s[Symbol.iterator]||(e=[e]),e)){let e=a(o,t,r,i);e&&(yield e)}},t.run=function* e(t,r,a={}){let{path:i=[],branch:s=[t],coerce:o=!1,mask:c=!1}=a,u={path:i,branch:s};if(o&&(t=r.coercer(t,u),c&&"type"!==r.type&&n(r.schema)&&n(t)&&!Array.isArray(t)))for(let e in t)void 0===r.schema[e]&&delete t[e];let l="valid";for(let e of r.validator(t,u))e.explanation=a.message,l="not_valid",yield[e,void 0];for(let[d,p,f]of r.entries(t,u))for(let r of e(p,f,{path:void 0===d?i:[...i,d],branch:void 0===d?s:[...s,p],coerce:o,mask:c,message:a.message}))r[0]?(l=null===r[0].refinement||void 0===r[0].refinement?"not_valid":"not_refined",yield[r[0],void 0]):o&&(p=r[1],void 0===d?t=p:t instanceof Map?t.set(d,p):t instanceof Set?t.add(p):n(t)&&(void 0!==p||d in t)&&(t[d]=p));if("not_valid"!==l)for(let e of r.refiner(t,u))e.explanation=a.message,l="not_refined",yield[e,void 0];"valid"===l&&(yield[void 0,t])}},74043:function(e,t,n){function r(e){if(!Number.isSafeInteger(e)||e<0)throw Error(`positive integer expected, not ${e}`)}function a(e,...t){if(!(e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function i(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.wrapConstructor");r(e.outputLen),r(e.blockLen)}function s(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function o(e,t){a(e);let n=t.outputLen;if(e.length<n)throw Error(`digestInto() expects output buffer of length at least ${n}`)}n.d(t,{Gg:function(){return s},J8:function(){return o},Rx:function(){return r},aI:function(){return a},vp:function(){return i}}),t.ZP={number:r,bool:function(e){if("boolean"!=typeof e)throw Error(`boolean expected, not ${e}`)},bytes:a,hash:i,exists:s,output:o}},18100:function(e,t,n){n.d(t,{e:function(){return r}});let r="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},10662:function(e,t,n){n.d(t,{GL:function(){return s},Jq:function(){return i},O0:function(){return b},O6:function(){return x},U5:function(){return w},XG:function(){return c},ci:function(){return f},eV:function(){return E},hE:function(){return S},iA:function(){return u},iY:function(){return h},kb:function(){return A},l1:function(){return d},np:function(){return o},nr:function(){return g}});var r=n(18100),a=n(74043);let i=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),s=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),o=(e,t)=>e<<32-t|e>>>t,c=(e,t)=>e<<t|e>>>32-t>>>0,u=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],l=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255;function d(e){for(let t=0;t<e.length;t++)e[t]=l(e[t])}let p=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function f(e){(0,a.aI)(e);let t="";for(let n=0;n<e.length;n++)t+=p[e[n]];return t}let y={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function m(e){return e>=y._0&&e<=y._9?e-y._0:e>=y._A&&e<=y._F?e-(y._A-10):e>=y._a&&e<=y._f?e-(y._a-10):void 0}function g(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);let t=e.length,n=t/2;if(t%2)throw Error("padded hex string expected, got unpadded hex of length "+t);let r=new Uint8Array(n);for(let t=0,a=0;t<n;t++,a+=2){let n=m(e.charCodeAt(a)),i=m(e.charCodeAt(a+1));if(void 0===n||void 0===i)throw Error('hex string expected, got non-hex character "'+(e[a]+e[a+1])+'" at index '+a);r[t]=16*n+i}return r}function h(e){if("string"!=typeof e)throw Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function b(e){return"string"==typeof e&&(e=h(e)),(0,a.aI)(e),e}function E(...e){let t=0;for(let n=0;n<e.length;n++){let r=e[n];(0,a.aI)(r),t+=r.length}let n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){let a=e[t];n.set(a,r),r+=a.length}return n}class A{clone(){return this._cloneInto()}}let v={}.toString;function w(e,t){if(void 0!==t&&"[object Object]"!==v.call(t))throw Error("Options should be object or undefined");return Object.assign(e,t)}function S(e){let t=t=>e().update(b(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function x(e=32){if(r.e&&"function"==typeof r.e.getRandomValues)return r.e.getRandomValues(new Uint8Array(e));throw Error("crypto.getRandomValues must be defined")}}}]);