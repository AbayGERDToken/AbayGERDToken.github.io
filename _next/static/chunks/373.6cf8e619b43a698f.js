(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[373],{96604:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodeSingle=t.decode=t.encodePacked=t.encodeSingle=t.encode=void 0;let n=r(60885),i=r(89977),o=r(52086);t.encode=(e,t,r,n)=>{try{return(0,o.pack)({types:e,values:t,packed:r,tight:n})}catch(e){if(e instanceof i.ParserError)throw new i.ParserError(`Unable to encode value: ${e.message}`,e);throw new i.ParserError(`An unexpected error occurred: ${(0,i.getErrorMessage)(e)}`,e)}},t.encodeSingle=(e,r)=>(0,t.encode)([e],[r]),t.encodePacked=(e,r,n)=>(0,t.encode)(e,r,!0,n),t.decode=(e,t)=>{let r=(0,n.createBytes)(t);try{return(0,o.unpack)(e,r)}catch(e){if(e instanceof i.ParserError)throw new i.ParserError(`Unable to decode value: ${e.message}`,e);throw new i.ParserError(`An unexpected error occurred: ${(0,i.getErrorMessage)(e)}`,e)}},t.decodeSingle=(e,r)=>{let o=(0,t.decode)([e],r);return(0,n.assert)(1===o.length,new i.ParserError("Decoded value array has unexpected length.")),o[0]}},89977:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ParserError=t.getErrorStack=t.getErrorMessage=void 0;let n=r(60885);t.getErrorMessage=e=>"string"==typeof e?e:e instanceof Error||(0,n.isObject)(e)&&(0,n.hasProperty)(e,"message")&&"string"==typeof e.message?e.message:"Unknown error.",t.getErrorStack=e=>{if(e instanceof Error)return e.stack};class i extends Error{constructor(e,r){super(e),this.name="ParserError";let n=(0,t.getErrorStack)(r);n&&(this.stack=n)}}t.ParserError=i},61690:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(96604),t),i(r(89977),t),i(r(14083),t)},80482:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.iterate=void 0;let n=r(60885),i=function*(e,t=32){for(let r=0;r<e.length;r+=t){let i=e=>{(0,n.assert)(e>=0,"Cannot skip a negative number of bytes."),(0,n.assert)(e%t==0,"Length must be a multiple of the size."),r+=e},o=e.subarray(r);yield{skip:i,value:o}}return{skip:()=>void 0,value:new Uint8Array}};t.iterate=i},52086:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unpack=t.pack=t.isDynamicParser=t.getParser=void 0;let n=r(60885),i=r(89977),o=r(80482),a=r(93595),s=r(39362);t.getParser=e=>{let t={address:a.address,array:a.array,bool:a.bool,bytes:a.bytes,fixedBytes:a.fixedBytes,function:a.fn,number:a.number,string:a.string,tuple:a.tuple},r=t[e];if(r)return r;let n=Object.values(t).find(t=>t.isType(e));if(n)return n;throw new i.ParserError(`The type "${e}" is not supported.`)},t.isDynamicParser=(e,t)=>{let{isDynamic:r}=e;return"function"==typeof r?r(t):r},t.pack=({types:e,values:r,packed:o=!1,tight:a=!1,arrayPacked:c=!1,byteArray:l=new Uint8Array})=>{(0,n.assert)(e.length===r.length,new i.ParserError(`The number of types (${e.length}) does not match the number of values (${r.length}).`));let{staticBuffer:u,dynamicBuffer:d,pointers:f}=e.reduce(({staticBuffer:e,dynamicBuffer:i,pointers:s},l,u)=>{let d=(0,t.getParser)(l),f=r[u];return o||c||!(0,t.isDynamicParser)(d,l)?{staticBuffer:d.encode({buffer:e,value:f,type:l,packed:o,tight:a}),dynamicBuffer:i,pointers:s}:{staticBuffer:(0,n.concatBytes)([e,new Uint8Array(32)]),dynamicBuffer:d.encode({buffer:i,value:f,type:l,packed:o,tight:a}),pointers:[...s,{position:e.length,pointer:i.length}]}},{staticBuffer:new Uint8Array,dynamicBuffer:new Uint8Array,pointers:[]});(0,n.assert)(!o&&!c||0===d.length,new i.ParserError("Invalid pack state."));let h=u.length,p=f.reduce((e,{pointer:t,position:r})=>{let i=(0,s.padStart)((0,n.numberToBytes)(h+t));return(0,s.set)(e,i,r)},u);return(0,n.concatBytes)([l,p,d])},t.unpack=(e,r)=>{let a=(0,o.iterate)(r);return e.map(e=>{let{value:{value:o,skip:s},done:c}=a.next();(0,n.assert)(!c,new i.ParserError(`The encoded value is invalid for the provided types. Reached end of buffer while attempting to parse "${e}".`));let l=(0,t.getParser)(e);if((0,t.isDynamicParser)(l,e)){let t=(0,n.bytesToNumber)(o.subarray(0,32)),i=r.subarray(t);return l.decode({type:e,value:i,skip:s})}return l.decode({type:e,value:o,skip:s})})}},22200:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.address=t.getAddress=void 0;let n=r(60885),i=r(89977),o=r(39362);t.getAddress=e=>{let t=(0,n.createBytes)(e);return(0,n.assert)(t.length<=20,new i.ParserError(`Invalid address value. Expected address to be 20 bytes long, but received ${t.length} bytes.`)),(0,o.padStart)(t,20)},t.address={isDynamic:!1,isType:e=>"address"===e,getByteLength:()=>32,encode({buffer:e,value:r,packed:i}){let a=(0,t.getAddress)(r);if(i)return(0,n.concatBytes)([e,a]);let s=(0,o.padStart)(a);return(0,n.concatBytes)([e,s])},decode:({value:e})=>(0,n.add0x)((0,n.bytesToHex)(e.slice(12,32)))}},40987:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.array=t.getTupleType=t.getArrayType=t.isArrayType=void 0;let n=r(60885),i=r(89977),o=r(52086),a=r(39362),s=r(87550),c=r(55247),l=/^(?<type>.*)\[(?<length>\d*?)\]$/u;t.isArrayType=e=>l.test(e),t.getArrayType=e=>{let t=e.match(l);return(0,n.assert)(t?.groups?.type,new i.ParserError(`Invalid array type. Expected an array type, but received "${e}".`)),[t.groups.type,t.groups.length?parseInt(t.groups.length,10):void 0]},t.getTupleType=(e,t)=>`(${Array(t).fill(e).join(",")})`,t.array={isDynamic(e){let[r,n]=(0,t.getArrayType)(e);return void 0===n||(0,o.isDynamicParser)((0,o.getParser)(r),r)},isType:e=>(0,t.isArrayType)(e),getByteLength(e){(0,n.assert)((0,t.isArrayType)(e),new i.ParserError(`Expected an array type, but received "${e}".`));let[r,a]=(0,t.getArrayType)(e);return(0,o.isDynamicParser)(this,e)||void 0===a?32:c.tuple.getByteLength((0,t.getTupleType)(r,a))},encode({type:e,buffer:r,value:l,packed:u,tight:d}){let[f,h]=(0,t.getArrayType)(e);if((0,n.assert)(!u||!(0,t.isArrayType)(f),new i.ParserError("Cannot pack nested arrays.")),u&&(0,o.isDynamicParser)((0,o.getParser)(f),f))return(0,o.pack)({types:Array(l.length).fill(f),values:l,byteArray:r,packed:u,arrayPacked:!0,tight:d});if(h)return(0,n.assert)(h===l.length,new i.ParserError(`Array length does not match type length. Expected a length of ${h}, but received ${l.length}.`)),c.tuple.encode({type:(0,t.getTupleType)(f,h),buffer:r,value:l,packed:s.fixedBytes.isType(f)&&d,tight:d});if(u)return(0,o.pack)({types:Array(l.length).fill(f),values:l,byteArray:r,packed:s.fixedBytes.isType(f)&&d,arrayPacked:!0,tight:d});let p=(0,a.padStart)((0,n.numberToBytes)(l.length));return(0,o.pack)({types:Array(l.length).fill(f),values:l,byteArray:(0,n.concatBytes)([r,p]),packed:u,tight:d})},decode({type:e,value:r,...a}){let[s,l]=(0,t.getArrayType)(e);if(l){let e=c.tuple.decode({type:(0,t.getTupleType)(s,l),value:r,...a});return(0,n.assert)(e.length===l,new i.ParserError(`Array length does not match type length. Expected a length of ${l}, but received ${e.length}.`)),e}let u=(0,n.bytesToNumber)(r.subarray(0,32));return(0,o.unpack)(Array(u).fill(s),r.subarray(32))}}},17923:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bool=t.getBooleanValue=void 0;let n=r(12776),i=r(60885),o=r(89977),a=r(31150),s=(0,n.coerce)((0,n.boolean)(),(0,n.union)([(0,n.literal)("true"),(0,n.literal)("false")]),e=>"true"===e);t.getBooleanValue=e=>{try{if((0,n.create)(e,s))return BigInt(1);return BigInt(0)}catch{throw new o.ParserError(`Invalid boolean value. Expected a boolean literal, or the string "true" or "false", but received "${e}".`)}},t.bool={isDynamic:!1,isType:e=>"bool"===e,getByteLength:()=>32,encode({buffer:e,value:r,packed:n,tight:o}){let s=(0,t.getBooleanValue)(r);return n?(0,i.concatBytes)([e,(0,i.bigIntToBytes)(s)]):a.number.encode({type:"uint256",buffer:e,value:s,packed:n,tight:o})},decode:e=>a.number.decode({...e,type:"uint256"})===BigInt(1)}},89134:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bytes=void 0;let n=r(60885),i=r(39362);t.bytes={isDynamic:!0,isType:e=>"bytes"===e,getByteLength:()=>32,encode({buffer:e,value:t,packed:r}){let o=(0,n.createBytes)(t);if(r)return(0,n.concatBytes)([e,o]);let a=32*Math.ceil(o.byteLength/32);return(0,n.concatBytes)([e,(0,i.padStart)((0,n.numberToBytes)(o.byteLength)),(0,i.padEnd)(o,a)])},decode({value:e}){let t=e.subarray(0,32),r=(0,n.bytesToNumber)(t);return e.slice(32,32+r)}}},87550:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fixedBytes=t.getByteLength=void 0;let n=r(60885),i=r(89977),o=r(39362),a=/^bytes([0-9]{1,2})$/u;t.getByteLength=e=>{let t=e.match(a)?.[1];(0,n.assert)(t,`Invalid byte length. Expected a number between 1 and 32, but received "${e}".`);let r=Number(t);return(0,n.assert)(r>0&&r<=32,new i.ParserError(`Invalid byte length. Expected a number between 1 and 32, but received "${e}".`)),r},t.fixedBytes={isDynamic:!1,isType:e=>a.test(e),getByteLength:()=>32,encode({type:e,buffer:r,value:a,packed:s}){let c=(0,t.getByteLength)(e),l=(0,n.createBytes)(a);return((0,n.assert)(l.length<=c,new i.ParserError(`Expected a value of length ${c}, but received a value of length ${l.length}.`)),s)?(0,n.concatBytes)([r,(0,o.padEnd)(l,c)]):(0,n.concatBytes)([r,(0,o.padEnd)(l)])},decode({type:e,value:r}){let n=(0,t.getByteLength)(e);return r.slice(0,n)}}},24957:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fn=t.getFunction=void 0;let n=r(12776),i=r(60885),o=r(89977),a=r(87550),s=(0,n.coerce)((0,n.object)({address:i.StrictHexStruct,selector:i.StrictHexStruct}),(0,n.union)([i.StrictHexStruct,(0,n.instance)(Uint8Array)]),e=>{let t=(0,i.createBytes)(e);return(0,i.assert)(24===t.length,new o.ParserError(`Invalid Solidity function. Expected function to be 24 bytes long, but received ${t.length} bytes.`)),{address:(0,i.bytesToHex)(t.subarray(0,20)),selector:(0,i.bytesToHex)(t.subarray(20,24))}});t.getFunction=e=>{let t=(0,n.create)(e,s);return(0,i.concatBytes)([(0,i.hexToBytes)(t.address),(0,i.hexToBytes)(t.selector)])},t.fn={isDynamic:!1,isType:e=>"function"===e,getByteLength:()=>32,encode({buffer:e,value:r,packed:n,tight:i}){let o=(0,t.getFunction)(r);return a.fixedBytes.encode({type:"bytes24",buffer:e,value:o,packed:n,tight:i})},decode:({value:e})=>({address:(0,i.bytesToHex)(e.slice(0,20)),selector:(0,i.bytesToHex)(e.slice(20,24))})}},93595:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(22200),t),i(r(40987),t),i(r(17923),t),i(r(89134),t),i(r(87550),t),i(r(24957),t),i(r(31150),t),i(r(77987),t),i(r(58575),t),i(r(55247),t)},31150:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.number=t.getBigInt=t.assertNumberLength=t.getLength=t.isSigned=void 0;let n=r(60885),i=r(89977),o=r(39362),a=/^u?int(?<length>[0-9]*)?$/u;t.isSigned=e=>!e.startsWith("u"),t.getLength=e=>{if("int"===e||"uint"===e)return 256;let t=e.match(a);(0,n.assert)(t?.groups?.length,new i.ParserError(`Invalid number type. Expected a number type, but received "${e}".`));let r=parseInt(t.groups.length,10);return(0,n.assert)(r>=8&&r<=256,new i.ParserError(`Invalid number length. Expected a number between 8 and 256, but received "${e}".`)),(0,n.assert)(r%8==0,new i.ParserError(`Invalid number length. Expected a multiple of 8, but received "${e}".`)),r},t.assertNumberLength=(e,r)=>{let o=(0,t.getLength)(r),a=BigInt(2)**BigInt(o-((0,t.isSigned)(r)?1:0))-BigInt(1);if((0,t.isSigned)(r)){(0,n.assert)(e>=-(a+BigInt(1))&&e<=a,new i.ParserError(`Number "${e}" is out of range for type "${r}".`));return}(0,n.assert)(e<=a,new i.ParserError(`Number "${e}" is out of range for type "${r}".`))},t.getBigInt=e=>{try{return(0,n.createBigInt)(e)}catch{throw new i.ParserError(`Invalid number. Expected a valid number value, but received "${e}".`)}},t.number={isDynamic:!1,isType:e=>a.test(e),getByteLength:()=>32,encode({type:e,buffer:r,value:i,packed:a}){let s=(0,t.getBigInt)(i);if((0,t.assertNumberLength)(s,e),(0,t.isSigned)(e)){if(a){let i=(0,t.getLength)(e)/8;return(0,n.concatBytes)([r,(0,n.signedBigIntToBytes)(s,i)])}return(0,n.concatBytes)([r,(0,o.padStart)((0,n.signedBigIntToBytes)(s,32))])}if(a){let i=(0,t.getLength)(e)/8;return(0,n.concatBytes)([r,(0,o.padStart)((0,n.bigIntToBytes)(s),i)])}return(0,n.concatBytes)([r,(0,o.padStart)((0,n.bigIntToBytes)(s))])},decode({type:e,value:r}){let i=r.subarray(0,32);if((0,t.isSigned)(e)){let r=(0,n.bytesToSignedBigInt)(i);return(0,t.assertNumberLength)(r,e),r}let o=(0,n.bytesToBigInt)(i);return(0,t.assertNumberLength)(o,e),o}}},77987:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},58575:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.string=void 0;let n=r(60885),i=r(89134);t.string={isDynamic:!0,isType:e=>"string"===e,getByteLength:()=>32,encode:({buffer:e,value:t,packed:r,tight:o})=>i.bytes.encode({type:"bytes",buffer:e,value:(0,n.stringToBytes)(t),packed:r,tight:o}),decode:e=>(0,n.bytesToString)(i.bytes.decode(e))}},55247:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tuple=t.getTupleElements=void 0;let n=r(60885),i=r(89977),o=r(52086),a=/^\((.+)\)$/u,s=e=>a.test(e);t.getTupleElements=e=>{(0,n.assert)(e.startsWith("(")&&e.endsWith(")"),new i.ParserError(`Invalid tuple type. Expected tuple type, but received "${e}".`));let t=[],r="",o=0;for(let n=1;n<e.length-1;n++){let i=e[n];","===i&&0===o?(t.push(r.trim()),r=""):(r+=i,"("===i?o+=1:")"===i&&(o-=1))}return r.trim()&&t.push(r.trim()),t},t.tuple={isDynamic:e=>(0,t.getTupleElements)(e).some(e=>{let t=(0,o.getParser)(e);return(0,o.isDynamicParser)(t,e)}),isType:e=>s(e),getByteLength(e){return(0,o.isDynamicParser)(this,e)?32:(0,t.getTupleElements)(e).reduce((e,t)=>e+(0,o.getParser)(t).getByteLength(t),0)},encode({type:e,buffer:r,value:n,packed:i,tight:a}){let s=(0,t.getTupleElements)(e);return(0,o.pack)({types:s,values:n,byteArray:r,packed:i,tight:a})},decode({type:e,value:r,skip:n}){let i=(0,t.getTupleElements)(e);return n(this.getByteLength(e)-32),(0,o.unpack)(i,r)}}},3050:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},14083:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(3050),t)},20193:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.padEnd=t.padStart=t.set=void 0;let n=r(60885),i=32;t.set=(e,t,r)=>(0,n.concatBytes)([e.subarray(0,r),t,e.subarray(r+t.length)]),t.padStart=(e,t=i)=>{let r=new Uint8Array(Math.max(t-e.length,0)).fill(0);return(0,n.concatBytes)([r,e])},t.padEnd=(e,t=i)=>{let r=new Uint8Array(Math.max(t-e.length,0)).fill(0);return(0,n.concatBytes)([e,r])}},39362:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(20193),t)},90348:function(e,t,r){"use strict";let n,i,o;var a,s,c=r(25566),l=Object.create,u=Object.defineProperty,d=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,h=Object.getPrototypeOf,p=Object.prototype.hasOwnProperty,g=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of f(t))p.call(e,i)||i===r||u(e,i,{get:()=>t[i],enumerable:!(n=d(t,i))||n.enumerable});return e},m={};((e,t)=>{for(var r in t)u(e,r,{get:t[r],enumerable:!0})})(m,{analytics:()=>v}),e.exports=g(u({},"__esModule",{value:!0}),m);var y=(o=null!=(n=r(78046))?l(h(n)):{},g(!i&&n&&n.__esModule?o:u(o,"default",{value:n,enumerable:!0}),n)),b=class{constructor(e){this.batch=[],this.maxTimeoutMs=3e4,this.timeoutId=null,this.isSending=!1,this.batchSize=e.batchSize,this.baseTimeoutMs=e.baseTimeoutMs,this.currentTimeoutMs=e.baseTimeoutMs,this.sendFn=e.sendFn}enqueue(e){this.batch.push(e),this.schedule()}schedule(){this.batch.length>0&&!this.timeoutId&&(this.timeoutId=setTimeout(()=>{this.timeoutId=null,this.flush()},this.currentTimeoutMs))}async flush(){if(this.isSending||0===this.batch.length)return;this.isSending=!0;let e=[...this.batch.slice(0,this.batchSize)];this.batch=this.batch.slice(this.batchSize);try{await this.sendFn(e),this.currentTimeoutMs=this.baseTimeoutMs}catch(t){console.error("Sender: Failed to send batch",t),this.batch=[...e,...this.batch],this.currentTimeoutMs=Math.min(2*this.currentTimeoutMs,this.maxTimeoutMs)}finally{this.isSending=!1,this.schedule()}}},w=class{constructor(e){this.enabled=!1,this.properties={};let t=(0,y.default)({baseUrl:e}),r=async e=>{let r=await t.POST("/v1/events",{body:e});if(200!==r.response.status)throw Error(r.error)};this.sender=new b({batchSize:100,baseTimeoutMs:200,sendFn:r})}enable(){this.enabled=!0}setGlobalProperty(e,t){this.properties[e]=t}track(e,t){if(!this.enabled)return;let r={name:e,...this.properties,...t};this.sender.enqueue(r)}};void 0!==c&&c.env&&(a=null!=(s=c.env.METAMASK_ANALYTICS_ENDPOINT)?s:c.env.NEXT_PUBLIC_METAMASK_ANALYTICS_ENDPOINT);var v=new w(null!=a?a:"https://mm-sdk-analytics.api.cx.metamask.io/")},48444:function(e,t){"use strict";function r(e){if(!Number.isSafeInteger(e)||e<0)throw Error(`positive integer expected, not ${e}`)}function n(e){if("boolean"!=typeof e)throw Error(`boolean expected, not ${e}`)}function i(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function o(e,...t){if(!i(e))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function a(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.wrapConstructor");r(e.outputLen),r(e.blockLen)}function s(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function c(e,t){o(e);let r=t.outputLen;if(e.length<r)throw Error(`digestInto() expects output buffer of length at least ${r}`)}Object.defineProperty(t,"__esModule",{value:!0}),t.output=t.exists=t.hash=t.bytes=t.bool=t.number=t.isBytes=void 0,t.number=r,t.bool=n,t.isBytes=i,t.bytes=o,t.hash=a,t.exists=s,t.output=c,t.default={number:r,bool:n,bytes:o,hash:a,exists:s,output:c}},11993:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HashMD=t.Maj=t.Chi=void 0;let n=r(48444),i=r(28772);t.Chi=(e,t,r)=>e&t^~e&r,t.Maj=(e,t,r)=>e&t^e&r^t&r;class o extends i.Hash{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,i.createView)(this.buffer)}update(e){(0,n.exists)(this);let{view:t,buffer:r,blockLen:o}=this,a=(e=(0,i.toBytes)(e)).length;for(let n=0;n<a;){let s=Math.min(o-this.pos,a-n);if(s===o){let t=(0,i.createView)(e);for(;o<=a-n;n+=o)this.process(t,n);continue}r.set(e.subarray(n,n+s),this.pos),this.pos+=s,n+=s,this.pos===o&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,n.exists)(this),(0,n.output)(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:o,isLE:a}=this,{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>o-s&&(this.process(r,0),s=0);for(let e=s;e<o;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),o=BigInt(4294967295),a=Number(r>>i&o),s=Number(r&o),c=n?4:0,l=n?0:4;e.setUint32(t+c,a,n),e.setUint32(t+l,s,n)}(r,o-8,BigInt(8*this.length),a),this.process(r,0);let c=(0,i.createView)(e),l=this.outputLen;if(l%4)throw Error("_sha2: outputLen should be aligned to 32bit");let u=l/4,d=this.get();if(u>d.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<u;e++)c.setUint32(4*e,d[e],a)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:o,pos:a}=this;return e.length=n,e.pos=a,e.finished=i,e.destroyed=o,n%t&&e.buffer.set(r),e}}t.HashMD=o},34755:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.add5L=t.add5H=t.add4H=t.add4L=t.add3H=t.add3L=t.add=t.rotlBL=t.rotlBH=t.rotlSL=t.rotlSH=t.rotr32L=t.rotr32H=t.rotrBL=t.rotrBH=t.rotrSL=t.rotrSH=t.shrSL=t.shrSH=t.toBig=t.split=t.fromBig=void 0;let r=BigInt(4294967296-1),n=BigInt(32);function i(e,t=!1){return t?{h:Number(e&r),l:Number(e>>n&r)}:{h:0|Number(e>>n&r),l:0|Number(e&r)}}function o(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let o=0;o<e.length;o++){let{h:a,l:s}=i(e[o],t);[r[o],n[o]]=[a,s]}return[r,n]}t.fromBig=i,t.split=o;let a=(e,t)=>BigInt(e>>>0)<<n|BigInt(t>>>0);t.toBig=a;let s=(e,t,r)=>e>>>r;t.shrSH=s;let c=(e,t,r)=>e<<32-r|t>>>r;t.shrSL=c;let l=(e,t,r)=>e>>>r|t<<32-r;t.rotrSH=l;let u=(e,t,r)=>e<<32-r|t>>>r;t.rotrSL=u;let d=(e,t,r)=>e<<64-r|t>>>r-32;t.rotrBH=d;let f=(e,t,r)=>e>>>r-32|t<<64-r;t.rotrBL=f;let h=(e,t)=>t;t.rotr32H=h;let p=(e,t)=>e;t.rotr32L=p;let g=(e,t,r)=>e<<r|t>>>32-r;t.rotlSH=g;let m=(e,t,r)=>t<<r|e>>>32-r;t.rotlSL=m;let y=(e,t,r)=>t<<r-32|e>>>64-r;t.rotlBH=y;let b=(e,t,r)=>e<<r-32|t>>>64-r;function w(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/4294967296|0)|0,l:0|i}}t.rotlBL=b,t.add=w;let v=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);t.add3L=v;let E=(e,t,r,n)=>t+r+n+(e/4294967296|0)|0;t.add3H=E;let x=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);t.add4L=x;let A=(e,t,r,n,i)=>t+r+n+i+(e/4294967296|0)|0;t.add4H=A;let S=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0);t.add5L=S;let _=(e,t,r,n,i,o)=>t+r+n+i+o+(e/4294967296|0)|0;t.add5H=_,t.default={fromBig:i,split:o,toBig:a,shrSH:s,shrSL:c,rotrSH:l,rotrSL:u,rotrBH:d,rotrBL:f,rotr32H:h,rotr32L:p,rotlSH:g,rotlSL:m,rotlBH:y,rotlBL:b,add:w,add3L:v,add3H:E,add4L:x,add4H:A,add5H:_,add5L:S}},83917:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.crypto=void 0,t.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},89470:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha224=t.sha256=void 0;let n=r(11993),i=r(28772),o=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),s=new Uint32Array(64);class c extends n.HashMD{constructor(){super(64,32,8,!1),this.A=0|a[0],this.B=0|a[1],this.C=0|a[2],this.D=0|a[3],this.E=0|a[4],this.F=0|a[5],this.G=0|a[6],this.H=0|a[7]}get(){let{A:e,B:t,C:r,D:n,E:i,F:o,G:a,H:s}=this;return[e,t,r,n,i,o,a,s]}set(e,t,r,n,i,o,a,s){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|a,this.H=0|s}process(e,t){for(let r=0;r<16;r++,t+=4)s[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=s[e-15],r=s[e-2],n=(0,i.rotr)(t,7)^(0,i.rotr)(t,18)^t>>>3,o=(0,i.rotr)(r,17)^(0,i.rotr)(r,19)^r>>>10;s[e]=o+s[e-7]+n+s[e-16]|0}let{A:r,B:a,C:c,D:l,E:u,F:d,G:f,H:h}=this;for(let e=0;e<64;e++){let t=h+((0,i.rotr)(u,6)^(0,i.rotr)(u,11)^(0,i.rotr)(u,25))+(0,n.Chi)(u,d,f)+o[e]+s[e]|0,p=((0,i.rotr)(r,2)^(0,i.rotr)(r,13)^(0,i.rotr)(r,22))+(0,n.Maj)(r,a,c)|0;h=f,f=d,d=u,u=l+t|0,l=c,c=a,a=r,r=t+p|0}r=r+this.A|0,a=a+this.B|0,c=c+this.C|0,l=l+this.D|0,u=u+this.E|0,d=d+this.F|0,f=f+this.G|0,h=h+this.H|0,this.set(r,a,c,l,u,d,f,h)}roundClean(){s.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class l extends c{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}t.sha256=(0,i.wrapConstructor)(()=>new c),t.sha224=(0,i.wrapConstructor)(()=>new l)},32517:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shake256=t.shake128=t.keccak_512=t.keccak_384=t.keccak_256=t.keccak_224=t.sha3_512=t.sha3_384=t.sha3_256=t.sha3_224=t.Keccak=t.keccakP=void 0;let n=r(48444),i=r(34755),o=r(28772),a=[],s=[],c=[],l=BigInt(0),u=BigInt(1),d=BigInt(2),f=BigInt(7),h=BigInt(256),p=BigInt(113);for(let e=0,t=u,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],a.push(2*(5*n+r)),s.push((e+1)*(e+2)/2%64);let i=l;for(let e=0;e<7;e++)(t=(t<<u^(t>>f)*p)%h)&d&&(i^=u<<(u<<BigInt(e))-u);c.push(i)}let[g,m]=(0,i.split)(c,!0),y=(e,t,r)=>r>32?(0,i.rotlBH)(e,t,r):(0,i.rotlSH)(e,t,r),b=(e,t,r)=>r>32?(0,i.rotlBL)(e,t,r):(0,i.rotlSL)(e,t,r);function w(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let n=(t+8)%10,i=(t+2)%10,o=r[i],a=r[i+1],s=y(o,a,1)^r[n],c=b(o,a,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=s,e[t+r+1]^=c}let t=e[2],i=e[3];for(let r=0;r<24;r++){let n=s[r],o=y(t,i,n),c=b(t,i,n),l=a[r];t=e[l],i=e[l+1],e[l]=o,e[l+1]=c}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=g[n],e[1]^=m[n]}r.fill(0)}t.keccakP=w;class v extends o.Hash{constructor(e,t,r,i=!1,a=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=i,this.rounds=a,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,n.number)(r),0>=this.blockLen||this.blockLen>=200)throw Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,o.u32)(this.state)}keccak(){o.isLE||(0,o.byteSwap32)(this.state32),w(this.state32,this.rounds),o.isLE||(0,o.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(e){(0,n.exists)(this);let{blockLen:t,state:r}=this,i=(e=(0,o.toBytes)(e)).length;for(let n=0;n<i;){let o=Math.min(t-this.pos,i-n);for(let t=0;t<o;t++)r[this.pos++]^=e[n++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,(128&t)!=0&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){(0,n.exists)(this,!1),(0,n.bytes)(e),this.finish();let t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();let o=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+o),n),this.posOut+=o,n+=o}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,n.number)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,n.output)(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:o}=this;return e||(e=new v(t,r,n,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=o,e.destroyed=this.destroyed,e}}t.Keccak=v;let E=(e,t,r)=>(0,o.wrapConstructor)(()=>new v(t,e,r));t.sha3_224=E(6,144,28),t.sha3_256=E(6,136,32),t.sha3_384=E(6,104,48),t.sha3_512=E(6,72,64),t.keccak_224=E(1,144,28),t.keccak_256=E(1,136,32),t.keccak_384=E(1,104,48),t.keccak_512=E(1,72,64);let x=(e,t,r)=>(0,o.wrapXOFConstructorWithOpts)((n={})=>new v(t,e,void 0===n.dkLen?r:n.dkLen,!0));t.shake128=x(31,168,16),t.shake256=x(31,136,32)},28772:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.byteSwap32=t.byteSwapIfBE=t.byteSwap=t.isLE=t.rotl=t.rotr=t.createView=t.u32=t.u8=t.isBytes=void 0;let n=r(83917),i=r(48444);t.isBytes=function(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name},t.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength),t.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),t.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),t.rotr=(e,t)=>e<<32-t|e>>>t,t.rotl=(e,t)=>e<<t|e>>>32-t>>>0,t.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],t.byteSwap=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255,t.byteSwapIfBE=t.isLE?e=>e:e=>(0,t.byteSwap)(e),t.byteSwap32=function(e){for(let r=0;r<e.length;r++)e[r]=(0,t.byteSwap)(e[r])};let o=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));t.bytesToHex=function(e){(0,i.bytes)(e);let t="";for(let r=0;r<e.length;r++)t+=o[e[r]];return t};let a={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function s(e){return e>=a._0&&e<=a._9?e-a._0:e>=a._A&&e<=a._F?e-(a._A-10):e>=a._a&&e<=a._f?e-(a._a-10):void 0}t.hexToBytes=function(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw Error("padded hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=s(e.charCodeAt(i)),o=s(e.charCodeAt(i+1));if(void 0===r||void 0===o)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+o}return n};let c=async()=>{};async function l(e,r,n){let i=Date.now();for(let o=0;o<e;o++){n(o);let e=Date.now()-i;e>=0&&e<r||(await (0,t.nextTick)(),i+=e)}}function u(e){if("string"!=typeof e)throw Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function d(e){return"string"==typeof e&&(e=u(e)),(0,i.bytes)(e),e}t.nextTick=c,t.asyncLoop=l,t.utf8ToBytes=u,t.toBytes=d,t.concatBytes=function(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];(0,i.bytes)(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r};class f{clone(){return this._cloneInto()}}t.Hash=f;let h={}.toString;t.checkOpts=function(e,t){if(void 0!==t&&"[object Object]"!==h.call(t))throw Error("Options should be object or undefined");return Object.assign(e,t)},t.wrapConstructor=function(e){let t=t=>e().update(d(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t},t.wrapConstructorWithOpts=function(e){let t=(t,r)=>e(r).update(d(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},t.wrapXOFConstructorWithOpts=function(e){let t=(t,r)=>e(r).update(d(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},t.randomBytes=function(e=32){if(n.crypto&&"function"==typeof n.crypto.getRandomValues)return n.crypto.getRandomValues(new Uint8Array(e));throw Error("crypto.getRandomValues must be defined")}},25291:function(e,t){"use strict";function r(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function n(...e){let t=e=>e,r=(e,t)=>r=>e(t(r));return{encode:e.map(e=>e.encode).reduceRight(r,t),decode:e.map(e=>e.decode).reduce(r,t)}}function i(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw Error("alphabet.encode input should be an array of numbers");return t.map(t=>{if(t<0||t>=e.length)throw Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]})},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw Error("alphabet.decode input should be array of strings");return t.map(t=>{if("string"!=typeof t)throw Error(`alphabet.decode: not string element=${t}`);let r=e.indexOf(t);if(-1===r)throw Error(`Unknown letter: "${t}". Allowed: ${e}`);return r})}}}function o(e=""){if("string"!=typeof e)throw Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw Error("join.encode input should be array of strings");for(let e of t)if("string"!=typeof e)throw Error(`join.encode: non-string input=${e}`);return t.join(e)},decode:t=>{if("string"!=typeof t)throw Error("join.decode input should be string");return t.split(e)}}}function a(e,t="="){if("string"!=typeof t)throw Error("padding chr should be string");return{encode(r){if(!Array.isArray(r)||r.length&&"string"!=typeof r[0])throw Error("padding.encode input should be array of strings");for(let e of r)if("string"!=typeof e)throw Error(`padding.encode: non-string input=${e}`);for(;r.length*e%8;)r.push(t);return r},decode(r){if(!Array.isArray(r)||r.length&&"string"!=typeof r[0])throw Error("padding.encode input should be array of strings");for(let e of r)if("string"!=typeof e)throw Error(`padding.decode: non-string input=${e}`);let n=r.length;if(n*e%8)throw Error("Invalid padding: string should have whole number of bytes");for(;n>0&&r[n-1]===t;n--)if(!((n-1)*e%8))throw Error("Invalid padding: string has too much padding");return r.slice(0,n)}}}function s(e){if("function"!=typeof e)throw Error("normalize fn should be function");return{encode:e=>e,decode:t=>e(t)}}function c(e,t,r){if(t<2)throw Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(r<2)throw Error(`convertRadix: wrong to=${r}, base cannot be less than 2`);if(!Array.isArray(e))throw Error("convertRadix: data should be array");if(!e.length)return[];let n=0,i=[],o=Array.from(e);for(o.forEach(e=>{if(e<0||e>=t)throw Error(`Wrong integer: ${e}`)});;){let e=0,a=!0;for(let i=n;i<o.length;i++){let s=o[i],c=t*e+s;if(!Number.isSafeInteger(c)||t*e/t!==e||c-s!=t*e)throw Error("convertRadix: carry overflow");e=c%r;let l=Math.floor(c/r);if(o[i]=l,!Number.isSafeInteger(l)||l*r+e!==c)throw Error("convertRadix: carry overflow");a&&(l?a=!1:n=i)}if(i.push(e),a)break}for(let t=0;t<e.length-1&&0===e[t];t++)i.push(0);return i.reverse()}Object.defineProperty(t,"__esModule",{value:!0}),t.bytes=t.stringToBytes=t.str=t.bytesToString=t.hex=t.utf8=t.bech32m=t.bech32=t.base58check=t.createBase58check=t.base58xmr=t.base58xrp=t.base58flickr=t.base58=t.base64urlnopad=t.base64url=t.base64nopad=t.base64=t.base32crockford=t.base32hexnopad=t.base32hex=t.base32nopad=t.base32=t.base16=t.utils=void 0,t.assertNumber=function(e){if(!Number.isSafeInteger(e))throw Error(`Wrong integer: ${e}`)};let l=(e,t)=>t?l(t,e%t):e,u=(e,t)=>e+(t-l(e,t));function d(e,t,r,n){if(!Array.isArray(e))throw Error("convertRadix2: data should be array");if(t<=0||t>32)throw Error(`convertRadix2: wrong from=${t}`);if(r<=0||r>32)throw Error(`convertRadix2: wrong to=${r}`);if(u(t,r)>32)throw Error(`convertRadix2: carry overflow from=${t} to=${r} carryBits=${u(t,r)}`);let i=0,o=0,a=2**r-1,s=[];for(let n of e){if(n>=2**t)throw Error(`convertRadix2: invalid data word=${n} from=${t}`);if(i=i<<t|n,o+t>32)throw Error(`convertRadix2: carry overflow pos=${o} from=${t}`);for(o+=t;o>=r;o-=r)s.push((i>>o-r&a)>>>0);i&=2**o-1}if(i=i<<r-o&a,!n&&o>=t)throw Error("Excess padding");if(!n&&i)throw Error(`Non-zero padding: ${i}`);return n&&o>0&&s.push(i>>>0),s}function f(e){return{encode:t=>{if(!r(t))throw Error("radix.encode input should be Uint8Array");return c(Array.from(t),256,e)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw Error("radix.decode input should be array of numbers");return Uint8Array.from(c(t,e,256))}}}function h(e,t=!1){if(e<=0||e>32)throw Error("radix2: bits should be in (0..32]");if(u(8,e)>32||u(e,8)>32)throw Error("radix2: carry overflow");return{encode:n=>{if(!r(n))throw Error("radix2.encode input should be Uint8Array");return d(Array.from(n),8,e,!t)},decode:r=>{if(!Array.isArray(r)||r.length&&"number"!=typeof r[0])throw Error("radix2.decode input should be array of numbers");return Uint8Array.from(d(r,e,8,t))}}}function p(e){if("function"!=typeof e)throw Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch(e){}}}function g(e,t){if("function"!=typeof t)throw Error("checksum fn should be function");return{encode(n){if(!r(n))throw Error("checksum.encode: input should be Uint8Array");let i=t(n).slice(0,e),o=new Uint8Array(n.length+e);return o.set(n),o.set(i,n.length),o},decode(n){if(!r(n))throw Error("checksum.decode: input should be Uint8Array");let i=n.slice(0,-e),o=t(i).slice(0,e),a=n.slice(-e);for(let t=0;t<e;t++)if(o[t]!==a[t])throw Error("Invalid checksum");return i}}}t.utils={alphabet:i,chain:n,checksum:g,convertRadix:c,convertRadix2:d,radix:f,radix2:h,join:o,padding:a},t.base16=n(h(4),i("0123456789ABCDEF"),o("")),t.base32=n(h(5),i("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),a(5),o("")),t.base32nopad=n(h(5),i("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),o("")),t.base32hex=n(h(5),i("0123456789ABCDEFGHIJKLMNOPQRSTUV"),a(5),o("")),t.base32hexnopad=n(h(5),i("0123456789ABCDEFGHIJKLMNOPQRSTUV"),o("")),t.base32crockford=n(h(5),i("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),o(""),s(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),t.base64=n(h(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),a(6),o("")),t.base64nopad=n(h(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),o("")),t.base64url=n(h(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),a(6),o("")),t.base64urlnopad=n(h(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),o(""));let m=e=>n(f(58),i(e),o(""));t.base58=m("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),t.base58flickr=m("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),t.base58xrp=m("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");let y=[0,2,3,5,6,7,9,10,11];t.base58xmr={encode(e){let r="";for(let n=0;n<e.length;n+=8){let i=e.subarray(n,n+8);r+=t.base58.encode(i).padStart(y[i.length],"1")}return r},decode(e){let r=[];for(let n=0;n<e.length;n+=11){let i=e.slice(n,n+11),o=y.indexOf(i.length),a=t.base58.decode(i);for(let e=0;e<a.length-o;e++)if(0!==a[e])throw Error("base58xmr: wrong padding");r=r.concat(Array.from(a.slice(a.length-o)))}return Uint8Array.from(r)}},t.createBase58check=e=>n(g(4,t=>e(e(t))),t.base58),t.base58check=t.createBase58check;let b=n(i("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),o("")),w=[996825010,642813549,513874426,1027748829,705979059];function v(e){let t=e>>25,r=(33554431&e)<<5;for(let e=0;e<w.length;e++)(t>>e&1)==1&&(r^=w[e]);return r}function E(e,t,r=1){let n=e.length,i=1;for(let t=0;t<n;t++){let r=e.charCodeAt(t);if(r<33||r>126)throw Error(`Invalid prefix (${e})`);i=v(i)^r>>5}i=v(i);for(let t=0;t<n;t++)i=v(i)^31&e.charCodeAt(t);for(let e of t)i=v(i)^e;for(let e=0;e<6;e++)i=v(i);return i^=r,b.encode(d([i%1073741824],30,5,!1))}function x(e){let t="bech32"===e?1:734539939,r=h(5),n=r.decode,i=r.encode,o=p(n);function a(e,r,n=90){if("string"!=typeof e)throw Error(`bech32.encode prefix should be string, not ${typeof e}`);if(r instanceof Uint8Array&&(r=Array.from(r)),!Array.isArray(r)||r.length&&"number"!=typeof r[0])throw Error(`bech32.encode words should be array of numbers, not ${typeof r}`);if(0===e.length)throw TypeError(`Invalid prefix length ${e.length}`);let i=e.length+7+r.length;if(!1!==n&&i>n)throw TypeError(`Length ${i} exceeds limit ${n}`);let o=e.toLowerCase(),a=E(o,r,t);return`${o}1${b.encode(r)}${a}`}function s(e,r=90){if("string"!=typeof e)throw Error(`bech32.decode input should be string, not ${typeof e}`);if(e.length<8||!1!==r&&e.length>r)throw TypeError(`Wrong string length: ${e.length} (${e}). Expected (8..${r})`);let n=e.toLowerCase();if(e!==n&&e!==e.toUpperCase())throw Error("String must be lowercase or uppercase");let i=n.lastIndexOf("1");if(0===i||-1===i)throw Error('Letter "1" must be present between prefix and data only');let o=n.slice(0,i),a=n.slice(i+1);if(a.length<6)throw Error("Data must be at least 6 characters long");let s=b.decode(a).slice(0,-6),c=E(o,s,t);if(!a.endsWith(c))throw Error(`Invalid checksum in ${e}: expected "${c}"`);return{prefix:o,words:s}}let c=p(s);return{encode:a,decode:s,encodeFromBytes:function(e,t){return a(e,i(t))},decodeToBytes:function(e){let{prefix:t,words:r}=s(e,!1);return{prefix:t,words:r,bytes:n(r)}},decodeUnsafe:c,fromWords:n,fromWordsUnsafe:o,toWords:i}}t.bech32=x("bech32"),t.bech32m=x("bech32m"),t.utf8={encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)},t.hex=n(h(4),i("0123456789abcdef"),o(""),s(e=>{if("string"!=typeof e||e.length%2)throw TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()}));let A={utf8:t.utf8,hex:t.hex,base16:t.base16,base32:t.base32,base64:t.base64,base64url:t.base64url,base58:t.base58,base58xmr:t.base58xmr},S="Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr";t.bytesToString=(e,t)=>{if("string"!=typeof e||!A.hasOwnProperty(e))throw TypeError(S);if(!r(t))throw TypeError("bytesToString() expects Uint8Array");return A[e].encode(t)},t.str=t.bytesToString,t.stringToBytes=(e,t)=>{if(!A.hasOwnProperty(e))throw TypeError(S);if("string"!=typeof t)throw TypeError("stringToBytes() expects string");return A[e].decode(t)},t.bytes=t.stringToBytes},28554:function(e,t,r){"use strict";function n(e,t){return new Promise(function(r,n){var i=setTimeout(function(){n(Error("Promise timed out"))},t);e.then(function(e){return clearTimeout(i),r(e)}).catch(n)})}function i(e,t,r){var i=function(){try{return Promise.resolve(t(e))}catch(e){return Promise.reject(e)}};return new Promise(function(e){return setTimeout(e,r)}).then(function(){return n(i(),1e3)}).catch(function(t){null==e||e.log("warn","Callback Error",{error:t}),null==e||e.stats.increment("callback_error")}).then(function(){return e})}r.d(t,{FJ:function(){return n},UI:function(){return i}})},23790:function(e,t,r){"use strict";r.d(t,{Y:function(){return c},_:function(){return l}});var n=r(58590),i=r(91938),o=r(5853),a=function(){function e(){this._logs=[]}return e.prototype.log=function(e,t,r){var n=new Date;this._logs.push({level:e,message:t,time:n,extras:r})},Object.defineProperty(e.prototype,"logs",{get:function(){return this._logs},enumerable:!1,configurable:!0}),e.prototype.flush=function(){if(this.logs.length>1){var e=this._logs.reduce(function(e,t){var r,n,i,a=(0,o.pi)((0,o.pi)({},t),{json:JSON.stringify(t.extras,null," "),extras:t.extras});delete a.time;var s=null!==(i=null===(n=t.time)||void 0===n?void 0:n.toISOString())&&void 0!==i?i:"";return e[s]&&(s="".concat(s,"-").concat(Math.random())),(0,o.pi)((0,o.pi)({},e),((r={})[s]=a,r))},{});console.table?console.table(e):console.log(e)}else this.logs.forEach(function(e){var t=e.level,r=e.message,n=e.extras;"info"===t||"debug"===t?console.log(r,null!=n?n:""):console[t](r,null!=n?n:"")});this._logs=[]},e}(),s=r(23990),c=function(e){var t,r,n;this.retry=null===(t=e.retry)||void 0===t||t,this.type=null!==(r=e.type)&&void 0!==r?r:"plugin Error",this.reason=null!==(n=e.reason)&&void 0!==n?n:""},l=function(){function e(e,t,r,i){void 0===t&&(t=(0,n.v4)()),void 0===r&&(r=new s.i),void 0===i&&(i=new a),this.attempts=0,this.event=e,this._id=t,this.logger=i,this.stats=r}return e.system=function(){},e.prototype.isSame=function(e){return e.id===this.id},e.prototype.cancel=function(e){if(e)throw e;throw new c({reason:"Context Cancel"})},e.prototype.log=function(e,t,r){this.logger.log(e,t,r)},Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),e.prototype.updateEvent=function(e,t){var r;if("integrations"===e.split(".")[0]){var n=e.split(".")[1];if((null===(r=this.event.integrations)||void 0===r?void 0:r[n])===!1)return this.event}return(0,i.N)(this.event,e,t),this.event},e.prototype.failedDelivery=function(){return this._failedDelivery},e.prototype.setFailedDelivery=function(e){this._failedDelivery=e},e.prototype.logs=function(){return this.logger.logs},e.prototype.flush=function(){this.logger.flush(),this.stats.flush()},e.prototype.toJSON=function(){return{id:this._id,event:this.event,logs:this.logger.logs,metrics:this.stats.metrics}},e}()},19203:function(e,t,r){"use strict";r.d(t,{M:function(){return o},Z:function(){return a}});var n=r(5853),i=r(9182),o="onRemoveFromFuture",a=function(e){function t(t,r,n){var i=e.call(this)||this;return i.future=[],i.maxAttempts=t,i.queue=r,i.seen=null!=n?n:{},i}return(0,n.ZT)(t,e),t.prototype.push=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t.map(function(t){return!(e.updateAttempts(t)>e.maxAttempts||e.includes(t))&&(e.queue.push(t),!0)});return this.queue=this.queue.sort(function(t,r){return e.getAttempts(t)-e.getAttempts(r)}),n},t.prototype.pushWithBackoff=function(e,t){var r,n,i,a,s=this;if(void 0===t&&(t=0),0==t&&0===this.getAttempts(e))return this.push(e)[0];var c=this.updateAttempts(e);if(c>this.maxAttempts||this.includes(e))return!1;var l=(n=(r={attempt:c-1}).minTimeout,Math.min((Math.random()+1)*(void 0===n?500:n)*Math.pow(void 0===(i=r.factor)?2:i,r.attempt),void 0===(a=r.maxTimeout)?1/0:a));return t>0&&l<t&&(l=t),setTimeout(function(){s.queue.push(e),s.future=s.future.filter(function(t){return t.id!==e.id}),s.emit(o)},l),this.future.push(e),!0},t.prototype.getAttempts=function(e){var t;return null!==(t=this.seen[e.id])&&void 0!==t?t:0},t.prototype.updateAttempts=function(e){return this.seen[e.id]=this.getAttempts(e)+1,this.getAttempts(e)},t.prototype.includes=function(e){return this.queue.includes(e)||this.future.includes(e)||!!this.queue.find(function(t){return t.id===e.id})||!!this.future.find(function(t){return t.id===e.id})},t.prototype.pop=function(){return this.queue.shift()},Object.defineProperty(t.prototype,"length",{get:function(){return this.queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"todo",{get:function(){return this.queue.length+this.future.length},enumerable:!1,configurable:!0}),t}(i.Q)},24147:function(e,t,r){"use strict";r.d(t,{a:function(){return o},z:function(){return a}});var n=r(5853),i=r(23790);function o(e,t){e.log("debug","plugin",{plugin:t.name});var r=new Date().getTime(),o=t[e.event.type];return void 0===o?Promise.resolve(e):(function(e){return(0,n.mG)(this,void 0,void 0,function(){return(0,n.Jh)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,e()];case 1:return[2,t.sent()];case 2:return[2,Promise.reject(t.sent())];case 3:return[2]}})})})(function(){return o.apply(t,[e])}).then(function(e){var n=new Date().getTime()-r;return e.stats.gauge("plugin_time",n,["plugin:".concat(t.name)]),e}).catch(function(r){if(r instanceof i.Y&&"middleware_cancellation"===r.type)throw r;return r instanceof i.Y?e.log("warn",r.type,{plugin:t.name,error:r}):(e.log("error","plugin Error",{plugin:t.name,error:r}),e.stats.increment("plugin_error",1,["plugin:".concat(t.name)])),r})}function a(e,t){return o(e,t).then(function(t){if(t instanceof i._)return t;e.log("debug","Context canceled"),e.stats.increment("context_canceled"),e.cancel(t)})}},23990:function(e,t,r){"use strict";r.d(t,{i:function(){return o},s:function(){return i}});var n=r(5853),i=function(){function e(){this.metrics=[]}return e.prototype.increment=function(e,t,r){void 0===t&&(t=1),this.metrics.push({metric:e,value:t,tags:null!=r?r:[],type:"counter",timestamp:Date.now()})},e.prototype.gauge=function(e,t,r){this.metrics.push({metric:e,value:t,tags:null!=r?r:[],type:"gauge",timestamp:Date.now()})},e.prototype.flush=function(){var e=this.metrics.map(function(e){return(0,n.pi)((0,n.pi)({},e),{tags:e.tags.join(",")})});console.table?console.table(e):console.log(e),this.metrics=[]},e.prototype.serialize=function(){return this.metrics.map(function(e){return{m:e.metric,v:e.value,t:e.tags,k:({gauge:"g",counter:"c"})[e.type],e:e.timestamp}})},e}(),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,n.ZT)(t,e),t.prototype.gauge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},t.prototype.increment=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},t.prototype.flush=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},t.prototype.serialize=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return[]},t}(i)},75068:function(e,t,r){"use strict";function n(e){return"string"==typeof e}function i(e){return"number"==typeof e}function o(e){return"function"==typeof e}function a(e){return null!=e}function s(e){return"object"===Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}r.d(t,{Gg:function(){return a},HD:function(){return n},PO:function(){return s},hj:function(){return i},mf:function(){return o}})},94730:function(e,t,r){"use strict";r.d(t,{d:function(){return n}});var n=function(){var e,t,r=!1,n=new Promise(function(n,i){e=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];r=!0,n.apply(void 0,e)},t=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];r=!0,i.apply(void 0,e)}});return{resolve:e,reject:t,promise:n,isSettled:function(){return r}}}},9182:function(e,t,r){"use strict";r.d(t,{Q:function(){return n}});var n=function(){function e(e){var t;this.callbacks={},this.warned=!1,this.maxListeners=null!==(t=null==e?void 0:e.maxListeners)&&void 0!==t?t:10}return e.prototype.warnIfPossibleMemoryLeak=function(e){!this.warned&&this.maxListeners&&this.callbacks[e].length>this.maxListeners&&(console.warn("Event Emitter: Possible memory leak detected; ".concat(String(e)," has exceeded ").concat(this.maxListeners," listeners.")),this.warned=!0)},e.prototype.on=function(e,t){return this.callbacks[e]?(this.callbacks[e].push(t),this.warnIfPossibleMemoryLeak(e)):this.callbacks[e]=[t],this},e.prototype.once=function(e,t){var r=this,n=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];r.off(e,n),t.apply(r,i)};return this.on(e,n),this},e.prototype.off=function(e,t){var r,n=(null!==(r=this.callbacks[e])&&void 0!==r?r:[]).filter(function(e){return e!==t});return this.callbacks[e]=n,this},e.prototype.emit=function(e){for(var t,r=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return(null!==(t=this.callbacks[e])&&void 0!==t?t:[]).forEach(function(e){e.apply(r,n)}),this},e}()},88775:function(e,t,r){"use strict";r.d(t,{G:function(){return i},s:function(){return o}});var n=r(82836);function i(){return!(0,n.j)()||window.navigator.onLine}function o(){return!i()}},23192:function(e,t,r){"use strict";r.d(t,{U:function(){return n}});var n="api.segment.io/v1"},52322:function(e,t,r){"use strict";r.d(t,{_:function(){return a}});var n=r(5853),i=r(23790),o=r(95424),a=function(e){function t(t,r){return e.call(this,t,r,new o.j)||this}return(0,n.ZT)(t,e),t.system=function(){return new this({type:"track",event:"system"})},t}(i._)},82836:function(e,t,r){"use strict";function n(){return"undefined"!=typeof window}function i(){return!n()}r.d(t,{j:function(){return n},s:function(){return i}})},43051:function(e,t,r){"use strict";function n(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}}r.d(t,{a:function(){return n}})},95424:function(e,t,r){"use strict";r.d(t,{j:function(){return h}});var n,i=r(5853),o=r(23990),a=r(74683),s=r(78353),c=r(59400),l=r(23192),u=function(e,t,r){var n=t.reduce(function(e,t){var r=t.split(":"),n=r[0],i=r[1];return e[n]=i,e},{});return{type:"Counter",metric:e,value:1,tags:(0,i.pi)((0,i.pi)({},n),{library:"analytics.js",library_version:"web"===r?"next-".concat(s.i):"npm:next-".concat(s.i)})}};function d(e){console.error("Error sending segment performance metrics",e)}var f=function(){function e(e){var t,r,n,i,o,a=this;if(this.host=null!==(t=null==e?void 0:e.host)&&void 0!==t?t:l.U,this.sampleRate=null!==(r=null==e?void 0:e.sampleRate)&&void 0!==r?r:1,this.flushTimer=null!==(n=null==e?void 0:e.flushTimer)&&void 0!==n?n:3e4,this.maxQueueSize=null!==(i=null==e?void 0:e.maxQueueSize)&&void 0!==i?i:20,this.protocol=null!==(o=null==e?void 0:e.protocol)&&void 0!==o?o:"https",this.queue=[],this.sampleRate>0){var s=!1,c=function(){s||(s=!0,a.flush().catch(d),s=!1,setTimeout(c,a.flushTimer))};c()}}return e.prototype.increment=function(e,t){if(!(!e.includes("analytics_js.")||0===t.length||Math.random()>this.sampleRate)&&!(this.queue.length>=this.maxQueueSize)){var r=u(e,t,(0,c.B)());this.queue.push(r),e.includes("error")&&this.flush().catch(d)}},e.prototype.flush=function(){return(0,i.mG)(this,void 0,void 0,function(){var e=this;return(0,i.Jh)(this,function(t){switch(t.label){case 0:if(this.queue.length<=0)return[2];return[4,this.send().catch(function(t){d(t),e.sampleRate=0})];case 1:return t.sent(),[2]}})})},e.prototype.send=function(){return(0,i.mG)(this,void 0,void 0,function(){var e,t,r;return(0,i.Jh)(this,function(n){return e={series:this.queue},this.queue=[],t={"Content-Type":"text/plain"},r="".concat(this.protocol,"://").concat(this.host,"/m"),[2,(0,a.h)(r,{headers:t,body:JSON.stringify(e),method:"POST"})]})})},e}(),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,i.ZT)(t,e),t.initRemoteMetrics=function(e){n=new f(e)},t.prototype.increment=function(t,r,i){e.prototype.increment.call(this,t,r,i),null==n||n.increment(t,null!=i?i:[])},t}(o.s)},95329:function(e,t,r){"use strict";function n(e,t){var r=t.methodName,n=t.integrationName,i=t.type,o=t.didError;e.stats.increment("analytics_js.integration.invoke".concat(void 0!==o&&o?".error":""),1,["method:".concat(r),"integration_name:".concat(n),"type:".concat(i)])}r.d(t,{z:function(){return n}})},78353:function(e,t,r){"use strict";r.d(t,{i:function(){return n}});var n="1.81.1"},74683:function(e,t,r){"use strict";r.d(t,{h:function(){return a}});var n=r(52423),i=r.n(n),o=r(30339),a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,o.R)();return(r&&r.fetch||i()).apply(void 0,e)}},30339:function(e,t,r){"use strict";r.d(t,{R:function(){return n}});var n=function(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==r.g?r.g:null}},97608:function(e,t,r){"use strict";r.d(t,{jV:function(){return o},ql:function(){return a},wI:function(){return i}});var n="analytics";function i(){return window[n]}function o(e){n=e}function a(e){window[n]=e}},18140:function(e,t,r){"use strict";function n(e){return Array.prototype.slice.call(window.document.querySelectorAll("script")).find(function(t){return t.src===e})}function i(e,t){var r=n(e);if(void 0!==r){var i=null==r?void 0:r.getAttribute("status");if("loaded"===i)return Promise.resolve(r);if("loading"===i)return new Promise(function(e,t){r.addEventListener("load",function(){return e(r)}),r.addEventListener("error",function(e){return t(e)})})}return new Promise(function(r,n){var i,o=window.document.createElement("script");o.type="text/javascript",o.src=e,o.async=!0,o.setAttribute("status","loading");for(var a=0,s=Object.entries(null!=t?t:{});a<s.length;a++){var c=s[a],l=c[0],u=c[1];o.setAttribute(l,u)}o.onload=function(){o.onerror=o.onload=null,o.setAttribute("status","loaded"),r(o)},o.onerror=function(){o.onerror=o.onload=null,o.setAttribute("status","error"),n(Error("Failed to load ".concat(e)))};var d=window.document.querySelector("script");d?null===(i=d.parentElement)||void 0===i||i.insertBefore(o,d):window.document.head.appendChild(o)})}function o(e){var t=n(e);return void 0!==t&&t.remove(),Promise.resolve()}r.d(t,{t:function(){return o},v:function(){return i}})},70900:function(e,t,r){"use strict";r.d(t,{o:function(){return i}});var n=r(5853);function i(e,t){var r,i=Object.entries(null!==(r=t.integrations)&&void 0!==r?r:{}).reduce(function(e,t){var r,i,o=t[0],a=t[1];return"object"==typeof a?(0,n.pi)((0,n.pi)({},e),((r={})[o]=a,r)):(0,n.pi)((0,n.pi)({},e),((i={})[o]={},i))},{});return Object.entries(e.integrations).reduce(function(e,t){var r,o=t[0],a=t[1];return(0,n.pi)((0,n.pi)({},e),((r={})[o]=(0,n.pi)((0,n.pi)({},a),i[o]),r))},{})}},4488:function(e,t,r){"use strict";r.d(t,{x:function(){return i}});var n=r(5853),i=function(e,t){return(0,n.mG)(void 0,void 0,void 0,function(){var r;return(0,n.Jh)(this,function(i){return[2,(r=function(i){return(0,n.mG)(void 0,void 0,void 0,function(){var o;return(0,n.Jh)(this,function(n){switch(n.label){case 0:if(!e(i))return[3,2];return o=r,[4,t()];case 1:return[2,o.apply(void 0,[n.sent()])];case 2:return[2]}})})})(void 0)]})})}},45481:function(e,t,r){"use strict";r.d(t,{Kg:function(){return u},UH:function(){return c},Vl:function(){return l}});var n,i=r(97608),o=/(https:\/\/.*)\/analytics\.js\/v1\/(?:.*?)\/(?:platform|analytics.*)?/,a=function(){var e;return Array.prototype.slice.call(document.querySelectorAll("script")).forEach(function(t){var r,n=null!==(r=t.getAttribute("src"))&&void 0!==r?r:"",i=o.exec(n);i&&i[1]&&(e=i[1])}),e},s=function(){var e;return null!=n?n:null===(e=(0,i.wI)())||void 0===e?void 0:e._cdn},c=function(e){var t=(0,i.wI)();t&&(t._cdn=e),n=e},l=function(){var e=s();return e?e:a()||"https://cdn.segment.com"},u=function(){var e=l();return"".concat(e,"/next-integrations")}},14883:function(e,t,r){"use strict";r.d(t,{$:function(){return f}});var n=r(5853),i=r(19203),o=r(52322),a=r(82836),s={getItem:function(){},setItem:function(){},removeItem:function(){}};try{s=(0,a.j)()&&window.localStorage?window.localStorage:s}catch(e){console.warn("Unable to access localStorage",e)}function c(e){var t=s.getItem(e);return(t?JSON.parse(t):[]).map(function(e){return new o._(e.event,e.id)})}function l(e){var t=s.getItem(e);return t?JSON.parse(t):{}}function u(e){s.removeItem(e)}function d(e,t,r){void 0===r&&(r=0);var n="persisted-queue:v1:".concat(e,":lock"),i=s.getItem(n),o=i?JSON.parse(i):null,a=null===o||new Date().getTime()>o;if(a){s.setItem(n,JSON.stringify(new Date().getTime()+50)),t(),s.removeItem(n);return}!a&&r<3?setTimeout(function(){d(e,t,r+1)},50):console.error("Unable to retrieve lock")}var f=function(e){function t(t,r){var i=e.call(this,t,[])||this,o="persisted-queue:v1:".concat(r,":items"),a="persisted-queue:v1:".concat(r,":seen"),f=[],h={};return d(r,function(){try{f=c(o),h=l(a),u(o),u(a),i.queue=(0,n.ev)((0,n.ev)([],f,!0),i.queue,!0),i.seen=(0,n.pi)((0,n.pi)({},h),i.seen)}catch(e){console.error(e)}}),window.addEventListener("pagehide",function(){if(i.todo>0){var e=(0,n.ev)((0,n.ev)([],i.queue,!0),i.future,!0);try{d(r,function(){var t,r,u,d;t=c(o),r=(0,n.ev)((0,n.ev)([],e,!0),t,!0).reduce(function(e,t){var r;return(0,n.pi)((0,n.pi)({},e),((r={})[t.id]=t,r))},{}),s.setItem(o,JSON.stringify(Object.values(r))),u=i.seen,d=l(a),s.setItem(a,JSON.stringify((0,n.pi)((0,n.pi)({},d),u)))})}catch(e){console.error(e)}}}),i}return(0,n.ZT)(t,e),t}(i.Z)},96526:function(e,t,r){"use strict";r.d(t,{D:function(){return i}});var n=r(1963);function i(e,t){var r=new n.Facade(e,t);return"track"===e.type&&(r=new n.Track(e,t)),"identify"===e.type&&(r=new n.Identify(e,t)),"page"===e.type&&(r=new n.Page(e,t)),"alias"===e.type&&(r=new n.Alias(e,t)),"group"===e.type&&(r=new n.Group(e,t)),"screen"===e.type&&(r=new n.Screen(e,t)),Object.defineProperty(r,"obj",{value:e,writable:!0}),r}},59400:function(e,t,r){"use strict";function n(){return"npm"}r.d(t,{B:function(){return n}})},55217:function(e,t,r){"use strict";r.r(t),r.d(t,{applyDestinationMiddleware:function(){return a},sourceMiddlewarePlugin:function(){return s}});var n=r(5853),i=r(23790),o=r(96526);function a(e,t,r){return(0,n.mG)(this,void 0,void 0,function(){var i,a,s,c,l;return(0,n.Jh)(this,function(u){switch(u.label){case 0:i=(0,o.D)(t,{clone:!0,traverse:!1}).rawEvent(),a=0,s=r,u.label=1;case 1:if(!(a<s.length))return[3,4];return c=s[a],[4,function(t,r){return(0,n.mG)(this,void 0,void 0,function(){var i,a,s;return(0,n.Jh)(this,function(c){switch(c.label){case 0:return i=!1,a=null,[4,r({payload:(0,o.D)(t,{clone:!0,traverse:!1}),integration:e,next:function(e){i=!0,null===e&&(a=null),e&&(a=e.obj)}})];case 1:return c.sent(),i||null===a||(a.integrations=(0,n.pi)((0,n.pi)({},t.integrations),((s={})[e]=!1,s))),[2,a]}})})}(i,c)];case 2:if(null===(l=u.sent()))return[2,null];i=l,u.label=3;case 3:return a++,[3,1];case 4:return[2,i]}})})}function s(e,t){function r(r){return(0,n.mG)(this,void 0,void 0,function(){var a;return(0,n.Jh)(this,function(n){switch(n.label){case 0:return a=!1,[4,e({payload:(0,o.D)(r.event,{clone:!0,traverse:!1}),integrations:null!=t?t:{},next:function(e){a=!0,e&&(r.event=e.obj)}})];case 1:if(n.sent(),!a)throw new i.Y({retry:!1,type:"middleware_cancellation",reason:"Middleware `next` function skipped"});return[2,r]}})})}return{name:"Source Middleware ".concat(e.name),type:"before",version:"0.1.0",isLoaded:function(){return!0},load:function(e){return Promise.resolve(e)},track:r,page:r,screen:r,identify:r,alias:r,group:r}}},6528:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(92870));function o(e,t){return function(){var r=this.traits(),n=this.properties?this.properties():{};return i.default(r,"address."+e)||i.default(r,e)||(t?i.default(r,"address."+t):null)||(t?i.default(r,t):null)||i.default(n,"address."+e)||i.default(n,e)||(t?i.default(n,"address."+t):null)||(t?i.default(n,t):null)}}t.default=function(e){e.zip=o("postalCode","zip"),e.country=o("country"),e.street=o("street"),e.state=o("state"),e.city=o("city"),e.region=o("region")}},15422:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Alias=void 0;var i=n(r(56853)),o=r(97556);function a(e,t){o.Facade.call(this,e,t)}t.Alias=a,i.default(a,o.Facade),a.prototype.action=function(){return"alias"},a.prototype.type=a.prototype.action,a.prototype.previousId=function(){return this.field("previousId")||this.field("from")},a.prototype.from=a.prototype.previousId,a.prototype.userId=function(){return this.field("userId")||this.field("to")},a.prototype.to=a.prototype.userId},63571:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clone=void 0,t.clone=function e(t){if("object"!=typeof t)return t;if("[object Object]"===Object.prototype.toString.call(t)){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=e(t[n]));return r}return Array.isArray(t)?t.map(e):t}},37355:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Delete=void 0;var i=n(r(56853)),o=r(97556);function a(e,t){o.Facade.call(this,e,t)}t.Delete=a,i.default(a,o.Facade),a.prototype.type=function(){return"delete"}},97556:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Facade=void 0;var i=n(r(6528)),o=r(63571),a=n(r(28496)),s=n(r(85655)),c=n(r(92870)),l=n(r(37182));function u(e,t){t=t||{},this.raw=o.clone(e),"clone"in t||(t.clone=!0),t.clone&&(e=o.clone(e)),"traverse"in t||(t.traverse=!0),"timestamp"in e?e.timestamp=s.default(e.timestamp):e.timestamp=new Date,t.traverse&&l.default(e),this.opts=t,this.obj=e}t.Facade=u;var d=u.prototype;function f(e){return o.clone(e)}d.proxy=function(e){var t,r=e.split("."),n=this[e=r.shift()]||this.obj[e];return n?("function"==typeof n&&(n=n.call(this)||{}),0===r.length||(n=c.default(n,r.join("."))),this.opts.clone?(t=n,o.clone(t)):n):n},d.field=function(e){var t,r=this.obj[e];return this.opts.clone?(t=r,o.clone(t)):r},u.proxy=function(e){return function(){return this.proxy(e)}},u.field=function(e){return function(){return this.field(e)}},u.multi=function(e){return function(){var t=this.proxy(e+"s");if(Array.isArray(t))return t;var r=this.proxy(e);return r&&(r=[this.opts.clone?o.clone(r):r]),r||[]}},u.one=function(e){return function(){var t=this.proxy(e);if(t)return t;var r=this.proxy(e+"s");if(Array.isArray(r))return r[0]}},d.json=function(){var e=this.opts.clone?o.clone(this.obj):this.obj;return this.type&&(e.type=this.type()),e},d.rawEvent=function(){return this.raw},d.options=function(e){var t=this.obj.options||this.obj.context||{},r=this.opts.clone?o.clone(t):t;if(!e)return r;if(this.enabled(e)){var n=this.integrations(),i=n[e]||c.default(n,e);return"object"!=typeof i&&(i=c.default(this.options(),e)),"object"==typeof i?i:{}}},d.context=d.options,d.enabled=function(e){var t=this.proxy("options.providers.all");"boolean"!=typeof t&&(t=this.proxy("options.all")),"boolean"!=typeof t&&(t=this.proxy("integrations.all")),"boolean"!=typeof t&&(t=!0);var r=t&&a.default(e),n=this.integrations();if(n.providers&&n.providers.hasOwnProperty(e)&&(r=n.providers[e]),n.hasOwnProperty(e)){var i=n[e];r="boolean"!=typeof i||i}return!!r},d.integrations=function(){return this.obj.integrations||this.proxy("options.providers")||this.options()},d.active=function(){var e=this.proxy("options.active");return null==e&&(e=!0),e},d.anonymousId=function(){return this.field("anonymousId")||this.field("sessionId")},d.sessionId=d.anonymousId,d.groupId=u.proxy("options.groupId"),d.traits=function(e){var t=this.proxy("options.traits")||{},r=this.userId();for(var n in e=e||{},r&&(t.id=r),e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=null==this[n]?this.proxy("options.traits."+n):this[n]();if(null==i)continue;t[e[n]]=i,delete t[n]}return t},d.library=function(){var e=this.proxy("options.library");return e?"string"==typeof e?{name:e,version:null}:e:{name:"unknown",version:null}},d.device=function(){var e=this.proxy("context.device");("object"!=typeof e||null===e)&&(e={});var t=this.library().name;return e.type||(t.indexOf("ios")>-1&&(e.type="ios"),t.indexOf("android")>-1&&(e.type="android")),e},d.userAgent=u.proxy("context.userAgent"),d.timezone=u.proxy("context.timezone"),d.timestamp=u.field("timestamp"),d.channel=u.field("channel"),d.ip=u.proxy("context.ip"),d.userId=u.field("userId"),i.default(d)},5525:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Group=void 0;var i=n(r(56853)),o=n(r(22408)),a=n(r(85655)),s=r(97556);function c(e,t){s.Facade.call(this,e,t)}t.Group=c,i.default(c,s.Facade);var l=c.prototype;l.action=function(){return"group"},l.type=l.action,l.groupId=s.Facade.field("groupId"),l.created=function(){var e=this.proxy("traits.createdAt")||this.proxy("traits.created")||this.proxy("properties.createdAt")||this.proxy("properties.created");if(e)return a.default(e)},l.email=function(){var e=this.proxy("traits.email");if(e)return e;var t=this.groupId();if(o.default(t))return t},l.traits=function(e){var t=this.properties(),r=this.groupId();for(var n in e=e||{},r&&(t.id=r),e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=null==this[n]?this.proxy("traits."+n):this[n]();if(null==i)continue;t[e[n]]=i,delete t[n]}return t},l.name=s.Facade.proxy("traits.name"),l.industry=s.Facade.proxy("traits.industry"),l.employees=s.Facade.proxy("traits.employees"),l.properties=function(){return this.field("traits")||this.field("properties")||{}}},75216:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Identify=void 0;var i=r(97556),o=n(r(92870)),a=n(r(56853)),s=n(r(22408)),c=n(r(85655)),l=function(e){return e.trim()};function u(e,t){i.Facade.call(this,e,t)}t.Identify=u,a.default(u,i.Facade);var d=u.prototype;d.action=function(){return"identify"},d.type=d.action,d.traits=function(e){var t=this.field("traits")||{},r=this.userId();for(var n in e=e||{},r&&(t.id=r),e){var i=null==this[n]?this.proxy("traits."+n):this[n]();null!=i&&(t[e[n]]=i,n!==e[n]&&delete t[n])}return t},d.email=function(){var e=this.proxy("traits.email");if(e)return e;var t=this.userId();if(s.default(t))return t},d.created=function(){var e=this.proxy("traits.created")||this.proxy("traits.createdAt");if(e)return c.default(e)},d.companyCreated=function(){var e=this.proxy("traits.company.created")||this.proxy("traits.company.createdAt");if(e)return c.default(e)},d.companyName=function(){return this.proxy("traits.company.name")},d.name=function(){var e=this.proxy("traits.name");if("string"==typeof e)return l(e);var t=this.firstName(),r=this.lastName();if(t&&r)return l(t+" "+r)},d.firstName=function(){var e=this.proxy("traits.firstName");if("string"==typeof e)return l(e);var t=this.proxy("traits.name");if("string"==typeof t)return l(t).split(" ")[0]},d.lastName=function(){var e=this.proxy("traits.lastName");if("string"==typeof e)return l(e);var t=this.proxy("traits.name");if("string"==typeof t){var r=l(t).indexOf(" ");if(-1!==r)return l(t.substr(r+1))}},d.uid=function(){return this.userId()||this.username()||this.email()},d.description=function(){return this.proxy("traits.description")||this.proxy("traits.background")},d.age=function(){var e=this.birthday(),t=o.default(this.traits(),"age");return null!=t?t:e instanceof Date?new Date().getFullYear()-e.getFullYear():void 0},d.avatar=function(){var e=this.traits();return o.default(e,"avatar")||o.default(e,"photoUrl")||o.default(e,"avatarUrl")},d.position=function(){var e=this.traits();return o.default(e,"position")||o.default(e,"jobTitle")},d.username=i.Facade.proxy("traits.username"),d.website=i.Facade.one("traits.website"),d.websites=i.Facade.multi("traits.website"),d.phone=i.Facade.one("traits.phone"),d.phones=i.Facade.multi("traits.phone"),d.address=i.Facade.proxy("traits.address"),d.gender=i.Facade.proxy("traits.gender"),d.birthday=i.Facade.proxy("traits.birthday")},1963:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Delete=t.Screen=t.Page=t.Track=t.Identify=t.Group=t.Alias=t.Facade=void 0;var i=r(97556);Object.defineProperty(t,"Facade",{enumerable:!0,get:function(){return i.Facade}});var o=r(15422);Object.defineProperty(t,"Alias",{enumerable:!0,get:function(){return o.Alias}});var a=r(5525);Object.defineProperty(t,"Group",{enumerable:!0,get:function(){return a.Group}});var s=r(75216);Object.defineProperty(t,"Identify",{enumerable:!0,get:function(){return s.Identify}});var c=r(38004);Object.defineProperty(t,"Track",{enumerable:!0,get:function(){return c.Track}});var l=r(81146);Object.defineProperty(t,"Page",{enumerable:!0,get:function(){return l.Page}});var u=r(44794);Object.defineProperty(t,"Screen",{enumerable:!0,get:function(){return u.Screen}});var d=r(37355);Object.defineProperty(t,"Delete",{enumerable:!0,get:function(){return d.Delete}}),t.default=n(n({},i.Facade),{Alias:o.Alias,Group:a.Group,Identify:s.Identify,Track:c.Track,Page:l.Page,Screen:u.Screen,Delete:d.Delete})},22408:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=/.+\@.+\..+/;t.default=function(e){return r.test(e)}},28496:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={Salesforce:!0};t.default=function(e){return!r[e]}},81146:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Page=void 0;var i=n(r(56853)),o=r(97556),a=r(38004),s=n(r(22408));function c(e,t){o.Facade.call(this,e,t)}t.Page=c,i.default(c,o.Facade);var l=c.prototype;l.action=function(){return"page"},l.type=l.action,l.category=o.Facade.field("category"),l.name=o.Facade.field("name"),l.title=o.Facade.proxy("properties.title"),l.path=o.Facade.proxy("properties.path"),l.url=o.Facade.proxy("properties.url"),l.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")},l.properties=function(e){var t=this.field("properties")||{},r=this.category(),n=this.name();for(var i in e=e||{},r&&(t.category=r),n&&(t.name=n),e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=null==this[i]?this.proxy("properties."+i):this[i]();if(null==o)continue;t[e[i]]=o,i!==e[i]&&delete t[i]}return t},l.email=function(){var e=this.proxy("context.traits.email")||this.proxy("properties.email");if(e)return e;var t=this.userId();if(s.default(t))return t},l.fullName=function(){var e=this.category(),t=this.name();return t&&e?e+" "+t:t},l.event=function(e){return e?"Viewed "+e+" Page":"Loaded a Page"},l.track=function(e){var t=this.json();return t.event=this.event(e),t.timestamp=this.timestamp(),t.properties=this.properties(),new a.Track(t,this.opts)}},44794:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Screen=void 0;var i=n(r(56853)),o=r(81146),a=r(38004);function s(e,t){o.Page.call(this,e,t)}t.Screen=s,i.default(s,o.Page),s.prototype.action=function(){return"screen"},s.prototype.type=s.prototype.action,s.prototype.event=function(e){return e?"Viewed "+e+" Screen":"Loaded a Screen"},s.prototype.track=function(e){var t=this.json();return t.event=this.event(e),t.timestamp=this.timestamp(),t.properties=this.properties(),new a.Track(t,this.opts)}},38004:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Track=void 0;var i=n(r(56853)),o=r(97556),a=r(75216),s=n(r(22408)),c=n(r(92870));function l(e,t){o.Facade.call(this,e,t)}t.Track=l,i.default(l,o.Facade);var u=l.prototype;u.action=function(){return"track"},u.type=u.action,u.event=o.Facade.field("event"),u.value=o.Facade.proxy("properties.value"),u.category=o.Facade.proxy("properties.category"),u.id=o.Facade.proxy("properties.id"),u.productId=function(){return this.proxy("properties.product_id")||this.proxy("properties.productId")},u.promotionId=function(){return this.proxy("properties.promotion_id")||this.proxy("properties.promotionId")},u.cartId=function(){return this.proxy("properties.cart_id")||this.proxy("properties.cartId")},u.checkoutId=function(){return this.proxy("properties.checkout_id")||this.proxy("properties.checkoutId")},u.paymentId=function(){return this.proxy("properties.payment_id")||this.proxy("properties.paymentId")},u.couponId=function(){return this.proxy("properties.coupon_id")||this.proxy("properties.couponId")},u.wishlistId=function(){return this.proxy("properties.wishlist_id")||this.proxy("properties.wishlistId")},u.reviewId=function(){return this.proxy("properties.review_id")||this.proxy("properties.reviewId")},u.orderId=function(){return this.proxy("properties.id")||this.proxy("properties.order_id")||this.proxy("properties.orderId")},u.sku=o.Facade.proxy("properties.sku"),u.tax=o.Facade.proxy("properties.tax"),u.name=o.Facade.proxy("properties.name"),u.price=o.Facade.proxy("properties.price"),u.total=o.Facade.proxy("properties.total"),u.repeat=o.Facade.proxy("properties.repeat"),u.coupon=o.Facade.proxy("properties.coupon"),u.shipping=o.Facade.proxy("properties.shipping"),u.discount=o.Facade.proxy("properties.discount"),u.shippingMethod=function(){return this.proxy("properties.shipping_method")||this.proxy("properties.shippingMethod")},u.paymentMethod=function(){return this.proxy("properties.payment_method")||this.proxy("properties.paymentMethod")},u.description=o.Facade.proxy("properties.description"),u.plan=o.Facade.proxy("properties.plan"),u.subtotal=function(){var e=c.default(this.properties(),"subtotal"),t=this.total()||this.revenue();if(e)return e;if(!t)return 0;if(this.total()){var r=this.tax();r&&(t-=r),(r=this.shipping())&&(t-=r),(r=this.discount())&&(t+=r)}return t},u.products=function(){var e=this.properties(),t=c.default(e,"products");return Array.isArray(t)?t.filter(function(e){return null!==e}):[]},u.quantity=function(){return(this.obj.properties||{}).quantity||1},u.currency=function(){return(this.obj.properties||{}).currency||"USD"},u.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")},u.query=o.Facade.proxy("options.query"),u.properties=function(e){var t=this.field("properties")||{};for(var r in e=e||{})if(Object.prototype.hasOwnProperty.call(e,r)){var n=null==this[r]?this.proxy("properties."+r):this[r]();if(null==n)continue;t[e[r]]=n,delete t[r]}return t},u.username=function(){return this.proxy("traits.username")||this.proxy("properties.username")||this.userId()||this.sessionId()},u.email=function(){var e=this.proxy("traits.email")||this.proxy("properties.email")||this.proxy("options.traits.email");if(e)return e;var t=this.userId();if(s.default(t))return t},u.revenue=function(){var e=this.proxy("properties.revenue"),t=this.event();return!e&&t&&t.match(/^[ _]?completed[ _]?order[ _]?|^[ _]?order[ _]?completed[ _]?$/i)&&(e=this.proxy("properties.total")),function(e){if(e&&("number"==typeof e||"string"==typeof e&&!isNaN(e=parseFloat(e=e.replace(/\$/g,"")))))return e}(e)},u.cents=function(){var e=this.revenue();return"number"!=typeof e?this.value()||0:100*e},u.identify=function(){var e=this.json();return e.traits=this.traits(),new a.Identify(e,this.opts)}},37182:function(e,t,r){"use strict";var n=r(62244);e.exports=function e(t,r){var i,o;return(void 0===r&&(r=!0),t&&"object"==typeof t)?(i=r,Object.keys(t).forEach(function(r){t[r]=e(t[r],i)}),t):Array.isArray(t)?(o=r,t.forEach(function(r,n){t[n]=e(r,o)}),t):n.is(t,r)?n.parse(t):t}},62244:function(e,t){"use strict";var r=/^(\d{4})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:([ T])(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;t.parse=function(e){var t=[1,5,6,7,11,12],n=r.exec(e),i=0;if(!n)return new Date(e);for(var o,a=0;o=t[a];a++)n[o]=parseInt(n[o],10)||0;return n[2]=parseInt(n[2],10)||1,n[3]=parseInt(n[3],10)||1,n[2]--,n[8]=n[8]?(n[8]+"00").substring(0,3):0," "===n[4]?i=new Date().getTimezoneOffset():"Z"!==n[9]&&n[10]&&(i=60*n[11]+n[12],"+"===n[10]&&(i=0-i)),new Date(Date.UTC(n[1],n[2],n[3],n[5],n[6]+i,n[7],n[8]))},t.is=function(e,t){return"string"==typeof e&&(!t||!1!==/^\d{4}-\d{2}-\d{2}/.test(e))&&r.test(e)}},69028:function(e,t,r){"use strict";t._O=t.Jq=t.KB=t.u8=t.cv=void 0,t.Ik=t.A9=t.n_=t.gM=void 0;let n=r(82957);function i(e){if(!(e instanceof Uint8Array))throw TypeError("b must be a Uint8Array")}function o(e){return i(e),n.Buffer.from(e.buffer,e.byteOffset,e.length)}class a{constructor(e,t){if(!Number.isInteger(e))throw TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw RangeError("indeterminate span");return this.span}replicate(e){let t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}function s(e,t){return t.property?e+"["+t.property+"]":e}class c extends a{isCount(){throw Error("ExternalLayout is abstract")}}class l extends c{constructor(e,t=0,r){if(!(e instanceof a))throw TypeError("layout must be a Layout");if(!Number.isInteger(t))throw TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof u||this.layout instanceof d}decode(e,t=0){return this.layout.decode(e,t+this.offset)}encode(e,t,r=0){return this.layout.encode(e,t,r+this.offset)}}class u extends a{constructor(e,t){if(super(e,t),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(e,t=0){return o(e).readUIntLE(t,this.span)}encode(e,t,r=0){return o(t).writeUIntLE(e,r,this.span),this.span}}class d extends a{constructor(e,t){if(super(e,t),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(e,t=0){return o(e).readUIntBE(t,this.span)}encode(e,t,r=0){return o(t).writeUIntBE(e,r,this.span),this.span}}function f(e){let t=Math.floor(e/4294967296);return{hi32:t,lo32:e-4294967296*t}}function h(e,t){return 4294967296*e+t}class p extends a{constructor(e){super(8,e)}decode(e,t=0){let r=o(e),n=r.readUInt32LE(t);return h(r.readUInt32LE(t+4),n)}encode(e,t,r=0){let n=f(e),i=o(t);return i.writeUInt32LE(n.lo32,r),i.writeUInt32LE(n.hi32,r+4),8}}class g extends a{constructor(e){super(8,e)}decode(e,t=0){let r=o(e),n=r.readUInt32LE(t);return h(r.readInt32LE(t+4),n)}encode(e,t,r=0){let n=f(e),i=o(t);return i.writeUInt32LE(n.lo32,r),i.writeInt32LE(n.hi32,r+4),8}}class m extends a{constructor(e,t,r){if(!(e instanceof a))throw TypeError("elementLayout must be a Layout");if(!(t instanceof c&&t.isCount()||Number.isInteger(t)&&0<=t))throw TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let n=-1;t instanceof c||!(0<e.span)||(n=t*e.span),super(n,r),this.elementLayout=e,this.count=t}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0,n=this.count;if(n instanceof c&&(n=n.decode(e,t)),0<this.elementLayout.span)r=n*this.elementLayout.span;else{let i=0;for(;i<n;)r+=this.elementLayout.getSpan(e,t+r),++i}return r}decode(e,t=0){let r=[],n=0,i=this.count;for(i instanceof c&&(i=i.decode(e,t));n<i;)r.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),n+=1;return r}encode(e,t,r=0){let n=this.elementLayout,i=e.reduce((e,i)=>e+n.encode(i,t,r+e),0);return this.count instanceof c&&this.count.encode(e.length,t,r),i}}class y extends a{constructor(e,t,r){if(!(Array.isArray(e)&&e.reduce((e,t)=>e&&t instanceof a,!0)))throw TypeError("fields must be array of Layout instances");for(let n of("boolean"==typeof t&&void 0===r&&(r=t,t=void 0),e))if(0>n.span&&void 0===n.property)throw Error("fields cannot contain unnamed variable-length layout");let n=-1;try{n=e.reduce((e,t)=>e+t.getSpan(),0)}catch(e){}super(n,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((r,n)=>{let i=n.getSpan(e,t);return t+=i,r+i},0)}catch(e){throw RangeError("indeterminate span")}return r}decode(e,t=0){i(e);let r=this.makeDestinationObject();for(let n of this.fields)if(void 0!==n.property&&(r[n.property]=n.decode(e,t)),t+=n.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r=0){let n=r,i=0,o=0;for(let n of this.fields){let a=n.span;if(o=0<a?a:0,void 0!==n.property){let i=e[n.property];void 0!==i&&(o=n.encode(i,t,r),0>a&&(a=n.getSpan(t,r)))}i=r,r+=a}return i+o-n}fromArray(e){let t=this.makeDestinationObject();for(let r of this.fields)void 0!==r.property&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw TypeError("property must be string");for(let t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw TypeError("property must be string");let t=0;for(let r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}}class b{constructor(e){this.property=e}decode(e,t){throw Error("UnionDiscriminator is abstract")}encode(e,t,r){throw Error("UnionDiscriminator is abstract")}}class w extends b{constructor(e,t){if(!(e instanceof c&&e.isCount()))throw TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}}class v extends a{constructor(e,t,r){let n;if(e instanceof u||e instanceof d)n=new w(new l(e));else if(e instanceof c&&e.isCount())n=new w(e);else if(e instanceof b)n=e;else throw TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===t&&(t=null),!(null===t||t instanceof a))throw TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let i=-1;t&&0<=(i=t.span)&&(e instanceof u||e instanceof d)&&(i+=n.layout.span),super(i,r),this.discriminator=n,this.usesPrefixDiscriminator=e instanceof u||e instanceof d,this.defaultLayout=t,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return o(e)},this.configGetSourceVariant=function(e){o=e.bind(this)}}getSpan(e,t=0){if(0<=this.span)return this.span;let r=this.getVariant(e,t);if(!r)throw Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;let t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(let t in this.registry){let r=this.registry[t];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw Error("unable to infer src variant")}decode(e,t=0){let r;let n=this.discriminator,i=n.decode(e,t),o=this.registry[i];if(void 0===o){let o=this.defaultLayout,a=0;this.usesPrefixDiscriminator&&(a=n.layout.span),(r=this.makeDestinationObject())[n.property]=i,r[o.property]=o.decode(e,t+a)}else r=o.decode(e,t);return r}encode(e,t,r=0){let n=this.getSourceVariant(e);if(void 0===n){let n=this.discriminator,i=this.defaultLayout,o=0;return this.usesPrefixDiscriminator&&(o=n.layout.span),n.encode(e[n.property],t,r),o+i.encode(e[i.property],t,r+o)}return n.encode(e,t,r)}addVariant(e,t,r){let n=new E(this,e,t,r);return this.registry[e]=n,n}getVariant(e,t=0){let r;return e instanceof Uint8Array?r=this.discriminator.decode(e,t):r=e,this.registry[r]}}class E extends a{constructor(e,t,r,n){if(!(e instanceof v))throw TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw TypeError("variant must be a (non-negative) integer");if("string"==typeof r&&void 0===n&&(n=r,r=null),r){if(!(r instanceof a))throw TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=r.span&&r.span>e.defaultLayout.span)throw Error("variant span exceeds span of containing union");if("string"!=typeof n)throw TypeError("variant must have a String property")}let i=e.span;0>e.span&&0<=(i=r?r.span:0)&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span),super(i,n),this.union=e,this.variant=t,this.layout=r||null}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let n=0;return this.layout&&(n=this.layout.getSpan(e,t+r)),r+n}decode(e,t=0){let r=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw Error("variant mismatch");let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+n):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t,r=0){let n=0;if(this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let i=n;if(this.layout&&(this.layout.encode(e[this.property],t,r+n),i+=this.layout.getSpan(t,r+n),0<=this.union.span&&i>this.union.span))throw Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}function x(e){return 0>e&&(e+=4294967296),e}class A extends a{constructor(e,t,r){if(!(e instanceof u||e instanceof d))throw TypeError("word must be a UInt or UIntBE layout");if("string"==typeof t&&void 0===r&&(r=t,t=!1),4<e.span)throw RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!t,this.fields=[];let n=0;this._packedSetValue=function(e){return n=x(e),this},this._packedGetValue=function(){return n}}decode(e,t=0){let r=this.makeDestinationObject(),n=this.word.decode(e,t);for(let t of(this._packedSetValue(n),this.fields))void 0!==t.property&&(r[t.property]=t.decode(e));return r}encode(e,t,r=0){let n=this.word.decode(t,r);for(let t of(this._packedSetValue(n),this.fields))if(void 0!==t.property){let r=e[t.property];void 0!==r&&t.encode(r)}return this.word.encode(this._packedGetValue(),t,r)}addField(e,t){let r=new S(this,e,t);return this.fields.push(r),r}addBoolean(e){let t=new _(this,e);return this.fields.push(t),t}fieldFor(e){if("string"!=typeof e)throw TypeError("property must be string");for(let t of this.fields)if(t.property===e)return t}}class S{constructor(e,t,r){if(!(e instanceof A))throw TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw TypeError("bits must be positive integer");let n=8*e.span,i=e.fields.reduce((e,t)=>e+t.bits,0);if(t+i>n)throw Error("bits too long for span remainder ("+(n-i)+" of "+n+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,32===t&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=n-i-t),this.wordMask=x(this.valueMask<<this.start),this.property=r}decode(e,t){return x(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(e){if("number"!=typeof e||!Number.isInteger(e)||e!==x(e&this.valueMask))throw TypeError(s("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let t=this.container._packedGetValue(),r=x(e<<this.start);this.container._packedSetValue(x(t&~this.wordMask)|r)}}class _ extends S{constructor(e,t){super(e,1,t)}decode(e,t){return!!super.decode(e,t)}encode(e){"boolean"==typeof e&&(e=+e),super.encode(e)}}class I extends a{constructor(e,t){if(!(e instanceof c&&e.isCount()||Number.isInteger(e)&&0<=e))throw TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof c||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t=0){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),o(e).slice(t,t+r)}encode(e,t,r){let n=this.length;if(this.length instanceof c&&(n=e.length),!(e instanceof Uint8Array&&n===e.length))throw TypeError(s("Blob.encode",this)+" requires (length "+n+") Uint8Array as src");if(r+n>t.length)throw RangeError("encoding overruns Uint8Array");let i=o(e);return o(t).write(i.toString("hex"),r,n,"hex"),this.length instanceof c&&this.length.encode(n,t,r),n}}t.cv=(e,t,r)=>new l(e,t,r),t.u8=e=>new u(1,e),t.KB=e=>new u(2,e),t.Jq=e=>new u(4,e),t._O=e=>new p(e),t.gM=e=>new g(e),t.n_=(e,t,r)=>new y(e,t,r),t.A9=(e,t,r)=>new m(e,t,r),t.Ik=(e,t)=>new I(e,t)},14452:function(e,t,r){"use strict";r.d(t,{U:function(){return n}});let n=(e=>{if(e.length>=255)throw TypeError("Alphabet too long");let t=new Uint8Array(256);for(let e=0;e<t.length;e++)t[e]=255;for(let r=0;r<e.length;r++){let n=e.charAt(r),i=n.charCodeAt(0);if(255!==t[i])throw TypeError(`${n} is ambiguous`);t[i]=r}let r=e.length,n=e.charAt(0),i=Math.log(r)/Math.log(256),o=Math.log(256)/Math.log(r);function a(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;let o=0,a=0,s=0;for(;e[o]===n;)a++,o++;let c=(e.length-o)*i+1>>>0,l=new Uint8Array(c);for(;e[o];){let n=t[e.charCodeAt(o)];if(255===n)return;let i=0;for(let e=c-1;(0!==n||i<s)&&-1!==e;e--,i++)n+=r*l[e]>>>0,l[e]=n%256>>>0,n=n/256>>>0;if(0!==n)throw Error("Non-zero carry");s=i,o++}let u=c-s;for(;u!==c&&0===l[u];)u++;let d=new Uint8Array(a+(c-u)),f=a;for(;u!==c;)d[f++]=l[u++];return d}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";let i=0,a=0,s=0,c=t.length;for(;s!==c&&0===t[s];)s++,i++;let l=(c-s)*o+1>>>0,u=new Uint8Array(l);for(;s!==c;){let e=t[s],n=0;for(let t=l-1;(0!==e||n<a)&&-1!==t;t--,n++)e+=256*u[t]>>>0,u[t]=e%r>>>0,e=e/r>>>0;if(0!==e)throw Error("Non-zero carry");a=n,s++}let d=l-a;for(;d!==l&&0===u[d];)d++;let f=n.repeat(i);for(;d<l;++d)f+=e.charAt(u[d]);return f},decodeUnsafe:a,decode:function(e){let t=a(e);if(t)return t;throw Error(`Non-base${r} character`)}}})("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},19070:function(e,t,r){"use strict";r.d(t,{$e:function(){return i},Ck:function(){return n}});let n={GOOGLE:"google",TWITTER:"twitter",FACEBOOK:"facebook",DISCORD:"discord",FARCASTER:"farcaster",APPLE:"apple",GITHUB:"github",REDDIT:"reddit",LINE:"line",KAKAO:"kakao",LINKEDIN:"linkedin",TWITCH:"twitch",TELEGRAM:"telegram",WECHAT:"wechat",EMAIL_PASSWORDLESS:"email_passwordless",SMS_PASSWORDLESS:"sms_passwordless",CUSTOM:"custom",PASSKEYS:"passkeys",AUTHENTICATOR:"authenticator"},i={POPUP:"popup",REDIRECT:"redirect"}},99431:function(e,t,r){"use strict";r.d(t,{X:function(){return n}});let n=async e=>{let t;let r=e instanceof Error;if(e&&"object"==typeof e&&"status"in e&&"type"in e){let r=e.headers.get("content-type");if(r.includes("application/json")){let r=await e.json();t=Error((null==r?void 0:r.error)||(null==r?void 0:r.message)||JSON.stringify(r))}else t=r.includes("text/plain")?Error(await e.text()):Error(`${e.status} ${e.type.toString()} ${e.statusText}`)}else t="string"==typeof e?Error(e):r?e:Error("Unknown error");return t}},79177:function(e,t,r){"use strict";r.d(t,{HI:function(){return _},Xx:function(){return E},oq:function(){return w},pe:function(){return I},rc:function(){return v}});var n=r(61984),i=r(82957).Buffer;let o=new n.ec("secp256k1"),a=globalThis.crypto||globalThis.msCrypto||{},s=a.subtle||a.webkitSubtle,c=i.from("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141","hex"),l=i.alloc(32,0);function u(e,t){if(!e)throw Error(t||"Assertion failed")}function d(e){return!!i.isBuffer(e)&&32===e.length&&e.compare(l)>0&&0>e.compare(c)}function f(e){if(void 0===a.getRandomValues)return i.from(a.randomBytes(e));let t=new Uint8Array(e);return a.getRandomValues(t),i.from(t)}async function h(e){return new Uint8Array(a.createHash?a.createHash("sha512").update(e).digest():await s.digest("SHA-512",e))}function p(e){return async function(t,r,n){if(s&&s[e]&&s.importKey){let o=await s.importKey("raw",r,{name:"AES-CBC"},!1,[e]),a=await s[e]({name:"AES-CBC",iv:t},o,n);return i.from(new Uint8Array(a))}if("encrypt"===e&&a.createCipheriv){let e=a.createCipheriv("aes-256-cbc",r,t),o=e.update(n),s=e.final();return i.concat([o,s])}if("decrypt"===e&&a.createDecipheriv){let e=a.createDecipheriv("aes-256-cbc",r,t),o=e.update(n),s=e.final();return i.concat([o,s])}throw Error(`Unsupported operation: ${e}`)}}let g=p("encrypt"),m=p("decrypt");async function y(e,t){if(!a.createHmac){let r=await s.importKey("raw",new Uint8Array(e),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]),n=await s.sign("HMAC",r,t);return i.from(new Uint8Array(n))}let r=a.createHmac("sha256",i.from(e));return r.update(t),r.digest()}async function b(e,t,r){return function(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return 0===r}(await y(e,t),r)}let w=function(){let e=f(32);for(;!d(e);)e=f(32);return e},v=function(e){return A(e),i.from(o.keyFromPrivate(e).getPublic("array"))},E=async function(e,t){return A(e),u(t.length>0,"Message should not be empty"),u(t.length<=32,"Message is too long"),i.from(o.sign(t,e,{canonical:!0}).toDER())},x=function(e){u(65===e.length||33===e.length,"Bad public key: expected 65 or 33 bytes, got "+e.length),65===e.length&&u(4===e[0],"Bad public key: expected first byte 4, got "+e[0]),33===e.length&&u(2===e[0]||3===e[0],"Bad public key: expected first byte 2 or 3, got "+e[0])},A=function(e){u(i.isBuffer(e),"Bad private key: expected Buffer"),u(32===e.length,"Bad private key: expected 32 bytes, got "+e.length),u(d(e),"Bad private key: out of range")},S=async function(e,t,r){A(e),x(t);let n=o.keyFromPrivate(e),a=o.keyFromPublic(t),s=n.derive(a.getPublic());return r?i.from(s.toString(16,64),"hex"):i.from(s.toArray())},_=async function(e,t,r){let n=(r=r||{}).ephemPrivateKey||f(32);for(;!d(n);)n=r.ephemPrivateKey||f(32);let o=v(n),a=await S(n,e,r.padding),s=await h(a),c=r.iv||f(16),l=s.slice(0,32),u=s.slice(32),p=await g(c,i.from(l),t),m=i.concat([c,o,p]);return{iv:c,ephemPublicKey:o,ciphertext:p,mac:await y(i.from(u),m)}},I=async function(e,t,r){let n=await S(e,t.ephemPublicKey,r),o=await h(n),a=o.slice(0,32),s=o.slice(32),c=i.concat([t.iv,t.ephemPublicKey,t.ciphertext]),l=await b(i.from(s),c,t.mac);if(!l&&!r)return I(e,t,!0);if(!l&&!0===r)throw Error("bad MAC after trying padded");let u=await m(t.iv,i.from(a),t.ciphertext);return i.from(new Uint8Array(u))}},96988:function(e,t,r){"use strict";r.d(t,{ec:function(){return F},w:function(){return $}});var n=r(61984);let i=BigInt(4294967296-1),o=BigInt(32),a=(e,t,r)=>e<<r|t>>>32-r,s=(e,t,r)=>t<<r|e>>>32-r,c=(e,t,r)=>t<<r-32|e>>>64-r,l=(e,t,r)=>e<<r-32|t>>>64-r;function u(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function d(e,...t){if(!(e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function f(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function h(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}let p=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]?e=>e:function(e){for(let r=0;r<e.length;r++){var t;e[r]=(t=e[r])<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}return e};function g(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}(e)),d(e),e}class m{}let y=BigInt(0),b=BigInt(1),w=BigInt(2),v=BigInt(7),E=BigInt(256),x=BigInt(113),A=[],S=[],_=[];for(let e=0,t=b,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],A.push(2*(5*n+r)),S.push((e+1)*(e+2)/2%64);let i=y;for(let e=0;e<7;e++)(t=(t<<b^(t>>v)*x)%E)&w&&(i^=b<<(b<<BigInt(e))-b);_.push(i)}let I=function(e,t=!1){let r=e.length,n=new Uint32Array(r),a=new Uint32Array(r);for(let s=0;s<r;s++){let{h:r,l:c}=function(e,t=!1){return t?{h:Number(e&i),l:Number(e>>o&i)}:{h:0|Number(e>>o&i),l:0|Number(e&i)}}(e[s],t);[n[s],a[s]]=[r,c]}return[n,a]}(_,!0),C=I[0],O=I[1],P=(e,t,r)=>r>32?c(e,t,r):a(e,t,r),T=(e,t,r)=>r>32?l(e,t,r):s(e,t,r);class k extends m{constructor(e,t,r,n=!1,i=24){var o;if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=i,u(r),!(0<e&&e<200))throw Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=new Uint32Array((o=this.state).buffer,o.byteOffset,Math.floor(o.byteLength/4))}clone(){return this._cloneInto()}keccak(){p(this.state32),function(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let n=(t+8)%10,i=(t+2)%10,o=r[i],a=r[i+1],s=P(o,a,1)^r[n],c=T(o,a,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=s,e[t+r+1]^=c}let t=e[2],i=e[3];for(let r=0;r<24;r++){let n=S[r],o=P(t,i,n),a=T(t,i,n),s=A[r];t=e[s],i=e[s+1],e[s]=o,e[s+1]=a}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=C[n],e[1]^=O[n]}h(r)}(this.state32,this.rounds),p(this.state32),this.posOut=0,this.pos=0}update(e){f(this),d(e=g(e));let{blockLen:t,state:r}=this,n=e.length;for(let i=0;i<n;){let o=Math.min(t-this.pos,n-i);for(let t=0;t<o;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,(128&t)!=0&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){f(this,!1),d(e),this.finish();let t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();let o=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+o),n),this.posOut+=o,n+=o}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return u(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(!function(e,t){d(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,h(this.state)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:o}=this;return e||(e=new k(t,r,n,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=o,e.destroyed=this.destroyed,e}}let N=(e,t,r)=>(function(e){let t=t=>e().update(g(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t})(()=>new k(t,e,r)),M=N(1,144,28),R=N(1,136,32),D=N(1,104,48),L=N(1,72,64);function B(e){return t=>(d(t),e(t))}B(M);let U=(()=>{let e=B(R);return e.create=R.create,e})();B(D),B(L);var j=r(82957).Buffer;function $(e){return j.from(U(e))}let F=new n.ec("secp256k1")},92695:function(e,t,r){"use strict";r.d(t,{ow:function(){return s},q6:function(){return a}});var n=r(79177),i=r(96988),o=r(82957).Buffer;async function a(e,t){var r;let i=JSON.stringify(t),a=o.from(i,"utf-8");return JSON.stringify((r=await (0,n.HI)((0,n.rc)(o.from(e,"hex")),a),{iv:o.from(r.iv).toString("hex"),ephemPublicKey:o.from(r.ephemPublicKey).toString("hex"),ciphertext:o.from(r.ciphertext).toString("hex"),mac:o.from(r.mac).toString("hex")}))}async function s(e,t){var r;let a=(r=JSON.parse(t),{iv:o.from(r.iv,"hex"),ephemPublicKey:o.from(r.ephemPublicKey,"hex"),ciphertext:o.from(r.ciphertext,"hex"),mac:o.from(r.mac,"hex")}),s=i.ec.keyFromPrivate(e);return JSON.parse((await (0,n.pe)(o.from(s.getPrivate().toString("hex",64),"hex"),a)).toString("utf-8"))}},86247:function(e,t,r){"use strict";r.d(t,{c:function(){return I}});var n=r(31686),i=r(56127),o=r(17283),a=r(2908),s=r(72932),c=r(34763),l=r(22987),u=r(87721),d=r(30056),f=r(26374),h=r(46967),p=r(35304),g=r(6895),m=r(49519),y=r(70550),b=r(17324),w=r(60137);let v=[{inputs:[{internalType:"address",name:"moduleSetupContract",type:"address"},{internalType:"bytes",name:"moduleSetupData",type:"bytes"},{internalType:"uint256",name:"index",type:"uint256"}],name:"deployCounterFactualAccount",outputs:[{internalType:"address",name:"proxy",type:"address"}],stateMutability:"nonpayable",type:"function"}],E=[{inputs:[{internalType:"address",name:"handler",type:"address"},{internalType:"address",name:"moduleSetupContract",type:"address"},{internalType:"bytes",name:"moduleSetupData",type:"bytes"}],name:"init",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"eoaOwner",type:"address"}],name:"initForSmartAccount",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"dest",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"func",type:"bytes"}],name:"execute_ncC",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"dest",type:"address[]"},{internalType:"uint256[]",name:"value",type:"uint256[]"},{internalType:"bytes[]",name:"func",type:"bytes[]"}],name:"executeBatch_y6U",outputs:[],stateMutability:"nonpayable",type:"function"}],x=async({owner:e,index:t,ecdsaModuleAddress:r})=>{if(!e)throw Error("Owner account not found");let n=(0,o.R)({abi:E,functionName:"initForSmartAccount",args:[e]});return(0,o.R)({abi:v,functionName:"deployCounterFactualAccount",args:[r,n,t]})},A=async({factoryAddress:e,accountLogicAddress:t,fallbackHandlerAddress:r,ecdsaModuleAddress:n,owner:i,index:u=BigInt(0)})=>{let d=(0,o.R)({abi:E,functionName:"initForSmartAccount",args:[i]}),f=(0,o.R)({abi:E,functionName:"init",args:[r,n,d]}),h=(0,a._)(["bytes","uint256"],["0x6080346100aa57601f61012038819003918201601f19168301916001600160401b038311848410176100af578084926020946040528339810103126100aa57516001600160a01b0381168082036100aa5715610065573055604051605a90816100c68239f35b60405162461bcd60e51b815260206004820152601e60248201527f496e76616c696420696d706c656d656e746174696f6e206164647265737300006044820152606490fd5b600080fd5b634e487b7160e01b600052604160045260246000fdfe608060405230546000808092368280378136915af43d82803e156020573d90f35b3d90fdfea2646970667358221220a03b18dce0be0b4c9afe58a9eb85c35205e2cf087da098bbf1d23945bf89496064736f6c63430008110033",(0,s.y_)(t)]),p=(0,c.w)((0,a._)(["bytes32","uint256"],[(0,c.w)((0,a._)(["bytes"],[f])),u]));return(0,l.CR)({from:e,salt:p,bytecode:h,opcode:"CREATE2"})};async function S(e){let{owners:t,client:r,index:n=0n,address:i,accountLogicAddress:a="0x0000002512019Dafb59528B82CB92D3c5D2423aC",fallbackHandlerAddress:s="0x0bBa6d96BD616BedC6BFaa341742FD43c60b83C1",ecdsaModuleAddress:c="0x0000001c5b32F37F5beA87BDD5374eB2aC54eA8e",factoryAddress:l="0x000000a56Aaca3e9a4C479ea6b6CD0DbcB6634F5"}=e,v=await (0,w.J)({owner:t[0]}),S={address:e.entryPoint?.address??h.qe,abi:p.Jr,version:e.entryPoint?.version??"0.6"},_=i,I=async()=>({factory:l,factoryData:await x({owner:v.address,index:n,ecdsaModuleAddress:c})});return(0,g.A)({client:r,entryPoint:S,getFactoryArgs:I,getAddress:async()=>_||(_=await A({owner:v.address,ecdsaModuleAddress:c,factoryAddress:l,accountLogicAddress:a,fallbackHandlerAddress:s,index:n})),async getNonce(t){let n=await this.getAddress();return(0,b.m)(r,{address:n,entryPointAddress:S.address,key:e?.nonceKey??t?.key})},encodeCalls:async e=>{if(e.length>1)return(0,o.R)({abi:E,functionName:"executeBatch_y6U",args:[e.map(e=>e.to),e.map(e=>e.value??0n),e.map(e=>e.data??"0x")]});let t=0===e.length?void 0:e[0];if(!t)throw Error("No calls to encode");return(0,o.R)({abi:E,functionName:"execute_ncC",args:[t.to,t.value??0n,t.data??"0x"]})},decodeCalls:async e=>{let t=(0,u.p)({abi:E,data:e});if("execute_ncC"===t.functionName)return[{to:t.args[0],value:t.args[1],data:t.args[2]}];if("executeBatch_y6U"===t.functionName){let e=[];for(let r=0;r<t.args[0].length;r++)e.push({to:t.args[0][r],value:t.args[1][r],data:t.args[2][r]});return e}throw Error("Invalid function name")},async getStubSignature(){let e=c.substring(2).padEnd(40,"0");return`0x0000000000000000000000000000000000000000000000000000000000000040000000000000000000000000${e}000000000000000000000000000000000000000000000000000000000000004181d4b4981670cb18f99f0b4a66446df1bf5b204d24cfcb659bf38ba27a4359b5711649ec2423c5e1247245eba2964679b6a1dbb85c992ae40b9b00c6935b02ff1b00000000000000000000000000000000000000000000000000000000000000`},async sign({hash:e}){return this.signMessage({message:e})},async signMessage({message:e}){let t=await v.signMessage({message:e}),r=Number.parseInt(t.slice(-2),16);if(![27,28].includes(r)){let e=r+27;t=t.slice(0,-2)+e.toString(16)}return(0,d.E)([{type:"bytes"},{type:"address"}],[t,c])},async signTypedData(e){let t=await v.signTypedData(e),r=Number.parseInt(t.slice(-2),16);if(![27,28].includes(r)){let e=r+27;t=t.slice(0,-2)+e.toString(16)}return(0,d.E)([{type:"bytes"},{type:"address"}],[t,c])},async signUserOperation(e){let{chainId:t=r.chain?.id,...n}=e;if(!t)throw Error("Chain id not found");let i=(0,m.x)({userOperation:{...n,sender:n.sender??await this.getAddress(),signature:"0x"},entryPointAddress:S.address,entryPointVersion:S.version,chainId:t}),o=await (0,y.l)(r,{account:v,message:{raw:i}});return(0,d.E)((0,f.n)("bytes, address"),[o,c])}})}var _=r(19387);class I{constructor(e){(0,i.Z)(this,"name",_.FN.BICONOMY),(0,i.Z)(this,"options",void 0),this.options=e}async getSmartAccount(e){var t,r;return S((0,n.Z)((0,n.Z)((0,n.Z)({},this.options||{}),{},{entryPoint:{address:(null===(t=this.options)||void 0===t||null===(t=t.entryPoint)||void 0===t?void 0:t.address)||h.qe,version:(null===(r=this.options)||void 0===r||null===(r=r.entryPoint)||void 0===r?void 0:r.version)||"0.6"}},e),{},{owners:[e.walletClient],client:e.client}))}}},26311:function(e,t,r){"use strict";r.d(t,{F:function(){return ed}});var n,i,o=r(31686),a=r(56127),s=r(74409),c=r(89256),l=r(17283),u=r(34763),d=r(30056),f=r(59455),h=r(87721),p=r(46967),g=r(35304),m=r(6895),y=r(49519),b=r(12363),w=r(28766),v=r(82645),E=r(17324),x=r(59423),A=r(16880),S=r(31669);function _(e){switch(e){case"validator":return BigInt(1);case"executor":return BigInt(2);case"fallback":return BigInt(3);case"hook":return BigInt(4);default:throw Error("Invalid module type")}}var I=r(81544);class C extends I.G{constructor({docsPath:e}={}){super("Could not find an Account to execute with this Action.\nPlease provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client.",{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}var O=r(7068),P=r(60137);let T=[{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Operation",name:"",type:"uint8"}],name:"execute",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Call[]",name:"calls",type:"tuple[]"}],name:"executeBatch",outputs:[],stateMutability:"payable",type:"function"}],k=[{inputs:[{internalType:"contract IKernelValidator",name:"_defaultValidator",type:"address"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"initialize",outputs:[],stateMutability:"payable",type:"function"}],N=[{type:"function",name:"initialize",inputs:[{name:"_rootValidator",type:"bytes21",internalType:"ValidationId"},{name:"hook",type:"address",internalType:"contract IHook"},{name:"validatorData",type:"bytes",internalType:"bytes"},{name:"hookData",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"}],M=[{type:"function",name:"initialize",inputs:[{name:"_rootValidator",type:"bytes21",internalType:"ValidationId"},{name:"hook",type:"address",internalType:"contract IHook"},{name:"validatorData",type:"bytes",internalType:"bytes"},{name:"hookData",type:"bytes",internalType:"bytes"},{name:"initConfig",type:"bytes[]",internalType:"bytes[]"}],outputs:[],stateMutability:"nonpayable"}],R=[{type:"function",name:"createAccount",inputs:[{name:"data",type:"bytes",internalType:"bytes"},{name:"salt",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"payable"}],D=[{type:"function",name:"deployWithFactory",inputs:[{name:"factory",type:"address",internalType:"contract KernelFactory"},{name:"createData",type:"bytes",internalType:"bytes"},{name:"salt",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"payable"}],L="0xfffffffffffffffffffffffffffffff0000000000000000000000000000000007aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa1c",B={ROOT:"0x00",VALIDATOR:"0x01",EIP7702:"0x00"};(n=i||(i={})).DEFAULT="0x00",n.ENABLE="0x01";var U=r(1442);let j=e=>/0\.2\.\d+/.test(e),$=({kernelVersion:e,callData:t})=>{if(j(e)){let e=(0,h.p)({abi:T,data:t});if("executeBatch"===e.functionName)return e.args[0].map(e=>({to:e.to,value:e.value,data:e.data}));if("execute"===e.functionName){let[t,r,n]=e.args;return[{to:t,value:r,data:n}]}throw Error("Invalid function name")}return(0,U.X)(t).callData},F=({kernelVersion:e,calls:t})=>{if(j(e)){if(t.length>1)return(0,l.R)({abi:T,functionName:"executeBatch",args:[t.map(e=>({to:e.to,value:e.value??0n,data:e.data??"0x"}))]});let e=0===t.length?void 0:t[0];if(!e)throw Error("No calls to encode");return(0,l.R)({abi:T,functionName:"execute",args:[e.to,e.value??0n,e.data??"0x",0]})}return(0,A.l)({mode:{type:t.length>1?"batchcall":"call",revertOnError:!1,selector:"0x",context:"0x"},callData:t})};var z=r(75018),q=r(8796);let G=(e,t,r=0n)=>{if(j(e))return r;if(r>z.rU)throw Error(`nonce key must be equal or less than 2 bytes(maxUint16) for Kernel version ${e}`);let n=i.DEFAULT,o=B.ROOT;return BigInt((0,q.vk)((0,c.SM)([n,o,t,(0,f.NC)(r,{size:2})]),{size:24}))},H=e=>"webAuthn"===e.type;var V=r(15566),W=r(99493);let Z=(e,{accountAddress:t,kernelVersion:r,chainId:n})=>{let i=(0,W.Xp)({domain:{name:"Kernel",version:r,chainId:n,verifyingContract:t}}),o=j(r)?e:(0,u.w)((0,d.E)([{type:"bytes32"},{type:"bytes32"}],[(0,u.w)((0,f.$G)("Kernel(bytes32 hash)")),e]));return(0,u.w)((0,c.SM)(["0x1901",i,o]))};async function K({message:e,owner:t,accountAddress:r,kernelVersion:n,chainId:i,eip7702:o}){if(H(t)){let o;if("string"==typeof e)o=Z((0,V.r)(e),{kernelVersion:n,accountAddress:r,chainId:i});else if("raw"in e&&"string"==typeof e.raw)o=e.raw;else if("raw"in e&&e.raw instanceof Uint8Array)o=e.raw.toString();else throw Error("Unsupported message format");let{signature:a,webauthn:s}=await t.sign({hash:o}),{Signature:c}=await (0,O.Pj)(),l=c.fromHex(a);return(0,d.E)([{name:"authenticatorData",type:"bytes"},{name:"clientDataJSON",type:"string"},{name:"responseTypeLocation",type:"uint256"},{name:"r",type:"uint256"},{name:"s",type:"uint256"},{name:"usePrecompiled",type:"bool"}],[s.authenticatorData,s.clientDataJSON,BigInt(s.typeIndex),BigInt(l.r),BigInt(l.s),!1])}if(o)return t.signTypedData({message:{hash:(0,V.r)(e)},primaryType:"Kernel",types:{Kernel:[{name:"hash",type:"bytes32"}]},domain:{name:"Kernel",version:n,chainId:i,verifyingContract:r}});if("0.2.1"===n||"0.2.2"===n)return t.signMessage({message:e});let a=Z((0,V.r)(e),{kernelVersion:n,accountAddress:r,chainId:i});return t.signMessage({message:{raw:a}})}var Y=r(42727);async function J(e){let{owner:t,accountAddress:r,kernelVersion:n,chainId:i,eip7702:o,...a}=e;if(("0.2.1"===n||"0.2.2"===n)&&!H(t))return t.signTypedData({...a});let{message:s,primaryType:c,types:l,domain:u}=a,d={EIP712Domain:(0,W.cj)({domain:u}),...l};(0,W.iC)({domain:u,message:s,primaryType:c,types:d});let f=(0,Y.Jv)({message:s,primaryType:c,types:d,domain:u});if(o&&!H(t))return t.signTypedData({message:{hash:f},primaryType:"Kernel",types:{Kernel:[{name:"hash",type:"bytes32"}]},domain:{name:"Kernel",version:n,chainId:i,verifyingContract:r}});let h=Z(f,{kernelVersion:n,accountAddress:r,chainId:i});return H(t)?K({message:{raw:h},owner:t,accountAddress:r,kernelVersion:n,chainId:i,eip7702:!1}):t.signMessage({message:{raw:h}})}let X=[{type:"function",name:"migrateWithCall",inputs:[{name:"validators",type:"address[]",internalType:"contract IValidator[]"},{name:"permissionIds",type:"bytes4[]",internalType:"bytes4[]"},{name:"execMode",type:"bytes32",internalType:"ExecMode"},{name:"execData",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"}],Q=[{inputs:[{internalType:"address",name:"_implementation",type:"address"},{internalType:"bytes",name:"_data",type:"bytes"},{internalType:"uint256",name:"_index",type:"uint256"}],name:"createAccount",outputs:[{internalType:"address",name:"proxy",type:"address"}],stateMutability:"payable",type:"function"}],ee="0x03EB97959433D55748839D27C93330Cb85F31A93",et={"0.2.1":{ECDSA_VALIDATOR:"0xd9AB5096a832b9ce79914329DAEE236f8Eea0390",ACCOUNT_LOGIC:"0xf048AD83CB2dfd6037A43902a2A5Be04e53cd2Eb",FACTORY_ADDRESS:"0x5de4839a76cf55d0c90e2061ef4386d962E15ae3"},"0.2.2":{ECDSA_VALIDATOR:"0xd9AB5096a832b9ce79914329DAEE236f8Eea0390",ACCOUNT_LOGIC:"0x0DA6a956B9488eD4dd761E59f52FDc6c8068E6B5",FACTORY_ADDRESS:"0x5de4839a76cf55d0c90e2061ef4386d962E15ae3"},"0.2.3":{ECDSA_VALIDATOR:"0xd9AB5096a832b9ce79914329DAEE236f8Eea0390",ACCOUNT_LOGIC:"0xD3F582F6B4814E989Ee8E96bc3175320B5A540ab",FACTORY_ADDRESS:"0x5de4839a76cf55d0c90e2061ef4386d962E15ae3"},"0.2.4":{ECDSA_VALIDATOR:"0xd9AB5096a832b9ce79914329DAEE236f8Eea0390",ACCOUNT_LOGIC:"0xd3082872F8B06073A021b4602e022d5A070d7cfC",FACTORY_ADDRESS:"0x5de4839a76cf55d0c90e2061ef4386d962E15ae3"},"0.3.0-beta":{ECDSA_VALIDATOR:"0x8104e3Ad430EA6d354d013A6789fDFc71E671c43",ACCOUNT_LOGIC:"0x94F097E1ebEB4ecA3AAE54cabb08905B239A7D27",FACTORY_ADDRESS:"0x6723b44Abeec4E71eBE3232BD5B455805baDD22f",META_FACTORY_ADDRESS:"0xd703aaE79538628d27099B8c4f621bE4CCd142d5",WEB_AUTHN_VALIDATOR:"0x7ab16Ff354AcB328452F1D445b3Ddee9a91e9e69"},"0.3.1":{ECDSA_VALIDATOR:"0x845ADb2C711129d4f3966735eD98a9F09fC4cE57",ACCOUNT_LOGIC:"0xBAC849bB641841b44E965fB01A4Bf5F074f84b4D",FACTORY_ADDRESS:"0xaac5D4240AF87249B3f71BC8E4A2cae074A3E419",META_FACTORY_ADDRESS:"0xd703aaE79538628d27099B8c4f621bE4CCd142d5",WEB_AUTHN_VALIDATOR:"0x7ab16Ff354AcB328452F1D445b3Ddee9a91e9e69"},"0.3.2":{ECDSA_VALIDATOR:"0x845ADb2C711129d4f3966735eD98a9F09fC4cE57",ACCOUNT_LOGIC:"0xD830D15D3dc0C269F3dBAa0F3e8626d33CFdaBe1",FACTORY_ADDRESS:"0x7a1dBAB750f12a90EB1B60D2Ae3aD17D4D81EfFe",META_FACTORY_ADDRESS:"0xd703aaE79538628d27099B8c4f621bE4CCd142d5"},"0.3.3":{ECDSA_VALIDATOR:"0x845ADb2C711129d4f3966735eD98a9F09fC4cE57",ACCOUNT_LOGIC:"0xd6CEDDe84be40893d153Be9d467CD6aD37875b28",FACTORY_ADDRESS:"0x2577507b78c2008Ff367261CB6285d44ba5eF2E9",META_FACTORY_ADDRESS:"0xd703aaE79538628d27099B8c4f621bE4CCd142d5"}},er=(e,t,r)=>r?"0.3.3":t||("0.6"===e?"0.2.2":"0.3.0-beta"),en=({validatorAddress:e,accountLogicAddress:t,factoryAddress:r,metaFactoryAddress:n,kernelVersion:i,isWebAuthn:o})=>{let a=et[i],c=e??(o?a.WEB_AUTHN_VALIDATOR:a.ECDSA_VALIDATOR);return{validatorAddress:c,accountLogicAddress:t??a.ACCOUNT_LOGIC,factoryAddress:r??a.FACTORY_ADDRESS,metaFactoryAddress:n??a?.META_FACTORY_ADDRESS??s.D}},ei=(e,t=!1)=>(0,c.SM)([t?B.EIP7702:B.VALIDATOR,t?"0x":e]),eo=({entryPoint:{version:e},kernelVersion:t,validatorData:r,validatorAddress:n})=>"0.6"===e?(0,l.R)({abi:k,functionName:"initialize",args:[n,r]}):"0.3.0-beta"===t?(0,l.R)({abi:N,functionName:"initialize",args:[ei(n),s.D,r,"0x"]}):(0,l.R)({abi:M,functionName:"initialize",args:[ei(n),s.D,r,"0x",[]]}),ea=async e=>{if("local"===e.type)return e.address;if(H(e)){let{PublicKey:t,Hex:r,Base64:n}=await (0,O.Pj)(),i=t.fromHex(e.publicKey),o=(0,u.w)(r.fromBytes(n.toBytes(e.id)));return(0,d.E)([{components:[{name:"x",type:"uint256"},{name:"y",type:"uint256"}],name:"webAuthnData",type:"tuple"},{name:"authenticatorIdHash",type:"bytes32"}],[{x:i.x,y:i.y},o])}throw Error("Invalid owner type")},es=async({entryPointVersion:e,kernelVersion:t,validatorData:r,index:n,factoryAddress:i,accountLogicAddress:o,validatorAddress:a,useMetaFactory:s})=>{let c=eo({entryPoint:{version:e},kernelVersion:t,validatorAddress:a,validatorData:r});return"0.6"===e?(0,l.R)({abi:Q,functionName:"createAccount",args:[o,c,n]}):s?(0,l.R)({abi:D,functionName:"deployWithFactory",args:[i,c,(0,f.NC)(n,{size:32})]}):(0,l.R)({abi:R,functionName:"createAccount",args:[c,(0,f.NC)(n,{size:32})]})};async function ec(e){let t;let{client:r,address:n,index:i=0n,version:o,validatorAddress:a,factoryAddress:u,metaFactoryAddress:f,accountLogicAddress:I,useMetaFactory:O=!0,eip7702:T=!1}=e,k=(()=>{if(T&&"owner"in e)return[e.owner];if("owners"in e)return e.owners;throw Error("Invalid parameters")})(),N="webAuthn"===k[0].type,M=await (N?k[0]:(0,P.J)({owner:k[0]})),R=(()=>{let t=e.entryPoint?.address??p.VU,r=e.entryPoint?.version??"0.7",n=g.iH;return"0.6"===r&&(n=g.Jr),{address:t,abi:n,version:r}})(),D=er(R.version,o,T),{accountLogicAddress:B,validatorAddress:U,factoryAddress:z,metaFactoryAddress:q}=en({validatorAddress:a,accountLogicAddress:I,factoryAddress:u,metaFactoryAddress:f,kernelVersion:D,isWebAuthn:N});if(!U)throw Error("Validator address is required");let V=async e=>es({entryPointVersion:R.version,kernelVersion:D,validatorData:await ea(M),index:i,factoryAddress:z,accountLogicAddress:B,validatorAddress:U,useMetaFactory:e}),W=async()=>t||(t=r.chain?r.chain.id:await (0,v.s)(r,b.L,"getChainId")({})),Z=e=>async()=>({factory:"0.6"===R.version||!1===e?z:q,factoryData:await V(e)}),{accountAddress:Y,getFactoryArgs:Q}=await (async()=>{if(T)return{accountAddress:M.address,getFactoryArgs:async()=>({factory:void 0,factoryData:void 0})};let e=Z("optional"===O||O);if(n&&"optional"!==O)return{accountAddress:n,getFactoryArgs:e};let{factory:t,factoryData:i}=await e(),o=await (0,x.a)(r,{factory:t,factoryData:i,entryPointAddress:R.address});if(n===o)return{accountAddress:o,getFactoryArgs:e};if("optional"===O&&o===s.D){e=Z(!1);let{factory:t,factoryData:n}=await e();o=await (0,x.a)(r,{factory:t,factoryData:n,entryPointAddress:R.address})}return{accountAddress:o,getFactoryArgs:e}})(),et=async()=>"0x017ab16ff354acb328452f1d445b3ddee9a91e9e69"===(await (0,v.s)(r,w.L,"readContract")({address:Y,abi:[{type:"function",name:"rootValidator",inputs:[],outputs:[{name:"",type:"bytes21",internalType:"ValidationId"}],stateMutability:"view"}],functionName:"rootValidator",args:[]})).toLowerCase(),eo="0xbA45a2BFb8De3D24cA9D7F1B551E14dFF5d690Fd"!==U;return(0,m.A)({client:r,entryPoint:R,getFactoryArgs:Q,extend:T?{implementation:B}:void 0,authorization:T?{address:B,account:M}:void 0,getAddress:async()=>Y,async encodeCalls(e){if(eo||(eo="isDeployed"in this&&await this.isDeployed()&&await et()),!eo){let[t]=function(e){let t=e.account;if(!t)throw new C({docsPath:"/docs/actions/wallet/sendTransaction"});return(Array.isArray(e.modules)?e.modules:[e.modules]).map(({type:e,address:r,context:n,initData:i})=>({to:t.address,value:BigInt(0),data:(0,l.R)({abi:[{type:"function",name:"installModule",inputs:[{name:"moduleType",type:"uint256",internalType:"uint256"},{name:"module",type:"address",internalType:"address"},{name:"initData",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"}],functionName:"installModule",args:[_(e),(0,S.K)(r),n??i]})}))}({account:this,modules:[{type:"fallback",address:ee,context:"0x36f541c10000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000800000000000000000000000000000000000000000000000000000000000000001FF0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000"}]}),[r]=function(e){let t=e.account;if(!t)throw new C({docsPath:"/docs/actions/wallet/sendTransaction"});return(Array.isArray(e.modules)?e.modules:[e.modules]).map(({type:e,address:r,context:n,deInitData:i})=>({to:t.address,value:BigInt(0),data:(0,l.R)({abi:[{type:"function",name:"uninstallModule",inputs:[{name:"moduleType",type:"uint256",internalType:"uint256"},{name:"module",type:"address",internalType:"address"},{name:"deInitData",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"}],functionName:"uninstallModule",args:[_(e),(0,S.K)(r),n??i]})}))}({account:this,modules:[{type:"fallback",address:ee,context:"0x36f541c1"}]}),n=F({calls:e,kernelVersion:D}),{args:i}=(0,h.p)({abi:[{type:"function",name:"execute",inputs:[{name:"execMode",type:"bytes32",internalType:"ExecMode"},{name:"executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"}],data:n}),o=(0,l.R)({abi:X,functionName:"migrateWithCall",args:[[],[],...i]});return"0.3.0-beta"!==D?(0,A.l)({mode:{type:"delegatecall",revertOnError:!1,selector:"0x",context:"0x"},callData:[{to:ee,data:o,value:0n}]}):F({calls:[t,{to:Y,data:o,value:0n},r],kernelVersion:D})}return F({calls:e,kernelVersion:D})},decodeCalls:async e=>$({callData:e,kernelVersion:D}),async getNonce(t){return(0,E.m)(r,{address:await this.getAddress(),entryPointAddress:R.address,key:G(D,U,e.nonceKey??0n)})},getStubSignature:async()=>j(D)?(0,c.SM)(["0x00000000",L]):H(M)?(0,d.E)([{name:"authenticatorData",type:"bytes"},{name:"clientDataJSON",type:"string"},{name:"responseTypeLocation",type:"uint256"},{name:"r",type:"uint256"},{name:"s",type:"uint256"},{name:"usePrecompiled",type:"bool"}],["0x49960de5880e8c687434170f6476605b8fe4aeb9a28632c7995cf3ba831d97631d00000000",'{"type":"webauthn.get","challenge":"tbxXNFS9X_4Byr1cMwqKrIGB-_30a0QhZ6y7ucM0BOE","origin":"http://localhost:3000","crossOrigin":false, "other_keys_can_be_added_here":"do not compare clientDataJSON against a template. See https://goo.gl/yabPex"}',1n,0x635bc6d0f68ff895cae8a288ecf7542a6a9cd555df784b73e1e2ea7e9104b1dbn,0x15e9015d280cb19527881c625fee43fd3a405d5b0d199a8c8e6589a7381209e4n,!1]):L,async sign({hash:e}){return this.signMessage({message:e})},async signMessage({message:e}){if("isDeployed"in this&&!await this.isDeployed()&&T)throw Error("Kernel with EIP-7702 isn't 1271 compliant before delegation.");let t=await K({owner:M,message:e,accountAddress:await this.getAddress(),kernelVersion:D,chainId:await W(),eip7702:T});return j(D)?t:(0,c.SM)([ei(U,T),t])},async signTypedData(e){if("isDeployed"in this&&!await this.isDeployed()&&T)throw Error("Kernel with EIP-7702 isn't 1271 compliant before delegation.");let t=await J({owner:M,chainId:await W(),...e,accountAddress:await this.getAddress(),kernelVersion:D,eip7702:T});return j(D)?t:(0,c.SM)([ei(U,T),t])},async signUserOperation(e){let{chainId:t=await W(),...r}=e,n=(0,y.x)({userOperation:{...r,sender:r.sender??await this.getAddress(),signature:"0x"},entryPointAddress:R.address,entryPointVersion:R.version,chainId:t}),i=H(M)?await K({owner:M,message:{raw:n},chainId:t,accountAddress:await this.getAddress(),kernelVersion:D,eip7702:!1}):await M.signMessage({message:{raw:n}});return j(D)?(0,c.SM)(["0x00000000",i]):i}})}async function el(e){return ec({...e,validatorAddress:e.validatorAddress??e.ecdsaValidatorAddress})}var eu=r(19387);class ed{constructor(e){(0,a.Z)(this,"name",eu.FN.KERNEL),(0,a.Z)(this,"options",void 0),this.options=e}async getSmartAccount(e){return el((0,o.Z)((0,o.Z)((0,o.Z)({},this.options||{}),e),{},{owners:[e.walletClient],client:e.client}))}}},12786:function(e,t,r){"use strict";r.d(t,{x:function(){return iV}});var n,i,o,a,s=r(31686),c=r(56127),l=r(2908),u=r(30056),d=({target:e,value:t=0n,callData:r="0x"})=>({target:e,value:t,callData:r}),f=((n=f||{}).SingleDefault="0x0000000000000000000000000000000000000000000000000000000000000000",n.SingleTry="0x0001000000000000000000000000000000000000000000000000000000000000",n.BatchDefault="0x0100000000000000000000000000000000000000000000000000000000000000",n.BatchTry="0x0101000000000000000000000000000000000000000000000000000000000000",n),h=[{type:"address",name:"target"},{type:"uint256",name:"value"},{type:"bytes",name:"callData"}],p=e=>(0,l._)(["address","uint256","bytes"],[e.target,e.value,e.callData]),g=e=>(0,u.E)([{components:h,name:"executions",type:"tuple[]"}],[e]),m=e=>{if(0===e.length)throw Error("Error while getting the execution calldatas, executions is empty");if(1===e.length){let t=e[0];if(!t)throw Error("Execution not found");return p(t)}return g(e)},y=e=>{if(0===e.length)throw Error("Error while getting the execution calldatas, executionsBatch is empty");return e.map(m)},b=r(34763),w=r(59455);class v extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}function E(e,t="Assertion failed.",r=v){if(!e){if(t instanceof Error)throw t;throw"string"==typeof r?.prototype?.constructor?.name?new r({message:t}):r({message:t})}}class x extends TypeError{constructor(e,t){let r;let{message:n,explanation:i,...o}=e,{path:a}=e,s=0===a.length?n:`At path: ${a.join(".")} -- ${n}`;super(i??s),null!=i&&(this.cause=s),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function A(e){return"object"==typeof e&&null!==e}function S(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function*_(e,t,r,n){var i;for(let o of(A(i=e)&&"function"==typeof i[Symbol.iterator]||(e=[e]),e)){let e=function(e,t,r,n){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});let{path:i,branch:o}=t,{type:a}=r,{refinement:s,message:c=`Expected a value of type \`${a}\`${s?` with refinement \`${s}\``:""}, but received: \`${S(n)}\``}=e;return{value:n,type:a,refinement:s,key:i[i.length-1],path:i,branch:o,...e,message:c}}(o,t,r,n);e&&(yield e)}}class I{constructor(e){let{type:t,schema:r,validator:n,refiner:i,coercer:o=e=>e,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=o,n?this.validator=(e,t)=>_(n(e,t),t,this,e):this.validator=()=>[],i?this.refiner=(e,t)=>_(i(e,t),t,this,e):this.refiner=()=>[]}assert(e,t){return function(e,t,r){let n=C(e,t,{message:r});if(n[0])throw n[0]}(e,this,t)}create(e,t){return function(e,t,r){let n=C(e,t,{coerce:!0,message:r});if(!n[0])return n[1];throw n[0]}(e,this,t)}is(e){return!C(e,this)[0]}mask(e,t){return function(e,t,r){let n=C(e,t,{coerce:!0,mask:!0,message:r});if(!n[0])return n[1];throw n[0]}(e,this,t)}validate(e,t={}){return C(e,this,t)}}function C(e,t,r={}){let n=function* e(t,r,n={}){let{path:i=[],branch:o=[t],coerce:a=!1,mask:s=!1}=n,c={path:i,branch:o};if(a&&(t=r.coercer(t,c),s&&"type"!==r.type&&A(r.schema)&&A(t)&&!Array.isArray(t)))for(let e in t)void 0===r.schema[e]&&delete t[e];let l="valid";for(let e of r.validator(t,c))e.explanation=n.message,l="not_valid",yield[e,void 0];for(let[u,d,f]of r.entries(t,c))for(let r of e(d,f,{path:void 0===u?i:[...i,u],branch:void 0===u?o:[...o,d],coerce:a,mask:s,message:n.message}))r[0]?(l=null===r[0].refinement||void 0===r[0].refinement?"not_valid":"not_refined",yield[r[0],void 0]):a&&(d=r[1],void 0===u?t=d:t instanceof Map?t.set(u,d):t instanceof Set?t.add(d):A(t)&&(void 0!==d||u in t)&&(t[u]=d));if("not_valid"!==l)for(let e of r.refiner(t,c))e.explanation=n.message,l="not_refined",yield[e,void 0];"valid"===l&&(yield[void 0,t])}(e,t,r),i=function(e){let{done:t,value:r}=e.next();return t?void 0:r}(n);return i[0]?[new x(i[0],function*(){for(let e of n)e[0]&&(yield e[0])}),void 0]:[void 0,i[1]]}function O(e,t){var r;return r=r=>t.test(r)||`Expected a ${e.type} matching \`/${t.source}/\` but received "${r}"`,new I({...e,*refiner(t,n){for(let i of(yield*e.refiner(t,n),_(r(t,n),n,e,t)))yield{...i,refinement:"pattern"}}})}function P(){return new I({type:"string",schema:null,validator:e=>"string"==typeof e||`Expected a string, but received: ${S(e)}`})}let T=BigInt(4294967296-1),k=BigInt(32),N=(e,t,r)=>e<<r|t>>>32-r,M=(e,t,r)=>t<<r|e>>>32-r,R=(e,t,r)=>t<<r-32|e>>>64-r,D=(e,t,r)=>e<<r-32|t>>>64-r;function L(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function B(e,...t){if(!(e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function U(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function j(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}let $=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]?e=>e:function(e){for(let r=0;r<e.length;r++){var t;e[r]=(t=e[r])<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}return e};function F(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}(e)),B(e),e}class z{}let q=BigInt(0),G=BigInt(1),H=BigInt(2),V=BigInt(7),W=BigInt(256),Z=BigInt(113),K=[],Y=[],J=[];for(let e=0,t=G,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],K.push(2*(5*n+r)),Y.push((e+1)*(e+2)/2%64);let i=q;for(let e=0;e<7;e++)(t=(t<<G^(t>>V)*Z)%W)&H&&(i^=G<<(G<<BigInt(e))-G);J.push(i)}let X=function(e,t=!1){let r=e.length,n=new Uint32Array(r),i=new Uint32Array(r);for(let o=0;o<r;o++){let{h:r,l:a}=function(e,t=!1){return t?{h:Number(e&T),l:Number(e>>k&T)}:{h:0|Number(e>>k&T),l:0|Number(e&T)}}(e[o],t);[n[o],i[o]]=[r,a]}return[n,i]}(J,!0),Q=X[0],ee=X[1],et=(e,t,r)=>r>32?R(e,t,r):N(e,t,r),er=(e,t,r)=>r>32?D(e,t,r):M(e,t,r);class en extends z{constructor(e,t,r,n=!1,i=24){var o;if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=i,L(r),!(0<e&&e<200))throw Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=new Uint32Array((o=this.state).buffer,o.byteOffset,Math.floor(o.byteLength/4))}clone(){return this._cloneInto()}keccak(){$(this.state32),function(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let n=(t+8)%10,i=(t+2)%10,o=r[i],a=r[i+1],s=et(o,a,1)^r[n],c=er(o,a,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=s,e[t+r+1]^=c}let t=e[2],i=e[3];for(let r=0;r<24;r++){let n=Y[r],o=et(t,i,n),a=er(t,i,n),s=K[r];t=e[s],i=e[s+1],e[s]=o,e[s+1]=a}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=Q[n],e[1]^=ee[n]}j(r)}(this.state32,this.rounds),$(this.state32),this.posOut=0,this.pos=0}update(e){U(this),B(e=F(e));let{blockLen:t,state:r}=this,n=e.length;for(let i=0;i<n;){let o=Math.min(t-this.pos,n-i);for(let t=0;t<o;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,(128&t)!=0&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){U(this,!1),B(e),this.finish();let t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();let o=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+o),n),this.posOut+=o,n+=o}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return L(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(!function(e,t){B(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,j(this.state)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:o}=this;return e||(e=new en(t,r,n,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=o,e.destroyed=this.destroyed,e}}let ei=function(e){let t=t=>e().update(F(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}(()=>new en(136,1,32)),{memoize:eo}=r(8946),ea=/^(?:0x)?[0-9a-f]+$/iu,es=/^0x[0-9a-f]{40}$/u,ec=/^0x[0-9a-fA-F]{40}$/u;O(P(),ea),O(P(),/^0x[0-9a-f]+$/iu),O(P(),es),O(P(),ec);let el=e=>"string"==typeof e;function eu(e){return el(e)&&ec.test(e)}let ed=eo(function(e){E(eu(e),"Invalid hex address.");let t=eh(e).toLowerCase(),r=ei(t),{length:n}=t,i=Array(n);for(let e=0;e<n;e++){let n=e>>1,o=1&e,a=r[n],s=0===o?a>>4:15&a;i[e]=s>=8?t[e].toUpperCase():t[e]}return`0x${i.join("")}`}),ef=eo(function(e){return!!eu(e)&&ed(e)===e});function eh(e){return e.startsWith("0x")||e.startsWith("0X")?e.substring(2):e}eo(function(e){return el(e)&&es.test(e)||ef(e)}),r(82957).Buffer;let ep=function(){let e=[];return()=>{if(0===e.length)for(let t=0;t<256;t++)e.push(t.toString(16).padStart(2,"0"));return e}}();function eg(e){if(e?.toLowerCase?.()==="0x")return new Uint8Array;E(el(e)&&ea.test(e),"Value must be a hexadecimal string.");let t=eh(e).toLowerCase(),r=t.length%2==0?t:`0${t}`,n=new Uint8Array(r.length/2);for(let e=0;e<n.length;e++){let t=r.charCodeAt(2*e),i=r.charCodeAt(2*e+1),o=t-(t<58?48:87),a=i-(i<58?48:87);n[e]=16*o+a}return n}var em=r(61690),ey={out:"hex"};function eb(e,t){if("hex"===t.out){let t="string"==typeof e?e:function(e){var t;if(E(e instanceof Uint8Array,"Value must be a Uint8Array."),0===e.length)return"0x";let r=ep(),n=Array(e.length);for(let t=0;t<e.length;t++)n[t]=r[e[t]];return(t=n.join("")).startsWith("0x")?t:t.startsWith("0X")?`0x${t.substring(2)}`:`0x${t}`}(e);return t.startsWith("0x")?t:`0x${t}`}return e instanceof Uint8Array?e:eg(e)}var ew="0x0000000000000000000000000000000000000a11",ev="0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",eE=r(31669),ex=Object.defineProperty,eA=(e,t)=>{for(var r in t)ex(e,r,{get:t[r],enumerable:!0})},eS=((i=eS||{})[i.Increase=0]="Increase",i[i.Decrease=1]="Decrease",i);(0,b.w)((0,w.NC)("Caveat(address enforcer,bytes terms)"));var e_=e=>{let t=e.caveats.map(e=>({enforcer:(0,eE.K)(e.enforcer),terms:e.terms,args:e.args})),r="0x"===e.salt?0n:BigInt(e.salt);return{delegate:(0,eE.K)(e.delegate),delegator:(0,eE.K)(e.delegator),authority:void 0===e.authority?ev:e.authority,caveats:t,salt:r,signature:e.signature}},eI=e=>(function(e,t=ey){let r;if(0===e.length)(r=new Uint8Array(64))[31]=32;else{let t=e.map(e=>[e.delegate,e.delegator,e.authority,e.caveats.map(e=>[e.enforcer,e.terms,e.args]),e.salt,e.signature]);r=(0,em.encodeSingle)("(address,address,bytes32,(address,bytes,bytes)[],uint256,bytes)[]",t)}return eb(r,t)})(e.map(e_)),eC=e=>e.map(e=>eI(e)),eO={Caveat:[{name:"enforcer",type:"address"},{name:"terms",type:"bytes"}],Delegation:[{name:"delegate",type:"address"},{name:"delegator",type:"address"},{name:"authority",type:"bytes32"},{name:"caveats",type:"Caveat[]"},{name:"salt",type:"uint256"}]},eP=e=>(function(e,t=ey){return eb(ei((0,em.encode)(["bytes32","address","address","bytes32","bytes32","uint256"],["0x88c1d2ecf185adf710588203a5f263f0ff61be0d33da39792cde19ba9aa4331e",e.delegate,e.delegator,e.authority,function(e){let t=new Uint8Array(32*e.length);for(let r=0;r<e.length;r++){let n=e[r];if(!n)throw Error(`Caveat was undefined at index ${r}`);let i=function(e){let t=ei("string"==typeof e.terms?eg(e.terms):e.terms);return ei((0,em.encode)(["bytes32","address","bytes32"],["0x80ad7e1b04ee6d994a125f4714ca0720908bd80ed16063ec8aee4b88e9253e2d",e.enforcer,t]))}(n);t.set(i,32*r)}return ei(t)}(e.caveats),e.salt])),t)})(e_(e)),eT=({delegation:e,delegationManager:t,chainId:r,name:n="DelegationManager",version:i="1",allowInsecureUnrestrictedDelegation:o=!1})=>{let a=e_({...e,signature:"0x"});if(0===a.caveats.length&&!o)throw Error("No caveats found. If you definitely want to sign a delegation without caveats, set `allowInsecureUnrestrictedDelegation` to `true`.");return{domain:{chainId:r,name:n,version:i,verifyingContract:t},types:eO,primaryType:"Delegation",message:a}},ek=r(31618),eN=r(23010),eM=r(56570),eR=r(28766),eD=r(17283),eL=r(21541),eB=r(50825),eU={};eA(eU,{getDelegationManager:()=>ej,getDeposit:()=>e$,getEntryPoint:()=>eF,getNonce:()=>ez,getProxyImplementation:()=>eq,getProxyVersion:()=>eG,isValidSignature:()=>eH});var ej=async({client:e,contractAddress:t})=>await (0,eR.L)(e,{address:t,abi:ek.f1.abi,functionName:"delegationManager"}),e$=async({client:e,contractAddress:t})=>await (0,eR.L)(e,{address:t,abi:ek.f1.abi,functionName:"getDeposit"}),eF=async({client:e,contractAddress:t})=>await (0,eR.L)(e,{address:t,abi:ek.f1.abi,functionName:"entryPoint"}),ez=async({client:e,contractAddress:t,key:r})=>await (0,eR.L)(e,{address:t,abi:ek.f1.abi,functionName:"getNonce",args:r?[r]:void 0}),eq=async({client:e,contractAddress:t})=>await (0,eR.L)(e,{address:t,abi:ek.f1.abi,functionName:"getImplementation"}),eG=async({client:e,contractAddress:t})=>await (0,eR.L)(e,{address:t,abi:ek.f1.abi,functionName:"getInitializedVersion"}),eH=async({client:e,contractAddress:t,hash:r,signature:n})=>await (0,eR.L)(e,{address:t,abi:ek.f1.abi,functionName:"isValidSignature",args:[r,n]}),eV=({hash:e,signature:t})=>(0,eD.R)({abi:ek.f1.abi,functionName:"isValidSignature",args:[e,t]});async function eW({client:e,contractAddress:t}){let r=await (0,eM.C)(e,{address:t});return!!r&&"0x"!==r}async function eZ({client:e,contractAddress:t,expectedImplementationAddress:r}){return!!await eW({client:e,contractAddress:t})&&await eq({client:e,contractAddress:t})===r}var eK=({implementationAddress:e,initcode:t})=>(0,eN.w)({abi:ek.fW.abi,args:[e,t],bytecode:ek.fW.bytecode}),eY=async({client:e,hybridDeleGatorAddress:t,eoaOwner:r,p256Owners:n})=>(0,eL.a)(e,{address:t,abi:ek.xt.abi,functionName:"initialize",args:[r,n.map(e=>e.keyId),n.map(e=>e.x),n.map(e=>e.y)]}),eJ=({eoaOwner:e,p256Owners:t})=>(0,eD.R)({abi:ek.xt.abi,functionName:"initialize",args:[e,t.map(e=>e.keyId),t.map(e=>e.x),t.map(e=>e.y)]}),eX={};eA(eX,{addKey:()=>e0,initializeHybridDeleGator:()=>eJ,reinitializeHybridDeleGator:()=>e2,removeKey:()=>e6,updateSigners:()=>e8});var eQ=async({client:e,hybridDeleGatorAddress:t,p256Owner:r})=>(0,eL.a)(e,{address:t,abi:ek.xt.abi,functionName:"addKey",args:[r.keyId,r.x,r.y]}),e0=({p256Owner:e})=>(0,eD.R)({abi:ek.xt.abi,functionName:"addKey",args:[e.keyId,e.x,e.y]}),e1=async({client:e,hybridDeleGatorAddress:t,version:r,eoaOwner:n,p256Owners:i,removeExistingP256Owners:o})=>(0,eL.a)(e,{address:t,abi:ek.xt.abi,functionName:"reinitialize",args:[r,n,i.map(e=>e.keyId),i.map(e=>e.x),i.map(e=>e.y),o]}),e2=({version:e,eoaOwner:t,p256Owners:r,removeExistingP256Owners:n})=>(0,eD.R)({abi:ek.xt.abi,functionName:"reinitialize",args:[e,t,r.map(e=>e.keyId),r.map(e=>e.x),r.map(e=>e.y),n]}),e3=async({client:e,hybridDeleGatorAddress:t,keyId:r})=>(0,eL.a)(e,{address:t,abi:ek.xt.abi,functionName:"removeKey",args:[r]}),e6=({keyId:e})=>(0,eD.R)({abi:ek.xt.abi,functionName:"removeKey",args:[e]}),e5=async({client:e,hybridDeleGatorAddress:t,eoaOwner:r,p256Owners:n})=>(0,eL.a)(e,{address:t,abi:ek.xt.abi,functionName:"updateSigners",args:[r,n.map(e=>e.keyId),n.map(e=>e.x),n.map(e=>e.y)]}),e8=({eoaOwner:e,p256Owners:t})=>(0,eD.R)({abi:ek.xt.abi,functionName:"updateSigners",args:[e,t.map(e=>e.keyId),t.map(e=>e.x),t.map(e=>e.y)]}),e4=async({client:e,multiSigDeleGatorAddress:t,owners:r,threshold:n})=>(0,eL.a)(e,{address:t,abi:ek.tX.abi,functionName:"initialize",args:[r,n]}),e9=({owners:e,threshold:t})=>(0,eD.R)({abi:ek.tX.abi,functionName:"initialize",args:[e,t]}),e7={};eA(e7,{addSigner:()=>tt,initializeMultiSigDeleGator:()=>e9,reinitializeMultiSigDeleGator:()=>tn,removeSigner:()=>to,replaceSigner:()=>ts,updateMultiSigParameters:()=>tl,updateThreshold:()=>td});var te=async({client:e,multiSigDeleGatorAddress:t,signer:r})=>(0,eL.a)(e,{address:t,abi:ek.tX.abi,functionName:"addSigner",args:[r]}),tt=({signer:e})=>(0,eD.R)({abi:ek.tX.abi,functionName:"addSigner",args:[e]}),tr=async({client:e,multiSigDeleGatorAddress:t,version:r,owners:n,threshold:i,removeExistingOwners:o})=>(0,eL.a)(e,{address:t,abi:ek.tX.abi,functionName:"reinitialize",args:[r,n,i,o]}),tn=({version:e,owners:t,threshold:r,removeExistingOwners:n})=>(0,eD.R)({abi:ek.tX.abi,functionName:"reinitialize",args:[e,t,r,n]}),ti=async({client:e,multiSigDeleGatorAddress:t,signer:r})=>(0,eL.a)(e,{address:t,abi:ek.tX.abi,functionName:"removeSigner",args:[r]}),to=({signer:e})=>(0,eD.R)({abi:ek.tX.abi,functionName:"removeSigner",args:[e]}),ta=async({client:e,multiSigDeleGatorAddress:t,oldSigner:r,newSigner:n})=>(0,eL.a)(e,{address:t,abi:ek.tX.abi,functionName:"replaceSigner",args:[r,n]}),ts=({oldSigner:e,newSigner:t})=>(0,eD.R)({abi:ek.tX.abi,functionName:"replaceSigner",args:[e,t]}),tc=async({client:e,multiSigDeleGatorAddress:t,owners:r,threshold:n,removeExistingOwners:i})=>(0,eL.a)(e,{address:t,abi:ek.tX.abi,functionName:"updateMultiSigParameters",args:[r,n,i]}),tl=({owners:e,threshold:t,removeExistingOwners:r})=>(0,eD.R)({abi:ek.tX.abi,functionName:"updateMultiSigParameters",args:[e,t,r]}),tu=async({client:e,multiSigDeleGatorAddress:t,threshold:r})=>(0,eL.a)(e,{address:t,abi:ek.tX.abi,functionName:"updateThreshold",args:[r]}),td=({threshold:e})=>(0,eD.R)({abi:ek.tX.abi,functionName:"updateThreshold",args:[e]}),tf=async({client:e,factoryAddress:t,creationCode:r,salt:n})=>(0,eL.a)(e,{address:t,abi:ek.oM.abi,functionName:"deploy",args:[r,n]}),th=(e,t)=>(0,eD.R)({abi:ek.oM.abi,functionName:"deploy",args:[e,t]}),tp=async({client:e,factoryAddress:t,creationCode:r,salt:n})=>{let{request:i}=await tf({client:e,factoryAddress:t,creationCode:r,salt:n});return(0,eB.n)(e,i)},tg={};eA(tg,{create2Deploy:()=>th});var tm=async({client:e,contractAddress:t,execution:r})=>(0,eL.a)(e,{address:t,abi:ek.f1.abi,functionName:"execute",args:[r]}),ty=async({client:e,contractAddress:t,execution:r})=>{let{request:n}=await tm({client:e,contractAddress:t,execution:r});return(0,eB.n)(e,n)},tb=({execution:e})=>(0,eD.R)({abi:ek.f1.abi,functionName:"execute",args:[e]}),tw=async({client:e,contractAddress:t,mode:r,executions:n})=>(0,eL.a)(e,{address:t,abi:ek.f1.abi,functionName:"execute",args:[r,m(n)]}),tv=async({client:e,contractAddress:t,mode:r,executions:n})=>{let{request:i}=await tw({client:e,contractAddress:t,mode:r,executions:n});return(0,eB.n)(e,i)},tE=({mode:e,executions:t})=>(0,eD.R)({abi:ek.f1.abi,functionName:"execute",args:[e,m(t)]}),tx={};eA(tx,{disableDelegation:()=>t_,enableDelegation:()=>tO,execute:()=>tb,executeWithMode:()=>tE,isValidSignature:()=>eV,upgradeToAndCall:()=>tk});var tA=async({client:e,delegationManagerAddress:t,delegation:r})=>{let n=ek.f1.abi,i=e_(r);return(0,eL.a)(e,{address:t,abi:n,functionName:"disableDelegation",args:[i]})},tS=async({client:e,delegationManagerAddress:t,delegation:r})=>{let{request:n}=await tA({client:e,delegationManagerAddress:t,delegation:r});return(0,eB.n)(e,n)},t_=({delegation:e})=>{let t=e_(e);return(0,eD.R)({abi:ek.f1.abi,functionName:"disableDelegation",args:[t]})},tI=async({client:e,delegationManagerAddress:t,delegation:r})=>{let n=ek.f1.abi,i=e_(r);return(0,eL.a)(e,{address:t,abi:n,functionName:"enableDelegation",args:[i]})},tC=async({client:e,delegationManagerAddress:t,delegation:r})=>{let{request:n}=await tI({client:e,delegationManagerAddress:t,delegation:r});return(0,eB.n)(e,n)},tO=({delegation:e})=>{let t=e_(e);return(0,eD.R)({abi:ek.f1.abi,functionName:"enableDelegation",args:[t]})},tP=async({client:e,contractAddress:t,implementation:r,data:n})=>(0,eL.a)(e,{address:t,abi:ek.f1.abi,functionName:"upgradeToAndCall",args:[r,n]}),tT=async({client:e,contractAddress:t,implementation:r,data:n})=>{let{request:i}=await tP({client:e,contractAddress:t,implementation:r,data:n});return(0,eB.n)(e,i)},tk=({implementation:e,data:t})=>(0,eD.R)({abi:ek.f1.abi,functionName:"upgradeToAndCall",args:[e,t]}),tN=r(8796),tM=r(22987),tR=r(26374),tD=r(44659),tL=r(89256),tB=r(10662);function tU(e){return`0x${(0,tB.ci)(e)}`}var tj=((o=tj||{}).MultiSig="MultiSig",o.Hybrid="Hybrid",o.Stateless7702="Stateless7702",o),t$=((a=t$||{})[a.Hourly=3600]="Hourly",a[a.Daily=86400]="Daily",a[a.Weekly=604800]="Weekly",a[a.BiWeekly=1209600]="BiWeekly",a[a.Monthly=2592e3]="Monthly",a[a.Quarterly=7776e3]="Quarterly",a[a.Yearly=31536e3]="Yearly",a),tF=async({factory:e,implementations:t,implementation:r,deployParams:n,deploySalt:i})=>{let o,a;switch(r){case"Hybrid":{let[e,r,i,s]=n;if(!t.HybridDeleGatorImpl)throw Error("HybridDeleGatorImpl address not provided in environment");o=t.HybridDeleGatorImpl,a=eJ({eoaOwner:e,p256Owners:r.map((e,t)=>{let r=i[t],n=s[t];if(!r||!n)throw Error(`Missing X or Y value for keyId ${e} at index ${t}`);return{keyId:e,x:r,y:n}})});break}case"MultiSig":{let[e,r]=n;if(!t.MultiSigDeleGatorImpl)throw Error("MultiSigDeleGatorImpl address not provided in environment");o=t.MultiSigDeleGatorImpl,a=e9({owners:e,threshold:r});break}default:throw Error(`Implementation type '${r}' not supported`)}let s=(0,tN.vk)(i,{dir:"left",size:32}),c=eK({implementationAddress:o,initcode:a}),l=(0,tM.CR)({bytecode:c,from:e,opcode:"CREATE2",salt:s});return{factoryData:th(c,s),address:l}},tz=e=>"permissionsContext"in e&&"delegationManager"in e,tq=e=>{let{permissionsContext:t,delegationManager:r,to:n,value:i,data:o}=e,a=d({target:n,value:i,callData:o});return t?d({target:r,callData:(0,eD.R)({abi:ek.Ux.abi,functionName:"redeemDelegations",args:[[t],["0x0000000000000000000000000000000000000000000000000000000000000000"],y([[a]])]})}):a},tG=e=>{if(1===e.length){let t=e[0];if(t&&!tz(t)){let{to:e,value:r,data:n}=t;return tb({execution:d({target:e,value:r,callData:n})})}}let t=e.map(e=>{if(tz(e))return tq(e);let{to:t,value:r,data:n}=e;return d({target:t,value:r,callData:n})});return tE({mode:1===e.length?"0x0000000000000000000000000000000000000000000000000000000000000000":"0x0100000000000000000000000000000000000000000000000000000000000000",executions:t})},tH=async(e,t)=>{if(1===t.length){let r=t[0];if(r&&r.to===e&&!tz(r))return r.data??"0x"}return tG(t)},tV=0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551n/2n,tW=(0,tR.n)("bytes32, uint256, uint256, bytes, bool, string, string, uint256"),tZ=e=>{try{let{challenge:t}=JSON.parse(e);if(void 0===t)throw Error('No "challenge" found in the input string');return e.split(t)}catch(e){throw Error('No "challenge" found in the input string',{cause:e})}},tK=e=>{try{let t=e.indexOf('"type":');if(-1===t)throw Error('No "type" found in the input string');return BigInt(t)}catch(e){throw Error('No "type" found in the input string',{cause:e})}},tY=e=>{let t=(0,b.w)((0,l._)(["string"],["AuthenticatorData"])),r=(0,tL.zo)([t,"0x05","0x00000000"]),n=(0,b.w)((0,l._)(["string"],[e]));return(0,u.E)(tW,[n,0x7fffffff800000007fffffffffffffffde737d56d38bcf4279dce5617e3192a8n,0x7fffffff800000007fffffffffffffffde737d56d38bcf4279dce5617e3192a8n,r,!0,'{"type":"webauthn.get","challenge":"','","origin":"passkey-domain","crossOrigin":false}',1n])},tJ=r(74587),tX={};eA(tX,{read:()=>tQ});var tQ={};eA(tQ,{getAvailableAmount:()=>t0});var t0=async({client:e,contractAddress:t,delegationHash:r,delegationManager:n,terms:i})=>{let[o,a,s]=await (0,eR.L)(e,{address:t,abi:ek.Yi.abi,functionName:"getAvailableAmount",args:[r,n,i]});return{availableAmount:o,isNewPeriod:a,currentPeriod:s}},t1={};eA(t1,{read:()=>t2});var t2={};eA(t2,{getAvailableAmount:()=>t3});var t3=async({client:e,contractAddress:t,delegationManager:r,delegationHash:n,terms:i})=>{let o=(await (0,tJ.Q)(e)).timestamp,[a,s,c,l,u]=await (0,eR.L)(e,{address:t,abi:ek.rS.abi,functionName:"streamingAllowances",args:[r,n]});if(0n!==l)return{availableAmount:t6({initialAmount:a,maxAmount:s,amountPerSecond:c,startTime:l,spent:u,currentTimestamp:o})};let[,d,f,h,p]=await (0,eR.L)(e,{address:t,abi:ek.rS.abi,functionName:"getTermsInfo",args:[i]});return{availableAmount:t6({initialAmount:d,maxAmount:f,amountPerSecond:h,startTime:p,spent:0n,currentTimestamp:o})}};function t6(e){if(e.currentTimestamp<e.startTime)return 0n;let t=e.currentTimestamp-e.startTime,r=e.initialAmount+e.amountPerSecond*t;return(r>e.maxAmount&&(r=e.maxAmount),e.spent>=r)?0n:r-e.spent}var t5={};eA(t5,{read:()=>t8});var t8={};eA(t8,{getAvailableAmount:()=>t4});var t4=async({client:e,contractAddress:t,delegationHash:r,delegationManager:n,terms:i,args:o})=>{let[a,s,c]=await (0,eR.L)(e,{address:t,abi:ek.Fs.abi,functionName:"getAvailableAmount",args:[r,n,i,o]});return{availableAmount:a,isNewPeriod:s,currentPeriod:c}},t9={};eA(t9,{read:()=>t7});var t7={};eA(t7,{getAvailableAmount:()=>re});var re=async({client:e,contractAddress:t,delegationHash:r,delegationManager:n,terms:i})=>{let[o,a,s]=await (0,eR.L)(e,{address:t,abi:ek.Bj.abi,functionName:"getAvailableAmount",args:[r,n,i]});return{availableAmount:o,isNewPeriod:a,currentPeriod:s}},rt={};eA(rt,{read:()=>rr});var rr={};eA(rr,{getAvailableAmount:()=>rn});var rn=async({client:e,contractAddress:t,delegationManager:r,delegationHash:n,terms:i})=>{let o=(await (0,tJ.Q)(e)).timestamp,[a,s,c,l,u]=await (0,eR.L)(e,{address:t,abi:ek.Pk.abi,functionName:"streamingAllowances",args:[r,n]});if(0n!==l)return{availableAmount:ri({initialAmount:a,maxAmount:s,amountPerSecond:c,startTime:l,spent:u,currentTimestamp:o})};let[d,f,h,p]=await (0,eR.L)(e,{address:t,abi:ek.Pk.abi,functionName:"getTermsInfo",args:[i]});return{availableAmount:ri({initialAmount:d,maxAmount:f,amountPerSecond:h,startTime:p,spent:0n,currentTimestamp:o})}};function ri(e){if(e.currentTimestamp<e.startTime)return 0n;let t=e.currentTimestamp-e.startTime,r=e.initialAmount+e.amountPerSecond*t;return(r>e.maxAmount&&(r=e.maxAmount),e.spent>=r)?0n:r-e.spent}var ro={DelegationManager:"0xdb9B1e94B5b69Df7e401DDbedE43491141047dB3",EntryPoint:"0x0000000071727De22E5E9d8BAf0edAc6f37da032",SimpleFactory:"0x69Aa2f9fe1572F1B640E1bbc512f5c3a734fc77c",MultiSigDeleGatorImpl:"0x56a9EdB16a0105eb5a4C54f4C062e2868844f3A7",HybridDeleGatorImpl:"0x48dBe696A4D990079e039489bA2053B36E8FFEC4",EIP7702StatelessDeleGatorImpl:"0x63c0c19a282a1B52b07dD5a65b58948A07DAE32B",AllowedCalldataEnforcer:"0xc2b0d624c1c4319760C96503BA27C347F3260f55",AllowedMethodsEnforcer:"0x2c21fD0Cb9DC8445CB3fb0DC5E7Bb0Aca01842B5",AllowedTargetsEnforcer:"0x7F20f61b1f09b08D970938F6fa563634d65c4EeB",BlockNumberEnforcer:"0x5d9818dF0AE3f66e9c3D0c5029DAF99d1823ca6c",DeployedEnforcer:"0x24ff2AA430D53a8CD6788018E902E098083dcCd2",ERC20BalanceChangeEnforcer:"0xcdF6aB796408598Cea671d79506d7D48E97a5437",ERC20TransferAmountEnforcer:"0xf100b0819427117EcF76Ed94B358B1A5b5C6D2Fc",ERC20PeriodTransferEnforcer:"0x474e3Ae7E169e940607cC624Da8A15Eb120139aB",ERC20StreamingEnforcer:"0x56c97aE02f233B29fa03502Ecc0457266d9be00e",ERC721BalanceChangeEnforcer:"0x8aFdf96eDBbe7e1eD3f5Cd89C7E084841e12A09e",ERC721TransferEnforcer:"0x3790e6B7233f779b09DA74C72b6e94813925b9aF",ERC1155BalanceChangeEnforcer:"0x63c322732695cAFbbD488Fc6937A0A7B66fC001A",ExactCalldataBatchEnforcer:"0x982FD5C86BBF425d7d1451f974192d4525113DfD",ExactCalldataEnforcer:"0x99F2e9bF15ce5eC84685604836F71aB835DBBdED",ExactExecutionBatchEnforcer:"0x1e141e455d08721Dd5BCDA1BaA6Ea5633Afd5017",ExactExecutionEnforcer:"0x146713078D39eCC1F5338309c28405ccf85Abfbb",IdEnforcer:"0xC8B5D93463c893401094cc70e66A206fb5987997",LimitedCallsEnforcer:"0x04658B29F6b82ed55274221a06Fc97D318E25416",NativeBalanceChangeEnforcer:"0xbD7B277507723490Cd50b12EaaFe87C616be6880",ArgsEqualityCheckEnforcer:"0x44B8C6ae3C304213c3e298495e12497Ed3E56E41",NativeTokenPaymentEnforcer:"0x4803a326ddED6dDBc60e659e5ed12d85c7582811",NativeTokenTransferAmountEnforcer:"0xF71af580b9c3078fbc2BBF16FbB8EEd82b330320",NativeTokenStreamingEnforcer:"0xD10b97905a320b13a0608f7E9cC506b56747df19",NativeTokenPeriodTransferEnforcer:"0x9BC0FAf4Aca5AE429F4c06aEEaC517520CB16BD9",NonceEnforcer:"0xDE4f2FAC4B3D87A1d9953Ca5FC09FCa7F366254f",OwnershipTransferEnforcer:"0x7EEf9734E7092032B5C56310Eb9BbD1f4A524681",RedeemerEnforcer:"0xE144b0b2618071B4E56f746313528a669c7E65c5",SpecificActionERC20TransferBatchEnforcer:"0x6649b61c873F6F9686A1E1ae9ee98aC380c7bA13",TimestampEnforcer:"0x1046bb45C8d673d4ea75321280DB34899413c069",ValueLteEnforcer:"0x92Bf12322527cAA612fd31a0e810472BBB106A8F",MultiTokenPeriodEnforcer:"0xFB2f1a9BD76d3701B730E5d69C3219D42D80eBb7"},ra={DelegationManager:"0x56D56e07e3d6Ee5a24e30203A37a0a460f42D7A3",EntryPoint:"0x0000000071727De22E5E9d8BAf0edAc6f37da032",SimpleFactory:"0x6ff518884f21168c30c58CB21184D6AdBC18Ad90",MultiSigDeleGatorImpl:"0xd1f421EDbA5e3FA9efe3874827114b20C5BEC40C",HybridDeleGatorImpl:"0x941f3a016F8726d5643Ce62452d0D78492D42b42",AllowedCalldataEnforcer:"0xff71d60f3208469cBCE0859717B5198042DCB3F3",AllowedMethodsEnforcer:"0xe32C2561792e8446Abe73B9f557B881C13906186",AllowedTargetsEnforcer:"0x06aaE4c67EEA95277c46Bf79b1583d4a01772D22",BlockNumberEnforcer:"0x8E470D2Ae278457b42d2405E0B8Cd4BE21Ed9045",DeployedEnforcer:"0xf9088f013dBD9ebb7Cebd66fEB48253c6Ac5a820",ERC20BalanceGteEnforcer:"0xB7B6f32ec6343261D814e55Ed8C5925d91Cab861",ERC20TransferAmountEnforcer:"0x9A069b18032B31429A363AeCFb1B6A0564b44471",IdEnforcer:"0x91015c3b9D9523966eD2399885e5Df7A567f916c",LimitedCallsEnforcer:"0xe694bFfffEA3E85923b1210b37e6a0175e910863",NonceEnforcer:"0xE83BCFD8bBE672A96747e831050a91cf44F4F87A",TimestampEnforcer:"0x550FdD13eEBC1f22ea2a2480024BacBF0Ad7e5CE",ValueLteEnforcer:"0xBE32a6DB7471F63BB168C088c57Db01AfAe87967",NativeTokenTransferAmountEnforcer:"0x5eD3833d7B957A8DB8A461c3AF2d668Ec25382E0",NativeBalanceGteEnforcer:"0x376a98860E210DdEda3689fb39565592c563cB0A",ArgsEqualityCheckEnforcer:"0x7378dE585998d3E18Ce147867C335C25B3dB8Ee5",NativeTokenPaymentEnforcer:"0x87Fe18EbF99e42fcE8A03a25F1d20E119407f8e7",RedeemerEnforcer:"0x926672b130D1EF60A9d6b11D2048d121b30f40C1"},rs={DelegationManager:"0xbe4138886cb096bdc1b930f2f0ca7892aa234d78",EntryPoint:"0x0000000071727De22E5E9d8BAf0edAc6f37da032",SimpleFactory:"0x6ff518884f21168c30c58CB21184D6AdBC18Ad90",MultiSigDeleGatorImpl:"0x11f555af5844d85bfcf5d61d2a22866527eb585a",HybridDeleGatorImpl:"0xd6edd1256deccb2b06bdecef92dc16bcf26e531b",AllowedCalldataEnforcer:"0x48db3835a873d64a4af2c09f014052407c003bd7",AllowedMethodsEnforcer:"0xfd731951bf1c52afccee3e6f14ab656475b76dd4",AllowedTargetsEnforcer:"0xbc8673c0afa52d86d991c06881e55b2966920564",BlockNumberEnforcer:"0xc15faffa0d879b9263c15a46ce31eacfa2e0e8ae",DeployedEnforcer:"0x5accb9559b56a6c1e3f90e342c85c42d93720d43",ERC20BalanceGteEnforcer:"0xb5d6b1ec6d868a3bae5b7f48178eaa2686a7a087",ERC20TransferAmountEnforcer:"0x92ac423b9c111962179a6242e1adb58d02c103be",IdEnforcer:"0x34152d9f3f8f74338d50703e780389e829b4abac",LimitedCallsEnforcer:"0x4b3adad4a328bee8ba17b86074d92fe7372180cd",NonceEnforcer:"0x2f32ff3fc3086d7f63f16fe8d0065390d460b40d",TimestampEnforcer:"0x78e05f779490c24bf3bfa135b4112e7003b321cd",ValueLteEnforcer:"0xfc20ede0a1132e839fbda9d7ed3904ff3c89540f"},rc={"1.0.0":{10:rs,137:rs,8453:rs,42161:rs,59144:rs,11155111:{...rs,HybridDeleGatorImpl:"0x5989F5D13DF8fc818EdA65e417AED90459fD67F7"},59141:{...rs,HybridDeleGatorImpl:"0x5989F5D13DF8fc818EdA65e417AED90459fD67F7"}},"1.1.0":{42161:ra,8453:ra,59144:ra,10:ra,137:ra,11155111:ra,59141:ra,84532:{...ra,SimpleFactory:"0xE8eA1DE8D6AfE400B7C8C1A81B7C29B7876b4d02"}},"1.3.0":{1:ro,137:ro,56:ro,10:ro,42161:ro,57073:ro,59144:ro,8453:ro,100:ro,80094:ro,130:ro,42170:ro,1329:ro,146:ro,143:ro,97:ro,5115:ro,6342:ro,10200:ro,59141:ro,80069:ro,84532:ro,421614:ro,11155111:ro,11155420:ro,1301:ro,80002:ro,763373:ro,10143:ro,1328:ro,14601:ro,560048:ro}},rl=r(81873),ru=new Map,rd=(e,t)=>`${t}:${e}`;function rf(e,t="1.3.0"){let r=rd(e,t),n=ru.get(r);if(n)return n;let i=rc[t]?.[e];if(!i)throw Error(`No contracts found for version ${t} chain ${e}`);return{DelegationManager:i.DelegationManager,EntryPoint:i.EntryPoint,SimpleFactory:i.SimpleFactory,implementations:{MultiSigDeleGatorImpl:i.MultiSigDeleGatorImpl,HybridDeleGatorImpl:i.HybridDeleGatorImpl,EIP7702StatelessDeleGatorImpl:i.EIP7702StatelessDeleGatorImpl},caveatEnforcers:{AllowedCalldataEnforcer:i.AllowedCalldataEnforcer,AllowedMethodsEnforcer:i.AllowedMethodsEnforcer,AllowedTargetsEnforcer:i.AllowedTargetsEnforcer,ArgsEqualityCheckEnforcer:i.ArgsEqualityCheckEnforcer,BlockNumberEnforcer:i.BlockNumberEnforcer,DeployedEnforcer:i.DeployedEnforcer,ERC20BalanceChangeEnforcer:i.ERC20BalanceChangeEnforcer,ERC20TransferAmountEnforcer:i.ERC20TransferAmountEnforcer,ERC20StreamingEnforcer:i.ERC20StreamingEnforcer,ERC721BalanceChangeEnforcer:i.ERC721BalanceChangeEnforcer,ERC721TransferEnforcer:i.ERC721TransferEnforcer,ERC1155BalanceChangeEnforcer:i.ERC1155BalanceChangeEnforcer,IdEnforcer:i.IdEnforcer,LimitedCallsEnforcer:i.LimitedCallsEnforcer,NonceEnforcer:i.NonceEnforcer,TimestampEnforcer:i.TimestampEnforcer,ValueLteEnforcer:i.ValueLteEnforcer,NativeTokenTransferAmountEnforcer:i.NativeTokenTransferAmountEnforcer,NativeBalanceChangeEnforcer:i.NativeBalanceChangeEnforcer,NativeTokenStreamingEnforcer:i.NativeTokenStreamingEnforcer,NativeTokenPaymentEnforcer:i.NativeTokenPaymentEnforcer,OwnershipTransferEnforcer:i.OwnershipTransferEnforcer,RedeemerEnforcer:i.RedeemerEnforcer,SpecificActionERC20TransferBatchEnforcer:i.SpecificActionERC20TransferBatchEnforcer,ERC20PeriodTransferEnforcer:i.ERC20PeriodTransferEnforcer,NativeTokenPeriodTransferEnforcer:i.NativeTokenPeriodTransferEnforcer,ExactCalldataBatchEnforcer:i.ExactCalldataBatchEnforcer,ExactCalldataEnforcer:i.ExactCalldataEnforcer,ExactExecutionEnforcer:i.ExactExecutionEnforcer,ExactExecutionBatchEnforcer:i.ExactExecutionBatchEnforcer,MultiTokenPeriodEnforcer:i.MultiTokenPeriodEnforcer}}}var rh={PackedUserOperation:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"accountGasLimits",type:"bytes32"},{name:"preVerificationGas",type:"uint256"},{name:"gasFees",type:"bytes32"},{name:"paymasterAndData",type:"bytes"},{name:"entryPoint",type:"address"}]},rp=({userOperation:e,entryPoint:t,chainId:r,name:n,address:i,version:o="1"})=>({domain:{chainId:r,name:n,version:o,verifyingContract:i},types:rh,primaryType:"PackedUserOperation",message:{...(0,rl.y)({...e,signature:"0x"}),entryPoint:t.address}}),rg=r(93637),rm=r(93610),ry=r(81544),rb=r(19775);async function rw(e,t){if(!t.to)throw Error("`to` is required. `sendTransactionWithDelegation` cannot be used to deploy contracts.");let r=[d({target:t.to,value:t.value,callData:t.data})],n=(0,eD.R)({abi:ek.Ux.abi,functionName:"redeemDelegations",args:[[t.permissionsContext],["0x0000000000000000000000000000000000000000000000000000000000000000"],y([r])]}),{value:i,permissionsContext:o,delegationManager:a,...s}=t;return await e.sendTransaction({...s,to:t.delegationManager,data:n})}async function rv(e,t){if(t.accountMetadata){let{publicClient:e}=t,r={},n=e.chain?.id;if(!n)throw Error("Chain ID is not set");let{SimpleFactory:i}=rf(n),o=t.accountMetadata.filter(e=>{if(!(0,rg.E)(e.factory,i))throw Error(`Invalid accountMetadata: ${e.factory} is not allowed.`);let t=(0,tL.zo)([e.factory,e.factoryData]),n=r[t];return r[t]=!0,!n}),a=(await Promise.all(o.map(async({factory:t,factoryData:r})=>{if(!await e.call({to:t,data:r}).then(()=>!1).catch(()=>!0))return{to:t,value:0n,data:r}}))).filter(e=>void 0!==e);t.calls=[...a,...t.calls]}return e.sendUserOperation(t)}async function rE(e,t){let r=t.map(rx),n=await e.request({method:"wallet_requestExecutionPermissions",params:r},{retryCount:0});if(!n)throw Error("Failed to grant permissions");return n}function rx(e){let{chainId:t,address:r,expiry:n,isAdjustmentAllowed:i}=e,o=function(e){switch(e){case"native-token-stream":return({permission:e,isAdjustmentAllowed:t})=>(function({permission:e,isAdjustmentAllowed:t}){let{data:{initialAmount:r,justification:n,maxAmount:i,startTime:o,amountPerSecond:a}}=e,s={...rA(r)&&{initialAmount:rS(r,"initialAmount")},...rA(i)&&{maxAmount:rS(i,"maxAmount")},...rA(o)&&{startTime:Number(o)},...n?{justification:n}:{}};return{type:"native-token-stream",data:{amountPerSecond:rS(a,"amountPerSecond"),...s},isAdjustmentAllowed:t}})({permission:e,isAdjustmentAllowed:t});case"erc20-token-stream":return({permission:e,isAdjustmentAllowed:t})=>(function({permission:e,isAdjustmentAllowed:t}){let{data:{tokenAddress:r,amountPerSecond:n,initialAmount:i,startTime:o,maxAmount:a,justification:s}}=e,c={...rA(i)&&{initialAmount:rS(i,"initialAmount")},...rA(a)&&{maxAmount:rS(a,"maxAmount")},...rA(o)&&{startTime:Number(o)},...s?{justification:s}:{}};return{type:"erc20-token-stream",data:{tokenAddress:rS(r,"tokenAddress"),amountPerSecond:rS(n,"amountPerSecond"),...c},isAdjustmentAllowed:t}})({permission:e,isAdjustmentAllowed:t});case"native-token-periodic":return({permission:e,isAdjustmentAllowed:t})=>(function({permission:e,isAdjustmentAllowed:t}){let{data:{periodAmount:r,periodDuration:n,startTime:i,justification:o}}=e,a={...rA(i)&&{startTime:Number(i)},...o?{justification:o}:{}};return{type:"native-token-periodic",data:{periodAmount:rS(r,"periodAmount"),periodDuration:Number(n),...a},isAdjustmentAllowed:t}})({permission:e,isAdjustmentAllowed:t});case"erc20-token-periodic":return({permission:e,isAdjustmentAllowed:t})=>(function({permission:e,isAdjustmentAllowed:t}){let{data:{tokenAddress:r,periodAmount:n,periodDuration:i,startTime:o,justification:a}}=e,s={...rA(o)&&{startTime:Number(o)},...a?{justification:a}:{}};return{type:"erc20-token-periodic",data:{tokenAddress:rS(r,"tokenAddress"),periodAmount:rS(n,"periodAmount"),periodDuration:Number(i),...s},isAdjustmentAllowed:t}})({permission:e,isAdjustmentAllowed:t});case"erc20-token-revocation":return({permission:e,isAdjustmentAllowed:t})=>(function({permission:e,isAdjustmentAllowed:t}){let{data:{justification:r}}=e;return{type:"erc20-token-revocation",data:{...r?{justification:r}:{}},isAdjustmentAllowed:t}})({permission:e,isAdjustmentAllowed:t});default:throw Error(`Unsupported permission type: ${e}`)}}(e.permission.type),a="string"==typeof e.signer?e.signer:e.signer.data.address,s=[{type:"expiry",isAdjustmentAllowed:i,data:{timestamp:n}}];return{...{...r?{address:r}:{}},chainId:(0,w.NC)(t),permission:o({permission:e.permission,isAdjustmentAllowed:i}),signer:{type:"account",data:{address:a}},rules:s}}function rA(e){return null!=e}function rS(e,t){if(!function(e,t){if(!rA(e))throw Error(`Invalid parameters: ${t??"value"} is required`)}(e,t),"string"==typeof e){if(!(0,rm.v)(e))throw Error(`Invalid parameters: ${t??"value"} is not a valid hex value`);return e}return(0,w.NC)(e)}function r_({delegation:e,enforcerAddress:t,enforcerName:r}){let n=e.caveats.filter(e=>e.enforcer.toLowerCase()===t.toLowerCase());if(0===n.length)throw Error(`No caveat found with enforcer matching ${r}`);if(n.length>1)throw Error(`Multiple caveats found with enforcer matching ${r}`);let[{terms:i,args:o}]=n;return{terms:i,args:o}}function rI(e){if(!e.DelegationManager)throw Error("Delegation manager address not found");return e.DelegationManager}function rC({enforcerName:e,environment:t}){let r=t.caveatEnforcers[e];if(!r)throw Error(`${e} not found in environment`);return r}async function rO(e,t,r){let n="ERC20PeriodTransferEnforcer",i=rI(t),o=rC({enforcerName:n,environment:t}),a=eP(r.delegation),{terms:s}=r_({delegation:r.delegation,enforcerAddress:o,enforcerName:n});return tQ.getAvailableAmount({client:e,contractAddress:o,delegationHash:a,delegationManager:i,terms:s})}async function rP(e,t,r){let n="ERC20StreamingEnforcer",i=rI(t),o=rC({enforcerName:n,environment:t}),a=eP(r.delegation),{terms:s}=r_({delegation:r.delegation,enforcerAddress:o,enforcerName:n});return t2.getAvailableAmount({client:e,contractAddress:o,delegationManager:i,delegationHash:a,terms:s})}async function rT(e,t,r){let n="MultiTokenPeriodEnforcer",i=rI(t),o=rC({enforcerName:n,environment:t}),a=eP(r.delegation),{terms:s,args:c}=r_({delegation:r.delegation,enforcerAddress:o,enforcerName:n});return t8.getAvailableAmount({client:e,contractAddress:o,delegationHash:a,delegationManager:i,terms:s,args:c})}async function rk(e,t,r){let n="NativeTokenPeriodTransferEnforcer",i=rI(t),o=rC({enforcerName:n,environment:t}),a=eP(r.delegation),{terms:s}=r_({delegation:r.delegation,enforcerAddress:o,enforcerName:n});return t7.getAvailableAmount({client:e,contractAddress:o,delegationHash:a,delegationManager:i,terms:s})}async function rN(e,t,r){let n="NativeTokenStreamingEnforcer",i=rI(t),o=rC({enforcerName:n,environment:t}),a=eP(r.delegation),{terms:s}=r_({delegation:r.delegation,enforcerAddress:o,enforcerName:n});return rr.getAvailableAmount({client:e,contractAddress:o,delegationManager:i,delegationHash:a,terms:s})}eA({},{caveatEnforcerActions:()=>rM,erc7710BundlerActions:()=>rF,erc7710WalletActions:()=>r$,erc7715ProviderActions:()=>rj,getErc20PeriodTransferEnforcerAvailableAmount:()=>rO,getErc20StreamingEnforcerAvailableAmount:()=>rP,getMultiTokenPeriodEnforcerAvailableAmount:()=>rT,getNativeTokenPeriodTransferEnforcerAvailableAmount:()=>rk,getNativeTokenStreamingEnforcerAvailableAmount:()=>rN,isValid7702Implementation:()=>rR,requestExecutionPermissions:()=>rE,signDelegation:()=>rD,signDelegationActions:()=>rL,signUserOperation:()=>rB,signUserOperationActions:()=>rU});var rM=({environment:e})=>t=>({getErc20PeriodTransferEnforcerAvailableAmount:async r=>rO(t,e,r),getErc20StreamingEnforcerAvailableAmount:async r=>rP(t,e,r),getMultiTokenPeriodEnforcerAvailableAmount:async r=>rT(t,e,r),getNativeTokenPeriodTransferEnforcerAvailableAmount:async r=>rk(t,e,r),getNativeTokenStreamingEnforcerAvailableAmount:async r=>rN(t,e,r)});async function rR({client:e,accountAddress:t,environment:r}){try{let n=await (0,eM.C)(e,{address:t}),i=function(e){if(e?.length!==48||!e.toLowerCase().startsWith("0xef0100"))return null;let t=e.slice(8);return`0x${t}`}(n);if(!i)return!1;let o=r.implementations.EIP7702StatelessDeleGatorImpl;if(!o)return!1;return(0,rg.E)(i,o)}catch(e){return!1}}async function rD(e,t){let{account:r=e.account,delegation:n,delegationManager:i,chainId:o,name:a="DelegationManager",version:s="1",allowInsecureUnrestrictedDelegation:c=!1}=t;if(!r)throw new ry.G("Account not found. Please provide an account.");let l=(0,rb.T)(r),u=eT({delegation:n,delegationManager:i,chainId:o,name:a,version:s,allowInsecureUnrestrictedDelegation:c});return e.signTypedData({account:l,...u})}function rL(){return e=>({signDelegation:async t=>rD(e,{chainId:t.chainId??(()=>{if(!e.chain?.id)throw new ry.G("Chain ID is required. Either provide it in parameters or configure the client with a chain.");return e.chain.id})(),...t})})}async function rB(e,t){let{account:r=e.account,userOperation:n,entryPoint:i,chainId:o,name:a,address:s,version:c="1"}=t;if(!r)throw new ry.G("Account not found. Please provide an account.");let l=(0,rb.T)(r),u=rp({userOperation:n,entryPoint:i,chainId:o,name:a,address:s,version:c});return e.signTypedData({account:l,...u})}function rU(){return e=>({signUserOperation:async t=>rB(e,{chainId:t.chainId??(()=>{if(!e.chain?.id)throw new ry.G("Chain ID is required. Either provide it in parameters or configure the client with a chain.");return e.chain.id})(),...t})})}var rj=()=>e=>({requestExecutionPermissions:async t=>rE(e,t)}),r$=()=>e=>({sendTransactionWithDelegation:async t=>rw(e,t)}),rF=()=>e=>({sendUserOperationWithDelegation:async t=>rv(e,t)});eA({},{DeleGatorCore:()=>r7,DelegationManager:()=>rz,EIP712:()=>nr,ERC20PeriodTransferEnforcer:()=>tX,ERC20StreamingEnforcer:()=>t1,ERC20TransferAmountEnforcer:()=>nu,EntryPoint:()=>ns,HybridDeleGator:()=>np,IdEnforcer:()=>nS,LimitedCallsEnforcer:()=>nO,MultiSigDeleGator:()=>nN,MultiTokenPeriodEnforcer:()=>t5,NativeTokenPeriodTransferEnforcer:()=>t9,NativeTokenStreamingEnforcer:()=>rt,NativeTokenTransferAmountEnforcer:()=>nz,NonceEnforcer:()=>nV,Ownable2Step:()=>n2,Pausable:()=>il,SimpleFactory:()=>iS,SpecificActionERC20TransferBatchEnforcer:()=>iP,encodeProxyCreationCode:()=>eK,isContractDeployed:()=>eW,isImplementationExpected:()=>eZ});var rz={};eA(rz,{constants:()=>rq,encode:()=>rW,execute:()=>r3,read:()=>r6,simulate:()=>r9});var rq={};eA(rq,{ANY_BENEFICIARY:()=>ew,DOMAIN_VERSION:()=>rV,NAME:()=>rG,ROOT_AUTHORITY:()=>ev,VERSION:()=>rH});var rG="DelegationManager",rH="1.3.0",rV="1",rW={};eA(rW,{disableDelegation:()=>rY,enableDelegation:()=>rQ,redeemDelegations:()=>r2});var rZ=async({client:e,delegationManagerAddress:t,delegation:r})=>{let n=ek.Ux.abi,i=e_(r);return(0,eL.a)(e,{address:t,abi:n,functionName:"disableDelegation",args:[i]})},rK=async({client:e,delegationManagerAddress:t,delegation:r})=>{let{request:n}=await rZ({client:e,delegationManagerAddress:t,delegation:r});return(0,eB.n)(e,n)},rY=({delegation:e})=>{let t=e_(e);return(0,eD.R)({abi:ek.Ux.abi,functionName:"disableDelegation",args:[t]})},rJ=async({client:e,delegationManagerAddress:t,delegation:r})=>{let n=ek.Ux.abi,i=e_(r);return(0,eL.a)(e,{address:t,abi:n,functionName:"enableDelegation",args:[i]})},rX=async({client:e,delegationManagerAddress:t,delegation:r})=>{let{request:n}=await rJ({client:e,delegationManagerAddress:t,delegation:r});return(0,eB.n)(e,n)},rQ=({delegation:e})=>{let t=e_(e);return(0,eD.R)({abi:ek.Ux.abi,functionName:"enableDelegation",args:[t]})},r0=async({client:e,delegationManagerAddress:t,delegations:r,modes:n,executions:i})=>{let o=ek.Ux.abi;return(0,eL.a)(e,{address:t,abi:o,functionName:"redeemDelegations",args:[eC(r),n,y(i)]})},r1=async({client:e,delegationManagerAddress:t,delegations:r,modes:n,executions:i})=>{let{request:o}=await r0({client:e,delegationManagerAddress:t,delegations:r,modes:n,executions:i});return(0,eB.n)(e,o)},r2=({delegations:e,modes:t,executions:r})=>(0,eD.R)({abi:ek.Ux.abi,functionName:"redeemDelegations",args:[eC(e),t,y(r)]}),r3={};eA(r3,{disableDelegation:()=>rK,enableDelegation:()=>rX,redeemDelegations:()=>r1});var r6={};eA(r6,{disabledDelegations:()=>r5,getAnyDelegate:()=>r8,getRootAuthority:()=>r4});var r5=async({client:e,contractAddress:t,delegationHash:r})=>await (0,eR.L)(e,{address:t,abi:ek.Ux.abi,functionName:"disabledDelegations",args:[r]}),r8=async({client:e,contractAddress:t})=>await (0,eR.L)(e,{address:t,abi:ek.Ux.abi,functionName:"ANY_DELEGATE"}),r4=async({client:e,contractAddress:t})=>await (0,eR.L)(e,{address:t,abi:ek.Ux.abi,functionName:"ROOT_AUTHORITY"}),r9={};eA(r9,{disableDelegation:()=>rZ,enableDelegation:()=>rJ,redeemDelegations:()=>r0});var r7={};eA(r7,{encode:()=>tx,execute:()=>ne,read:()=>eU,simulate:()=>nt});var ne={};eA(ne,{disableDelegation:()=>tS,enableDelegation:()=>tC,execute:()=>ty,executeWithMode:()=>tv,upgradeToAndCall:()=>tT});var nt={};eA(nt,{disableDelegation:()=>tA,enableDelegation:()=>tI,execute:()=>tm,executeWithMode:()=>tw,upgradeToAndCall:()=>tP});var nr={};eA(nr,{read:()=>nn});var nn={};eA(nn,{getContractName:()=>ni,getContractVersion:()=>no,getDomainVersion:()=>na});var ni=async({client:e,contractAddress:t})=>await (0,eR.L)(e,{address:t,abi:[{type:"function",name:"NAME",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"}],functionName:"NAME"}),no=async({client:e,contractAddress:t})=>await (0,eR.L)(e,{address:t,abi:[{type:"function",name:"VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"}],functionName:"VERSION"}),na=async({client:e,contractAddress:t})=>await (0,eR.L)(e,{address:t,abi:[{type:"function",name:"DOMAIN_VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"}],functionName:"DOMAIN_VERSION"}),ns={};eA(ns,{read:()=>nc});var nc={};eA(nc,{entryPointGetNonce:()=>nl});var nl=async({client:e,entryPoint:t,contractAddress:r,key:n})=>await (0,eR.L)(e,{address:t,abi:ek.N9.abi,functionName:"getNonce",args:[r,n]}),nu={};eA(nu,{read:()=>nd});var nd={};eA(nd,{getSpentAmount:()=>nf,getTermsInfo:()=>nh});var nf=async({client:e,contractAddress:t,delegationManager:r,delegationHash:n})=>await (0,eR.L)(e,{address:t,abi:ek.vE.abi,functionName:"spentMap",args:[r,n]}),nh=async({client:e,contractAddress:t,terms:r})=>{let[n,i]=await (0,eR.L)(e,{address:t,abi:ek.vE.abi,functionName:"getTermsInfo",args:[r]});return{allowedContract:n,maxTokens:i}},np={};eA(np,{constants:()=>nv,encode:()=>eX,read:()=>ng,simulate:()=>nw});var ng={};eA(ng,{getKey:()=>nm,getKeyIdHashes:()=>ny,getKeyIdHashesCount:()=>nb});var nm=async({client:e,hybridDeleGatorAddress:t,keyId:r})=>await (0,eR.L)(e,{address:t,abi:ek.xt.abi,functionName:"getKey",args:[r]}),ny=async({client:e,hybridDeleGatorAddress:t})=>await (0,eR.L)(e,{address:t,abi:ek.xt.abi,functionName:"getKeyIdHashes"}),nb=async({client:e,hybridDeleGatorAddress:t})=>await (0,eR.L)(e,{address:t,abi:ek.xt.abi,functionName:"getKeyIdHashesCount"}),nw={};eA(nw,{addKey:()=>eQ,initializeHybridDeleGator:()=>eY,reinitializeHybridDeleGator:()=>e1,removeKey:()=>e3,updateSigners:()=>e5});var nv={};eA(nv,{ANY_BENEFICIARY:()=>ew,DOMAIN_VERSION:()=>nA,NAME:()=>nE,ROOT_AUTHORITY:()=>ev,VERSION:()=>nx});var nE="HybridDeleGator",nx="1.3.0",nA="1",nS={};eA(nS,{read:()=>n_});var n_={};eA(n_,{getIsUsed:()=>nI,getTermsInfo:()=>nC});var nI=async({client:e,contractAddress:t,delegationManager:r,delegator:n,id:i})=>await (0,eR.L)(e,{address:t,abi:ek.HC.abi,functionName:"getIsUsed",args:[r,n,i]}),nC=async({client:e,contractAddress:t,terms:r})=>await (0,eR.L)(e,{address:t,abi:ek.HC.abi,functionName:"getTermsInfo",args:[r]}),nO={};eA(nO,{read:()=>nP});var nP={};eA(nP,{callCounts:()=>nT,getTermsInfo:()=>nk});var nT=async({client:e,contractAddress:t,delegationManager:r,delegationHash:n})=>await (0,eR.L)(e,{address:t,abi:ek.bc.abi,functionName:"callCounts",args:[r,n]}),nk=async({client:e,contractAddress:t,terms:r})=>await (0,eR.L)(e,{address:t,abi:ek.bc.abi,functionName:"getTermsInfo",args:[r]}),nN={};eA(nN,{constants:()=>n$,encode:()=>e7,read:()=>nM,simulate:()=>nj});var nM={};eA(nM,{getMaxNumberOfSigners:()=>nR,getSigners:()=>nD,getSignersCount:()=>nL,getThreshold:()=>nB,isSigner:()=>nU});var nR=async({client:e,multiSigDeleGatorAddress:t})=>await (0,eR.L)(e,{address:t,abi:ek.tX.abi,functionName:"MAX_NUMBER_OF_SIGNERS"}),nD=async({client:e,multiSigDeleGatorAddress:t})=>await (0,eR.L)(e,{address:t,abi:ek.tX.abi,functionName:"getSigners"}),nL=async({client:e,multiSigDeleGatorAddress:t})=>await (0,eR.L)(e,{address:t,abi:ek.tX.abi,functionName:"getSignersCount"}),nB=async({client:e,multiSigDeleGatorAddress:t})=>await (0,eR.L)(e,{address:t,abi:ek.tX.abi,functionName:"getThreshold"}),nU=async({client:e,multiSigDeleGatorAddress:t,signer:r})=>await (0,eR.L)(e,{address:t,abi:ek.tX.abi,functionName:"isSigner",args:[r]}),nj={};eA(nj,{addSigner:()=>te,initializeMultiSigDeleGator:()=>e4,reinitializeMultiSigDeleGator:()=>tr,removeSigner:()=>ti,replaceSigner:()=>ta,updateMultiSigParameters:()=>tc,updateThreshold:()=>tu});var n$={};eA(n$,{MAX_NUMBER_OF_SIGNERS:()=>nF});var nF=30,nz={};eA(nz,{read:()=>nq});var nq={};eA(nq,{getSpentAmount:()=>nG,getTermsInfo:()=>nH});var nG=async({client:e,contractAddress:t,delegationManager:r,delegationHash:n})=>await (0,eR.L)(e,{address:t,abi:ek.$6.abi,functionName:"spentMap",args:[r,n]}),nH=async({client:e,contractAddress:t,terms:r})=>await (0,eR.L)(e,{address:t,abi:ek.$6.abi,functionName:"getTermsInfo",args:[r]}),nV={};eA(nV,{encode:()=>nW,execute:()=>nJ,read:()=>nX,simulate:()=>n1});var nW={};eA(nW,{incrementNonce:()=>nZ});var nZ=e=>(0,eD.R)({abi:ek.n7.abi,functionName:"incrementNonce",args:[e]}),nK=async({client:e,contractAddress:t,delegationManager:r})=>(0,eL.a)(e,{address:t,abi:ek.n7.abi,functionName:"incrementNonce",args:[r]}),nY=async({client:e,contractAddress:t,delegationManager:r})=>{let{request:n}=await nK({client:e,contractAddress:t,delegationManager:r});return(0,eB.n)(e,n)},nJ={};eA(nJ,{incrementNonce:()=>nY});var nX={};eA(nX,{currentNonce:()=>nQ,getTermsInfo:()=>n0});var nQ=async({client:e,contractAddress:t,delegationManager:r,delegator:n})=>await (0,eR.L)(e,{address:t,abi:ek.n7.abi,functionName:"currentNonce",args:[r,n]}),n0=async({client:e,contractAddress:t,terms:r})=>await (0,eR.L)(e,{address:t,abi:ek.n7.abi,functionName:"getTermsInfo",args:[r]}),n1={};eA(n1,{incrementNonce:()=>nK});var n2={};eA(n2,{encode:()=>is,execute:()=>n8,read:()=>n3,simulate:()=>ic});var n3={};eA(n3,{getOwner:()=>n6,getPendingOwner:()=>n5});var n6=async({client:e,contractAddress:t})=>await (0,eR.L)(e,{address:t,abi:ek.Ym.abi,functionName:"owner"}),n5=async({client:e,contractAddress:t})=>await (0,eR.L)(e,{address:t,abi:ek.Ym.abi,functionName:"pendingOwner"}),n8={};eA(n8,{acceptOwnership:()=>n9,renounceOwnership:()=>it,transferOwnership:()=>io});var n4=async({client:e,contractAddress:t})=>(0,eL.a)(e,{address:t,abi:ek.Ym.abi,functionName:"acceptOwnership"}),n9=async({client:e,contractAddress:t})=>{let{request:r}=await n4({client:e,contractAddress:t});return(0,eB.n)(e,r)},n7=()=>(0,eD.R)({abi:ek.Ym.abi,functionName:"acceptOwnership"}),ie=async({client:e,contractAddress:t})=>(0,eL.a)(e,{address:t,abi:ek.Ym.abi,functionName:"renounceOwnership"}),it=async({client:e,contractAddress:t})=>{let{request:r}=await ie({client:e,contractAddress:t});return(0,eB.n)(e,r)},ir=()=>(0,eD.R)({abi:ek.Ym.abi,functionName:"renounceOwnership"}),ii=async({client:e,contractAddress:t,account:r})=>(0,eL.a)(e,{address:t,abi:ek.Ym.abi,functionName:"transferOwnership",args:[r]}),io=async({client:e,contractAddress:t,account:r})=>{let{request:n}=await ii({client:e,contractAddress:t,account:r});return(0,eB.n)(e,n)},ia=e=>(0,eD.R)({abi:ek.Ym.abi,functionName:"transferOwnership",args:[e]}),is={};eA(is,{acceptOwnership:()=>n7,renounceOwnership:()=>ir,transferOwnership:()=>ia});var ic={};eA(ic,{acceptOwnership:()=>n4,renounceOwnership:()=>ie,transferOwnership:()=>ii});var il={};eA(il,{encode:()=>ix,execute:()=>ih,read:()=>iu,simulate:()=>iA});var iu={};eA(iu,{isPaused:()=>id});var id=async({client:e,contractAddress:t})=>await (0,eR.L)(e,{address:t,abi:ek.tz.abi,functionName:"paused"}),ih={};eA(ih,{pause:()=>im,unpause:()=>iv});var ip=[{type:"function",name:"pause",inputs:[],outputs:[],stateMutability:"nonpayable"}],ig=async({client:e,contractAddress:t})=>(0,eL.a)(e,{address:t,abi:ip,functionName:"pause"}),im=async({client:e,contractAddress:t})=>{let{request:r}=await ig({client:e,contractAddress:t});return(0,eB.n)(e,r)},iy=()=>(0,eD.R)({abi:ip,functionName:"pause"}),ib=[{type:"function",name:"unpause",inputs:[],outputs:[],stateMutability:"nonpayable"}],iw=async({client:e,contractAddress:t})=>(0,eL.a)(e,{address:t,abi:ib,functionName:"unpause"}),iv=async({client:e,contractAddress:t})=>{let{request:r}=await iw({client:e,contractAddress:t});return(0,eB.n)(e,r)},iE=()=>(0,eD.R)({abi:ib,functionName:"unpause"}),ix={};eA(ix,{pause:()=>iy,unpause:()=>iE});var iA={};eA(iA,{pause:()=>ig,unpause:()=>iw});var iS={};eA(iS,{encode:()=>tg,execute:()=>i_,read:()=>iI,simulate:()=>iO});var i_={};eA(i_,{create2Deploy:()=>tp});var iI={};eA(iI,{getCreate2Address:()=>iC});var iC=async(e,t,r,n)=>(0,eR.L)(e,{address:t,abi:ek.oM.abi,functionName:"computeAddress",args:[r,n]}),iO={};eA(iO,{create2Deploy:()=>tf});var iP={};eA(iP,{read:()=>iT});var iT={};eA(iT,{getTermsInfo:()=>ik,usedDelegations:()=>iN});var ik=async({client:e,contractAddress:t,terms:r})=>await (0,eR.L)(e,{address:t,abi:ek.a0.abi,functionName:"getTermsInfo",args:[r]}),iN=async({client:e,contractAddress:t,delegationManager:r,delegationHash:n})=>await (0,eR.L)(e,{address:t,abi:ek.a0.abi,functionName:"usedDelegations",args:[r,n]}),iM=r(35304),iR=r(6895),iD=["ECDSA"],iL=({signatures:e})=>{if(0===e.length)return"0x";for(let{type:t}of e)if(!iD.includes(t))throw Error(`Invalid signature type: ${t}`);let t=[...e].sort((e,t)=>e.signer.localeCompare(t.signer));return(0,tL.zo)(t.map(({signature:e})=>e))},iB="0x000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000011b",iU=e=>({signMessage:e.walletClient.signMessage,signTypedData:async t=>e.walletClient.signTypedData(t),getStubSignature:async()=>iB}),ij=e=>({signMessage:e.account.signMessage,signTypedData:e.account.signTypedData,getStubSignature:async()=>iB}),i$=e=>{if("walletClient"in e)return iU(e);if("account"in e){let{signMessage:t,signTypedData:r,getStubSignature:n}=ij(e);if(!t)throw Error("Account does not support signMessage");if(!r)throw Error("Account does not support signTypedData");return{signMessage:t,signTypedData:r,getStubSignature:n}}let{keyId:t,webAuthnAccount:r}=e;if("webAuthn"!==r.type)throw Error("Account is not a webAuthn account");let n=({signature:e,webauthn:r})=>(function(e,t,r,n){let i=(0,b.w)((0,l._)(["string"],[e])),o=function(e){let t="string"==typeof e?(0,tB.nr)(e.slice(2)):e,r=t.slice(0,32),n=t.slice(32,64);return{r:BigInt(tU(r)),s:BigInt(tU(n))}}(t),{s:a}=o;for(;a>tV;)a=0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551n-a;let{r:s}=o,[c,d]=tZ(r),{userVerified:f}=function(e){let t=new Uint8Array((0,tD.nr)(e))[32];if(void 0===t)throw Error("Authenticator flags not found in authenticator data");return{userVerified:(4&t)!=0}}(n),h=tK(r);return(0,u.E)(tW,[i,s,a,n,f,c,d,h])})(t,e,r.clientDataJSON,r.authenticatorData);return{signMessage:async e=>r.signMessage(e).then(n),signTypedData:async e=>r.signTypedData(e).then(n),getStubSignature:async()=>tY(t)}},iF=e=>{let t=e.map(e=>{let t,r,n;if("walletClient"in e){let{signMessage:i,signTypedData:o}=iU(e);t=i,r=o,n=e.walletClient.account.address}else{let{signMessage:i,signTypedData:o}=ij(e);if(!i)throw Error("Account does not support signMessage");if(!o)throw Error("Account does not support signTypedData");t=i,r=o,n=e.account.address}return{address:n,individualSignMessage:t,individualSignTypedData:r}});return{signMessage:async e=>{let r=t.map(async({individualSignMessage:t,address:r})=>({signature:await t(e),signer:r,type:"ECDSA"}));return iL({signatures:await Promise.all(r)})},signTypedData:async e=>{let r=t.map(async({individualSignTypedData:t,address:r})=>({signature:await t(e),signer:r,type:"ECDSA"}));return iL({signatures:await Promise.all(r)})},getStubSignature:async()=>(0,tL.zo)(t.map(()=>iB))}},iz=e=>{if("walletClient"in e)return iU(e);if("account"in e){let{signMessage:t,signTypedData:r,getStubSignature:n}=ij(e);if(!t)throw Error("Account does not support signMessage");if(!r)throw Error("Account does not support signTypedData");return{signMessage:t,signTypedData:r,getStubSignature:n}}throw Error("Invalid signer config")},iq=e=>{let{implementation:t}=e;if("Hybrid"===t)return i$(e.signer);if("MultiSig"===t)return iF(e.signer);if("Stateless7702"===t)return iz(e.signer);throw Error(`Implementation type '${t}' not supported`)};async function iG(e){let t,r;let{client:n,client:{chain:i},implementation:o}=e;if(!i)throw Error("Chain not specified");let a=iq({implementation:o,signer:e.signer}),s=e.environment??rf(i.id);if(e.address)r=void 0,t=e.address;else{if("Stateless7702"===o)throw Error("Stateless7702 does not support counterfactual accounts");let n=await tF({factory:s.SimpleFactory,implementations:s.implementations,implementation:o,deployParams:e.deployParams,deploySalt:e.deploySalt});t=n.address,r=n.factoryData}let c={abi:iM.iH,address:s.EntryPoint,version:"0.7"},{abi:l,contractName:u}={Hybrid:{contractName:"HybridDeleGator",abi:ek.xt.abi},MultiSig:{contractName:"MultiSigDeleGator",abi:ek.tX.abi},Stateless7702:{contractName:"EIP7702StatelessDeleGator",abi:ek.W2.abi}}[o],d=async()=>{if(void 0===r)throw Error("Deploy params were not provided, so factory args cannot be inferred");return{factoryData:r,factory:s.SimpleFactory}},f=async e=>{let{delegation:t,chainId:r}=e,n=e_({...t,signature:"0x"});return a.signTypedData({domain:{chainId:r??i.id,name:"DelegationManager",version:"1",verifyingContract:s.DelegationManager},types:eO,primaryType:"Delegation",message:n})},h=async e=>{let{chainId:r}=e,n=(0,rl.y)({sender:t,...e,signature:"0x"});return await a.signTypedData({domain:{chainId:r??i.id,name:u,version:"1",verifyingContract:t},types:rh,primaryType:"PackedUserOperation",message:{...n,entryPoint:c.address}})},p=async()=>t,g=async()=>nl({client:n,entryPoint:s.EntryPoint,contractAddress:t,key:0n}),m=async e=>tH(t,e),y=await (0,iR.A)({abi:l,client:n,entryPoint:c,environment:s,getAddress:p,getFactoryArgs:d,encodeCalls:m,getNonce:g,signUserOperation:h,signDelegation:f,...a});return"Stateless7702"===o?{...y,isDeployed:async()=>rR({client:n,accountAddress:t,environment:s})}:y}var iH=r(19387);class iV{constructor(e){(0,c.Z)(this,"name",iH.FN.METAMASK),(0,c.Z)(this,"options",void 0),this.options=e}async getSmartAccount(e){var t,r,n,i,o,a,c,l,u,d,f,h,p,g;let m={walletClient:e.walletClient,webAuthnAccount:null===(t=this.options)||void 0===t||null===(t=t.hybridParams)||void 0===t?void 0:t.webAuthnAccount,keyId:null===(r=this.options)||void 0===r||null===(r=r.hybridParams)||void 0===r?void 0:r.keyId},y=[{walletClient:e.walletClient},...(null===(n=this.options)||void 0===n||null===(n=n.multiSigParams)||void 0===n?void 0:n.additionalSignerWalletClients)||[]],[b]=await e.walletClient.getAddresses(),w=[b,[...(null===(i=this.options)||void 0===i||null===(i=i.hybridParams)||void 0===i?void 0:i.p256KeyIds)||[]],[...(null===(o=this.options)||void 0===o||null===(o=o.hybridParams)||void 0===o?void 0:o.p256XValues)||[]],[...(null===(a=this.options)||void 0===a||null===(a=a.hybridParams)||void 0===a?void 0:a.p256YValues)||[]]],v=[[b,...(null===(c=this.options)||void 0===c||null===(c=c.multiSigParams)||void 0===c?void 0:c.additionalSignerAddresses)||[]],null!==(l=null===(u=this.options)||void 0===u||null===(u=u.multiSigParams)||void 0===u?void 0:u.threshold)&&void 0!==l?l:BigInt(1+((null===(d=this.options)||void 0===d||null===(d=d.multiSigParams)||void 0===d||null===(d=d.additionalSignerWalletClients)||void 0===d?void 0:d.length)||0))],E={client:e.client,deploySalt:null!==(f=null===(h=this.options)||void 0===h?void 0:h.deploySalt)&&void 0!==f?f:"0x0"},x=null!==(p=null===(g=this.options)||void 0===g?void 0:g.implementation)&&void 0!==p?p:tj.Hybrid;if(x===tj.Hybrid)return iG((0,s.Z)((0,s.Z)({},E),{},{implementation:x,deployParams:w,signer:m}));if(x===tj.MultiSig)return iG((0,s.Z)((0,s.Z)({},E),{},{implementation:x,deployParams:v,signer:y}));throw Error(`MetamaskSmartAccount - unsupported implementation: ${x}`)}}},39590:function(e,t,r){"use strict";r.d(t,{N:function(){return O}});var n=r(31686),i=r(56127),o=r(99493),a=r(34763),s=r(30056),c=r(59455),l=r(89256),u=r(17283),d=r(15566),f=r(2908),h=r(42727),p=r(46967),g=r(35304),m=r(6895),y=r(49519),b=r(12363),w=r(28766),v=r(82645),E=r(17324),x=r(1442),A=r(16880),S=r(60137);let _=(e,{accountAddress:t,version:r,chainId:n})=>{let i=(0,o.Xp)({domain:{name:"Nexus",version:r,chainId:n,verifyingContract:t}}),u=(0,a.w)((0,s.E)([{type:"bytes32"},{type:"bytes32"}],[(0,a.w)((0,c.$G)("PersonalSign(bytes prefixed)")),e]));return(0,a.w)((0,l.SM)(["0x1901",i,u]))};async function I(e){let t;let{owners:r,client:n,index:i=0n,address:a,version:s,factoryAddress:I="0x00000bb19a3579F4D779215dEf97AFbd0e30DB55",validatorAddress:C="0x00000004171351c442B202678c48D8AB5B321E8f",attesters:O=[],threshold:P=0}=e,T=await (0,S.J)({owner:r[0]}),k={address:e.entryPoint?.address??p.VU,abi:g.iH,version:e.entryPoint?.version??"0.7"},N=a,M=async()=>({factory:I,factoryData:(0,u.R)({abi:[{name:"createAccount",type:"function",stateMutability:"nonpayable",inputs:[{type:"address",name:"eoaOwner"},{type:"uint256",name:"index"},{type:"address[]",name:"attesters"},{type:"uint8",name:"threshold"}],outputs:[{type:"address"}]}],functionName:"createAccount",args:[T.address,i,O.sort((e,t)=>e.toLowerCase().localeCompare(t.toLowerCase())),P]})}),R=async()=>t||(t=n.chain?n.chain.id:await (0,v.s)(n,b.L,"getChainId")({}));return(0,m.A)({client:n,entryPoint:k,getFactoryArgs:M,getAddress:async()=>N||(N=await (0,w.L)(n,{address:I,abi:[{name:"computeAccountAddress",type:"function",stateMutability:"view",inputs:[{type:"address",name:"eoaOwner"},{type:"uint256",name:"index"},{type:"address[]",name:"attesters"},{type:"uint8",name:"threshold"}],outputs:[{type:"address"}]}],functionName:"computeAccountAddress",args:[T.address,i,O.sort((e,t)=>e.toLowerCase().localeCompare(t.toLowerCase())),P]})),async getNonce(e){let t=(e?.key??0n)%16777215n,r=(0,l.zo)([(0,c.NC)(t,{size:3}),"0x00",C]),i=await this.getAddress();return(0,E.m)(n,{address:i,entryPointAddress:k.address,key:BigInt(r)})},encodeCalls:async e=>(0,A.l)({mode:{type:e.length>1?"batchcall":"call",revertOnError:!1,selector:"0x",context:"0x"},callData:e}),decodeCalls:async e=>(0,x.X)(e).callData,async getStubSignature(){let e=C.substring(2).padEnd(40,"0");return`0x0000000000000000000000000000000000000000000000000000000000000040000000000000000000000000${e}000000000000000000000000000000000000000000000000000000000000004181d4b4981670cb18f99f0b4a66446df1bf5b204d24cfcb659bf38ba27a4359b5711649ec2423c5e1247245eba2964679b6a1dbb85c992ae40b9b00c6935b02ff1b00000000000000000000000000000000000000000000000000000000000000`},async sign({hash:e}){return this.signMessage({message:e})},async signMessage({message:e}){let t=_((0,d.r)(e),{version:s,accountAddress:await this.getAddress(),chainId:await R()}),r=await T.signMessage({message:{raw:t}});return(0,f._)(["address","bytes"],[C,r])},async signTypedData(e){let{message:t,primaryType:r,types:n,domain:i}=e,a={EIP712Domain:(0,o.cj)({domain:i}),...n};(0,o.iC)({domain:i,message:t,primaryType:r,types:a});let c=_((0,h.Jv)({message:t,primaryType:r,types:a,domain:i}),{version:s,accountAddress:await this.getAddress(),chainId:await R()}),l=await T.signMessage({message:{raw:c}});return(0,f._)(["address","bytes"],[C,l])},async signUserOperation(e){let{chainId:t=await R(),...r}=e;if(!t)throw Error("Chain id not found");let n=(0,y.x)({userOperation:{...r,sender:r.sender??await this.getAddress(),signature:"0x"},entryPointAddress:k.address,entryPointVersion:k.version,chainId:t});return await T.signMessage({message:{raw:n}})}})}var C=r(19387);class O{constructor(e){(0,i.Z)(this,"name",C.FN.NEXUS),(0,i.Z)(this,"options",void 0),this.options=e}async getSmartAccount(e){var t,r,i;return I((0,n.Z)((0,n.Z)((0,n.Z)({},this.options||{}),{},{entryPoint:{address:(null===(t=this.options)||void 0===t||null===(t=t.entryPoint)||void 0===t?void 0:t.address)||p.VU,version:(null===(r=this.options)||void 0===r||null===(r=r.entryPoint)||void 0===r?void 0:r.version)||"0.7"},version:(null===(i=this.options)||void 0===i?void 0:i.version)||"1.0.0"},e),{},{owners:[e.walletClient],client:e.client}))}}},78191:function(e,t,r){"use strict";r.d(t,{l:function(){return ed}});var n=r(31686),i=r(56127),o=r(15566),a=r(42727),s=r(2908),c=r(17283),l=r(74409),u=r(34763),d=r(30056),f=r(89256),h=r(8796),p=r(59455),g=r(72932),m=r(22987),y=r(87721),b=r(20556),w=r(31669),v=r(69921),E=r(44659),x=r(46967),A=r(35304),S=r(6895),_=r(28766),I=r(12363),C=r(82645),O=r(17324),P=r(1442),T=r(16880),k=r(56570);let N=async(e,t)=>!!await (0,k.C)(e,{address:t});var M=r(7068),R=r(60137),D=r(2742);let L=e=>{e.sort((e,t)=>e.signer.toLowerCase().localeCompare(t.signer.toLowerCase()));let t="0x",r="";for(let n of e)if(n.dynamic){let i=(65*e.length+r.length/2).toString(16).padStart(64,"0"),o=(n.data.slice(2).length/2).toString(16).padStart(64,"0"),a=`${n.signer.slice(2).padStart(64,"0")}${i}00`,s=`${o}${n.data.slice(2)}`;t+=a,r+=s}else t+=n.data.slice(2);return t+r},B=async({owner:e,hash:t})=>{let{signature:r,webauthn:n}=await e.sign({hash:t}),{Signature:i}=await (0,M.Pj)(),o=i.fromHex(r),a=n.clientDataJSON.match(/^\{"type":"webauthn.get","challenge":"[A-Za-z0-9\-_]{43}",(.*)\}$/);if(!a)throw Error("challenge not found in client data JSON");let[,s]=a;return(0,d.E)([{name:"authenticatorData",type:"bytes"},{name:"clientDataJSON",type:"string"},{name:"signature",type:"uint256[2]"}],[n.authenticatorData,s,[BigInt(o.r),BigInt(o.s)]])};async function U(e){let{chainId:t,entryPoint:r,validAfter:n=0,validUntil:i=0,safe4337ModuleAddress:o,version:c,owners:l,signatures:u,account:g,...m}=e,{safe4337ModuleAddress:y}=eo(c,r.version,{safe4337ModuleAddress:o}),b={safe:m.sender,callData:m.callData,nonce:m.nonce,initCode:m.initCode??"0x",maxFeePerGas:m.maxFeePerGas,maxPriorityFeePerGas:m.maxPriorityFeePerGas,preVerificationGas:m.preVerificationGas,verificationGasLimit:m.verificationGasLimit,callGasLimit:m.callGasLimit,paymasterAndData:m.paymasterAndData??"0x",validAfter:n,validUntil:i,entryPoint:r.address};if("initCode"in m&&(b.paymasterAndData=m.paymasterAndData??"0x"),"factory"in m){var w;if(m.factory&&m.factoryData&&(b.initCode=(0,f.SM)([m.factory,m.factoryData])),!m.sender)throw Error("Sender is required");b.paymasterAndData=(w={...m,sender:m.sender}).paymaster?(0,f.zo)([w.paymaster,(0,h.vk)((0,p.NC)(w.paymasterVerificationGasLimit||BigInt(0)),{size:16}),(0,h.vk)((0,p.NC)(w.paymasterPostOpGasLimit||BigInt(0)),{size:16}),w.paymasterData||"0x"]):"0x"}let v=er(g)?g:await (0,R.J)({owner:g}),E=er(v)?e.safeWebAuthnSharedSignerAddress:v.address;if(!E)throw Error("no signer found");let x=[];if(u)try{x=(0,D.r)([{components:[{type:"address",name:"signer"},{type:"bytes",name:"data"},{type:"bool",name:"dynamic"}],name:"signatures",type:"tuple[]"}],u)[0]}catch{x=(0,D.r)([{components:[{type:"address",name:"signer"},{type:"bytes",name:"data"}],name:"signatures",type:"tuple[]"}],u)[0].map(e=>({...e,dynamic:!1}))}let A=[...x,{signer:E,dynamic:er(v),data:await (async()=>er(v)?B({owner:v,hash:(0,a.Jv)({domain:{chainId:t,verifyingContract:y},types:"0.6"===r.version?Z:K,primaryType:"SafeOp",message:b})}):v.signTypedData({domain:{chainId:t,verifyingContract:y},types:"0.6"===r.version?Z:K,primaryType:"SafeOp",message:b}))()}];return A.length!==l.length?(0,d.E)([{components:[{type:"address",name:"signer"},{type:"bytes",name:"data"},{type:"bool",name:"dynamic"}],name:"signatures",type:"tuple[]"}],[A]):(0,s._)(["uint48","uint48","bytes"],[n,i,L(A)])}let j=[{inputs:[{internalType:"bytes",name:"transactions",type:"bytes"}],name:"multiSend",outputs:[],stateMutability:"payable",type:"function"}],$=[{type:"function",name:"initSafe7579",inputs:[{name:"safe7579",type:"address",internalType:"address"},{name:"executors",type:"tuple[]",internalType:"struct ModuleInit[]",components:[{name:"module",type:"address",internalType:"address"},{name:"initData",type:"bytes",internalType:"bytes"}]},{name:"fallbacks",type:"tuple[]",internalType:"struct ModuleInit[]",components:[{name:"module",type:"address",internalType:"address"},{name:"initData",type:"bytes",internalType:"bytes"}]},{name:"hooks",type:"tuple[]",internalType:"struct ModuleInit[]",components:[{name:"module",type:"address",internalType:"address"},{name:"initData",type:"bytes",internalType:"bytes"}]},{name:"attesters",type:"address[]",internalType:"address[]"},{name:"threshold",type:"uint8",internalType:"uint8"}],outputs:[],stateMutability:"nonpayable"}],F=[{type:"function",name:"preValidationSetup",inputs:[{name:"initHash",type:"bytes32",internalType:"bytes32"},{name:"to",type:"address",internalType:"address"},{name:"preInit",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"}],z=[{inputs:[{internalType:"address[]",name:"modules",type:"address[]"}],name:"enableModules",outputs:[],stateMutability:"nonpayable",type:"function"}],q=[{inputs:[{components:[{internalType:"uint256",name:"x",type:"uint256"},{internalType:"uint256",name:"y",type:"uint256"},{internalType:"P256.Verifiers",name:"verifiers",type:"uint176"}],internalType:"struct SafeWebAuthnSharedSigner.Signer",name:"signer",type:"tuple"}],name:"configure",outputs:[],stateMutability:"nonpayable",type:"function"}],G=[{inputs:[{internalType:"address[]",name:"_owners",type:"address[]"},{internalType:"uint256",name:"_threshold",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"address",name:"fallbackHandler",type:"address"},{internalType:"address",name:"paymentToken",type:"address"},{internalType:"uint256",name:"payment",type:"uint256"},{internalType:"address payable",name:"paymentReceiver",type:"address"}],name:"setup",outputs:[],stateMutability:"nonpayable",type:"function"}],H=[{inputs:[{internalType:"address",name:"_singleton",type:"address"},{internalType:"bytes",name:"initializer",type:"bytes"},{internalType:"uint256",name:"saltNonce",type:"uint256"}],name:"createProxyWithNonce",outputs:[{internalType:"contract SafeProxy",name:"proxy",type:"address"}],stateMutability:"nonpayable",type:"function"}],V=[{type:"function",name:"setupSafe",inputs:[{name:"initData",type:"tuple",internalType:"struct Safe7579Launchpad.InitData",components:[{name:"singleton",type:"address",internalType:"address"},{name:"owners",type:"address[]",internalType:"address[]"},{name:"threshold",type:"uint256",internalType:"uint256"},{name:"setupTo",type:"address",internalType:"address"},{name:"setupData",type:"bytes",internalType:"bytes"},{name:"safe7579",type:"address",internalType:"contract ISafe7579"},{name:"validators",type:"tuple[]",internalType:"struct ModuleInit[]",components:[{name:"module",type:"address",internalType:"address"},{name:"initData",type:"bytes",internalType:"bytes"}]},{name:"callData",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"}],W=[{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"uint8",name:"operation",type:"uint8"}],name:"executeUserOpWithErrorString",outputs:[],stateMutability:"nonpayable",type:"function"}],Z={SafeOp:[{type:"address",name:"safe"},{type:"uint256",name:"nonce"},{type:"bytes",name:"initCode"},{type:"bytes",name:"callData"},{type:"uint256",name:"callGasLimit"},{type:"uint256",name:"verificationGasLimit"},{type:"uint256",name:"preVerificationGas"},{type:"uint256",name:"maxFeePerGas"},{type:"uint256",name:"maxPriorityFeePerGas"},{type:"bytes",name:"paymasterAndData"},{type:"uint48",name:"validAfter"},{type:"uint48",name:"validUntil"},{type:"address",name:"entryPoint"}]},K={SafeOp:[{type:"address",name:"safe"},{type:"uint256",name:"nonce"},{type:"bytes",name:"initCode"},{type:"bytes",name:"callData"},{type:"uint128",name:"verificationGasLimit"},{type:"uint128",name:"callGasLimit"},{type:"uint256",name:"preVerificationGas"},{type:"uint128",name:"maxPriorityFeePerGas"},{type:"uint128",name:"maxFeePerGas"},{type:"bytes",name:"paymasterAndData"},{type:"uint48",name:"validAfter"},{type:"uint48",name:"validUntil"},{type:"address",name:"entryPoint"}]},Y={"1.4.1":{"0.6":{SAFE_MODULE_SETUP_ADDRESS:"0x8EcD4ec46D4D2a6B64fE960B3D64e8B94B2234eb",SAFE_4337_MODULE_ADDRESS:"0xa581c4A4DB7175302464fF3C06380BC3270b4037",SAFE_PROXY_FACTORY_ADDRESS:"0x4e1DCf7AD4e460CfD30791CCC4F9c8a4f820ec67",SAFE_SINGLETON_ADDRESS:"0x41675C099F32341bf84BFc5382aF534df5C7461a",MULTI_SEND_ADDRESS:"0x38869bf66a61cF6bDB996A6aE40D5853Fd43B526",MULTI_SEND_CALL_ONLY_ADDRESS:"0x9641d764fc13c8B624c04430C7356C1C7C8102e2"},"0.7":{SAFE_MODULE_SETUP_ADDRESS:"0x2dd68b007B46fBe91B9A7c3EDa5A7a1063cB5b47",SAFE_4337_MODULE_ADDRESS:"0x75cf11467937ce3F2f357CE24ffc3DBF8fD5c226",SAFE_PROXY_FACTORY_ADDRESS:"0x4e1DCf7AD4e460CfD30791CCC4F9c8a4f820ec67",SAFE_SINGLETON_ADDRESS:"0x41675C099F32341bf84BFc5382aF534df5C7461a",MULTI_SEND_ADDRESS:"0x38869bf66a61cF6bDB996A6aE40D5853Fd43B526",MULTI_SEND_CALL_ONLY_ADDRESS:"0x9641d764fc13c8B624c04430C7356C1C7C8102e2",WEB_AUTHN_SHARED_SIGNER_ADDRESS:"0x94a4F6affBd8975951142c3999aEAB7ecee555c2",SAFE_P256_VERIFIER_ADDRESS:"0xA86e0054C51E4894D88762a017ECc5E5235f5DBA"}},"1.5.0":{"0.7":{SAFE_MODULE_SETUP_ADDRESS:"0x2dd68b007B46fBe91B9A7c3EDa5A7a1063cB5b47",SAFE_4337_MODULE_ADDRESS:"0x75cf11467937ce3F2f357CE24ffc3DBF8fD5c226",SAFE_PROXY_FACTORY_ADDRESS:"0x14F2982D601c9458F93bd70B218933A6f8165e7b",SAFE_SINGLETON_ADDRESS:"0xFf51A5898e281Db6DfC7855790607438dF2ca44b",MULTI_SEND_ADDRESS:"0x218543288004CD07832472D464648173c77D7eB7",MULTI_SEND_CALL_ONLY_ADDRESS:"0xA83c336B20401Af773B6219BA5027174338D1836",WEB_AUTHN_SHARED_SIGNER_ADDRESS:"0x94a4F6affBd8975951142c3999aEAB7ecee555c2",SAFE_P256_VERIFIER_ADDRESS:"0xA86e0054C51E4894D88762a017ECc5E5235f5DBA"}}},J=(e,t)=>{let r=Number.parseInt(t.slice(-2),16);if(![0,1,27,28].includes(r))throw Error("Invalid signature");return"eth_sign"===e&&(r<27&&(r+=27),r+=4),"eth_signTypedData"===e&&r<27&&(r+=27),t.slice(0,-2)+r.toString(16)},X=e=>"string"==typeof e||e.raw?(0,o.r)(e):(0,a.Jv)(e),Q=e=>(0,s._)(["uint8","address","uint256","uint256","bytes"],[e.operation,e.to,e.value,BigInt(e.data.slice(2).length/2),e.data]).slice(2),ee=e=>{let t=`0x${e.map(e=>Q(e)).join("")}`;return(0,c.R)({abi:j,functionName:"multiSend",args:[t]})},et=({safe4337ModuleAddress:e,safeSingletonAddress:t,erc7579LaunchpadAddress:r,safeWebAuthnSharedSignerAddress:n,owners:i,validators:o,executors:a,fallbacks:s,hooks:l,attesters:u,threshold:d,attestersThreshold:f})=>({singleton:t,owners:i.map(e=>{if("type"in e&&"webAuthn"===e.type){if(!n)throw Error("safeWebAuthnSharedSignerAddress not defined");return n}if("address"in e&&e.address)return e.address;throw Error("Incorrect owner found")}),threshold:d,setupTo:r,setupData:(0,c.R)({abi:$,functionName:"initSafe7579",args:[e,a.map(e=>({module:e.address,initData:e.context})),s.map(e=>({module:e.address,initData:e.context})),l.map(e=>({module:e.address,initData:e.context})),u.sort((e,t)=>e.toLowerCase().localeCompare(t.toLowerCase())),f]}),safe7579:e,validators:o}),er=e=>"type"in e&&"webAuthn"===e.type,en=async({owners:e,threshold:t,safeModuleSetupAddress:r,safe4337ModuleAddress:n,safeWebAuthnSharedSignerAddress:i,safeP256VerifierAddress:o,multiSendAddress:a,safeSingletonAddress:s,erc7579LaunchpadAddress:f,setupTransactions:h=[],safeModules:p=[],validators:g=[],executors:m=[],fallbacks:y=[],hooks:b=[],attesters:w=[],attestersThreshold:v=0,paymentToken:E=l.D,payment:x=BigInt(0),paymentReceiver:A=l.D})=>{if(f){let r=et({safe4337ModuleAddress:n,safeSingletonAddress:s,safeWebAuthnSharedSignerAddress:i,erc7579LaunchpadAddress:f,owners:e,validators:g,executors:m,fallbacks:y,threshold:t,hooks:b,attesters:w,attestersThreshold:v}),o=(0,u.w)((0,d.E)([{internalType:"address",name:"singleton",type:"address"},{internalType:"address[]",name:"owners",type:"address[]"},{internalType:"uint256",name:"threshold",type:"uint256"},{internalType:"address",name:"setupTo",type:"address"},{internalType:"bytes",name:"setupData",type:"bytes"},{internalType:"contract ISafe7579",name:"safe7579",type:"address"},{internalType:"struct ModuleInit[]",name:"validators",type:"tuple[]",components:[{internalType:"address",name:"module",type:"address"},{internalType:"bytes",name:"initData",type:"bytes"}]}],[r.singleton,r.owners,r.threshold,r.setupTo,r.setupData,r.safe7579,r.validators.map(e=>({module:e.address,initData:e.context}))]));return(0,c.R)({abi:F,functionName:"preValidationSetup",args:[o,l.D,"0x"]})}let S=e.reduce((e,t)=>er(t)?t:e,void 0),_=e.map(e=>{if(er(e)){if(!i)throw Error("safeWebAuthnSharedSignerAddress not defined");return i}if("address"in e&&e.address)return e.address;throw Error("Incorrect owner found")}),I=[{to:r,data:(0,c.R)({abi:z,functionName:"enableModules",args:[[n,...p]]}),value:BigInt(0),operation:1}];if(S&&i&&o){let{PublicKey:e}=await (0,M.Pj)(),t=e.fromHex(S.publicKey);I.push({to:i,data:(0,c.R)({abi:q,functionName:"configure",args:[{x:t.x,y:t.y,verifiers:BigInt(o)}]}),value:BigInt(0),operation:1})}for(let e of h)I.push({...e,operation:0});let C=ee(I);return(0,c.R)({abi:G,functionName:"setup",args:[_,t,a,C,n,E,x,A]})},ei=async({owners:e,threshold:t,safeModuleSetupAddress:r,safe4337ModuleAddress:n,safeSingletonAddress:i,erc7579LaunchpadAddress:o,safeWebAuthnSharedSignerAddress:a,safeP256VerifierAddress:s,multiSendAddress:l,paymentToken:u,payment:d,paymentReceiver:f,saltNonce:h=BigInt(0),setupTransactions:p=[],safeModules:g=[],validators:m=[],executors:y=[],fallbacks:b=[],hooks:w=[],attesters:v=[],attestersThreshold:E=0})=>{let x=await en({owners:e,threshold:t,safeModuleSetupAddress:r,safeWebAuthnSharedSignerAddress:a,safeP256VerifierAddress:s,safe4337ModuleAddress:n,multiSendAddress:l,setupTransactions:p,safeSingletonAddress:i,safeModules:g,erc7579LaunchpadAddress:o,validators:m,executors:y,fallbacks:b,hooks:w,attesters:v,attestersThreshold:E,paymentToken:u,payment:d,paymentReceiver:f});return(0,c.R)({abi:H,functionName:"createProxyWithNonce",args:[o??i,x,h]})},eo=(e,t,{addModuleLibAddress:r,safeModuleSetupAddress:n,safe4337ModuleAddress:i,safeProxyFactoryAddress:o,safeSingletonAddress:a,multiSendAddress:s,multiSendCallOnlyAddress:c,safeWebAuthnSharedSignerAddress:l,safeP256VerifierAddress:u})=>{let d=Y[e][t];if(!d)throw Error(`Safe version ${e} does not support EntryPoint version ${t}`);let f=n??r??d.SAFE_MODULE_SETUP_ADDRESS,h=i??d.SAFE_4337_MODULE_ADDRESS,p=o??d.SAFE_PROXY_FACTORY_ADDRESS,g=a??d.SAFE_SINGLETON_ADDRESS,m=s??d.MULTI_SEND_ADDRESS;return{safeModuleSetupAddress:f,safe4337ModuleAddress:h,safeProxyFactoryAddress:p,safeSingletonAddress:g,multiSendAddress:m,multiSendCallOnlyAddress:c??d.MULTI_SEND_CALL_ONLY_ADDRESS,safeWebAuthnSharedSignerAddress:l??d.WEB_AUTHN_SHARED_SIGNER_ADDRESS,safeP256VerifierAddress:u??d.SAFE_P256_VERIFIER_ADDRESS}};function ea(e){return void 0!==e.erc7579LaunchpadAddress}let es=[{inputs:[],name:"proxyCreationCode",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"pure",type:"function"}],ec=async({client:e,owners:t,threshold:r,safeModuleSetupAddress:n,safe4337ModuleAddress:i,safeProxyFactoryAddress:o,safeSingletonAddress:a,multiSendAddress:c,safeWebAuthnSharedSignerAddress:l,safeP256VerifierAddress:d,erc7579LaunchpadAddress:f,paymentToken:h,payment:p,paymentReceiver:y,setupTransactions:b=[],safeModules:w=[],saltNonce:v=BigInt(0),validators:E=[],executors:x=[],fallbacks:A=[],hooks:S=[],attesters:I=[],attestersThreshold:C=0})=>{let O=await (0,_.L)(e,{abi:es,address:o,functionName:"proxyCreationCode"}),P=await en({owners:t,threshold:r,safeModuleSetupAddress:n,safe4337ModuleAddress:i,safeWebAuthnSharedSignerAddress:l,safeP256VerifierAddress:d,multiSendAddress:c,setupTransactions:b,safeSingletonAddress:a,safeModules:w,erc7579LaunchpadAddress:f,validators:E,executors:x,fallbacks:A,hooks:S,attesters:I,attestersThreshold:C,paymentToken:h,payment:p,paymentReceiver:y}),T=(0,s._)(["bytes","uint256"],[O,(0,g.y_)(f??a)]),k=(0,u.w)((0,s._)(["bytes32","uint256"],[(0,u.w)((0,s._)(["bytes"],[P])),v]));return(0,m.CR)({from:o,salt:k,bytecode:T,opcode:"CREATE2"})};async function el(e){let t,r,n,i,o;let{client:u,owners:h,address:p,threshold:g=BigInt(h.length),version:m,safe4337ModuleAddress:_,safeProxyFactoryAddress:k,safeSingletonAddress:M,erc7579LaunchpadAddress:D,saltNonce:$=BigInt(0),validUntil:F=0,validAfter:z=0,nonceKey:q,paymentToken:G,payment:H,paymentReceiver:Z,onchainIdentifier:K}=e,Y=await Promise.all(h.map(async e=>"account"in e?e.account:"request"in e?(0,R.J)({owner:e}):e)),Q=await Promise.all(h.filter(e=>!!("type"in e&&"local"===e.type||"request"in e||"account"in e||er(e))).map(e=>er(e)?e:(0,R.J)({owner:e}))),en={address:e.entryPoint?.address??x.VU,abi:(e.entryPoint?.version??"0.7")==="0.6"?A.Jr:A.iH,version:e.entryPoint?.version??"0.7"},es=[],el=[],eu=[],ed=[],ef=[],eh=[],ep=0;ea(e)||(r=e.safeModuleSetupAddress,n=e.multiSendAddress,i=e.multiSendCallOnlyAddress,o=e.safeModules,es=e.setupTransactions??[]),ea(e)&&(el=e.validators??[],eu=e.executors??[],ed=e.fallbacks??[],ef=e.hooks??[],eh=e.attesters??[],ep=e.attestersThreshold??0);let{safeModuleSetupAddress:eg,safe4337ModuleAddress:em,safeProxyFactoryAddress:ey,safeSingletonAddress:eb,multiSendAddress:ew,multiSendCallOnlyAddress:ev,safeWebAuthnSharedSignerAddress:eE,safeP256VerifierAddress:ex}=eo(m,en.version,{safeModuleSetupAddress:r,safe4337ModuleAddress:_,safeProxyFactoryAddress:k,safeSingletonAddress:M,multiSendAddress:n,multiSendCallOnlyAddress:i,safeWebAuthnSharedSignerAddress:e.safeWebAuthnSharedSignerAddress,safeP256VerifierAddress:e.safeP256VerifierAddress}),eA=p,eS=async()=>t||(t=u.chain?u.chain.id:await (0,C.s)(u,I.L,"getChainId")({})),e_=async()=>({factory:ey,factoryData:await ei({owners:Y,threshold:g,safeModuleSetupAddress:eg,safe4337ModuleAddress:em,safeSingletonAddress:eb,safeWebAuthnSharedSignerAddress:eE,safeP256VerifierAddress:ex,multiSendAddress:ew,erc7579LaunchpadAddress:D,saltNonce:$,setupTransactions:es,safeModules:o,validators:el,executors:eu,fallbacks:ed,hooks:ef,attesters:eh,attestersThreshold:ep,paymentToken:G,payment:H,paymentReceiver:Z})});return(0,S.A)({client:u,entryPoint:en,getFactoryArgs:e_,getAddress:async()=>eA||(eA=await ec({client:u,owners:Y,threshold:g,safeModuleSetupAddress:eg,safe4337ModuleAddress:em,safeProxyFactoryAddress:ey,safeSingletonAddress:eb,safeWebAuthnSharedSignerAddress:eE,safeP256VerifierAddress:ex,multiSendAddress:ew,erc7579LaunchpadAddress:D,saltNonce:$,setupTransactions:es,safeModules:o,validators:el,executors:eu,fallbacks:ed,hooks:ef,attesters:eh,attestersThreshold:ep,paymentToken:G,payment:H,paymentReceiver:Z})),async encodeCalls(e){let t,r,n;let i=e.length>1;if(D){if(!await N(u,await this.getAddress())){let t=et({safe4337ModuleAddress:em,safeSingletonAddress:eb,erc7579LaunchpadAddress:D,safeWebAuthnSharedSignerAddress:eE,owners:Y,threshold:g,validators:el,executors:eu,fallbacks:ed,hooks:ef,attesters:eh,attestersThreshold:ep});return(0,c.R)({abi:V,functionName:"setupSafe",args:[{...t,validators:t.validators.map(e=>({module:e.address,initData:e.context})),callData:(0,T.l)({mode:{type:i?"batchcall":"call",revertOnError:!1,selector:"0x",context:"0x"},callData:e})}]})}return(0,T.l)({mode:{type:i?"batchcall":"call",revertOnError:!1,selector:"0x",context:"0x"},callData:e})}let o=0;if(i)t=ev,r=BigInt(0),n=ee(e.map(e=>({to:e.to,value:e.value??0n,data:e.data??"0x",operation:0}))),o=1;else{let i=0===e.length?void 0:e[0];if(!i)throw Error("No calls to encode");t=i.to,n=i.data??"0x",r=i.value??0n}let a=(0,c.R)({abi:W,functionName:"executeUserOpWithErrorString",args:[t,r,n,o]});return K?(0,f.zo)([a,K]):a},async decodeCalls(e){try{let t=(0,y.p)({abi:V,data:e});return(0,P.X)(t.args[0].callData).callData}catch{}try{return(0,P.X)(e).callData}catch{}let t=(0,y.p)({abi:W,data:e}),r=t.args[0],n=t.args[1],i=t.args[2];if(r===ev){let e=(0,y.p)({abi:j,data:i}).args[0],t=[],r=0,n=(0,b.d)(e);for(;r<n;){r+=1;let n=(0,w.K)((0,v.tP)(e,r,r+20));r+=20;let i=BigInt((0,v.tP)(e,r,r+32));r+=32;let o=Number(BigInt((0,v.tP)(e,r,r+32))*BigInt(2));r+=32;let a=(0,v.tP)(e,r,r+o);r+=o,t.push({to:n,value:i,data:a})}return t}return[{to:r,value:n,data:i}]},async getNonce(e){return(0,O.m)(u,{address:await this.getAddress(),entryPointAddress:en.address,key:q??e?.key})},async getStubSignature(){let e=Y.map(e=>{let t=eE,r=!0,n="0xfffffffffffffffffffffffffffffff0000000000000000000000000000000007aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa1c";if(er(e)?n=(0,d.E)([{name:"authenticatorData",type:"bytes"},{name:"clientDataJSON",type:"string"},{name:"signature",type:"uint256[2]"}],["0x49960de5880e8c687434170f6476605b8fe4aeb9a28632c7995cf3ba831d97631d00000000",'"origin":"http://somelargdomainheresothatwehaveenoughbytes.com","crossOrigin":false',[0x635bc6d0f68ff895cae8a288ecf7542a6a9cd555df784b73e1e2ea7e9104b1dbn,0x15e9015d280cb19527881c625fee43fd3a405d5b0d199a8c8e6589a7381209e4n]]):(t=e.address,r=!1),!t)throw Error("No signer found");return{signer:t,data:n,dynamic:r}});return(0,s._)(["uint48","uint48","bytes"],[0,0,L(e)])},async sign({hash:e}){return this.signMessage({message:e})},async signMessage({message:e}){if(Q.length<Number(g))throw Error("Owners length mismatch, currently not supported");if(D&&"1.5.0"===m)throw Error("Safe 7579 & version 1.5.0 are not compatible");let t=(0,a.Jv)({domain:{chainId:await eS(),verifyingContract:await this.getAddress()},types:{SafeMessage:[{name:"message",type:"bytes"}]},primaryType:"SafeMessage",message:{message:X(e)}}),r=L(await Promise.all(Q.map(async e=>{let r,n=eE,i=!0;if(er(e)?r=await B({owner:e,hash:t}):(n=e.address,r=J("eth_sign",await e.signMessage({message:{raw:(0,E.O0)(t)}})),i=!1),!n)throw Error("no signer found");return{signer:n,dynamic:i,data:r}})));return D?(0,f.zo)([l.D,r]):r},async signTypedData(e){if(Q.length<Number(g))throw Error("Owners length mismatch, currently not supported");if(D&&"1.5.0"===m)throw Error("Safe 7579 & version 1.5.0 are not compatible");let t=L(await Promise.all(Q.map(async t=>{let r,n=eE,i=!0;if(er(t)){let n=(0,a.Jv)({domain:{chainId:await eS(),verifyingContract:await this.getAddress()},types:{SafeMessage:[{name:"message",type:"bytes"}]},primaryType:"SafeMessage",message:{message:X(e)}});r=await B({owner:t,hash:n})}else n=t.address,r=J("eth_signTypedData",await t.signTypedData({domain:{chainId:await eS(),verifyingContract:await this.getAddress()},types:{SafeMessage:[{name:"message",type:"bytes"}]},primaryType:"SafeMessage",message:{message:X(e)}})),i=!1;if(!n)throw Error("no signer found");return{signer:n,dynamic:i,data:r}})));return D?(0,f.zo)([l.D,t]):t},async signUserOperation(e){let t;let{chainId:r=await eS(),...n}=e;if(Q.length<Number(g))throw Error("Owners length mismatch use SafeSmartAccount.signUserOperation from `permissionless/accounts/safe`");for(let e of Q)t=await U({...n,version:m,entryPoint:en,owners:Q,account:e,chainId:r,signatures:t,validAfter:z,validUntil:F,safe4337ModuleAddress:em,safeWebAuthnSharedSignerAddress:eE});if(!t)throw Error("No signatures found");return t}})}var eu=r(19387);class ed{constructor(e){(0,i.Z)(this,"name",eu.FN.SAFE),(0,i.Z)(this,"options",void 0),this.options=e}async getSmartAccount(e){var t,r,i;return el((0,n.Z)((0,n.Z)((0,n.Z)({},this.options||{}),{},{entryPoint:{address:(null===(t=this.options)||void 0===t||null===(t=t.entryPoint)||void 0===t?void 0:t.address)||x.VU,version:(null===(r=this.options)||void 0===r||null===(r=r.entryPoint)||void 0===r?void 0:r.version)||"0.7"},version:(null===(i=this.options)||void 0===i?void 0:i.version)||"1.4.1"},e),{},{owners:[e.walletClient],client:e.client}))}}},47653:function(e,t,r){"use strict";r.d(t,{P:function(){return _}});var n=r(31686),i=r(56127),o=r(15566),a=r(42727),s=r(12363),c=r(70550),l=r(17324),u=r(46967),d=r(35304),f=r(6895),h=r(49519),p=r(82645),g=r(59423),m=r(60137),y=r(87721);let b=async e=>{try{let t=(0,y.p)({abi:[{inputs:[{internalType:"address[]",name:"dest",type:"address[]"},{internalType:"uint256[]",name:"value",type:"uint256[]"},{internalType:"bytes[]",name:"func",type:"bytes[]"}],name:"executeBatch",outputs:[],stateMutability:"nonpayable",type:"function"}],data:e}),r=[];for(let e=0;e<t.args[0].length;e++)r.push({to:t.args[0][e],value:t.args[1][e],data:t.args[2][e]});return r}catch{}let t=(0,y.p)({abi:[{inputs:[{internalType:"address",name:"dest",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"func",type:"bytes"}],name:"execute",outputs:[],stateMutability:"nonpayable",type:"function"}],data:e});return[{to:t.args[0],value:t.args[1],data:t.args[2]}]};var w=r(17283);let v=async e=>{if(e.length>1)return(0,w.R)({abi:[{inputs:[{internalType:"address[]",name:"dest",type:"address[]"},{internalType:"uint256[]",name:"value",type:"uint256[]"},{internalType:"bytes[]",name:"func",type:"bytes[]"}],name:"executeBatch",outputs:[],stateMutability:"nonpayable",type:"function"}],functionName:"executeBatch",args:[e.map(e=>e.to),e.map(e=>e.value??0n),e.map(e=>e.data??"0x")]});let t=0===e.length?void 0:e[0];if(!t)throw Error("No calls to encode");return(0,w.R)({abi:[{inputs:[{internalType:"address",name:"dest",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"func",type:"bytes"}],name:"execute",outputs:[],stateMutability:"nonpayable",type:"function"}],functionName:"execute",args:[t.to,t.value??0n,t.data??"0x"]})},E=async({bytes:e,index:t,secp256k1VerificationFacetAddress:r})=>(0,w.R)({abi:[{inputs:[{internalType:"address",name:"_verificationFacet",type:"address"},{internalType:"bytes",name:"_owner",type:"bytes"},{internalType:"uint256",name:"_salt",type:"uint256"}],name:"createAccount",outputs:[{internalType:"contract Barz",name:"barz",type:"address"}],stateMutability:"nonpayable",type:"function"}],functionName:"createAccount",args:[r,e,t]});async function x(e,t,r,n){return e.signTypedData({domain:{chainId:Number(t),name:"Barz",verifyingContract:r,version:"v0.2.0"},types:{BarzMessage:[{name:"message",type:"bytes"}]},message:{message:n},primaryType:"BarzMessage"})}async function A(e){let t;let{owner:r,client:n,index:i=0n,address:y,factoryAddress:w="0x729c310186a57833f622630a16d13f710b83272a",secp256k1VerificationFacetAddress:A="0x81b9E3689390C7e74cF526594A105Dea21a8cdD5"}=e,S=await (0,m.J)({owner:r}),_=y,I={address:e.entryPoint?.address??u.qe,abi:d.Jr,version:e.entryPoint?.version??"0.6"},C=async()=>t||(t=n.chain?n.chain.id:await (0,p.s)(n,s.L,"getChainId")({})),O=async()=>({factory:w,factoryData:await E({bytes:S.address,secp256k1VerificationFacetAddress:A,index:i})});return(0,f.A)({client:n,entryPoint:I,getFactoryArgs:O,async getAddress(){if(_)return _;let{factory:e,factoryData:t}=await O();return _=await (0,g.a)(n,{factory:e,factoryData:t,entryPointAddress:I.address})},encodeCalls:async e=>v(e),decodeCalls:async e=>b(e),async getNonce(t){return(0,l.m)(n,{address:await this.getAddress(),entryPointAddress:I.address,key:e?.nonceKey??t?.key})},getStubSignature:async()=>"0xfffffffffffffffffffffffffffffff0000000000000000000000000000000007aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa1c",async sign({hash:e}){return this.signMessage({message:e})},async signMessage({message:e}){return x(S,await C(),await this.getAddress(),(0,o.r)(e))},async signTypedData(e){return x(S,await C(),await this.getAddress(),(0,a.Jv)(e))},async signUserOperation(e){let{chainId:t=await C(),...r}=e;return(0,c.l)(n,{account:S,message:{raw:(0,h.x)({userOperation:{...r,sender:r.sender??await this.getAddress(),signature:"0x"},entryPointAddress:I.address,entryPointVersion:I.version,chainId:t})}})}})}var S=r(19387);class _{constructor(e){(0,i.Z)(this,"name",S.FN.TRUST),(0,i.Z)(this,"options",void 0),this.options=e}async getSmartAccount(e){var t,r;return A((0,n.Z)((0,n.Z)((0,n.Z)({},this.options||{}),{},{entryPoint:{address:(null===(t=this.options)||void 0===t||null===(t=t.entryPoint)||void 0===t?void 0:t.address)||u.qe,version:(null===(r=this.options)||void 0===r||null===(r=r.entryPoint)||void 0===r?void 0:r.version)||"0.6"}},e),{},{owner:e.walletClient,client:e.client}))}}},19387:function(e,t,r){"use strict";r.d(t,{RH:function(){return tw},FN:function(){return tv}});let n="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function i(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function o(e,...t){if(!(e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function a(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function s(e,t){o(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}function c(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function l(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function u(e,t){return e<<32-t|e>>>t}let d=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]?e=>e:function(e){for(let r=0;r<e.length;r++){var t;e[r]=(t=e[r])<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}return e},f="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,h={_0:48,_9:57,A:65,F:70,a:97,f:102};function p(e){return e>=h._0&&e<=h._9?e-h._0:e>=h.A&&e<=h.F?e-(h.A-10):e>=h.a&&e<=h.f?e-(h.a-10):void 0}function g(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}(e)),o(e),e}class m{}function y(e){let t=t=>e().update(g(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function b(e=32){if(n&&"function"==typeof n.getRandomValues)return n.getRandomValues(new Uint8Array(e));if(n&&"function"==typeof n.randomBytes)return Uint8Array.from(n.randomBytes(e));throw Error("crypto.getRandomValues must be defined")}class w extends m{constructor(e,t,r,n){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.buffer=new Uint8Array(e),this.view=l(this.buffer)}update(e){a(this),o(e=g(e));let{view:t,buffer:r,blockLen:n}=this,i=e.length;for(let o=0;o<i;){let a=Math.min(n-this.pos,i-o);if(a===n){let t=l(e);for(;n<=i-o;o+=n)this.process(t,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){a(this),s(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:n,isLE:i}=this,{pos:o}=this;t[o++]=128,c(this.buffer.subarray(o)),this.padOffset>n-o&&(this.process(r,0),o=0);for(let e=o;e<n;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),o=BigInt(4294967295),a=Number(r>>i&o),s=Number(r&o),c=n?4:0,l=n?0:4;e.setUint32(t+c,a,n),e.setUint32(t+l,s,n)}(r,n-8,BigInt(8*this.length),i),this.process(r,0);let u=l(e),d=this.outputLen;if(d%4)throw Error("_sha2: outputLen should be aligned to 32bit");let f=d/4,h=this.get();if(f>h.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<f;e++)u.setUint32(4*e,h[e],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=i,e.length=n,e.pos=a,n%t&&e.buffer.set(r),e}clone(){return this._cloneInto()}}let v=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),E=BigInt(4294967296-1),x=BigInt(32);function A(e,t=!1){let r=e.length,n=new Uint32Array(r),i=new Uint32Array(r);for(let o=0;o<r;o++){let{h:r,l:a}=function(e,t=!1){return t?{h:Number(e&E),l:Number(e>>x&E)}:{h:0|Number(e>>x&E),l:0|Number(e&E)}}(e[o],t);[n[o],i[o]]=[r,a]}return[n,i]}let S=(e,t,r)=>e<<r|t>>>32-r,_=(e,t,r)=>t<<r|e>>>32-r,I=(e,t,r)=>t<<r-32|e>>>64-r,C=(e,t,r)=>e<<r-32|t>>>64-r,O=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),P=new Uint32Array(64);class T extends w{constructor(e=32){super(64,e,8,!1),this.A=0|v[0],this.B=0|v[1],this.C=0|v[2],this.D=0|v[3],this.E=0|v[4],this.F=0|v[5],this.G=0|v[6],this.H=0|v[7]}get(){let{A:e,B:t,C:r,D:n,E:i,F:o,G:a,H:s}=this;return[e,t,r,n,i,o,a,s]}set(e,t,r,n,i,o,a,s){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|a,this.H=0|s}process(e,t){for(let r=0;r<16;r++,t+=4)P[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=P[e-15],r=P[e-2],n=u(t,7)^u(t,18)^t>>>3,i=u(r,17)^u(r,19)^r>>>10;P[e]=i+P[e-7]+n+P[e-16]|0}let{A:r,B:n,C:i,D:o,E:a,F:s,G:c,H:l}=this;for(let e=0;e<64;e++){var d,f,h,p;let t=l+(u(a,6)^u(a,11)^u(a,25))+((d=a)&s^~d&c)+O[e]+P[e]|0,g=(u(r,2)^u(r,13)^u(r,22))+((f=r)&(h=n)^f&(p=i)^h&p)|0;l=c,c=s,s=a,a=o+t|0,o=i,i=n,n=r,r=t+g|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,s=s+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(r,n,i,o,a,s,c,l)}roundClean(){c(P)}destroy(){this.set(0,0,0,0,0,0,0,0),c(this.buffer)}}let k=A(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e)));k[0],k[1];let N=y(()=>new T);class M extends m{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,function(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.createHasher");i(e.outputLen),i(e.blockLen)}(e);let r=g(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let n=this.blockLen,o=new Uint8Array(n);o.set(r.length>n?e.create().update(r).digest():r);for(let e=0;e<o.length;e++)o[e]^=54;this.iHash.update(o),this.oHash=e.create();for(let e=0;e<o.length;e++)o[e]^=106;this.oHash.update(o),c(o)}update(e){return a(this),this.iHash.update(e),this}digestInto(e){a(this),o(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:o,outputLen:a}=this;return e.finished=n,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let R=(e,t,r)=>new M(e,t).update(r).digest();R.create=(e,t)=>new M(e,t);let D=BigInt(0),L=BigInt(1);function B(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function U(e){if(!B(e))throw Error("Uint8Array expected")}function j(e,t){if("boolean"!=typeof t)throw Error(e+" boolean expected, got "+t)}function $(e){let t=e.toString(16);return 1&t.length?"0"+t:t}function F(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return""===e?D:BigInt("0x"+e)}let z="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,q=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function G(e){if(U(e),z)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=q[e[r]];return t}let H={_0:48,_9:57,A:65,F:70,a:97,f:102};function V(e){return e>=H._0&&e<=H._9?e-H._0:e>=H.A&&e<=H.F?e-(H.A-10):e>=H.a&&e<=H.f?e-(H.a-10):void 0}function W(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);if(z)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=V(e.charCodeAt(i)),o=V(e.charCodeAt(i+1));if(void 0===r||void 0===o)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+o}return n}function Z(e){return F(G(e))}function K(e){return U(e),F(G(Uint8Array.from(e).reverse()))}function Y(e,t){return W(e.toString(16).padStart(2*t,"0"))}function J(e,t){return Y(e,t).reverse()}function X(e,t,r){let n;if("string"==typeof t)try{n=W(t)}catch(t){throw Error(e+" must be hex string or Uint8Array, cause: "+t)}else if(B(t))n=Uint8Array.from(t);else throw Error(e+" must be hex string or Uint8Array");let i=n.length;if("number"==typeof r&&i!==r)throw Error(e+" of length "+r+" expected, got "+i);return n}function Q(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];U(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}let ee=e=>"bigint"==typeof e&&D<=e;function et(e,t,r){return ee(e)&&ee(t)&&ee(r)&&t<=e&&e<r}function er(e,t,r,n){if(!et(t,r,n))throw Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}let en=e=>(L<<BigInt(e))-L,ei=e=>new Uint8Array(e),eo=e=>Uint8Array.from(e),ea={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||B(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function es(e,t,r={}){let n=(t,r,n)=>{let i=ea[r];if("function"!=typeof i)throw Error("invalid validator function");let o=e[t];if((!n||void 0!==o)&&!i(o,e))throw Error("param "+String(t)+" is invalid. Expected "+r+", got "+o)};for(let[e,r]of Object.entries(t))n(e,r,!1);for(let[e,t]of Object.entries(r))n(e,t,!0);return e}function ec(e){let t=new WeakMap;return(r,...n)=>{let i=t.get(r);if(void 0!==i)return i;let o=e(r,...n);return t.set(r,o),o}}let el=BigInt(0),eu=BigInt(1),ed=BigInt(2),ef=BigInt(3),eh=BigInt(4),ep=BigInt(5),eg=BigInt(8);function em(e,t){let r=e%t;return r>=el?r:t+r}function ey(e,t,r){let n=e;for(;t-- >el;)n*=n,n%=r;return n}function eb(e,t){if(e===el)throw Error("invert: expected non-zero number");if(t<=el)throw Error("invert: expected positive modulus, got "+t);let r=em(e,t),n=t,i=el,o=eu,a=eu,s=el;for(;r!==el;){let e=n/r,t=n%r,c=i-a*e,l=o-s*e;n=r,r=t,i=a,o=s,a=c,s=l}if(n!==eu)throw Error("invert: does not exist");return em(i,t)}let ew=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ev(e,t,r=!1){let n=Array(t.length).fill(r?e.ZERO:void 0),i=t.reduce((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r)),e.ONE),o=e.inv(i);return t.reduceRight((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r)),o),n}function eE(e,t){let r=function(e,t){let r=(e.ORDER-eu)/ed,n=e.pow(t,r),i=e.eql(n,e.ONE),o=e.eql(n,e.ZERO),a=e.eql(n,e.neg(e.ONE));if(!i&&!o&&!a)throw Error("Cannot find square root: probably non-prime P");return i?1:o?0:-1}(e,t);return 0===r||1===r}function ex(e,t){void 0!==t&&i(t);let r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function eA(e,t,r=!1,n={}){let i;if(e<=el)throw Error("invalid field: expected ORDER > 0, got "+e);let{nBitLength:o,nByteLength:a}=ex(e,t);if(a>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let s=Object.freeze({ORDER:e,isLE:r,BITS:o,BYTES:a,MASK:en(o),ZERO:el,ONE:eu,create:t=>em(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error("invalid field element: expected bigint, got "+typeof t);return el<=t&&t<e},is0:e=>e===el,isOdd:e=>(e&eu)===eu,neg:t=>em(-t,e),eql:(e,t)=>e===t,sqr:t=>em(t*t,e),add:(t,r)=>em(t+r,e),sub:(t,r)=>em(t-r,e),mul:(t,r)=>em(t*r,e),pow:(e,t)=>(function(e,t,r){if(r<el)throw Error("invalid exponent, negatives unsupported");if(r===el)return e.ONE;if(r===eu)return t;let n=e.ONE,i=t;for(;r>el;)r&eu&&(n=e.mul(n,i)),i=e.sqr(i),r>>=eu;return n})(s,e,t),div:(t,r)=>em(t*eb(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>eb(t,e),sqrt:n.sqrt||(t=>(!i&&(i=e%eh===ef?function(t,r){let n=t.pow(r,(e+eu)/eh);if(!t.eql(t.sqr(n),r))throw Error("Cannot find square root");return n}:e%eg===ep?function(t,r){let n=t.mul(r,ed),i=t.pow(n,(e-ep)/eg),o=t.mul(r,i),a=t.mul(t.mul(o,ed),i),s=t.mul(o,t.sub(a,t.ONE));if(!t.eql(t.sqr(s),r))throw Error("Cannot find square root");return s}:function(e){let t=e-eu,r=0;for(;t%ed===el;)t/=ed,r++;let n=ed,i=eA(e);for(;n<e&&eE(i,n);)if(n++>1e3)throw Error("Cannot find square root: probably non-prime P");if(1===r){let t=(e+eu)/eh;return function(e,r){let n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw Error("Cannot find square root");return n}}let o=(t+eu)/ed;return function(e,i){if(!eE(e,i))throw Error("Cannot find square root");let a=r,s=e.pow(e.mul(e.ONE,n),t),c=e.pow(i,o),l=e.pow(i,t);for(;!e.eql(l,e.ONE);){if(e.eql(l,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(l);t<a&&!e.eql(r,e.ONE);t++)r=e.sqr(r);let r=e.pow(s,eu<<BigInt(a-t-1));s=e.sqr(r),c=e.mul(c,r),l=e.mul(l,s),a=t}return c}}(e)),i(s,t))),toBytes:e=>r?J(e,a):Y(e,a),fromBytes:e=>{if(e.length!==a)throw Error("Field.fromBytes: expected "+a+" bytes, got "+e.length);return r?K(e):Z(e)},invertBatch:e=>ev(s,e),cmov:(e,t,r)=>r?t:e});return Object.freeze(s)}function eS(e){if("bigint"!=typeof e)throw Error("field order must be bigint");return Math.ceil(e.toString(2).length/8)}function e_(e){let t=eS(e);return t+Math.ceil(t/2)}let eI=BigInt(0),eC=BigInt(1);function eO(e,t){let r=t.negate();return e?r:t}function eP(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw Error("invalid window size, expected [1.."+t+"], got W="+e)}function eT(e,t){eP(e,t);let r=Math.ceil(t/e)+1,n=2**(e-1),i=2**e;return{windows:r,windowSize:n,mask:en(e),maxNumber:i,shiftBy:BigInt(e)}}function ek(e,t,r){let{windowSize:n,mask:i,maxNumber:o,shiftBy:a}=r,s=Number(e&i),c=e>>a;s>n&&(s-=o,c+=eC);let l=t*n,u=l+Math.abs(s)-1;return{nextN:c,offset:u,isZero:0===s,isNeg:s<0,isNegF:t%2!=0,offsetF:l}}let eN=new WeakMap,eM=new WeakMap;function eR(e){return eM.get(e)||1}function eD(e){return es(e.Fp,ew.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),es(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...ex(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function eL(e){void 0!==e.lowS&&j("lowS",e.lowS),void 0!==e.prehash&&j("prehash",e.prehash)}class eB extends Error{constructor(e=""){super(e)}}let eU={Err:eB,_tlv:{encode:(e,t)=>{let{Err:r}=eU;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");let n=t.length/2,i=$(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");let o=n>127?$(i.length/2|128):"";return $(e)+o+i+t},decode(e,t){let{Err:r}=eU,n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");let i=t[n++],o=0;if(128&i){let e=127&i;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");let a=t.subarray(n,n+e);if(a.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===a[0])throw new r("tlv.decode(long): zero leftmost byte");for(let e of a)o=o<<8|e;if(n+=e,o<128)throw new r("tlv.decode(long): not minimal encoding")}else o=i;let a=t.subarray(n,n+o);if(a.length!==o)throw new r("tlv.decode: wrong value length");return{v:a,l:t.subarray(n+o)}}},_int:{encode(e){let{Err:t}=eU;if(e<ej)throw new t("integer: negative integers are not allowed");let r=$(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){let{Err:t}=eU;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return Z(e)}},toSig(e){let{Err:t,_int:r,_tlv:n}=eU,i=X("signature",e),{v:o,l:a}=n.decode(48,i);if(a.length)throw new t("invalid signature: left bytes after parsing");let{v:s,l:c}=n.decode(2,o),{v:l,l:u}=n.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(s),s:r.decode(l)}},hexFromSig(e){let{_tlv:t,_int:r}=eU,n=t.encode(2,r.encode(e.r)),i=t.encode(2,r.encode(e.s));return t.encode(48,n+i)}},ej=BigInt(0),e$=BigInt(1),eF=(BigInt(2),BigInt(3));BigInt(4);let ez=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),eq=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),eG=BigInt(1),eH=BigInt(2),eV=(e,t)=>(e+t/eH)/t,eW=eA(ez,void 0,void 0,{sqrt:function(e){let t=BigInt(3),r=BigInt(6),n=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),s=BigInt(88),c=e*e*e%ez,l=c*c*e%ez,u=ey(l,t,ez)*l%ez,d=ey(u,t,ez)*l%ez,f=ey(d,eH,ez)*c%ez,h=ey(f,n,ez)*f%ez,p=ey(h,i,ez)*h%ez,g=ey(p,a,ez)*p%ez,m=ey(g,s,ez)*g%ez,y=ey(m,a,ez)*p%ez,b=ey(y,t,ez)*l%ez,w=ey(b,o,ez)*h%ez,v=ey(w,r,ez)*c%ez,E=ey(v,eH,ez);if(!eW.eql(eW.sqr(E),e))throw Error("Cannot find square root");return E}}),eZ=function(e,t){let r=t=>(function(e){let t=function(e){let t=eD(e);return es(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:r,n:n}=t,i=r.BYTES+1,o=2*r.BYTES+1;function a(e){return em(e,n)}let{ProjectivePoint:s,normPrivateKeyToScalar:c,weierstrassEquation:l,isWithinCurveOrder:u}=function(e){var t;let r=function(e){let t=eD(e);es(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:n}=r,i=eA(r.n,r.nBitLength),o=r.toBytes||((e,t,r)=>{let i=t.toAffine();return Q(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),a=r.fromBytes||(e=>{let t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function s(e){let{a:t,b:i}=r,o=n.sqr(e),a=n.mul(o,e);return n.add(n.add(a,n.mul(e,t)),i)}if(!n.eql(n.sqr(r.Gy),s(r.Gx)))throw Error("bad generator point: equation left != right");function c(e){let t;let{allowedPrivateKeyLengths:n,nByteLength:i,wrapPrivateKey:o,n:a}=r;if(n&&"bigint"!=typeof e){if(B(e)&&(e=G(e)),"string"!=typeof e||!n.includes(e.length))throw Error("invalid private key");e=e.padStart(2*i,"0")}try{t="bigint"==typeof e?e:Z(X("private key",e,i))}catch(t){throw Error("invalid private key, expected hex or "+i+" bytes, got "+typeof e)}return o&&(t=em(t,a)),er("private key",t,e$,a),t}function l(e){if(!(e instanceof f))throw Error("ProjectivePoint expected")}let u=ec((e,t)=>{let{px:r,py:i,pz:o}=e;if(n.eql(o,n.ONE))return{x:r,y:i};let a=e.is0();null==t&&(t=a?n.ONE:n.inv(o));let s=n.mul(r,t),c=n.mul(i,t),l=n.mul(o,t);if(a)return{x:n.ZERO,y:n.ZERO};if(!n.eql(l,n.ONE))throw Error("invZ was invalid");return{x:s,y:c}}),d=ec(e=>{if(e.is0()){if(r.allowInfinityPoint&&!n.is0(e.py))return;throw Error("bad point: ZERO")}let{x:t,y:i}=e.toAffine();if(!n.isValid(t)||!n.isValid(i))throw Error("bad point: x or y not FE");let o=n.sqr(i),a=s(t);if(!n.eql(o,a))throw Error("bad point: equation left != right");if(!e.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0});class f{constructor(e,t,r){if(null==e||!n.isValid(e))throw Error("x required");if(null==t||!n.isValid(t)||n.is0(t))throw Error("y required");if(null==r||!n.isValid(r))throw Error("z required");this.px=e,this.py=t,this.pz=r,Object.freeze(this)}static fromAffine(e){let{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw Error("invalid affine point");if(e instanceof f)throw Error("projective point not allowed");let i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?f.ZERO:new f(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){let t=ev(n,e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(f.fromAffine)}static fromHex(e){let t=f.fromAffine(a(X("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return f.BASE.multiply(c(e))}static msm(e,t){return function(e,t,r,n){if(!function(e,t){if(!Array.isArray(e))throw Error("array expected");e.forEach((e,r)=>{if(!(e instanceof t))throw Error("invalid point at index "+r)})}(r,e),!function(e,t){if(!Array.isArray(e))throw Error("array of scalars expected");e.forEach((e,r)=>{if(!t.isValid(e))throw Error("invalid scalar at index "+r)})}(n,t),r.length!==n.length)throw Error("arrays of points and scalars must have equal length");let i=e.ZERO,o=function(e){let t;for(t=0;e>D;e>>=L,t+=1);return t}(BigInt(r.length)),a=o>12?o-3:o>4?o-2:o?2:1,s=en(a),c=Array(Number(s)+1).fill(i),l=Math.floor((t.BITS-1)/a)*a,u=i;for(let e=l;e>=0;e-=a){c.fill(i);for(let t=0;t<n.length;t++){let i=Number(n[t]>>BigInt(e)&s);c[i]=c[i].add(r[t])}let t=i;for(let e=c.length-1,r=i;e>0;e--)r=r.add(c[e]),t=t.add(r);if(u=u.add(t),0!==e)for(let e=0;e<a;e++)u=u.double()}return u}(f,i,e,t)}_setWindowSize(e){p.setWindowSize(this,e)}assertValidity(){d(this)}hasEvenY(){let{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw Error("Field doesn't support isOdd")}equals(e){l(e);let{px:t,py:r,pz:i}=this,{px:o,py:a,pz:s}=e,c=n.eql(n.mul(t,s),n.mul(o,i)),u=n.eql(n.mul(r,s),n.mul(a,i));return c&&u}negate(){return new f(this.px,n.neg(this.py),this.pz)}double(){let{a:e,b:t}=r,i=n.mul(t,eF),{px:o,py:a,pz:s}=this,c=n.ZERO,l=n.ZERO,u=n.ZERO,d=n.mul(o,o),h=n.mul(a,a),p=n.mul(s,s),g=n.mul(o,a);return g=n.add(g,g),u=n.mul(o,s),u=n.add(u,u),c=n.mul(e,u),l=n.mul(i,p),l=n.add(c,l),c=n.sub(h,l),l=n.add(h,l),l=n.mul(c,l),c=n.mul(g,c),u=n.mul(i,u),p=n.mul(e,p),g=n.sub(d,p),g=n.mul(e,g),g=n.add(g,u),u=n.add(d,d),d=n.add(u,d),d=n.add(d,p),d=n.mul(d,g),l=n.add(l,d),p=n.mul(a,s),p=n.add(p,p),d=n.mul(p,g),c=n.sub(c,d),u=n.mul(p,h),u=n.add(u,u),new f(c,l,u=n.add(u,u))}add(e){l(e);let{px:t,py:i,pz:o}=this,{px:a,py:s,pz:c}=e,u=n.ZERO,d=n.ZERO,h=n.ZERO,p=r.a,g=n.mul(r.b,eF),m=n.mul(t,a),y=n.mul(i,s),b=n.mul(o,c),w=n.add(t,i),v=n.add(a,s);w=n.mul(w,v),v=n.add(m,y),w=n.sub(w,v),v=n.add(t,o);let E=n.add(a,c);return v=n.mul(v,E),E=n.add(m,b),v=n.sub(v,E),E=n.add(i,o),u=n.add(s,c),E=n.mul(E,u),u=n.add(y,b),E=n.sub(E,u),h=n.mul(p,v),u=n.mul(g,b),h=n.add(u,h),u=n.sub(y,h),h=n.add(y,h),d=n.mul(u,h),y=n.add(m,m),y=n.add(y,m),b=n.mul(p,b),v=n.mul(g,v),y=n.add(y,b),b=n.sub(m,b),b=n.mul(p,b),v=n.add(v,b),m=n.mul(y,v),d=n.add(d,m),m=n.mul(E,v),u=n.mul(w,u),u=n.sub(u,m),m=n.mul(w,y),h=n.mul(E,h),new f(u,d,h=n.add(h,m))}subtract(e){return this.add(e.negate())}is0(){return this.equals(f.ZERO)}wNAF(e){return p.wNAFCached(this,e,f.normalizeZ)}multiplyUnsafe(e){let{endo:t,n:i}=r;er("scalar",e,ej,i);let o=f.ZERO;if(e===ej)return o;if(this.is0()||e===e$)return this;if(!t||p.hasPrecomputes(this))return p.wNAFCachedUnsafe(this,e,f.normalizeZ);let{k1neg:a,k1:s,k2neg:c,k2:l}=t.splitScalar(e),u=o,d=o,h=this;for(;s>ej||l>ej;)s&e$&&(u=u.add(h)),l&e$&&(d=d.add(h)),h=h.double(),s>>=e$,l>>=e$;return a&&(u=u.negate()),c&&(d=d.negate()),d=new f(n.mul(d.px,t.beta),d.py,d.pz),u.add(d)}multiply(e){let t,i;let{endo:o,n:a}=r;if(er("scalar",e,e$,a),o){let{k1neg:r,k1:a,k2neg:s,k2:c}=o.splitScalar(e),{p:l,f:u}=this.wNAF(a),{p:d,f:h}=this.wNAF(c);l=p.constTimeNegate(r,l),d=p.constTimeNegate(s,d),d=new f(n.mul(d.px,o.beta),d.py,d.pz),t=l.add(d),i=u.add(h)}else{let{p:r,f:n}=this.wNAF(e);t=r,i=n}return f.normalizeZ([t,i])[0]}multiplyAndAddUnsafe(e,t,r){let n=f.BASE,i=(e,t)=>t!==ej&&t!==e$&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),o=i(this,t).add(i(e,r));return o.is0()?void 0:o}toAffine(e){return u(this,e)}isTorsionFree(){let{h:e,isTorsionFree:t}=r;if(e===e$)return!0;if(t)return t(f,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:e,clearCofactor:t}=r;return e===e$?this:t?t(f,this):this.multiplyUnsafe(r.h)}toRawBytes(e=!0){return j("isCompressed",e),this.assertValidity(),o(f,this,e)}toHex(e=!0){return j("isCompressed",e),G(this.toRawBytes(e))}}f.BASE=new f(r.Gx,r.Gy,n.ONE),f.ZERO=new f(n.ZERO,n.ONE,n.ZERO);let h=r.nBitLength,p=(t=r.endo?Math.ceil(h/2):h,{constTimeNegate:eO,hasPrecomputes:e=>1!==eR(e),unsafeLadder(e,t,r=f.ZERO){let n=e;for(;t>eI;)t&eC&&(r=r.add(n)),n=n.double(),t>>=eC;return r},precomputeWindow(e,r){let{windows:n,windowSize:i}=eT(r,t),o=[],a=e,s=a;for(let e=0;e<n;e++){s=a,o.push(s);for(let e=1;e<i;e++)s=s.add(a),o.push(s);a=s.double()}return o},wNAF(e,r,n){let i=f.ZERO,o=f.BASE,a=eT(e,t);for(let e=0;e<a.windows;e++){let{nextN:t,offset:s,isZero:c,isNeg:l,isNegF:u,offsetF:d}=ek(n,e,a);n=t,c?o=o.add(eO(u,r[d])):i=i.add(eO(l,r[s]))}return{p:i,f:o}},wNAFUnsafe(e,r,n,i=f.ZERO){let o=eT(e,t);for(let e=0;e<o.windows&&n!==eI;e++){let{nextN:t,offset:a,isZero:s,isNeg:c}=ek(n,e,o);if(n=t,!s){let e=r[a];i=i.add(c?e.negate():e)}}return i},getPrecomputes(e,t,r){let n=eN.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&eN.set(t,r(n))),n},wNAFCached(e,t,r){let n=eR(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)},wNAFCachedUnsafe(e,t,r,n){let i=eR(e);return 1===i?this.unsafeLadder(e,t,n):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),t,n)},setWindowSize(e,r){eP(r,t),eM.set(e,r),eN.delete(e)}});return{CURVE:r,ProjectivePoint:f,normPrivateKeyToScalar:c,weierstrassEquation:s,isWithinCurveOrder:function(e){return et(e,e$,r.n)}}}({...t,toBytes(e,t,n){let i=t.toAffine(),o=r.toBytes(i.x);return(j("isCompressed",n),n)?Q(Uint8Array.from([t.hasEvenY()?2:3]),o):Q(Uint8Array.from([4]),o,r.toBytes(i.y))},fromBytes(e){let t=e.length,n=e[0],a=e.subarray(1);if(t===i&&(2===n||3===n)){let e;let t=Z(a);if(!et(t,e$,r.ORDER))throw Error("Point is not on curve");let i=l(t);try{e=r.sqrt(i)}catch(e){throw Error("Point is not on curve"+(e instanceof Error?": "+e.message:""))}return(1&n)==1!=((e&e$)===e$)&&(e=r.neg(e)),{x:t,y:e}}if(t===o&&4===n)return{x:r.fromBytes(a.subarray(0,r.BYTES)),y:r.fromBytes(a.subarray(r.BYTES,2*r.BYTES))};throw Error("invalid Point, expected length of "+i+", or uncompressed "+o+", got "+t)}}),d=e=>G(Y(e,t.nByteLength)),f=(e,t,r)=>Z(e.slice(t,r));class h{constructor(e,t,r){er("r",e,e$,n),er("s",t,e$,n),this.r=e,this.s=t,null!=r&&(this.recovery=r),Object.freeze(this)}static fromCompact(e){let r=t.nByteLength;return new h(f(e=X("compactSignature",e,2*r),0,r),f(e,r,2*r))}static fromDER(e){let{r:t,s:r}=eU.toSig(X("DER",e));return new h(t,r)}assertValidity(){}addRecoveryBit(e){return new h(this.r,this.s,e)}recoverPublicKey(e){let{r:i,s:o,recovery:c}=this,l=m(X("msgHash",e));if(null==c||![0,1,2,3].includes(c))throw Error("recovery id invalid");let u=2===c||3===c?i+t.n:i;if(u>=r.ORDER)throw Error("recovery id 2 or 3 invalid");let f=(1&c)==0?"02":"03",h=s.fromHex(f+d(u)),p=eb(u,n),g=a(-l*p),y=a(o*p),b=s.BASE.multiplyAndAddUnsafe(h,g,y);if(!b)throw Error("point at infinify");return b.assertValidity(),b}hasHighS(){return this.s>n>>e$}normalizeS(){return this.hasHighS()?new h(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return W(this.toDERHex())}toDERHex(){return eU.hexFromSig(this)}toCompactRawBytes(){return W(this.toCompactHex())}toCompactHex(){return d(this.r)+d(this.s)}}function p(e){let t=B(e),r="string"==typeof e,n=(t||r)&&e.length;return t?n===i||n===o:r?n===2*i||n===2*o:e instanceof s}let g=t.bits2int||function(e){if(e.length>8192)throw Error("input is too large");let r=Z(e),n=8*e.length-t.nBitLength;return n>0?r>>BigInt(n):r},m=t.bits2int_modN||function(e){return a(g(e))},y=en(t.nBitLength);function b(e){return er("num < 2^"+t.nBitLength,e,ej,y),Y(e,t.nByteLength)}let w={lowS:t.lowS,prehash:!1},v={lowS:t.lowS,prehash:!1};return s.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return s.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(p(e))throw Error("first arg must be private key");if(!p(t))throw Error("second arg must be public key");return s.fromHex(t).multiply(c(e)).toRawBytes(r)},sign:function(e,i,o=w){let{seed:l,k2sig:d}=function(e,i,o=w){if(["recovered","canonical"].some(e=>e in o))throw Error("sign() legacy options not supported");let{hash:l,randomBytes:d}=t,{lowS:f,prehash:p,extraEntropy:y}=o;null==f&&(f=!0),e=X("msgHash",e),eL(o),p&&(e=X("prehashed msgHash",l(e)));let v=m(e),E=c(i),x=[b(E),b(v)];if(null!=y&&!1!==y){let e=!0===y?d(r.BYTES):y;x.push(X("extraEntropy",e))}return{seed:Q(...x),k2sig:function(e){let t=g(e);if(!u(t))return;let r=eb(t,n),i=s.BASE.multiply(t).toAffine(),o=a(i.x);if(o===ej)return;let c=a(r*a(v+o*E));if(c===ej)return;let l=(i.x===o?0:2)|Number(i.y&e$),d=c;if(f&&c>n>>e$)d=c>n>>e$?a(-c):c,l^=1;return new h(o,d,l)}}}(e,i,o);return(function(e,t,r){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let n=ei(e),i=ei(e),o=0,a=()=>{n.fill(1),i.fill(0),o=0},s=(...e)=>r(i,n,...e),c=(e=ei(0))=>{i=s(eo([0]),e),n=s(),0!==e.length&&(i=s(eo([1]),e),n=s())},l=()=>{if(o++>=1e3)throw Error("drbg: tried 1000 values");let e=0,r=[];for(;e<t;){let t=(n=s()).slice();r.push(t),e+=n.length}return Q(...r)};return(e,t)=>{let r;for(a(),c(e);!(r=t(l()));)c();return a(),r}})(t.hash.outputLen,t.nByteLength,t.hmac)(l,d)},verify:function(e,r,i,o=v){let c,l;r=X("msgHash",r),i=X("publicKey",i);let{lowS:u,prehash:d,format:f}=o;if(eL(o),"strict"in o)throw Error("options.strict was renamed to lowS");if(void 0!==f&&"compact"!==f&&"der"!==f)throw Error("format must be compact or der");let p="string"==typeof e||B(e),g=!p&&!f&&"object"==typeof e&&null!==e&&"bigint"==typeof e.r&&"bigint"==typeof e.s;if(!p&&!g)throw Error("invalid signature, expected Uint8Array, hex string or Signature instance");try{if(g&&(l=new h(e.r,e.s)),p){try{"compact"!==f&&(l=h.fromDER(e))}catch(e){if(!(e instanceof eU.Err))throw e}l||"der"===f||(l=h.fromCompact(e))}c=s.fromHex(i)}catch(e){return!1}if(!l||u&&l.hasHighS())return!1;d&&(r=t.hash(r));let{r:y,s:b}=l,w=m(r),E=eb(b,n),x=a(w*E),A=a(y*E),S=s.BASE.multiplyAndAddUnsafe(c,x,A)?.toAffine();return!!S&&a(S.x)===y},ProjectivePoint:s,Signature:h,utils:{isValidPrivateKey(e){try{return c(e),!0}catch(e){return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{let e=e_(t.n);return function(e,t,r=!1){let n=e.length,i=eS(t),o=e_(t);if(n<16||n<o||n>1024)throw Error("expected "+o+"-1024 bytes of input, got "+n);let a=em(r?K(e):Z(e),t-eu)+eu;return r?J(a,i):Y(a,i)}(t.randomBytes(e),t.n)},precompute:(e=8,t=s.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}})({...e,hash:t,hmac:(e,...r)=>R(t,e,function(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];o(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}(...r)),randomBytes:b});return{...r(t),create:r}}({a:BigInt(0),b:BigInt(7),Fp:eW,n:eq,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-eG*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=BigInt("0x100000000000000000000000000000000"),o=eV(t*e,eq),a=eV(-r*e,eq),s=em(e-o*t-a*n,eq),c=em(-o*r-a*t,eq),l=s>i,u=c>i;if(l&&(s=eq-s),u&&(c=eq-c),s>i||c>i)throw Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:l,k1:s,k2neg:u,k2:c}}}},N);function eK(e){return t=>(o(t),e(t))}BigInt(0),eZ.ProjectivePoint;let eY=eK(N);class eJ extends Error{constructor(e,t,r){super(t??e.code),this.type=e,void 0!==r&&(this.stack=r)}getMetadata(){return this.type}toObject(){return{type:this.getMetadata(),message:this.message??"",stack:this.stack??"",className:this.constructor.name}}}function eX(e,t){return new eJ({code:"ETHEREUMJS_DEFAULT_ERROR_CODE"},e,t)}Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));let eQ=e=>{if("string"!=typeof e)throw eX(`[stripHexPrefix] input must be type 'string', received ${typeof e}`);return"string"==typeof e&&e.match(/^0x[0-9A-Fa-f]*$/)?e.slice(2):e};BigInt(0);let e0=e=>{var t;if(!e.startsWith("0x"))throw eX("input string must be 0x prefixed");return function(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);if(f)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=p(e.charCodeAt(i)),o=p(e.charCodeAt(i+1));if(void 0===r||void 0===o)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+o}return n}((t=function(e){let t=e;if("string"!=typeof t)throw eX(`[padToEven] value must be type 'string', received ${typeof t}`);return t.length%2&&(t=`0${t}`),t}(eQ(e))).startsWith("0x")?t.substring(2):t)},e1=[];for(let e=0;e<=65535;e++)e1[e]=BigInt(e);let e2=e=>{if(!Number.isSafeInteger(e)||e<0)throw eX(`Received an invalid integer type: ${e}`);return`0x${e.toString(16)}`},e3=e=>e0(e2(e));BigInt("0xffffffffffffffff"),BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935"),eZ.CURVE.n,eZ.CURVE.n,BigInt(2),BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),e0("0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470"),e0("0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347"),e0("0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421"),eY(new Uint8Array),Uint8Array.from([128]),BigInt(-1),BigInt(0),BigInt(1),BigInt(2),BigInt(3),BigInt(7),BigInt(8),BigInt(27),BigInt(28),BigInt(31),BigInt(32),BigInt(64),BigInt(128),BigInt(255),BigInt(256),BigInt(96),BigInt(100),BigInt(160),BigInt(224),BigInt(7922816251426434e13),BigInt(1461501637330903e33),BigInt(2695994666715064e52),BigInt(1e9),BigInt(1e18);let e6=BigInt(0),e5=BigInt(1),e8=BigInt(2),e4=BigInt(7),e9=BigInt(256),e7=BigInt(113),te=[],tt=[],tr=[];for(let e=0,t=e5,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],te.push(2*(5*n+r)),tt.push((e+1)*(e+2)/2%64);let i=e6;for(let e=0;e<7;e++)(t=(t<<e5^(t>>e4)*e7)%e9)&e8&&(i^=e5<<(e5<<BigInt(e))-e5);tr.push(i)}let tn=A(tr,!0),ti=tn[0],to=tn[1],ta=(e,t,r)=>r>32?I(e,t,r):S(e,t,r),ts=(e,t,r)=>r>32?C(e,t,r):_(e,t,r);class tc extends m{constructor(e,t,r,n=!1,o=24){var a;if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=o,i(r),!(0<e&&e<200))throw Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=new Uint32Array((a=this.state).buffer,a.byteOffset,Math.floor(a.byteLength/4))}clone(){return this._cloneInto()}keccak(){d(this.state32),function(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let n=(t+8)%10,i=(t+2)%10,o=r[i],a=r[i+1],s=ta(o,a,1)^r[n],c=ts(o,a,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=s,e[t+r+1]^=c}let t=e[2],i=e[3];for(let r=0;r<24;r++){let n=tt[r],o=ta(t,i,n),a=ts(t,i,n),s=te[r];t=e[s],i=e[s+1],e[s]=o,e[s+1]=a}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=ti[n],e[1]^=to[n]}c(r)}(this.state32,this.rounds),d(this.state32),this.posOut=0,this.pos=0}update(e){a(this),o(e=g(e));let{blockLen:t,state:r}=this,n=e.length;for(let i=0;i<n;){let o=Math.min(t-this.pos,n-i);for(let t=0;t<o;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,(128&t)!=0&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){a(this,!1),o(e),this.finish();let t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();let o=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+o),n),this.posOut+=o,n+=o}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return i(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(s(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,c(this.state)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:o}=this;return e||(e=new tc(t,r,n,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=o,e.destroyed=this.destroyed,e}}let tl=(e,t,r)=>y(()=>new tc(t,e,r)),tu=tl(1,144,28),td=tl(1,136,32),tf=tl(1,104,48),th=tl(1,72,64);eK(tu),eK(td).create=td.create,eK(tf),eK(th),new Uint8Array(0),e0("0x05"),e3(0),e3(1),BigInt(256),BigInt(31),r(68651),r(82957).Buffer;var tp,tg,tm,ty=r(25566),tb=r(25566);tp="VITE_APP_INFURA_PROJECT_KEY",(void 0!==ty&&null!==(tg=ty.env)&&void 0!==tg&&tg[tp]?null===(tm=ty.env)||void 0===tm?void 0:tm[tp]:void 0)||tb.env.VITE_APP_INFURA_PROJECT_KEY;let tw={GET_ACCOUNTS:"eth_accounts",ETH_TRANSACTION:"eth_sendTransaction",ETH_SIGN_TRANSACTION:"eth_signTransaction",ETH_ESTIMATE_AA_TRANSACTION_GAS:"eth_estimateAATransactionGas",ETH_ESTIMATE_USER_OPERATION_GAS:"eth_estimateUserOperationGas",ETH_GET_SUPPORTED_ENTRY_POINTS:"eth_supportedEntryPoints",ETH_GET_USER_OPERATION:"eth_getUserOperationByHash",ETH_GET_USER_OPERATION_RECEIPT:"eth_getUserOperationReceipt",ETH_SEND_USER_OPERATION:"eth_sendUserOperation",PIMLICO_GET_USER_OPERATION_GAS_PRICE:"pimlico_getUserOperationGasPrice",PIMLICO_GET_USER_OPERATION_STATUS:"pimlico_getUserOperationStatus",PIMLICO_SIMULATE_ASSET_CHANGES:"pimlico_simulateAssetChanges",BICONOMY_GET_GAS_FEE_VALUES:"biconomy_getGasFeeValues",BICONOMY_GET_USER_OPERATION_STATUS:"biconomy_getUserOperationStatus",ETH_GET_PAYMASTER_DATA:"pm_getPaymasterData",ETH_GET_PAYMASTER_STUB_DATA:"pm_getPaymasterStubData",ETH_SPONSOR_USER_OPERATION:"pm_sponsorUserOperation",ETH_GET_FEE_QUOTE_OR_DATA:"pm_getFeeQuoteOrData",PIMLICO_GET_TOKEN_QUOTES:"pimlico_getTokenQuotes",ETH_REQUEST_ACCOUNTS:"eth_requestAccounts",ETH_SEND_RAW_TRANSACTION:"eth_sendRawTransaction",ETH_SIGN:"eth_sign",ETH_SIGN_TYPED_DATA_V4:"eth_signTypedData_v4",PERSONAL_SIGN:"personal_sign",ETH_GET_TRANSACTION_COUNT:"eth_getTransactionCount",ETH_GET_TRANSACTION_BY_HASH:"eth_getTransactionByHash",ETH_GET_TRANSACTION_RECEIPT:"eth_getTransactionReceipt",WATCH_ASSET:"wallet_watchAsset",ETH_GET_BLOCK_BY_HASH:"eth_getBlockByHash",ETH_GET_CODE:"eth_getCode",ETH_GET_GAS_PRICE:"eth_gasPrice",ETH_PRIVATE_KEY:"eth_privateKey",PRIVATE_KEY:"private_key",ETH_PUBLIC_KEY:"eth_publicKey",PUBLIC_KEY:"public_key",SWITCH_CHAIN:"wallet_switchEthereumChain",ADD_CHAIN:"wallet_addEthereumChain"};tw.ETH_ESTIMATE_USER_OPERATION_GAS,tw.ETH_GET_SUPPORTED_ENTRY_POINTS,tw.ETH_GET_USER_OPERATION,tw.ETH_GET_USER_OPERATION_RECEIPT,tw.ETH_SEND_USER_OPERATION,tw.PIMLICO_GET_USER_OPERATION_GAS_PRICE,tw.PIMLICO_GET_USER_OPERATION_STATUS,tw.PIMLICO_SIMULATE_ASSET_CHANGES,tw.BICONOMY_GET_GAS_FEE_VALUES,tw.BICONOMY_GET_USER_OPERATION_STATUS,tw.ETH_GET_PAYMASTER_DATA,tw.ETH_GET_PAYMASTER_STUB_DATA,tw.ETH_SPONSOR_USER_OPERATION,tw.PIMLICO_GET_TOKEN_QUOTES,tw.ETH_GET_FEE_QUOTE_OR_DATA;let tv={BICONOMY:"biconomy",KERNEL:"kernel",SAFE:"safe",TRUST:"trust",LIGHT:"light",SIMPLE:"simple",NEXUS:"nexus",METAMASK:"metamask"}},99420:function(e,t,r){!function(e){"use strict";var t,n=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},i=function(){throw Error("no PRNG")},o=new Uint8Array(16),a=new Uint8Array(32);a[0]=9;var s=n(),c=n([1]),l=n([56129,1]),u=n([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),d=n([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),f=n([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),h=n([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),p=n([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function g(e,t,r,n){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r,e[t+4]=n>>24&255,e[t+5]=n>>16&255,e[t+6]=n>>8&255,e[t+7]=255&n}function m(e,t,r,n,i){var o,a=0;for(o=0;o<i;o++)a|=e[t+o]^r[n+o];return(1&a-1>>>8)-1}function y(e,t,r,n){return m(e,t,r,n,16)}function b(e,t,r,n){return m(e,t,r,n,32)}function w(e,t,r,n){!function(e,t,r,n){for(var i,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,s=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,l=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,u=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,d=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,f=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,h=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,g=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,m=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,y=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,b=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,w=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,v=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,E=o,x=a,A=s,S=c,_=l,I=u,C=d,O=f,P=h,T=p,k=g,N=m,M=y,R=b,D=w,L=v,B=0;B<20;B+=2)_^=(i=E+M|0)<<7|i>>>25,P^=(i=_+E|0)<<9|i>>>23,M^=(i=P+_|0)<<13|i>>>19,E^=(i=M+P|0)<<18|i>>>14,T^=(i=I+x|0)<<7|i>>>25,R^=(i=T+I|0)<<9|i>>>23,x^=(i=R+T|0)<<13|i>>>19,I^=(i=x+R|0)<<18|i>>>14,D^=(i=k+C|0)<<7|i>>>25,A^=(i=D+k|0)<<9|i>>>23,C^=(i=A+D|0)<<13|i>>>19,k^=(i=C+A|0)<<18|i>>>14,S^=(i=L+N|0)<<7|i>>>25,O^=(i=S+L|0)<<9|i>>>23,N^=(i=O+S|0)<<13|i>>>19,L^=(i=N+O|0)<<18|i>>>14,x^=(i=E+S|0)<<7|i>>>25,A^=(i=x+E|0)<<9|i>>>23,S^=(i=A+x|0)<<13|i>>>19,E^=(i=S+A|0)<<18|i>>>14,C^=(i=I+_|0)<<7|i>>>25,O^=(i=C+I|0)<<9|i>>>23,_^=(i=O+C|0)<<13|i>>>19,I^=(i=_+O|0)<<18|i>>>14,N^=(i=k+T|0)<<7|i>>>25,P^=(i=N+k|0)<<9|i>>>23,T^=(i=P+N|0)<<13|i>>>19,k^=(i=T+P|0)<<18|i>>>14,M^=(i=L+D|0)<<7|i>>>25,R^=(i=M+L|0)<<9|i>>>23,D^=(i=R+M|0)<<13|i>>>19,L^=(i=D+R|0)<<18|i>>>14;E=E+o|0,x=x+a|0,A=A+s|0,S=S+c|0,_=_+l|0,I=I+u|0,C=C+d|0,O=O+f|0,P=P+h|0,T=T+p|0,k=k+g|0,N=N+m|0,M=M+y|0,R=R+b|0,D=D+w|0,L=L+v|0,e[0]=E>>>0&255,e[1]=E>>>8&255,e[2]=E>>>16&255,e[3]=E>>>24&255,e[4]=x>>>0&255,e[5]=x>>>8&255,e[6]=x>>>16&255,e[7]=x>>>24&255,e[8]=A>>>0&255,e[9]=A>>>8&255,e[10]=A>>>16&255,e[11]=A>>>24&255,e[12]=S>>>0&255,e[13]=S>>>8&255,e[14]=S>>>16&255,e[15]=S>>>24&255,e[16]=_>>>0&255,e[17]=_>>>8&255,e[18]=_>>>16&255,e[19]=_>>>24&255,e[20]=I>>>0&255,e[21]=I>>>8&255,e[22]=I>>>16&255,e[23]=I>>>24&255,e[24]=C>>>0&255,e[25]=C>>>8&255,e[26]=C>>>16&255,e[27]=C>>>24&255,e[28]=O>>>0&255,e[29]=O>>>8&255,e[30]=O>>>16&255,e[31]=O>>>24&255,e[32]=P>>>0&255,e[33]=P>>>8&255,e[34]=P>>>16&255,e[35]=P>>>24&255,e[36]=T>>>0&255,e[37]=T>>>8&255,e[38]=T>>>16&255,e[39]=T>>>24&255,e[40]=k>>>0&255,e[41]=k>>>8&255,e[42]=k>>>16&255,e[43]=k>>>24&255,e[44]=N>>>0&255,e[45]=N>>>8&255,e[46]=N>>>16&255,e[47]=N>>>24&255,e[48]=M>>>0&255,e[49]=M>>>8&255,e[50]=M>>>16&255,e[51]=M>>>24&255,e[52]=R>>>0&255,e[53]=R>>>8&255,e[54]=R>>>16&255,e[55]=R>>>24&255,e[56]=D>>>0&255,e[57]=D>>>8&255,e[58]=D>>>16&255,e[59]=D>>>24&255,e[60]=L>>>0&255,e[61]=L>>>8&255,e[62]=L>>>16&255,e[63]=L>>>24&255}(e,t,r,n)}function v(e,t,r,n){!function(e,t,r,n){for(var i,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,s=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,l=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,u=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,d=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,f=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,h=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,g=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,m=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,y=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,b=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,w=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,v=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,E=o,x=a,A=s,S=c,_=l,I=u,C=d,O=f,P=h,T=p,k=g,N=m,M=y,R=b,D=w,L=v,B=0;B<20;B+=2)_^=(i=E+M|0)<<7|i>>>25,P^=(i=_+E|0)<<9|i>>>23,M^=(i=P+_|0)<<13|i>>>19,E^=(i=M+P|0)<<18|i>>>14,T^=(i=I+x|0)<<7|i>>>25,R^=(i=T+I|0)<<9|i>>>23,x^=(i=R+T|0)<<13|i>>>19,I^=(i=x+R|0)<<18|i>>>14,D^=(i=k+C|0)<<7|i>>>25,A^=(i=D+k|0)<<9|i>>>23,C^=(i=A+D|0)<<13|i>>>19,k^=(i=C+A|0)<<18|i>>>14,S^=(i=L+N|0)<<7|i>>>25,O^=(i=S+L|0)<<9|i>>>23,N^=(i=O+S|0)<<13|i>>>19,L^=(i=N+O|0)<<18|i>>>14,x^=(i=E+S|0)<<7|i>>>25,A^=(i=x+E|0)<<9|i>>>23,S^=(i=A+x|0)<<13|i>>>19,E^=(i=S+A|0)<<18|i>>>14,C^=(i=I+_|0)<<7|i>>>25,O^=(i=C+I|0)<<9|i>>>23,_^=(i=O+C|0)<<13|i>>>19,I^=(i=_+O|0)<<18|i>>>14,N^=(i=k+T|0)<<7|i>>>25,P^=(i=N+k|0)<<9|i>>>23,T^=(i=P+N|0)<<13|i>>>19,k^=(i=T+P|0)<<18|i>>>14,M^=(i=L+D|0)<<7|i>>>25,R^=(i=M+L|0)<<9|i>>>23,D^=(i=R+M|0)<<13|i>>>19,L^=(i=D+R|0)<<18|i>>>14;e[0]=E>>>0&255,e[1]=E>>>8&255,e[2]=E>>>16&255,e[3]=E>>>24&255,e[4]=I>>>0&255,e[5]=I>>>8&255,e[6]=I>>>16&255,e[7]=I>>>24&255,e[8]=k>>>0&255,e[9]=k>>>8&255,e[10]=k>>>16&255,e[11]=k>>>24&255,e[12]=L>>>0&255,e[13]=L>>>8&255,e[14]=L>>>16&255,e[15]=L>>>24&255,e[16]=C>>>0&255,e[17]=C>>>8&255,e[18]=C>>>16&255,e[19]=C>>>24&255,e[20]=O>>>0&255,e[21]=O>>>8&255,e[22]=O>>>16&255,e[23]=O>>>24&255,e[24]=P>>>0&255,e[25]=P>>>8&255,e[26]=P>>>16&255,e[27]=P>>>24&255,e[28]=T>>>0&255,e[29]=T>>>8&255,e[30]=T>>>16&255,e[31]=T>>>24&255}(e,t,r,n)}var E=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function x(e,t,r,n,i,o,a){var s,c,l=new Uint8Array(16),u=new Uint8Array(64);for(c=0;c<16;c++)l[c]=0;for(c=0;c<8;c++)l[c]=o[c];for(;i>=64;){for(w(u,l,a,E),c=0;c<64;c++)e[t+c]=r[n+c]^u[c];for(c=8,s=1;c<16;c++)s=s+(255&l[c])|0,l[c]=255&s,s>>>=8;i-=64,t+=64,n+=64}if(i>0)for(w(u,l,a,E),c=0;c<i;c++)e[t+c]=r[n+c]^u[c];return 0}function A(e,t,r,n,i){var o,a,s=new Uint8Array(16),c=new Uint8Array(64);for(a=0;a<16;a++)s[a]=0;for(a=0;a<8;a++)s[a]=n[a];for(;r>=64;){for(w(c,s,i,E),a=0;a<64;a++)e[t+a]=c[a];for(a=8,o=1;a<16;a++)o=o+(255&s[a])|0,s[a]=255&o,o>>>=8;r-=64,t+=64}if(r>0)for(w(c,s,i,E),a=0;a<r;a++)e[t+a]=c[a];return 0}function S(e,t,r,n,i){var o=new Uint8Array(32);v(o,n,i,E);for(var a=new Uint8Array(8),s=0;s<8;s++)a[s]=n[s+16];return A(e,t,r,a,o)}function _(e,t,r,n,i,o,a){var s=new Uint8Array(32);v(s,o,a,E);for(var c=new Uint8Array(8),l=0;l<8;l++)c[l]=o[l+16];return x(e,t,r,n,i,c,s)}var I=function(e){var t,r,n,i,o,a,s,c;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,r=255&e[2]|(255&e[3])<<8,this.r[1]=(t>>>13|r<<3)&8191,n=255&e[4]|(255&e[5])<<8,this.r[2]=(r>>>10|n<<6)&7939,i=255&e[6]|(255&e[7])<<8,this.r[3]=(n>>>7|i<<9)&8191,o=255&e[8]|(255&e[9])<<8,this.r[4]=(i>>>4|o<<12)&255,this.r[5]=o>>>1&8190,a=255&e[10]|(255&e[11])<<8,this.r[6]=(o>>>14|a<<2)&8191,s=255&e[12]|(255&e[13])<<8,this.r[7]=(a>>>11|s<<5)&8065,c=255&e[14]|(255&e[15])<<8,this.r[8]=(s>>>8|c<<8)&8191,this.r[9]=c>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function C(e,t,r,n,i,o){var a=new I(o);return a.update(r,n,i),a.finish(e,t),0}function O(e,t,r,n,i,o){var a=new Uint8Array(16);return C(a,0,r,n,i,o),y(e,t,a,0)}function P(e,t,r,n,i){var o;if(r<32)return -1;for(_(e,0,t,0,r,n,i),C(e,16,e,32,r-32,e),o=0;o<16;o++)e[o]=0;return 0}function T(e,t,r,n,i){var o,a=new Uint8Array(32);if(r<32||(S(a,0,32,n,i),0!==O(t,16,t,32,r-32,a)))return -1;for(_(e,0,t,0,r,n,i),o=0;o<32;o++)e[o]=0;return 0}function k(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function N(e){var t,r,n=1;for(t=0;t<16;t++)n=Math.floor((r=e[t]+n+65535)/65536),e[t]=r-65536*n;e[0]+=n-1+37*(n-1)}function M(e,t,r){for(var n,i=~(r-1),o=0;o<16;o++)n=i&(e[o]^t[o]),e[o]^=n,t[o]^=n}function R(e,t){var r,i,o,a=n(),s=n();for(r=0;r<16;r++)s[r]=t[r];for(N(s),N(s),N(s),i=0;i<2;i++){for(r=1,a[0]=s[0]-65517;r<15;r++)a[r]=s[r]-65535-(a[r-1]>>16&1),a[r-1]&=65535;a[15]=s[15]-32767-(a[14]>>16&1),o=a[15]>>16&1,a[14]&=65535,M(s,a,1-o)}for(r=0;r<16;r++)e[2*r]=255&s[r],e[2*r+1]=s[r]>>8}function D(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return R(r,e),R(n,t),b(r,0,n,0)}function L(e){var t=new Uint8Array(32);return R(t,e),1&t[0]}function B(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function U(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}function j(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}function $(e,t,r){var n,i,o=0,a=0,s=0,c=0,l=0,u=0,d=0,f=0,h=0,p=0,g=0,m=0,y=0,b=0,w=0,v=0,E=0,x=0,A=0,S=0,_=0,I=0,C=0,O=0,P=0,T=0,k=0,N=0,M=0,R=0,D=0,L=r[0],B=r[1],U=r[2],j=r[3],$=r[4],F=r[5],z=r[6],q=r[7],G=r[8],H=r[9],V=r[10],W=r[11],Z=r[12],K=r[13],Y=r[14],J=r[15];o+=(n=t[0])*L,a+=n*B,s+=n*U,c+=n*j,l+=n*$,u+=n*F,d+=n*z,f+=n*q,h+=n*G,p+=n*H,g+=n*V,m+=n*W,y+=n*Z,b+=n*K,w+=n*Y,v+=n*J,a+=(n=t[1])*L,s+=n*B,c+=n*U,l+=n*j,u+=n*$,d+=n*F,f+=n*z,h+=n*q,p+=n*G,g+=n*H,m+=n*V,y+=n*W,b+=n*Z,w+=n*K,v+=n*Y,E+=n*J,s+=(n=t[2])*L,c+=n*B,l+=n*U,u+=n*j,d+=n*$,f+=n*F,h+=n*z,p+=n*q,g+=n*G,m+=n*H,y+=n*V,b+=n*W,w+=n*Z,v+=n*K,E+=n*Y,x+=n*J,c+=(n=t[3])*L,l+=n*B,u+=n*U,d+=n*j,f+=n*$,h+=n*F,p+=n*z,g+=n*q,m+=n*G,y+=n*H,b+=n*V,w+=n*W,v+=n*Z,E+=n*K,x+=n*Y,A+=n*J,l+=(n=t[4])*L,u+=n*B,d+=n*U,f+=n*j,h+=n*$,p+=n*F,g+=n*z,m+=n*q,y+=n*G,b+=n*H,w+=n*V,v+=n*W,E+=n*Z,x+=n*K,A+=n*Y,S+=n*J,u+=(n=t[5])*L,d+=n*B,f+=n*U,h+=n*j,p+=n*$,g+=n*F,m+=n*z,y+=n*q,b+=n*G,w+=n*H,v+=n*V,E+=n*W,x+=n*Z,A+=n*K,S+=n*Y,_+=n*J,d+=(n=t[6])*L,f+=n*B,h+=n*U,p+=n*j,g+=n*$,m+=n*F,y+=n*z,b+=n*q,w+=n*G,v+=n*H,E+=n*V,x+=n*W,A+=n*Z,S+=n*K,_+=n*Y,I+=n*J,f+=(n=t[7])*L,h+=n*B,p+=n*U,g+=n*j,m+=n*$,y+=n*F,b+=n*z,w+=n*q,v+=n*G,E+=n*H,x+=n*V,A+=n*W,S+=n*Z,_+=n*K,I+=n*Y,C+=n*J,h+=(n=t[8])*L,p+=n*B,g+=n*U,m+=n*j,y+=n*$,b+=n*F,w+=n*z,v+=n*q,E+=n*G,x+=n*H,A+=n*V,S+=n*W,_+=n*Z,I+=n*K,C+=n*Y,O+=n*J,p+=(n=t[9])*L,g+=n*B,m+=n*U,y+=n*j,b+=n*$,w+=n*F,v+=n*z,E+=n*q,x+=n*G,A+=n*H,S+=n*V,_+=n*W,I+=n*Z,C+=n*K,O+=n*Y,P+=n*J,g+=(n=t[10])*L,m+=n*B,y+=n*U,b+=n*j,w+=n*$,v+=n*F,E+=n*z,x+=n*q,A+=n*G,S+=n*H,_+=n*V,I+=n*W,C+=n*Z,O+=n*K,P+=n*Y,T+=n*J,m+=(n=t[11])*L,y+=n*B,b+=n*U,w+=n*j,v+=n*$,E+=n*F,x+=n*z,A+=n*q,S+=n*G,_+=n*H,I+=n*V,C+=n*W,O+=n*Z,P+=n*K,T+=n*Y,k+=n*J,y+=(n=t[12])*L,b+=n*B,w+=n*U,v+=n*j,E+=n*$,x+=n*F,A+=n*z,S+=n*q,_+=n*G,I+=n*H,C+=n*V,O+=n*W,P+=n*Z,T+=n*K,k+=n*Y,N+=n*J,b+=(n=t[13])*L,w+=n*B,v+=n*U,E+=n*j,x+=n*$,A+=n*F,S+=n*z,_+=n*q,I+=n*G,C+=n*H,O+=n*V,P+=n*W,T+=n*Z,k+=n*K,N+=n*Y,M+=n*J,w+=(n=t[14])*L,v+=n*B,E+=n*U,x+=n*j,A+=n*$,S+=n*F,_+=n*z,I+=n*q,C+=n*G,O+=n*H,P+=n*V,T+=n*W,k+=n*Z,N+=n*K,M+=n*Y,R+=n*J,v+=(n=t[15])*L,E+=n*B,x+=n*U,A+=n*j,S+=n*$,_+=n*F,I+=n*z,C+=n*q,O+=n*G,P+=n*H,T+=n*V,k+=n*W,N+=n*Z,M+=n*K,R+=n*Y,D+=n*J,o+=38*E,a+=38*x,s+=38*A,c+=38*S,l+=38*_,u+=38*I,d+=38*C,f+=38*O,h+=38*P,p+=38*T,g+=38*k,m+=38*N,y+=38*M,b+=38*R,w+=38*D,i=Math.floor((n=o+(i=1)+65535)/65536),o=n-65536*i,i=Math.floor((n=a+i+65535)/65536),a=n-65536*i,i=Math.floor((n=s+i+65535)/65536),s=n-65536*i,i=Math.floor((n=c+i+65535)/65536),c=n-65536*i,i=Math.floor((n=l+i+65535)/65536),l=n-65536*i,i=Math.floor((n=u+i+65535)/65536),u=n-65536*i,i=Math.floor((n=d+i+65535)/65536),d=n-65536*i,i=Math.floor((n=f+i+65535)/65536),f=n-65536*i,i=Math.floor((n=h+i+65535)/65536),h=n-65536*i,i=Math.floor((n=p+i+65535)/65536),p=n-65536*i,i=Math.floor((n=g+i+65535)/65536),g=n-65536*i,i=Math.floor((n=m+i+65535)/65536),m=n-65536*i,i=Math.floor((n=y+i+65535)/65536),y=n-65536*i,i=Math.floor((n=b+i+65535)/65536),b=n-65536*i,i=Math.floor((n=w+i+65535)/65536),w=n-65536*i,i=Math.floor((n=v+i+65535)/65536),v=n-65536*i,o+=i-1+37*(i-1),i=Math.floor((n=o+(i=1)+65535)/65536),o=n-65536*i,i=Math.floor((n=a+i+65535)/65536),a=n-65536*i,i=Math.floor((n=s+i+65535)/65536),s=n-65536*i,i=Math.floor((n=c+i+65535)/65536),c=n-65536*i,i=Math.floor((n=l+i+65535)/65536),l=n-65536*i,i=Math.floor((n=u+i+65535)/65536),u=n-65536*i,i=Math.floor((n=d+i+65535)/65536),d=n-65536*i,i=Math.floor((n=f+i+65535)/65536),f=n-65536*i,i=Math.floor((n=h+i+65535)/65536),h=n-65536*i,i=Math.floor((n=p+i+65535)/65536),p=n-65536*i,i=Math.floor((n=g+i+65535)/65536),g=n-65536*i,i=Math.floor((n=m+i+65535)/65536),m=n-65536*i,i=Math.floor((n=y+i+65535)/65536),y=n-65536*i,i=Math.floor((n=b+i+65535)/65536),b=n-65536*i,i=Math.floor((n=w+i+65535)/65536),w=n-65536*i,i=Math.floor((n=v+i+65535)/65536),v=n-65536*i,o+=i-1+37*(i-1),e[0]=o,e[1]=a,e[2]=s,e[3]=c,e[4]=l,e[5]=u,e[6]=d,e[7]=f,e[8]=h,e[9]=p,e[10]=g,e[11]=m,e[12]=y,e[13]=b,e[14]=w,e[15]=v}function F(e,t){$(e,t,t)}function z(e,t){var r,i=n();for(r=0;r<16;r++)i[r]=t[r];for(r=253;r>=0;r--)F(i,i),2!==r&&4!==r&&$(i,i,t);for(r=0;r<16;r++)e[r]=i[r]}function q(e,t){var r,i=n();for(r=0;r<16;r++)i[r]=t[r];for(r=250;r>=0;r--)F(i,i),1!==r&&$(i,i,t);for(r=0;r<16;r++)e[r]=i[r]}function G(e,t,r){var i,o,a=new Uint8Array(32),s=new Float64Array(80),c=n(),u=n(),d=n(),f=n(),h=n(),p=n();for(o=0;o<31;o++)a[o]=t[o];for(a[31]=127&t[31]|64,a[0]&=248,B(s,r),o=0;o<16;o++)u[o]=s[o],f[o]=c[o]=d[o]=0;for(o=254,c[0]=f[0]=1;o>=0;--o)M(c,u,i=a[o>>>3]>>>(7&o)&1),M(d,f,i),U(h,c,d),j(c,c,d),U(d,u,f),j(u,u,f),F(f,h),F(p,c),$(c,d,c),$(d,u,h),U(h,c,d),j(c,c,d),F(u,c),j(d,f,p),$(c,d,l),U(c,c,f),$(d,d,c),$(c,f,p),$(f,u,s),F(u,h),M(c,u,i),M(d,f,i);for(o=0;o<16;o++)s[o+16]=c[o],s[o+32]=d[o],s[o+48]=u[o],s[o+64]=f[o];var g=s.subarray(32),m=s.subarray(16);return z(g,g),$(m,m,g),R(e,m),0}function H(e,t){return G(e,t,a)}function V(e,t){return i(t,32),H(e,t)}function W(e,t,r){var n=new Uint8Array(32);return G(n,r,t),v(e,o,n,E)}I.prototype.blocks=function(e,t,r){for(var n,i,o,a,s,c,l,u,d,f,h,p,g,m,y,b,w,v,E,x=this.fin?0:2048,A=this.h[0],S=this.h[1],_=this.h[2],I=this.h[3],C=this.h[4],O=this.h[5],P=this.h[6],T=this.h[7],k=this.h[8],N=this.h[9],M=this.r[0],R=this.r[1],D=this.r[2],L=this.r[3],B=this.r[4],U=this.r[5],j=this.r[6],$=this.r[7],F=this.r[8],z=this.r[9];r>=16;)A+=8191&(n=255&e[t+0]|(255&e[t+1])<<8),S+=(n>>>13|(i=255&e[t+2]|(255&e[t+3])<<8)<<3)&8191,_+=(i>>>10|(o=255&e[t+4]|(255&e[t+5])<<8)<<6)&8191,I+=(o>>>7|(a=255&e[t+6]|(255&e[t+7])<<8)<<9)&8191,C+=(a>>>4|(s=255&e[t+8]|(255&e[t+9])<<8)<<12)&8191,O+=s>>>1&8191,P+=(s>>>14|(c=255&e[t+10]|(255&e[t+11])<<8)<<2)&8191,T+=(c>>>11|(l=255&e[t+12]|(255&e[t+13])<<8)<<5)&8191,k+=(l>>>8|(u=255&e[t+14]|(255&e[t+15])<<8)<<8)&8191,N+=u>>>5|x,d=(f=(d=0)+A*M+5*z*S+5*F*_+5*$*I+5*j*C)>>>13,f&=8191,f+=5*U*O+5*B*P+5*L*T+5*D*k+5*R*N,d+=f>>>13,f&=8191,d=(h=d+A*R+S*M+5*z*_+5*F*I+5*$*C)>>>13,h&=8191,h+=5*j*O+5*U*P+5*B*T+5*L*k+5*D*N,d+=h>>>13,h&=8191,d=(p=d+A*D+S*R+_*M+5*z*I+5*F*C)>>>13,p&=8191,p+=5*$*O+5*j*P+5*U*T+5*B*k+5*L*N,d+=p>>>13,p&=8191,d=(g=d+A*L+S*D+_*R+I*M+5*z*C)>>>13,g&=8191,g+=5*F*O+5*$*P+5*j*T+5*U*k+5*B*N,d+=g>>>13,g&=8191,d=(m=d+A*B+S*L+_*D+I*R+C*M)>>>13,m&=8191,m+=5*z*O+5*F*P+5*$*T+5*j*k+5*U*N,d+=m>>>13,m&=8191,d=(y=d+A*U+S*B+_*L+I*D+C*R)>>>13,y&=8191,y+=O*M+5*z*P+5*F*T+5*$*k+5*j*N,d+=y>>>13,y&=8191,d=(b=d+A*j+S*U+_*B+I*L+C*D)>>>13,b&=8191,b+=O*R+P*M+5*z*T+5*F*k+5*$*N,d+=b>>>13,b&=8191,d=(w=d+A*$+S*j+_*U+I*B+C*L)>>>13,w&=8191,w+=O*D+P*R+T*M+5*z*k+5*F*N,d+=w>>>13,w&=8191,d=(v=d+A*F+S*$+_*j+I*U+C*B)>>>13,v&=8191,v+=O*L+P*D+T*R+k*M+5*z*N,d+=v>>>13,v&=8191,d=(E=d+A*z+S*F+_*$+I*j+C*U)>>>13,E&=8191,E+=O*B+P*L+T*D+k*R+N*M,d+=E>>>13,E&=8191,f=8191&(d=(d=(d<<2)+d|0)+f|0),d>>>=13,h+=d,A=f,S=h,_=p,I=g,C=m,O=y,P=b,T=w,k=v,N=E,t+=16,r-=16;this.h[0]=A,this.h[1]=S,this.h[2]=_,this.h[3]=I,this.h[4]=C,this.h[5]=O,this.h[6]=P,this.h[7]=T,this.h[8]=k,this.h[9]=N},I.prototype.finish=function(e,t){var r,n,i,o,a=new Uint16Array(10);if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=r,r=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,a[0]=this.h[0]+5,r=a[0]>>>13,a[0]&=8191,o=1;o<10;o++)a[o]=this.h[o]+r,r=a[o]>>>13,a[o]&=8191;for(a[9]-=8192,n=(1^r)-1,o=0;o<10;o++)a[o]&=n;for(o=0,n=~n;o<10;o++)this.h[o]=this.h[o]&n|a[o];for(o=1,this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,i=this.h[0]+this.pad[0],this.h[0]=65535&i;o<8;o++)i=(this.h[o]+this.pad[o]|0)+(i>>>16)|0,this.h[o]=65535&i;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},I.prototype.update=function(e,t,r){var n,i;if(this.leftover){for((i=16-this.leftover)>r&&(i=r),n=0;n<i;n++)this.buffer[this.leftover+n]=e[t+n];if(r-=i,t+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(i=r-r%16,this.blocks(e,t,i),t+=i,r-=i),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=e[t+n];this.leftover+=r}};var Z=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function K(e,t,r,n){for(var i,o,a,s,c,l,u,d,f,h,p,g,m,y,b,w,v,E,x,A,S,_,I,C,O,P,T=new Int32Array(16),k=new Int32Array(16),N=e[0],M=e[1],R=e[2],D=e[3],L=e[4],B=e[5],U=e[6],j=e[7],$=t[0],F=t[1],z=t[2],q=t[3],G=t[4],H=t[5],V=t[6],W=t[7],K=0;n>=128;){for(x=0;x<16;x++)A=8*x+K,T[x]=r[A+0]<<24|r[A+1]<<16|r[A+2]<<8|r[A+3],k[x]=r[A+4]<<24|r[A+5]<<16|r[A+6]<<8|r[A+7];for(x=0;x<80;x++)if(i=N,o=M,a=R,s=D,c=L,l=B,u=U,d=j,f=$,h=F,p=z,g=q,m=G,y=H,b=V,w=W,S=j,I=65535&(_=W),C=_>>>16,O=65535&S,P=S>>>16,S=(L>>>14|G<<18)^(L>>>18|G<<14)^(G>>>9|L<<23),I+=65535&(_=(G>>>14|L<<18)^(G>>>18|L<<14)^(L>>>9|G<<23)),C+=_>>>16,O+=65535&S,P+=S>>>16,S=L&B^~L&U,I+=65535&(_=G&H^~G&V),C+=_>>>16,O+=65535&S,P+=S>>>16,S=Z[2*x],I+=65535&(_=Z[2*x+1]),C+=_>>>16,O+=65535&S,P+=S>>>16,S=T[x%16],I+=65535&(_=k[x%16]),C+=_>>>16,O+=65535&S,P+=S>>>16,C+=I>>>16,O+=C>>>16,P+=O>>>16,v=65535&O|P<<16,E=65535&I|C<<16,S=v,I=65535&(_=E),C=_>>>16,O=65535&S,P=S>>>16,S=(N>>>28|$<<4)^($>>>2|N<<30)^($>>>7|N<<25),I+=65535&(_=($>>>28|N<<4)^(N>>>2|$<<30)^(N>>>7|$<<25)),C+=_>>>16,O+=65535&S,P+=S>>>16,S=N&M^N&R^M&R,I+=65535&(_=$&F^$&z^F&z),C+=_>>>16,O+=65535&S,P+=S>>>16,C+=I>>>16,O+=C>>>16,P+=O>>>16,d=65535&O|P<<16,w=65535&I|C<<16,S=s,I=65535&(_=g),C=_>>>16,O=65535&S,P=S>>>16,S=v,I+=65535&(_=E),C+=_>>>16,O+=65535&S,P+=S>>>16,C+=I>>>16,O+=C>>>16,P+=O>>>16,s=65535&O|P<<16,g=65535&I|C<<16,M=i,R=o,D=a,L=s,B=c,U=l,j=u,N=d,F=f,z=h,q=p,G=g,H=m,V=y,W=b,$=w,x%16==15)for(A=0;A<16;A++)S=T[A],I=65535&(_=k[A]),C=_>>>16,O=65535&S,P=S>>>16,S=T[(A+9)%16],I+=65535&(_=k[(A+9)%16]),C+=_>>>16,O+=65535&S,P+=S>>>16,S=((v=T[(A+1)%16])>>>1|(E=k[(A+1)%16])<<31)^(v>>>8|E<<24)^v>>>7,I+=65535&(_=(E>>>1|v<<31)^(E>>>8|v<<24)^(E>>>7|v<<25)),C+=_>>>16,O+=65535&S,P+=S>>>16,S=((v=T[(A+14)%16])>>>19|(E=k[(A+14)%16])<<13)^(E>>>29|v<<3)^v>>>6,I+=65535&(_=(E>>>19|v<<13)^(v>>>29|E<<3)^(E>>>6|v<<26)),C+=_>>>16,O+=65535&S,P+=S>>>16,C+=I>>>16,O+=C>>>16,P+=O>>>16,T[A]=65535&O|P<<16,k[A]=65535&I|C<<16;S=N,I=65535&(_=$),C=_>>>16,O=65535&S,P=S>>>16,S=e[0],I+=65535&(_=t[0]),C+=_>>>16,O+=65535&S,P+=S>>>16,C+=I>>>16,O+=C>>>16,P+=O>>>16,e[0]=N=65535&O|P<<16,t[0]=$=65535&I|C<<16,S=M,I=65535&(_=F),C=_>>>16,O=65535&S,P=S>>>16,S=e[1],I+=65535&(_=t[1]),C+=_>>>16,O+=65535&S,P+=S>>>16,C+=I>>>16,O+=C>>>16,P+=O>>>16,e[1]=M=65535&O|P<<16,t[1]=F=65535&I|C<<16,S=R,I=65535&(_=z),C=_>>>16,O=65535&S,P=S>>>16,S=e[2],I+=65535&(_=t[2]),C+=_>>>16,O+=65535&S,P+=S>>>16,C+=I>>>16,O+=C>>>16,P+=O>>>16,e[2]=R=65535&O|P<<16,t[2]=z=65535&I|C<<16,S=D,I=65535&(_=q),C=_>>>16,O=65535&S,P=S>>>16,S=e[3],I+=65535&(_=t[3]),C+=_>>>16,O+=65535&S,P+=S>>>16,C+=I>>>16,O+=C>>>16,P+=O>>>16,e[3]=D=65535&O|P<<16,t[3]=q=65535&I|C<<16,S=L,I=65535&(_=G),C=_>>>16,O=65535&S,P=S>>>16,S=e[4],I+=65535&(_=t[4]),C+=_>>>16,O+=65535&S,P+=S>>>16,C+=I>>>16,O+=C>>>16,P+=O>>>16,e[4]=L=65535&O|P<<16,t[4]=G=65535&I|C<<16,S=B,I=65535&(_=H),C=_>>>16,O=65535&S,P=S>>>16,S=e[5],I+=65535&(_=t[5]),C+=_>>>16,O+=65535&S,P+=S>>>16,C+=I>>>16,O+=C>>>16,P+=O>>>16,e[5]=B=65535&O|P<<16,t[5]=H=65535&I|C<<16,S=U,I=65535&(_=V),C=_>>>16,O=65535&S,P=S>>>16,S=e[6],I+=65535&(_=t[6]),C+=_>>>16,O+=65535&S,P+=S>>>16,C+=I>>>16,O+=C>>>16,P+=O>>>16,e[6]=U=65535&O|P<<16,t[6]=V=65535&I|C<<16,S=j,I=65535&(_=W),C=_>>>16,O=65535&S,P=S>>>16,S=e[7],I+=65535&(_=t[7]),C+=_>>>16,O+=65535&S,P+=S>>>16,C+=I>>>16,O+=C>>>16,P+=O>>>16,e[7]=j=65535&O|P<<16,t[7]=W=65535&I|C<<16,K+=128,n-=128}return n}function Y(e,t,r){var n,i=new Int32Array(8),o=new Int32Array(8),a=new Uint8Array(256),s=r;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,o[0]=4089235720,o[1]=2227873595,o[2]=4271175723,o[3]=1595750129,o[4]=2917565137,o[5]=725511199,o[6]=4215389547,o[7]=327033209,K(i,o,t,r),r%=128,n=0;n<r;n++)a[n]=t[s-r+n];for(a[r]=128,a[(r=256-128*(r<112?1:0))-9]=0,g(a,r-8,s/536870912|0,s<<3),K(i,o,a,r),n=0;n<8;n++)g(e,8*n,i[n],o[n]);return 0}function J(e,t){var r=n(),i=n(),o=n(),a=n(),s=n(),c=n(),l=n(),u=n(),f=n();j(r,e[1],e[0]),j(f,t[1],t[0]),$(r,r,f),U(i,e[0],e[1]),U(f,t[0],t[1]),$(i,i,f),$(o,e[3],t[3]),$(o,o,d),$(a,e[2],t[2]),U(a,a,a),j(s,i,r),j(c,a,o),U(l,a,o),U(u,i,r),$(e[0],s,c),$(e[1],u,l),$(e[2],l,c),$(e[3],s,u)}function X(e,t,r){var n;for(n=0;n<4;n++)M(e[n],t[n],r)}function Q(e,t){var r=n(),i=n(),o=n();z(o,t[2]),$(r,t[0],o),$(i,t[1],o),R(e,i),e[31]^=L(r)<<7}function ee(e,t,r){var n,i;for(k(e[0],s),k(e[1],c),k(e[2],c),k(e[3],s),i=255;i>=0;--i)X(e,t,n=r[i/8|0]>>(7&i)&1),J(t,e),J(e,e),X(e,t,n)}function et(e,t){var r=[n(),n(),n(),n()];k(r[0],f),k(r[1],h),k(r[2],c),$(r[3],f,h),ee(e,r,t)}function er(e,t,r){var o,a=new Uint8Array(64),s=[n(),n(),n(),n()];for(r||i(t,32),Y(a,t,32),a[0]&=248,a[31]&=127,a[31]|=64,et(s,a),Q(e,s),o=0;o<32;o++)t[o+32]=e[o];return 0}var en=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ei(e,t){var r,n,i,o;for(n=63;n>=32;--n){for(r=0,i=n-32,o=n-12;i<o;++i)t[i]+=r-16*t[n]*en[i-(n-32)],r=Math.floor((t[i]+128)/256),t[i]-=256*r;t[i]+=r,t[n]=0}for(i=0,r=0;i<32;i++)t[i]+=r-(t[31]>>4)*en[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=r*en[i];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function eo(e){var t,r=new Float64Array(64);for(t=0;t<64;t++)r[t]=e[t];for(t=0;t<64;t++)e[t]=0;ei(e,r)}function ea(e,t,r,i){var o,a,s=new Uint8Array(64),c=new Uint8Array(64),l=new Uint8Array(64),u=new Float64Array(64),d=[n(),n(),n(),n()];for(Y(s,i,32),s[0]&=248,s[31]&=127,s[31]|=64,o=0;o<r;o++)e[64+o]=t[o];for(o=0;o<32;o++)e[32+o]=s[32+o];for(Y(l,e.subarray(32),r+32),eo(l),et(d,l),Q(e,d),o=32;o<64;o++)e[o]=i[o];for(Y(c,e,r+64),eo(c),o=0;o<64;o++)u[o]=0;for(o=0;o<32;o++)u[o]=l[o];for(o=0;o<32;o++)for(a=0;a<32;a++)u[o+a]+=c[o]*s[a];return ei(e.subarray(32),u),r+64}function es(e,t,r,i){var o,a,l,d,f,h,g,m,y=new Uint8Array(32),w=new Uint8Array(64),v=[n(),n(),n(),n()],E=[n(),n(),n(),n()];if(r<64||(o=n(),a=n(),l=n(),d=n(),f=n(),h=n(),g=n(),(k(E[2],c),B(E[1],i),F(l,E[1]),$(d,l,u),j(l,l,E[2]),U(d,E[2],d),F(f,d),F(h,f),$(g,h,f),$(o,g,l),$(o,o,d),q(o,o),$(o,o,l),$(o,o,d),$(o,o,d),$(E[0],o,d),F(a,E[0]),$(a,a,d),D(a,l)&&$(E[0],E[0],p),F(a,E[0]),$(a,a,d),D(a,l))?-1:(L(E[0])===i[31]>>7&&j(E[0],s,E[0]),$(E[3],E[0],E[1]),0)))return -1;for(m=0;m<r;m++)e[m]=t[m];for(m=0;m<32;m++)e[m+32]=i[m];if(Y(w,e,r),eo(w),ee(v,E,w),et(E,t.subarray(32)),J(v,E),Q(y,v),r-=64,b(t,0,y,0)){for(m=0;m<r;m++)e[m]=0;return -1}for(m=0;m<r;m++)e[m]=t[m+64];return r}function ec(e,t){if(32!==e.length)throw Error("bad key size");if(24!==t.length)throw Error("bad nonce size")}function el(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw TypeError("unexpected type, use Uint8Array")}function eu(e){for(var t=0;t<e.length;t++)e[t]=0}e.lowlevel={crypto_core_hsalsa20:v,crypto_stream_xor:_,crypto_stream:S,crypto_stream_salsa20_xor:x,crypto_stream_salsa20:A,crypto_onetimeauth:C,crypto_onetimeauth_verify:O,crypto_verify_16:y,crypto_verify_32:b,crypto_secretbox:P,crypto_secretbox_open:T,crypto_scalarmult:G,crypto_scalarmult_base:H,crypto_box_beforenm:W,crypto_box_afternm:P,crypto_box:function(e,t,r,n,i,o){var a=new Uint8Array(32);return W(a,i,o),P(e,t,r,n,a)},crypto_box_open:function(e,t,r,n,i,o){var a=new Uint8Array(32);return W(a,i,o),T(e,t,r,n,a)},crypto_box_keypair:V,crypto_hash:Y,crypto_sign:ea,crypto_sign_keypair:er,crypto_sign_open:es,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:64,crypto_sign_PUBLICKEYBYTES:32,crypto_sign_SECRETKEYBYTES:64,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:n,D:u,L:en,pack:Q,pack25519:R,unpack25519:B,M:$,A:U,S:F,Z:j,pow2523:q,add:J,set25519:k,modL:ei,scalarmult:ee,scalarbase:et},e.randomBytes=function(e){var t=new Uint8Array(e);return i(t,e),t},e.secretbox=function(e,t,r){el(e,t,r),ec(r,t);for(var n=new Uint8Array(32+e.length),i=new Uint8Array(n.length),o=0;o<e.length;o++)n[o+32]=e[o];return P(i,n,n.length,t,r),i.subarray(16)},e.secretbox.open=function(e,t,r){el(e,t,r),ec(r,t);for(var n=new Uint8Array(16+e.length),i=new Uint8Array(n.length),o=0;o<e.length;o++)n[o+16]=e[o];return n.length<32||0!==T(i,n,n.length,t,r)?null:i.subarray(32)},e.secretbox.keyLength=32,e.secretbox.nonceLength=24,e.secretbox.overheadLength=16,e.scalarMult=function(e,t){if(el(e,t),32!==e.length)throw Error("bad n size");if(32!==t.length)throw Error("bad p size");var r=new Uint8Array(32);return G(r,e,t),r},e.scalarMult.base=function(e){if(el(e),32!==e.length)throw Error("bad n size");var t=new Uint8Array(32);return H(t,e),t},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(t,r,n,i){var o=e.box.before(n,i);return e.secretbox(t,r,o)},e.box.before=function(e,t){el(e,t),function(e,t){if(32!==e.length)throw Error("bad public key size");if(32!==t.length)throw Error("bad secret key size")}(e,t);var r=new Uint8Array(32);return W(r,e,t),r},e.box.after=e.secretbox,e.box.open=function(t,r,n,i){var o=e.box.before(n,i);return e.secretbox.open(t,r,o)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return V(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(el(e),32!==e.length)throw Error("bad secret key size");var t=new Uint8Array(32);return H(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=32,e.box.secretKeyLength=32,e.box.sharedKeyLength=32,e.box.nonceLength=24,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(el(e,t),64!==t.length)throw Error("bad secret key size");var r=new Uint8Array(64+e.length);return ea(r,e,e.length,t),r},e.sign.open=function(e,t){if(el(e,t),32!==t.length)throw Error("bad public key size");var r=new Uint8Array(e.length),n=es(r,e,e.length,t);if(n<0)return null;for(var i=new Uint8Array(n),o=0;o<i.length;o++)i[o]=r[o];return i},e.sign.detached=function(t,r){for(var n=e.sign(t,r),i=new Uint8Array(64),o=0;o<i.length;o++)i[o]=n[o];return i},e.sign.detached.verify=function(e,t,r){if(el(e,t,r),64!==t.length)throw Error("bad signature size");if(32!==r.length)throw Error("bad public key size");var n,i=new Uint8Array(64+e.length),o=new Uint8Array(64+e.length);for(n=0;n<64;n++)i[n]=t[n];for(n=0;n<e.length;n++)i[n+64]=e[n];return es(o,i,i.length,r)>=0},e.sign.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(64);return er(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(el(e),64!==e.length)throw Error("bad secret key size");for(var t=new Uint8Array(32),r=0;r<t.length;r++)t[r]=e[32+r];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(el(e),32!==e.length)throw Error("bad seed size");for(var t=new Uint8Array(32),r=new Uint8Array(64),n=0;n<32;n++)r[n]=e[n];return er(t,r,!0),{publicKey:t,secretKey:r}},e.sign.publicKeyLength=32,e.sign.secretKeyLength=64,e.sign.seedLength=32,e.sign.signatureLength=64,e.hash=function(e){el(e);var t=new Uint8Array(64);return Y(t,e,e.length),t},e.hash.hashLength=64,e.verify=function(e,t){return el(e,t),0!==e.length&&0!==t.length&&e.length===t.length&&0===m(e,0,t,0,e.length)},e.setPRNG=function(e){i=e},(t="undefined"!=typeof self?self.crypto||self.msCrypto:null)&&t.getRandomValues?e.setPRNG(function(e,r){var n,i=new Uint8Array(r);for(n=0;n<r;n+=65536)t.getRandomValues(i.subarray(n,n+Math.min(r-n,65536)));for(n=0;n<r;n++)e[n]=i[n];eu(i)}):(t=r(78848))&&t.randomBytes&&e.setPRNG(function(e,r){var n,i=t.randomBytes(r);for(n=0;n<r;n++)e[n]=i[n];eu(i)})}(e.exports?e.exports:self.nacl=self.nacl||{})},12238:function(e,t,r){"use strict";function n(){return(null===r.g||void 0===r.g?void 0:r.g.crypto)||(null===r.g||void 0===r.g?void 0:r.g.msCrypto)||{}}function i(){let e=n();return e.subtle||e.webkitSubtle}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowserCryptoAvailable=t.getSubtleCrypto=t.getBrowerCrypto=void 0,t.getBrowerCrypto=n,t.getSubtleCrypto=i,t.isBrowserCryptoAvailable=function(){return!!n()&&!!i()}},33531:function(e,t,r){"use strict";var n=r(25566);function i(){return"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product}function o(){return void 0!==n&&void 0!==n.versions&&void 0!==n.versions.node}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowser=t.isNode=t.isReactNative=void 0,t.isReactNative=i,t.isNode=o,t.isBrowser=function(){return!i()&&!o()}},13303:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(45161);n.__exportStar(r(12238),t),n.__exportStar(r(33531),t)},45161:function(e,t,r){"use strict";r.r(t),r.d(t,{__assign:function(){return o},__asyncDelegator:function(){return v},__asyncGenerator:function(){return w},__asyncValues:function(){return E},__await:function(){return b},__awaiter:function(){return u},__classPrivateFieldGet:function(){return _},__classPrivateFieldSet:function(){return I},__createBinding:function(){return f},__decorate:function(){return s},__exportStar:function(){return h},__extends:function(){return i},__generator:function(){return d},__importDefault:function(){return S},__importStar:function(){return A},__makeTemplateObject:function(){return x},__metadata:function(){return l},__param:function(){return c},__read:function(){return g},__rest:function(){return a},__spread:function(){return m},__spreadArrays:function(){return y},__values:function(){return p}});var n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function i(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function s(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a}function c(e,t){return function(r,n){t(r,n,e)}}function l(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}c((n=n.apply(e,t||[])).next())})}function d(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}function h(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||(t[r]=e[r])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function y(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function w(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),o=[];return n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n;function a(e){i[e]&&(n[e]=function(t){return new Promise(function(r,n){o.push([e,t,r,n])>1||s(e,t)})})}function s(e,t){try{var r;(r=i[e](t)).value instanceof b?Promise.resolve(r.value.v).then(c,l):u(o[0][2],r)}catch(e){u(o[0][3],e)}}function c(e){s("next",e)}function l(e){s("throw",e)}function u(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function v(e){var t,r;return t={},n("next"),n("throw",function(e){throw e}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:b(e[n](t)),done:"return"===n}:i?i(t):t}:i}}function E(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=p(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,i){!function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)}(n,i,(t=e[r](t)).done,t.value)})}}}function x(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function A(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return t.get(e)}function I(e,t,r){if(!t.has(e))throw TypeError("attempted to set private field on non-instance");return t.set(e,r),r}},16854:function(e){"use strict";e.exports=function(){throw Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},15133:function(e,t,r){"use strict";r.d(t,{Ep:function(){return ee},Fd:function(){return Q},Rt:function(){return et},jI:function(){return X}});var n={exports:{}};function i(e){try{return JSON.stringify(e)}catch{return'"[Circular]"'}}let o=function(e,t,r){var n=r&&r.stringify||i;if("object"==typeof e&&null!==e){var o=t.length+1;if(1===o)return e;var a=Array(o);a[0]=n(e);for(var s=1;s<o;s++)a[s]=n(t[s]);return a.join(" ")}if("string"!=typeof e)return e;var c=t.length;if(0===c)return e;for(var l="",u=0,d=-1,f=e&&e.length||0,h=0;h<f;){if(37===e.charCodeAt(h)&&h+1<f){switch(d=d>-1?d:0,e.charCodeAt(h+1)){case 100:case 102:if(u>=c||null==t[u])break;d<h&&(l+=e.slice(d,h)),l+=Number(t[u]),d=h+2,h++;break;case 105:if(u>=c||null==t[u])break;d<h&&(l+=e.slice(d,h)),l+=Math.floor(Number(t[u])),d=h+2,h++;break;case 79:case 111:case 106:if(u>=c||void 0===t[u])break;d<h&&(l+=e.slice(d,h));var p=typeof t[u];if("string"===p){l+="'"+t[u]+"'",d=h+2,h++;break}if("function"===p){l+=t[u].name||"<anonymous>",d=h+2,h++;break}l+=n(t[u]),d=h+2,h++;break;case 115:if(u>=c)break;d<h&&(l+=e.slice(d,h)),l+=String(t[u]),d=h+2,h++;break;case 37:d<h&&(l+=e.slice(d,h)),l+="%",d=h+2,h++,u--}++u}++h}return -1===d?e:(d<f&&(l+=e.slice(d)),l)};n.exports=f;let a=function(){function e(e){return"u">typeof e&&e}try{return"u">typeof globalThis||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return e(self)||e(window)||e(this)||{}}}().console||{};function s(e,t){return"silent"===e?1/0:t.levels.values[e]}let c=Symbol("pino.logFuncs"),l=Symbol("pino.hierarchy"),u={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function d(e,t){let r={logger:t,parent:e[l]};t[l]=r}function f(e){var t,r;(e=e||{}).browser=e.browser||{};let n=e.browser.transmit;if(n&&"function"!=typeof n.send)throw Error("pino: transmit option must have a send function");let i=e.browser.write||a;e.browser.write&&(e.browser.asObject=!0);let o=e.serializers||{},l=Array.isArray(t=e.browser.serialize)?t.filter(function(e){return"!stdSerializers.err"!==e}):!0===t&&Object.keys(o),m=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(m=!1);let y=Object.keys(e.customLevels||{}),b=["error","fatal","warn","info","debug","trace"].concat(y);"function"==typeof i&&b.forEach(function(e){i[e]=i}),(!1===e.enabled||e.browser.disabled)&&(e.level="silent");let x=e.level||"info",A=Object.create(i);A.log||(A.log=w),function(e,t,r){let n={};t.forEach(e=>{n[e]=r[e]?r[e]:a[e]||a[u[e]||"log"]||w}),e[c]=n}(A,b,i),d({},A),Object.defineProperty(A,"levelVal",{get:function(){return s(this.level,this)}}),Object.defineProperty(A,"level",{get:function(){return this._level},set:function(e){if("silent"!==e&&!this.levels.values[e])throw Error("unknown level "+e);this._level=e,h(this,S,A,"error"),h(this,S,A,"fatal"),h(this,S,A,"warn"),h(this,S,A,"info"),h(this,S,A,"debug"),h(this,S,A,"trace"),y.forEach(e=>{h(this,S,A,e)})}});let S={transmit:n,serialize:l,asObject:e.browser.asObject,asObjectBindingsOnly:e.browser.asObjectBindingsOnly,formatters:e.browser.formatters,levels:b,timestamp:"function"==typeof(r=e).timestamp?r.timestamp:!1===r.timestamp?v:E,messageKey:e.messageKey||"msg",onChild:e.onChild||w};function _(t,r,i){if(!r)throw Error("missing bindings for child Pino");i=i||{},l&&r.serializers&&(i.serializers=r.serializers);let a=i.serializers;if(l&&a){var s=Object.assign({},o,a),c=!0===e.browser.serialize?Object.keys(s):l;delete r.serializers,p([r],c,s,this._stdErrSerialize)}function u(e){this._childLevel=(0|e._childLevel)+1,this.bindings=r,s&&(this.serializers=s,this._serialize=c),n&&(this._logEvent=g([].concat(e._logEvent.bindings,r)))}u.prototype=this;let f=new u(this);return d(this,f),f.child=function(...e){return _.call(this,t,...e)},f.level=i.level||this.level,t.onChild(f),f}return A.levels=function(e){let t=e.customLevels||{};return{values:Object.assign({},f.levels.values,t),labels:Object.assign({},f.levels.labels,function(e){let t={};return Object.keys(e).forEach(function(r){t[e[r]]=r}),t}(t))}}(e),A.level=x,A.isLevelEnabled=function(e){return!!this.levels.values[e]&&this.levels.values[e]>=this.levels.values[this.level]},A.setMaxListeners=A.getMaxListeners=A.emit=A.addListener=A.on=A.prependListener=A.once=A.prependOnceListener=A.removeListener=A.removeAllListeners=A.listeners=A.listenerCount=A.eventNames=A.write=A.flush=w,A.serializers=o,A._serialize=l,A._stdErrSerialize=m,A.child=function(...e){return _.call(this,S,...e)},n&&(A._logEvent=g()),A}function h(e,t,r,n){var i,u;if(Object.defineProperty(e,n,{value:s(e.level,r)>s(n,r)?w:r[c][n],writable:!0,enumerable:!0,configurable:!0}),e[n]===w){if(!t.transmit)return;let i=s(t.transmit.level||e.level,r);if(s(n,r)<i)return}e[n]=(i=e[c][n],function(){let c=t.timestamp(),l=Array(arguments.length),u=Object.getPrototypeOf&&Object.getPrototypeOf(this)===a?a:this;for(var d=0;d<l.length;d++)l[d]=arguments[d];var f=!1;if(t.serialize&&(p(l,this._serialize,this.serializers,this._stdErrSerialize),f=!0),t.asObject||t.formatters?i.call(u,...function(e,t,r,n,i){let{level:a,log:s=e=>e}=i.formatters||{},c=r.slice(),l=c[0],u={},d=(0|e._childLevel)+1;if((d<1&&(d=1),n&&(u.time=n),a)?Object.assign(u,a(t,e.levels.values[t])):u.level=e.levels.values[t],i.asObjectBindingsOnly){if(null!==l&&"object"==typeof l)for(;d--&&"object"==typeof c[0];)Object.assign(u,c.shift());return[s(u),...c]}if(null!==l&&"object"==typeof l){for(;d--&&"object"==typeof c[0];)Object.assign(u,c.shift());l=c.length?o(c.shift(),c):void 0}else"string"==typeof l&&(l=o(c.shift(),c));return void 0!==l&&(u[i.messageKey]=l),[s(u)]}(this,n,l,c,t)):i.apply(u,l),t.transmit){let i=t.transmit.level||e._level,o=s(i,r),a=s(n,r);if(a<o)return;(function(e,t,r,n=!1){let i=t.send,o=t.ts,a=t.methodLevel,s=t.methodValue,c=t.val,l=e._logEvent.bindings;n||p(r,e._serialize||Object.keys(e.serializers),e.serializers,void 0===e._stdErrSerialize||e._stdErrSerialize),e._logEvent.ts=o,e._logEvent.messages=r.filter(function(e){return -1===l.indexOf(e)}),e._logEvent.level.label=a,e._logEvent.level.value=s,i(a,e._logEvent,c),e._logEvent=g(l)})(this,{ts:c,methodLevel:n,methodValue:a,transmitLevel:i,transmitValue:r.levels.values[t.transmit.level||e._level],send:t.transmit.send,val:s(e._level,r)},l,f)}});let d=function(e){let t=[];e.bindings&&t.push(e.bindings);let r=e[l];for(;r.parent;)(r=r.parent).logger.bindings&&t.push(r.logger.bindings);return t.reverse()}(e);0!==d.length&&(e[n]=(u=e[n],function(){return u.apply(this,[...d,...arguments])}))}function p(e,t,r,n){for(let i in e)if(n&&e[i]instanceof Error)e[i]=f.stdSerializers.err(e[i]);else if("object"==typeof e[i]&&!Array.isArray(e[i])&&t)for(let n in e[i])t.indexOf(n)>-1&&n in r&&(e[i][n]=r[n](e[i][n]))}function g(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function m(e){let t={type:e.constructor.name,msg:e.message,stack:e.stack};for(let r in e)void 0===t[r]&&(t[r]=e[r]);return t}function y(){return{}}function b(e){return e}function w(){}function v(){return!1}function E(){return Date.now()}f.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},f.stdSerializers={mapHttpRequest:y,mapHttpResponse:y,wrapRequestSerializer:b,wrapResponseSerializer:b,wrapErrorSerializer:b,req:y,res:y,err:m,errWithCause:m},f.stdTimeFunctions=Object.assign({},{nullTime:v,epochTime:E,unixTime:function(){return Math.round(Date.now()/1e3)},isoTime:function(){return new Date(Date.now()).toISOString()}}),n.exports.default=f,n.exports.pino=f;let x={level:"info"},A="custom_context";var S=Object.defineProperty,_=(e,t,r)=>t in e?S(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,I=(e,t,r)=>_(e,"symbol"!=typeof t?t+"":t,r);class C{constructor(e){I(this,"nodeValue"),I(this,"sizeInBytes"),I(this,"next"),this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}}class O{constructor(e){I(this,"lengthInNodes"),I(this,"sizeInBytes"),I(this,"head"),I(this,"tail"),I(this,"maxSizeInBytes"),this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){let t=new C(e);if(t.size>this.maxSizeInBytes)throw Error(`[LinkedList] Value too big to insert into list: ${e} with size ${t.size}`);for(;this.size+t.size>this.maxSizeInBytes;)this.shift();this.head?this.tail&&(this.tail.next=t):this.head=t,this.tail=t,this.lengthInNodes++,this.sizeInBytes+=t.size}shift(){if(!this.head)return;let e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){let e=[],t=this.head;for(;null!==t;)e.push(t.value),t=t.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};let t=e.value;return e=e.next,{done:!1,value:t}}}}}let P=e=>JSON.stringify(e,(e,t)=>"bigint"==typeof t?t.toString()+"n":t);function T(e){return"string"==typeof e?e:P(e)||""}var k=Object.defineProperty,N=(e,t,r)=>t in e?k(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,M=(e,t,r)=>N(e,"symbol"!=typeof t?t+"":t,r);class R{constructor(e,t=1024e3){M(this,"logs"),M(this,"level"),M(this,"levelValue"),M(this,"MAX_LOG_SIZE_IN_BYTES"),this.level=e??"error",this.levelValue=n.exports.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=t,this.logs=new O(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,t){t===n.exports.levels.values.error?console.error(e):t===n.exports.levels.values.warn?console.warn(e):t===n.exports.levels.values.debug?console.debug(e):t===n.exports.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(T({timestamp:new Date().toISOString(),log:e}));let t="string"==typeof e?JSON.parse(e).level:e.level;t>=this.levelValue&&this.forwardToConsole(e,t)}getLogs(){return this.logs}clearLogs(){this.logs=new O(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){let t=this.getLogArray();return t.push(T({extraMetadata:e})),new Blob(t,{type:"application/json"})}}var D=Object.defineProperty,L=(e,t,r)=>t in e?D(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,B=(e,t,r)=>L(e,"symbol"!=typeof t?t+"":t,r);class U{constructor(e,t=1024e3){B(this,"baseChunkLogger"),this.baseChunkLogger=new R(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){let t=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=t,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(t)}}var j=Object.defineProperty,$=(e,t,r)=>t in e?j(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,F=(e,t,r)=>$(e,"symbol"!=typeof t?t+"":t,r);class z{constructor(e,t=1024e3){F(this,"baseChunkLogger"),this.baseChunkLogger=new R(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}}var q=Object.defineProperty,G=Object.defineProperties,H=Object.getOwnPropertyDescriptors,V=Object.getOwnPropertySymbols,W=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable,K=(e,t,r)=>t in e?q(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Y=(e,t)=>{for(var r in t||(t={}))W.call(t,r)&&K(e,r,t[r]);if(V)for(var r of V(t))Z.call(t,r)&&K(e,r,t[r]);return e},J=(e,t)=>G(e,H(t));function X(e){return J(Y({},e),{level:e?.level||x.level})}function Q(e,t=A){return e[t]||""}function ee(e,t,r=A){let n=function(e,t,r=A){let n=Q(e,r);return n.trim()?`${n}/${t}`:t}(e,t,r);return function(e,t,r=A){return e[r]=t,e}(e.child({context:n}),n,r)}function et(e){var t;if("u">typeof e.loggerOverride&&"string"!=typeof e.loggerOverride)return{logger:e.loggerOverride,chunkLoggerController:null};let r=J(Y({},e.opts),{level:"string"==typeof e.loggerOverride?e.loggerOverride:null==(t=e.opts)?void 0:t.level});return"u">typeof window?function(e){var t,r;let i=new U(null==(t=e.opts)?void 0:t.level,e.maxSizeInBytes);return{logger:n.exports(J(Y({},e.opts),{level:"trace",browser:J(Y({},null==(r=e.opts)?void 0:r.browser),{write:e=>i.write(e)})})),chunkLoggerController:i}}(J(Y({},e),{opts:r})):function(e){var t,r;let i=new z(null==(t=e.opts)?void 0:t.level,e.maxSizeInBytes);return{logger:n.exports(J(Y({},e.opts),{level:"trace",browser:J(Y({},null==(r=e.opts)?void 0:r.browser),{write:e=>i.write(e)})}),i),chunkLoggerController:i}}(J(Y({},e),{opts:r}))}},46633:function(e,t,r){"use strict";r.d(t,{Au:function(){return t_},bG:function(){return tA},vf:function(){return tI},xp:function(){return tS}});var n=r(40537),i=r(80577);function o(e,...t){if(!(e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function a(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}let s="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,c=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);function l(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}(e)),o(e),e}class u{clone(){return this._cloneInto()}}function d(e=32){if(s&&"function"==typeof s.getRandomValues)return s.getRandomValues(new Uint8Array(e));if(s&&"function"==typeof s.randomBytes)return s.randomBytes(e);throw Error("crypto.getRandomValues must be defined")}class f extends u{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=c(this.buffer)}update(e){a(this);let{view:t,buffer:r,blockLen:n}=this,i=(e=l(e)).length;for(let o=0;o<i;){let a=Math.min(n-this.pos,i-o);if(a===n){let t=c(e);for(;n<=i-o;o+=n)this.process(t,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){a(this),function(e,t){o(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:n,isLE:i}=this,{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>n-s&&(this.process(r,0),s=0);for(let e=s;e<n;e++)t[e]=0;(function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),o=BigInt(4294967295),a=Number(r>>i&o),s=Number(r&o),c=n?4:0,l=n?0:4;e.setUint32(t+c,a,n),e.setUint32(t+l,s,n)})(r,n-8,BigInt(8*this.length),i),this.process(r,0);let l=c(e),u=this.outputLen;if(u%4)throw Error("_sha2: outputLen should be aligned to 32bit");let d=u/4,f=this.get();if(d>f.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<d;e++)l.setUint32(4*e,f[e],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:o,pos:a}=this;return e.length=n,e.pos=a,e.finished=i,e.destroyed=o,n%t&&e.buffer.set(r),e}}let h=BigInt(4294967296-1),p=BigInt(32),g={split:function(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){let{h:o,l:a}=function(e,t=!1){return t?{h:Number(e&h),l:Number(e>>p&h)}:{h:0|Number(e>>p&h),l:0|Number(e&h)}}(e[i],t);[r[i],n[i]]=[o,a]}return[r,n]},shrSH:(e,t,r)=>e>>>r,shrSL:(e,t,r)=>e<<32-r|t>>>r,rotrSH:(e,t,r)=>e>>>r|t<<32-r,rotrSL:(e,t,r)=>e<<32-r|t>>>r,rotrBH:(e,t,r)=>e<<64-r|t>>>r-32,rotrBL:(e,t,r)=>e>>>r-32|t<<64-r,add:function(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/4294967296|0)|0,l:0|i}},add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,n)=>t+r+n+(e/4294967296|0)|0,add4L:(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),add4H:(e,t,r,n,i)=>t+r+n+i+(e/4294967296|0)|0,add5H:(e,t,r,n,i,o)=>t+r+n+i+o+(e/4294967296|0)|0,add5L:(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0)},[m,y]=g.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),b=new Uint32Array(80),w=new Uint32Array(80);class v extends f{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:o,Dh:a,Dl:s,Eh:c,El:l,Fh:u,Fl:d,Gh:f,Gl:h,Hh:p,Hl:g}=this;return[e,t,r,n,i,o,a,s,c,l,u,d,f,h,p,g]}set(e,t,r,n,i,o,a,s,c,l,u,d,f,h,p,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|o,this.Dh=0|a,this.Dl=0|s,this.Eh=0|c,this.El=0|l,this.Fh=0|u,this.Fl=0|d,this.Gh=0|f,this.Gl=0|h,this.Hh=0|p,this.Hl=0|g}process(e,t){for(let r=0;r<16;r++,t+=4)b[r]=e.getUint32(t),w[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){let t=0|b[e-15],r=0|w[e-15],n=g.rotrSH(t,r,1)^g.rotrSH(t,r,8)^g.shrSH(t,r,7),i=g.rotrSL(t,r,1)^g.rotrSL(t,r,8)^g.shrSL(t,r,7),o=0|b[e-2],a=0|w[e-2],s=g.rotrSH(o,a,19)^g.rotrBH(o,a,61)^g.shrSH(o,a,6),c=g.rotrSL(o,a,19)^g.rotrBL(o,a,61)^g.shrSL(o,a,6),l=g.add4L(i,c,w[e-7],w[e-16]),u=g.add4H(l,n,s,b[e-7],b[e-16]);b[e]=0|u,w[e]=0|l}let{Ah:r,Al:n,Bh:i,Bl:o,Ch:a,Cl:s,Dh:c,Dl:l,Eh:u,El:d,Fh:f,Fl:h,Gh:p,Gl:v,Hh:E,Hl:x}=this;for(let e=0;e<80;e++){let t=g.rotrSH(u,d,14)^g.rotrSH(u,d,18)^g.rotrBH(u,d,41),A=g.rotrSL(u,d,14)^g.rotrSL(u,d,18)^g.rotrBL(u,d,41),S=u&f^~u&p,_=d&h^~d&v,I=g.add5L(x,A,_,y[e],w[e]),C=g.add5H(I,E,t,S,m[e],b[e]),O=0|I,P=g.rotrSH(r,n,28)^g.rotrBH(r,n,34)^g.rotrBH(r,n,39),T=g.rotrSL(r,n,28)^g.rotrBL(r,n,34)^g.rotrBL(r,n,39),k=r&i^r&a^i&a,N=n&o^n&s^o&s;E=0|p,x=0|v,p=0|f,v=0|h,f=0|u,h=0|d,({h:u,l:d}=g.add(0|c,0|l,0|C,0|O)),c=0|a,l=0|s,a=0|i,s=0|o,i=0|r,o=0|n;let M=g.add3L(O,T,N);r=g.add3H(M,C,P,k),n=0|M}({h:r,l:n}=g.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:o}=g.add(0|this.Bh,0|this.Bl,0|i,0|o)),({h:a,l:s}=g.add(0|this.Ch,0|this.Cl,0|a,0|s)),({h:c,l:l}=g.add(0|this.Dh,0|this.Dl,0|c,0|l)),({h:u,l:d}=g.add(0|this.Eh,0|this.El,0|u,0|d)),({h:f,l:h}=g.add(0|this.Fh,0|this.Fl,0|f,0|h)),({h:p,l:v}=g.add(0|this.Gh,0|this.Gl,0|p,0|v)),({h:E,l:x}=g.add(0|this.Hh,0|this.Hl,0|E,0|x)),this.set(r,n,i,o,a,s,c,l,u,d,f,h,p,v,E,x)}roundClean(){b.fill(0),w.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}let E=function(e){let t=t=>e().update(l(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}(()=>new v),x=BigInt(0),A=BigInt(1),S=BigInt(2);function _(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function I(e){if(!_(e))throw Error("Uint8Array expected")}function C(e,t){if("boolean"!=typeof t)throw Error(e+" boolean expected, got "+t)}let O=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function P(e){I(e);let t="";for(let r=0;r<e.length;r++)t+=O[e[r]];return t}function T(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return""===e?x:BigInt("0x"+e)}let k={_0:48,_9:57,A:65,F:70,a:97,f:102};function N(e){return e>=k._0&&e<=k._9?e-k._0:e>=k.A&&e<=k.F?e-(k.A-10):e>=k.a&&e<=k.f?e-(k.a-10):void 0}function M(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=N(e.charCodeAt(i)),o=N(e.charCodeAt(i+1));if(void 0===r||void 0===o)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+o}return n}function R(e){return I(e),T(P(Uint8Array.from(e).reverse()))}function D(e,t){return M(e.toString(16).padStart(2*t,"0"))}function L(e,t){return D(e,t).reverse()}function B(e,t,r){let n;if("string"==typeof t)try{n=M(t)}catch(t){throw Error(e+" must be hex string or Uint8Array, cause: "+t)}else if(_(t))n=Uint8Array.from(t);else throw Error(e+" must be hex string or Uint8Array");let i=n.length;if("number"==typeof r&&i!==r)throw Error(e+" of length "+r+" expected, got "+i);return n}function U(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];I(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}let j=e=>"bigint"==typeof e&&x<=e;function $(e,t,r,n){if(!(j(t)&&j(r)&&j(n))||!(r<=t)||!(t<n))throw Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}let F=e=>(S<<BigInt(e-1))-A,z={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||_(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function q(e,t,r={}){let n=(t,r,n)=>{let i=z[r];if("function"!=typeof i)throw Error("invalid validator function");let o=e[t];if(!(n&&void 0===o)&&!i(o,e))throw Error("param "+String(t)+" is invalid. Expected "+r+", got "+o)};for(let[e,r]of Object.entries(t))n(e,r,!1);for(let[e,t]of Object.entries(r))n(e,t,!0);return e}function G(e){let t=new WeakMap;return(r,...n)=>{let i=t.get(r);if(void 0!==i)return i;let o=e(r,...n);return t.set(r,o),o}}let H=BigInt(0),V=BigInt(1),W=BigInt(2),Z=BigInt(3),K=BigInt(4),Y=BigInt(5),J=BigInt(8);function X(e,t){let r=e%t;return r>=H?r:t+r}function Q(e,t,r){let n=e;for(;t-- >H;)n*=n,n%=r;return n}function ee(e,t){if(e===H)throw Error("invert: expected non-zero number");if(t<=H)throw Error("invert: expected positive modulus, got "+t);let r=X(e,t),n=t,i=H,o=V;for(;r!==H;){let e=n/r,t=n%r,a=i-o*e;n=r,r=t,i=o,o=a}if(n!==V)throw Error("invert: does not exist");return X(i,t)}let et=(e,t)=>(X(e,t)&V)===V,er=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function en(e,t){let r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function ei(e,t,r=!1,n={}){let i;if(e<=H)throw Error("invalid field: expected ORDER > 0, got "+e);let{nBitLength:o,nByteLength:a}=en(e,t);if(a>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let s=Object.freeze({ORDER:e,isLE:r,BITS:o,BYTES:a,MASK:F(o),ZERO:H,ONE:V,create:t=>X(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error("invalid field element: expected bigint, got "+typeof t);return H<=t&&t<e},is0:e=>e===H,isOdd:e=>(e&V)===V,neg:t=>X(-t,e),eql:(e,t)=>e===t,sqr:t=>X(t*t,e),add:(t,r)=>X(t+r,e),sub:(t,r)=>X(t-r,e),mul:(t,r)=>X(t*r,e),pow:(e,t)=>(function(e,t,r){if(r<H)throw Error("invalid exponent, negatives unsupported");if(r===H)return e.ONE;if(r===V)return t;let n=e.ONE,i=t;for(;r>H;)r&V&&(n=e.mul(n,i)),i=e.sqr(i),r>>=V;return n})(s,e,t),div:(t,r)=>X(t*ee(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>ee(t,e),sqrt:n.sqrt||(t=>(i||(i=function(e){if(e%K===Z){let t=(e+V)/K;return function(e,r){let n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw Error("Cannot find square root");return n}}if(e%J===Y){let t=(e-Y)/J;return function(e,r){let n=e.mul(r,W),i=e.pow(n,t),o=e.mul(r,i),a=e.mul(e.mul(o,W),i),s=e.mul(o,e.sub(a,e.ONE));if(!e.eql(e.sqr(s),r))throw Error("Cannot find square root");return s}}return function(e){let t,r,n;let i=(e-V)/W;for(t=e-V,r=0;t%W===H;t/=W,r++);for(n=W;n<e&&function(e,t,r){if(t<H)throw Error("invalid exponent, negatives unsupported");if(r<=H)throw Error("invalid modulus");if(r===V)return H;let n=V;for(;t>H;)t&V&&(n=n*e%r),e=e*e%r,t>>=V;return n}(n,i,e)!==e-V;n++)if(n>1e3)throw Error("Cannot find square root: likely non-prime P");if(1===r){let t=(e+V)/K;return function(e,r){let n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw Error("Cannot find square root");return n}}let o=(t+V)/W;return function(e,a){if(e.pow(a,i)===e.neg(e.ONE))throw Error("Cannot find square root");let s=r,c=e.pow(e.mul(e.ONE,n),t),l=e.pow(a,o),u=e.pow(a,t);for(;!e.eql(u,e.ONE);){if(e.eql(u,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(u);t<s&&!e.eql(r,e.ONE);t++)r=e.sqr(r);let r=e.pow(c,V<<BigInt(s-t-1));c=e.sqr(r),l=e.mul(l,r),u=e.mul(u,c),s=t}return l}}(e)}(e)),i(s,t))),invertBatch:e=>(function(e,t){let r=Array(t.length),n=t.reduce((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n)),e.ONE),i=e.inv(n);return t.reduceRight((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n)),i),r})(s,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?L(e,a):D(e,a),fromBytes:e=>{if(e.length!==a)throw Error("Field.fromBytes: expected "+a+" bytes, got "+e.length);return r?R(e):T(P(e))}});return Object.freeze(s)}let eo=BigInt(0),ea=BigInt(1);function es(e,t){let r=t.negate();return e?r:t}function ec(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw Error("invalid window size, expected [1.."+t+"], got W="+e)}function el(e,t){return ec(e,t),{windows:Math.ceil(t/e)+1,windowSize:2**(e-1)}}let eu=new WeakMap,ed=new WeakMap;function ef(e){return ed.get(e)||1}let eh=BigInt(0),ep=BigInt(1),eg=BigInt(2),em=BigInt(8),ey={zip215:!0};BigInt(0),BigInt(1);let eb=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),ew=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);let ev=BigInt(1),eE=BigInt(2);BigInt(3);let ex=BigInt(5),eA=BigInt(8),eS=ei(eb,void 0,!0),e_=function(e){var t;let r=function(e){let t=(q(e.Fp,er.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),q(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...en(e.n,e.nBitLength),...e,p:e.Fp.ORDER}));return q(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}(e),{Fp:n,n:i,prehash:o,hash:a,randomBytes:s,nByteLength:c,h:l}=r,u=eg<<BigInt(8*c)-ep,d=n.create,f=ei(r.n,r.nBitLength),h=r.uvRatio||((e,t)=>{try{return{isValid:!0,value:n.sqrt(e*n.inv(t))}}catch{return{isValid:!1,value:eh}}}),p=r.adjustScalarBytes||(e=>e),g=r.domain||((e,t,r)=>{if(C("phflag",r),t.length||r)throw Error("Contexts/pre-hash are not supported");return e});function m(e,t){$("coordinate "+e,t,eh,u)}function y(e){if(!(e instanceof v))throw Error("ExtendedPoint expected")}let b=G((e,t)=>{let{ex:r,ey:i,ez:o}=e,a=e.is0();null==t&&(t=a?em:n.inv(o));let s=d(r*t),c=d(i*t),l=d(o*t);if(a)return{x:eh,y:ep};if(l!==ep)throw Error("invZ was invalid");return{x:s,y:c}}),w=G(e=>{let{a:t,d:n}=r;if(e.is0())throw Error("bad point: ZERO");let{ex:i,ey:o,ez:a,et:s}=e,c=d(i*i),l=d(o*o),u=d(a*a),f=d(u*u),h=d(c*t);if(d(u*d(h+l))!==d(f+d(n*d(c*l))))throw Error("bad point: equation left != right (1)");if(d(i*o)!==d(a*s))throw Error("bad point: equation left != right (2)");return!0});class v{constructor(e,t,r,n){this.ex=e,this.ey=t,this.ez=r,this.et=n,m("x",e),m("y",t),m("z",r),m("t",n),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof v)throw Error("extended point not allowed");let{x:t,y:r}=e||{};return m("x",t),m("y",r),new v(t,r,ep,d(t*r))}static normalizeZ(e){let t=n.invertBatch(e.map(e=>e.ez));return e.map((e,r)=>e.toAffine(t[r])).map(v.fromAffine)}static msm(e,t){return function(e,t,r,n){if(function(e,t){if(!Array.isArray(e))throw Error("array expected");e.forEach((e,r)=>{if(!(e instanceof t))throw Error("invalid point at index "+r)})}(r,e),function(e,t){if(!Array.isArray(e))throw Error("array of scalars expected");e.forEach((e,r)=>{if(!t.isValid(e))throw Error("invalid scalar at index "+r)})}(n,t),r.length!==n.length)throw Error("arrays of points and scalars must have equal length");let i=e.ZERO,o=function(e){let t;for(t=0;e>x;e>>=A,t+=1);return t}(BigInt(r.length)),a=o>12?o-3:o>4?o-2:o?2:1,s=(1<<a)-1,c=Array(s+1).fill(i),l=Math.floor((t.BITS-1)/a)*a,u=i;for(let e=l;e>=0;e-=a){c.fill(i);for(let t=0;t<n.length;t++){let i=Number(n[t]>>BigInt(e)&BigInt(s));c[i]=c[i].add(r[t])}let t=i;for(let e=c.length-1,r=i;e>0;e--)r=r.add(c[e]),t=t.add(r);if(u=u.add(t),0!==e)for(let e=0;e<a;e++)u=u.double()}return u}(v,f,e,t)}_setWindowSize(e){_.setWindowSize(this,e)}assertValidity(){w(this)}equals(e){y(e);let{ex:t,ey:r,ez:n}=this,{ex:i,ey:o,ez:a}=e,s=d(t*a),c=d(i*n),l=d(r*a),u=d(o*n);return s===c&&l===u}is0(){return this.equals(v.ZERO)}negate(){return new v(d(-this.ex),this.ey,this.ez,d(-this.et))}double(){let{a:e}=r,{ex:t,ey:n,ez:i}=this,o=d(t*t),a=d(n*n),s=d(eg*d(i*i)),c=d(e*o),l=t+n,u=d(d(l*l)-o-a),f=c+a,h=f-s,p=c-a,g=d(u*h),m=d(f*p),y=d(u*p);return new v(g,m,d(h*f),y)}add(e){y(e);let{a:t,d:n}=r,{ex:i,ey:o,ez:a,et:s}=this,{ex:c,ey:l,ez:u,et:f}=e;if(t===BigInt(-1)){let e=d((o-i)*(l+c)),t=d((o+i)*(l-c)),r=d(t-e);if(r===eh)return this.double();let n=d(a*eg*f),h=d(s*eg*u),p=h+n,g=t+e,m=h-n,y=d(p*r),b=d(g*m),w=d(p*m);return new v(y,b,d(r*g),w)}let h=d(i*c),p=d(o*l),g=d(s*n*f),m=d(a*u),b=d((i+o)*(c+l)-h-p),w=m-g,E=m+g,x=d(p-t*h),A=d(b*w),S=d(E*x),_=d(b*x);return new v(A,S,d(w*E),_)}subtract(e){return this.add(e.negate())}wNAF(e){return _.wNAFCached(this,e,v.normalizeZ)}multiply(e){$("scalar",e,ep,i);let{p:t,f:r}=this.wNAF(e);return v.normalizeZ([t,r])[0]}multiplyUnsafe(e,t=v.ZERO){return $("scalar",e,eh,i),e===eh?S:this.is0()||e===ep?this:_.wNAFCachedUnsafe(this,e,v.normalizeZ,t)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return _.unsafeLadder(this,i).is0()}toAffine(e){return b(this,e)}clearCofactor(){let{h:e}=r;return e===ep?this:this.multiplyUnsafe(e)}static fromHex(e,t=!1){let{d:i,a:o}=r,a=n.BYTES;e=B("pointHex",e,a),C("zip215",t);let s=e.slice(),c=e[a-1];s[a-1]=-129&c;let l=R(s);$("pointHex.y",l,eh,t?u:n.ORDER);let f=d(l*l),{isValid:p,value:g}=h(d(f-ep),d(i*f-o));if(!p)throw Error("Point.fromHex: invalid y coordinate");let m=(g&ep)===ep,y=(128&c)!=0;if(!t&&g===eh&&y)throw Error("Point.fromHex: x=0 and x_0=1");return y!==m&&(g=d(-g)),v.fromAffine({x:g,y:l})}static fromPrivateKey(e){return I(e).point}toRawBytes(){let{x:e,y:t}=this.toAffine(),r=L(t,n.BYTES);return r[r.length-1]|=e&ep?128:0,r}toHex(){return P(this.toRawBytes())}}v.BASE=new v(r.Gx,r.Gy,ep,d(r.Gx*r.Gy)),v.ZERO=new v(eh,ep,ep,eh);let{BASE:E,ZERO:S}=v,_=(t=8*c,{constTimeNegate:es,hasPrecomputes:e=>1!==ef(e),unsafeLadder(e,t,r=v.ZERO){let n=e;for(;t>eo;)t&ea&&(r=r.add(n)),n=n.double(),t>>=ea;return r},precomputeWindow(e,r){let{windows:n,windowSize:i}=el(r,t),o=[],a=e,s=a;for(let e=0;e<n;e++){s=a,o.push(s);for(let e=1;e<i;e++)s=s.add(a),o.push(s);a=s.double()}return o},wNAF(e,r,n){let{windows:i,windowSize:o}=el(e,t),a=v.ZERO,s=v.BASE,c=BigInt(2**e-1),l=2**e,u=BigInt(e);for(let e=0;e<i;e++){let t=e*o,i=Number(n&c);n>>=u,i>o&&(i-=l,n+=ea);let d=t+Math.abs(i)-1,f=e%2!=0,h=i<0;0===i?s=s.add(es(f,r[t])):a=a.add(es(h,r[d]))}return{p:a,f:s}},wNAFUnsafe(e,r,n,i=v.ZERO){let{windows:o,windowSize:a}=el(e,t),s=BigInt(2**e-1),c=2**e,l=BigInt(e);for(let e=0;e<o;e++){let t=e*a;if(n===eo)break;let o=Number(n&s);if(n>>=l,o>a&&(o-=c,n+=ea),0===o)continue;let u=r[t+Math.abs(o)-1];o<0&&(u=u.negate()),i=i.add(u)}return i},getPrecomputes(e,t,r){let n=eu.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&eu.set(t,r(n))),n},wNAFCached(e,t,r){let n=ef(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)},wNAFCachedUnsafe(e,t,r,n){let i=ef(e);return 1===i?this.unsafeLadder(e,t,n):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),t,n)},setWindowSize(e,r){ec(r,t),ed.set(e,r),eu.delete(e)}});function I(e){let t=n.BYTES;e=B("private key",e,t);let r=B("hashed private key",a(e),2*t),o=p(r.slice(0,t)),s=r.slice(t,2*t),c=X(R(o),i),l=E.multiply(c),u=l.toRawBytes();return{head:o,prefix:s,scalar:c,point:l,pointBytes:u}}function O(e=new Uint8Array,...t){return X(R(a(g(U(...t),B("context",e),!!o))),i)}return E._setWindowSize(8),{CURVE:r,getPublicKey:function(e){return I(e).pointBytes},sign:function(e,t,r={}){e=B("message",e),o&&(e=o(e));let{prefix:a,scalar:s,pointBytes:c}=I(t),l=O(r.context,a,e),u=E.multiply(l).toRawBytes(),d=X(l+O(r.context,u,c,e)*s,i);return $("signature.s",d,eh,i),B("result",U(u,L(d,n.BYTES)),2*n.BYTES)},verify:function(e,t,r,i=ey){let a,s,c;let{context:l,zip215:u}=i,d=n.BYTES;e=B("signature",e,2*d),t=B("message",t),r=B("publicKey",r,d),void 0!==u&&C("zip215",u),o&&(t=o(t));let f=R(e.slice(d,2*d));try{a=v.fromHex(r,u),s=v.fromHex(e.slice(0,d),u),c=E.multiplyUnsafe(f)}catch{return!1}if(!u&&a.isSmallOrder())return!1;let h=O(l,s.toRawBytes(),a.toRawBytes(),t);return s.add(a.multiplyUnsafe(h)).subtract(c).clearCofactor().equals(v.ZERO)},ExtendedPoint:v,utils:{getExtendedPublicKey:I,randomPrivateKey:()=>s(n.BYTES),precompute:(e=8,t=v.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}}({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:eS,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:eA,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:E,randomBytes:d,adjustScalarBytes:function(e){return e[0]&=248,e[31]&=127,e[31]|=64,e},uvRatio:function(e,t){let r=X(t*t*t,eb),n=function(e){let t=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),o=e*e%eb*e%eb,a=Q(o,eE,eb)*o%eb,s=Q(a,ev,eb)*e%eb,c=Q(s,ex,eb)*s%eb,l=Q(c,t,eb)*c%eb,u=Q(l,r,eb)*l%eb,d=Q(u,n,eb)*u%eb,f=Q(d,i,eb)*d%eb,h=Q(f,i,eb)*d%eb,p=Q(h,t,eb)*c%eb;return{pow_p_5_8:Q(p,eE,eb)*e%eb,b2:o}}(e*X(r*r*t,eb)).pow_p_5_8,i=X(e*r*n,eb),o=X(t*i*i,eb),a=i,s=X(i*ew,eb),c=o===e,l=o===X(-e,eb),u=o===X(-e*ew,eb);return c&&(i=a),(l||u)&&(i=s),et(i,eb)&&(i=X(-i,eb)),{isValid:c||l,value:i}}}),eI="base64url",eC="utf8",eO="utf8",eP="base58btc";function eT(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function ek(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?eT(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function eN(e,t){t||(t=e.reduce((e,t)=>e+t.length,0));let r=ek(t),n=0;for(let t of e)r.set(t,n),n+=t.length;return eT(r)}var eM=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),a=o.charCodeAt(0);if(255!==r[a])throw TypeError(o+" is ambiguous");r[a]=i}var s=e.length,c=e.charAt(0),l=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function d(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var n=0,i=0;e[t]===c;)n++,t++;for(var o=(e.length-t)*l+1>>>0,a=new Uint8Array(o);e[t];){var u=r[e.charCodeAt(t)];if(255===u)return;for(var d=0,f=o-1;(0!==u||d<i)&&-1!==f;f--,d++)u+=s*a[f]>>>0,a[f]=u%256>>>0,u=u/256>>>0;if(0!==u)throw Error("Non-zero carry");i=d,t++}if(" "!==e[t]){for(var h=o-i;h!==o&&0===a[h];)h++;for(var p=new Uint8Array(n+(o-h)),g=n;h!==o;)p[g++]=a[h++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var a=(o-i)*u+1>>>0,l=new Uint8Array(a);i!==o;){for(var d=t[i],f=0,h=a-1;(0!==d||f<n)&&-1!==h;h--,f++)d+=256*l[h]>>>0,l[h]=d%s>>>0,d=d/s>>>0;if(0!==d)throw Error("Non-zero carry");n=f,i++}for(var p=a-n;p!==a&&0===l[p];)p++;for(var g=c.repeat(r);p<a;++p)g+=e.charAt(l[p]);return g},decodeUnsafe:d,decode:function(e){var r=d(e);if(r)return r;throw Error(`Non-${t} character`)}}};let eR=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")},eD=e=>new TextEncoder().encode(e),eL=e=>new TextDecoder().decode(e);class eB{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class eU{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return e$(this,e)}}class ej{constructor(e){this.decoders=e}or(e){return e$(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let e$=(e,t)=>new ej({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class eF{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new eB(e,t,r),this.decoder=new eU(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let ez=({name:e,prefix:t,encode:r,decode:n})=>new eF(e,t,r,n),eq=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=eM(r,t);return ez({prefix:e,name:t,encode:n,decode:e=>eR(i(e))})},eG=(e,t,r,n)=>{let i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let o=e.length;for(;"="===e[o-1];)--o;let a=new Uint8Array(o*r/8|0),s=0,c=0,l=0;for(let t=0;t<o;++t){let o=i[e[t]];if(void 0===o)throw SyntaxError(`Non-${n} character`);c=c<<r|o,(s+=r)>=8&&(s-=8,a[l++]=255&c>>s)}if(s>=r||255&c<<8-s)throw SyntaxError("Unexpected end of data");return a},eH=(e,t,r)=>{let n="="===t[t.length-1],i=(1<<r)-1,o="",a=0,s=0;for(let n=0;n<e.length;++n)for(s=s<<8|e[n],a+=8;a>r;)a-=r,o+=t[i&s>>a];if(a&&(o+=t[i&s<<r-a]),n)for(;o.length*r&7;)o+="=";return o},eV=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>ez({prefix:t,name:e,encode:e=>eH(e,n,r),decode:t=>eG(t,n,r,e)});var eW=Object.freeze({__proto__:null,identity:ez({prefix:"\0",name:"identity",encode:e=>eL(e),decode:e=>eD(e)})}),eZ=Object.freeze({__proto__:null,base2:eV({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})}),eK=Object.freeze({__proto__:null,base8:eV({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})}),eY=Object.freeze({__proto__:null,base10:eq({prefix:"9",name:"base10",alphabet:"0123456789"})}),eJ=Object.freeze({__proto__:null,base16:eV({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper:eV({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})});let eX=eV({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),eQ=eV({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),e0=eV({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),e1=eV({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),e2=eV({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),e3=eV({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});var e6=Object.freeze({__proto__:null,base32:eX,base32upper:eQ,base32pad:e0,base32padupper:e1,base32hex:e2,base32hexupper:e3,base32hexpad:eV({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper:eV({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z:eV({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})}),e5=Object.freeze({__proto__:null,base36:eq({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper:eq({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})}),e8=Object.freeze({__proto__:null,base58btc:eq({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr:eq({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});let e4=eV({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6});var e9=Object.freeze({__proto__:null,base64:e4,base64pad:eV({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url:eV({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad:eV({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});let e7=Array.from("\uD83D\uDE80\uD83E\uDE90\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B\uD83E\uDD19\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81\uD83C\uDF1E\uD83C\uDF88\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74\uD83D\uDC8E\uD83D\uDCB8\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),te=e7.reduce((e,t,r)=>(e[r]=t,e),[]),tt=e7.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);var tr=Object.freeze({__proto__:null,base256emoji:ez({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=te[t],"")},decode:function(e){let t=[];for(let r of e){let e=tt[r.codePointAt(0)];if(void 0===e)throw Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}})});function tn(e,t){var r,n=0,t=t||0,i=0,o=t,a=e.length;do{if(o>=a)throw tn.bytes=0,RangeError("Could not decode varint");r=e[o++],n+=i<28?(127&r)<<i:(127&r)*Math.pow(2,i),i+=7}while(r>=128);return tn.bytes=o-t,n}var ti=function e(t,r,n){r=r||[],n=n||0;for(var i=n;t>=2147483648;)r[n++]=255&t|128,t/=128;for(;-128&t;)r[n++]=255&t|128,t>>>=7;return r[n]=0|t,e.bytes=n-i+1,r};let to=(e,t,r=0)=>(ti(e,t,r),t),ta=e=>e<128?1:e<16384?2:e<2097152?3:e<268435456?4:e<34359738368?5:e<4398046511104?6:e<562949953421312?7:e<72057594037927940?8:e<0x7fffffffffffffff?9:10,ts=(e,t)=>{let r=t.byteLength,n=ta(e),i=n+ta(r),o=new Uint8Array(i+r);return to(e,o,0),to(r,o,n),o.set(t,i),new tc(e,r,t,o)};class tc{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}let tl=({name:e,code:t,encode:r})=>new tu(e,t,r);class tu{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?ts(this.code,t):t.then(e=>ts(this.code,e))}throw Error("Unknown type, must be binary type")}}let td=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t));var tf=Object.freeze({__proto__:null,sha256:tl({name:"sha2-256",code:18,encode:td("SHA-256")}),sha512:tl({name:"sha2-512",code:19,encode:td("SHA-512")})}),th=Object.freeze({__proto__:null,identity:{code:0,name:"identity",encode:eR,digest:e=>ts(0,eR(e))}});new TextEncoder,new TextDecoder;let tp={...eW,...eZ,...eK,...eY,...eJ,...e6,...e5,...e8,...e9,...tr};function tg(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}({...tf,...th});let tm=tg("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),ty=tg("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{let t=ek((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),tb={utf8:tm,"utf-8":tm,hex:tp.base16,latin1:ty,ascii:ty,binary:ty,...tp};function tw(e,t="utf8"){let r=tb[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}function tv(e,t="utf8"){let r=tb[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?eT(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}function tE(e){return(0,i.D)(tw(tv(e,eI),eC))}function tx(e){return tw(tv((0,i.u)(e),eC),eI)}function tA(e){return["did","key","z"+tw(eN([tv("K36",eP),e]),eP)].join(":")}function tS(e){let t=e.split("."),r=tE(t[0]);return{header:r,payload:tE(t[1]),signature:tv(t[2],eI),data:tv(t.slice(0,2).join("."),eO)}}function t_(e=d(32)){let t=e_.getPublicKey(e);return{secretKey:eN([e,t]),publicKey:t}}async function tI(e,t,r,i,o=(0,n.fromMiliseconds)(Date.now())){var a,s;let c={alg:"EdDSA",typ:"JWT"},l={iss:tA(i.publicKey),sub:e,aud:t,iat:o,exp:o+r},u=tv([tx((a={header:c,payload:l}).header),tx(a.payload)].join("."),eO);return[tx((s={header:c,payload:l,signature:e_.sign(u,i.secretKey.slice(0,32))}).header),tx(s.payload),tw(s.signature,eI)].join(".")}},80577:function(e,t,r){"use strict";r.d(t,{D:function(){return o},u:function(){return a}});let n=e=>JSON.stringify(e,(e,t)=>"bigint"==typeof t?t.toString()+"n":t),i=e=>JSON.parse(e.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3'),(e,t)=>"string"==typeof t&&t.match(/^\d+n$/)?BigInt(t.substring(0,t.length-1)):t);function o(e){if("string"!=typeof e)throw Error(`Cannot safe json parse value of type ${typeof e}`);try{return i(e)}catch(t){return e}}function a(e){return"string"==typeof e?e:n(e)||""}},70213:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(62494);n.__exportStar(r(12658),t),n.__exportStar(r(75127),t)},12658:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_THOUSAND=t.ONE_HUNDRED=void 0,t.ONE_HUNDRED=100,t.ONE_THOUSAND=1e3},75127:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=5*t.ONE_MINUTE,t.TEN_MINUTES=10*t.ONE_MINUTE,t.THIRTY_MINUTES=30*t.ONE_MINUTE,t.SIXTY_MINUTES=60*t.ONE_MINUTE,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=3*t.ONE_HOUR,t.SIX_HOURS=6*t.ONE_HOUR,t.TWELVE_HOURS=12*t.ONE_HOUR,t.TWENTY_FOUR_HOURS=24*t.ONE_HOUR,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=3*t.ONE_DAY,t.FIVE_DAYS=5*t.ONE_DAY,t.SEVEN_DAYS=7*t.ONE_DAY,t.THIRTY_DAYS=30*t.ONE_DAY,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=2*t.ONE_WEEK,t.THREE_WEEKS=3*t.ONE_WEEK,t.FOUR_WEEKS=4*t.ONE_WEEK,t.ONE_YEAR=365*t.ONE_DAY},40537:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(62494);n.__exportStar(r(78627),t),n.__exportStar(r(59854),t),n.__exportStar(r(3205),t),n.__exportStar(r(70213),t)},3205:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(62494).__exportStar(r(71146),t)},71146:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IWatch=void 0;class r{}t.IWatch=r},68353:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromMiliseconds=t.toMiliseconds=void 0;let n=r(70213);t.toMiliseconds=function(e){return e*n.ONE_THOUSAND},t.fromMiliseconds=function(e){return Math.floor(e/n.ONE_THOUSAND)}},86029:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delay=void 0,t.delay=function(e){return new Promise(t=>{setTimeout(()=>{t(!0)},e)})}},78627:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(62494);n.__exportStar(r(86029),t),n.__exportStar(r(68353),t)},59854:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Watch=void 0;class r{constructor(){this.timestamps=new Map}start(e){if(this.timestamps.has(e))throw Error(`Watch already started for label: ${e}`);this.timestamps.set(e,{started:Date.now()})}stop(e){let t=this.get(e);if(void 0!==t.elapsed)throw Error(`Watch already stopped for label: ${e}`);let r=Date.now()-t.started;this.timestamps.set(e,{started:t.started,elapsed:r})}get(e){let t=this.timestamps.get(e);if(void 0===t)throw Error(`No timestamp found for label: ${e}`);return t}elapsed(e){let t=this.get(e);return t.elapsed||Date.now()-t.started}}t.Watch=r,t.default=r},62494:function(e,t,r){"use strict";r.r(t),r.d(t,{__assign:function(){return o},__asyncDelegator:function(){return v},__asyncGenerator:function(){return w},__asyncValues:function(){return E},__await:function(){return b},__awaiter:function(){return u},__classPrivateFieldGet:function(){return _},__classPrivateFieldSet:function(){return I},__createBinding:function(){return f},__decorate:function(){return s},__exportStar:function(){return h},__extends:function(){return i},__generator:function(){return d},__importDefault:function(){return S},__importStar:function(){return A},__makeTemplateObject:function(){return x},__metadata:function(){return l},__param:function(){return c},__read:function(){return g},__rest:function(){return a},__spread:function(){return m},__spreadArrays:function(){return y},__values:function(){return p}});var n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function i(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function s(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a}function c(e,t){return function(r,n){t(r,n,e)}}function l(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}c((n=n.apply(e,t||[])).next())})}function d(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}function h(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||(t[r]=e[r])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function y(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function w(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),o=[];return n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n;function a(e){i[e]&&(n[e]=function(t){return new Promise(function(r,n){o.push([e,t,r,n])>1||s(e,t)})})}function s(e,t){try{var r;(r=i[e](t)).value instanceof b?Promise.resolve(r.value.v).then(c,l):u(o[0][2],r)}catch(e){u(o[0][3],e)}}function c(e){s("next",e)}function l(e){s("throw",e)}function u(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function v(e){var t,r;return t={},n("next"),n("throw",function(e){throw e}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:b(e[n](t)),done:"return"===n}:i?i(t):t}:i}}function E(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=p(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,i){!function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)}(n,i,(t=e[r](t)).done,t.value)})}}}function x(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function A(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return t.get(e)}function I(e,t,r){if(!t.has(e))throw TypeError("attempted to set private field on non-instance");return t.set(e,r),r}},76454:function(e,t){"use strict";function r(e){let t;return"undefined"!=typeof window&&void 0!==window[e]&&(t=window[e]),t}function n(e){let t=r(e);if(!t)throw Error(`${e} is not defined in Window`);return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalStorage=t.getLocalStorageOrThrow=t.getCrypto=t.getCryptoOrThrow=t.getLocation=t.getLocationOrThrow=t.getNavigator=t.getNavigatorOrThrow=t.getDocument=t.getDocumentOrThrow=t.getFromWindowOrThrow=t.getFromWindow=void 0,t.getFromWindow=r,t.getFromWindowOrThrow=n,t.getDocumentOrThrow=function(){return n("document")},t.getDocument=function(){return r("document")},t.getNavigatorOrThrow=function(){return n("navigator")},t.getNavigator=function(){return r("navigator")},t.getLocationOrThrow=function(){return n("location")},t.getLocation=function(){return r("location")},t.getCryptoOrThrow=function(){return n("crypto")},t.getCrypto=function(){return r("crypto")},t.getLocalStorageOrThrow=function(){return n("localStorage")},t.getLocalStorage=function(){return r("localStorage")}},3897:function(e,t,r){"use strict";t.D=void 0;let n=r(76454);t.D=function(){let e,t,r;try{e=n.getDocumentOrThrow(),t=n.getLocationOrThrow()}catch(e){return null}function i(...t){let r=e.getElementsByTagName("meta");for(let e=0;e<r.length;e++){let n=r[e],i=["itemprop","property","name"].map(e=>n.getAttribute(e)).filter(e=>!!e&&t.includes(e));if(i.length&&i){let e=n.getAttribute("content");if(e)return e}}return""}let o=((r=i("name","og:site_name","og:title","twitter:title"))||(r=e.title),r),a=i("description","og:description","twitter:description","keywords");return{description:a,url:t.origin,icons:function(){let r=e.getElementsByTagName("link"),n=[];for(let e=0;e<r.length;e++){let i=r[e],o=i.getAttribute("rel");if(o&&o.toLowerCase().indexOf("icon")>-1){let e=i.getAttribute("href");if(e){if(-1===e.toLowerCase().indexOf("https:")&&-1===e.toLowerCase().indexOf("http:")&&0!==e.indexOf("//")){let r=t.protocol+"//"+t.host;if(0===e.indexOf("/"))r+=e;else{let n=t.pathname.split("/");n.pop(),r+=n.join("/")+"/"+e}n.push(r)}else if(0===e.indexOf("//")){let r=t.protocol+e;n.push(r)}else n.push(e)}}}return n}(),name:o}}},69259:function(e,t,r){"use strict";let n;r.r(t),r.d(t,{ANALYTICS_EVENTS:function(){return q.dW},ANALYTICS_INTEGRATION_TYPE:function(){return q.JO},ANALYTICS_SDK_TYPE:function(){return q.Yz},AUTH_CONNECTION:function(){return g.Ck},Analytics:function(){return q.cp},BUTTON_POSITION:function(){return tS.wU},BaseConnector:function(){return tI.e},BaseEvmConnector:function(){return tV.C},BaseProvider:function(){return Z.Z},BaseSolanaConnector:function(){return az.p},BiconomySmartAccount:function(){return aQ.c},CAN_AUTHORIZE_STATUSES:function(){return tT.C},CHAIN_NAMESPACES:function(){return f.E},CONFIRMATION_STRATEGY:function(){return aJ.c},CONNECTED_STATUSES:function(){return tT.x},CONNECTOR_CATEGORY:function(){return G.$Y},CONNECTOR_EVENTS:function(){return G.cS},CONNECTOR_INITIAL_AUTHENTICATION_MODE:function(){return G.Hd},CONNECTOR_NAMES:function(){return o.AH},CONNECTOR_NAMESPACES:function(){return tC.$},CONNECTOR_STATUS:function(){return G.Ak},CommonJRPCProvider:function(){return Y},CommonPrivateKeyProvider:function(){return a8.F},DEFAULT_EIP155_METHODS:function(){return aZ.q},DEFAULT_EIP_155_EVENTS:function(){return aZ.HZ},DEFAULT_SOLANA_EVENTS:function(){return aZ.t6},DEFAULT_SOLANA_METHODS:function(){return aZ.Pw},EIP1193_EVENTS:function(){return a4.Cb},EIP1559APIEndpoint:function(){return a7},EVM_CONNECTORS:function(){return o.Nt},EVM_PLUGINS:function(){return tB},GAS_ESTIMATE_TYPES:function(){return sr},KernelSmartAccount:function(){return a0.F},LOGIN_MODE:function(){return U.XI},LegacyGasAPIEndpoint:function(){return a9},MFA_FACTOR:function(){return eq},MFA_LEVELS:function(){return eF.M_},MODAL_SIGN_IN_METHODS:function(){return U.bE},MULTI_CHAIN_CONNECTORS:function(){return o.Tl},MetamaskSmartAccount:function(){return a1.x},NexusSmartAccount:function(){return a2.N},PLUGIN_EVENTS:function(){return tL},PLUGIN_NAMESPACES:function(){return tR},PLUGIN_STATUS:function(){return tD},PROVIDER_EVENTS:function(){return aF},SMART_ACCOUNT:function(){return a3.FN},SMART_ACCOUNT_WALLET_SCOPE:function(){return U.RU},SOLANA_CAIP_CHAIN_MAP:function(){return U.Wd},SOLANA_CONNECTORS:function(){return o.CD},SOLANA_PLUGINS:function(){return tU},SafeSmartAccount:function(){return a6.l},SignTypedDataVersion:function(){return sI},SolanaWallet:function(){return sB},TRANSACTION_ENVELOPE_TYPES:function(){return se},TRANSACTION_TYPES:function(){return st},TransactionFormatter:function(){return s_},TrustSmartAccount:function(){return a5.P},UX_MODE:function(){return g.$e},WALLET_CONNECTORS:function(){return o.tp},WALLET_PLUGINS:function(){return tj},WALLET_REGISTRY_URL:function(){return U.TD},WEB3AUTH_NETWORK:function(){return eF.K2},WEB3AUTH_STATE_STORAGE_KEY:function(){return U.cJ},WIDGET_TYPE:function(){return U.Lc},WalletConnectV2Provider:function(){return aY.G},WalletInitializationError:function(){return tO.Ty},WalletLoginError:function(){return tO.RM},WalletOperationsError:function(){return tO.XM},WalletProviderError:function(){return tO.w7},WalletServicesPluginError:function(){return t$},WalletStandardProvider:function(){return sk.O},Web3Auth:function(){return aR},Web3AuthContextKey:function(){return aD},Web3AuthError:function(){return tO.up},Web3AuthNoModal:function(){return tY},accountAbstractionProvider:function(){return aX.j$},authConnector:function(){return tM},checkIfTokenIsExpired:function(){return tq.$E},clearToken:function(){return tq.qz},cloneDeep:function(){return tk},cookieToWeb3AuthState:function(){return F},createConfigMiddleware:function(){return sN.wf},createEthChainIdMiddleware:function(){return sO.P$},createEthChainSwitchMiddleware:function(){return sC.N},createEthJsonRpcClient:function(){return sO.M6},createEthMiddleware:function(){return sC.K},createEthProviderConfigMiddleware:function(){return sO.Pc},createGenericJRPCMiddleware:function(){return sM.QM},createGetAccountsMiddleware:function(){return sM.Qm},createGetPublicKeyMiddleware:function(){return sM.f8},createMipd:function(){return aG.M},createRandomId:function(){return a4.HL},createRequestAccountsMiddleware:function(){return sM.Sx},createSolanaAccountMiddleware:function(){return sM.l6},createSolanaChainIdMiddleware:function(){return sN.nD},createSolanaChainSwitchMiddleware:function(){return sM.qy},createSolanaJsonRpcClient:function(){return sN.ci},createSolanaMiddleware:function(){return sM.jY},createSolanaMipd:function(){return aH.M},createSolanaProviderConfigMiddleware:function(){return sN.p7},createWalletMiddleware:function(){return sP.D},defaultConnectorsModalConfig:function(){return s},fetchEip1159GasEstimates:function(){return sE},fetchLegacyGasPriceEstimates:function(){return sx},fetchProjectConfig:function(){return H.pw},fetchWalletRegistry:function(){return H.gL},fromViemChain:function(){return H.Um},fromWagmiChain:function(){return H.Vj},getAaAnalyticsProperties:function(){return H.dl},getCaipChainId:function(){return H.cN},getED25519Key:function(){return a$},getErrorAnalyticsProperties:function(){return H.eX},getHostname:function(){return H.Fo},getNamespacesFromChains:function(){return aZ.AB},getRequiredNamespaces:function(){return aZ.BZ},getSavedToken:function(){return tq.Cb},getSolanaChainByChainConfig:function(){return sT.Q},getSupportedEventsByNamespace:function(){return aZ.Kq},getSupportedMethodsByNamespace:function(){return aZ.U2},getWalletConnectV2Settings:function(){return aZ.w7},getWalletServicesAnalyticsProperties:function(){return H.Vn},getWhitelabelAnalyticsProperties:function(){return H.Xj},hasSolanaWalletStandardFeatures:function(){return aV.hasSolanaWalletStandardFeatures},injectedEvmConnector:function(){return aq.z},isBrowser:function(){return H.jU},isHexStrict:function(){return H.H2},log:function(){return tP.c},metaMaskConnector:function(){return tZ},normalizeGWEIDecimalNumbers:function(){return sv},normalizeWalletName:function(){return H.rB},saveToken:function(){return tq.Fr},sdkVersion:function(){return H.lB},signerHost:function(){return H.tC},storageAvailable:function(){return tq.oZ},toEoaProvider:function(){return aX.NE},validateAddress:function(){return sA},validateTypedSignMessageDataV4:function(){return sS},version:function(){return a},walletConnectV2Connector:function(){return aK.K},walletServicesPlugin:function(){return tz},walletStandardConnector:function(){return aW.H},withAbort:function(){return H.Kj}});var i,o=r(32454);let a="10.13.1",s={hideWalletDiscovery:!1,connectors:{[o.Nt.AUTH]:{label:"Auth",showOnModal:!0}}};var c=r(31686),l=r(56127),u=r(99431);function d(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var f=r(95693);let h={MODAL:"modal",AUTO_APPROVE:"auto-approve"};var p=r(60452),g=r(19070),m=r(31905),y=r(6089),b=r.n(y),w=r(73493),v=r.n(w);let E={[g.Ck.APPLE]:"apple",[g.Ck.GITHUB]:"github",[g.Ck.LINKEDIN]:"linkedin",[g.Ck.TWITTER]:"twitter",[g.Ck.LINE]:"line",[g.Ck.EMAIL_PASSWORDLESS]:"email",[g.Ck.SMS_PASSWORDLESS]:"sms"},x=e=>e.href.endsWith("/")?e.href:`${e.href}/`,A=()=>Math.random().toString(36).slice(2),S={webWorkerSupport:!1};function _(e,t){return t?e:e.toLowerCase()}let I=(e,t,r,n=!0)=>{let{name:i,sub:o}=e;if(r)return _(e[r],n);switch(t){case g.Ck.EMAIL_PASSWORDLESS:case g.Ck.SMS_PASSWORDLESS:case g.Ck.AUTHENTICATOR:return _(i,n);case g.Ck.GITHUB:case g.Ck.TWITTER:case g.Ck.APPLE:case g.Ck.LINKEDIN:case g.Ck.LINE:case g.Ck.WECHAT:case g.Ck.KAKAO:case g.Ck.FARCASTER:case g.Ck.CUSTOM:return _(o,n);default:throw Error("Invalid login type to get auth connection id")}};function C(e){let t;try{t=window[e];let r="__storage_test__";return t.setItem(r,r),t.removeItem(r),!0}catch(e){return e&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&t&&0!==t.length}}function O(){let e=void 0!==window.screenLeft?window.screenLeft:window.screenX,t=void 0!==window.screenTop?window.screenTop:window.screenY,r=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,n=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height;return`titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=700,width=1200,top=${Math.abs((n-700)/2/1+t)},left=${Math.abs((r-1200)/2/1+e)}`}function P(e){let{baseURL:t,query:r,hash:n}=e,i=new URL(t);if(r&&Object.keys(r).forEach(e=>{i.searchParams.append(e,r[e])}),n){let e=new URL(P({baseURL:t,query:n})).searchParams.toString();i.hash=e}return i.toString()}let T=e=>{try{return new URL(decodeURIComponent(e))}catch(t){throw Error(`${(null==t?void 0:t.message)||""}, Note: Your jwt domain: (i.e ${e}) must have http:// or https:// prefix`)}},k=e=>JSON.parse(b().decode(e));function N(e){return(e===g.Ck.FACEBOOK||e===g.Ck.LINE)&&function(){let e=v().getParser(navigator.userAgent).getPlatform();return e.type===v().PLATFORMS_MAP.tablet||e.type===v().PLATFORMS_MAP.mobile}()?3e4:1e3}function M(e){let[t,r]=e.split(".");return{header:JSON.parse(b().decode(t)),payload:JSON.parse(b().decode(r))}}class R{constructor(){(0,l.Z)(this,"store",new Map)}getItem(e){return this.store.get(e)||null}setItem(e,t){this.store.set(e,t)}removeItem(e){this.store.delete(e)}}class D{constructor(e,t){(0,l.Z)(this,"storage",void 0),(0,l.Z)(this,"_storeKey",void 0),this.storage=t,this._storeKey=e;try{t.getItem(e)||this.resetStore()}catch{}}static getInstance(e,t="local"){if(!this.instanceMap.has(e)){let r;r="local"===t&&C("localStorage")?window.localStorage:"session"===t&&C("sessionStorage")?window.sessionStorage:new R,this.instanceMap.set(e,new this(e,r))}return this.instanceMap.get(e)}toJSON(){return this.storage.getItem(this._storeKey)}resetStore(){let e=this.getStore();return this.storage.removeItem(this._storeKey),e}getStore(){return JSON.parse(this.storage.getItem(this._storeKey)||"{}")}get(e){return JSON.parse(this.storage.getItem(this._storeKey)||"{}")[e]}set(e,t){let r=JSON.parse(this.storage.getItem(this._storeKey)||"{}");r[e]=t,this.storage.setItem(this._storeKey,JSON.stringify(r))}}(0,l.Z)(D,"instanceMap",new Map);var L=r(51567),B=r.n(L),U=r(1272);function j(e,t){return JSON.parse(e,(e,t)=>{var r,n;let i=t;return(null===(r=i)||void 0===r?void 0:r.__type)==="bigint"&&(i=BigInt(i.value)),(null===(n=i)||void 0===n?void 0:n.__type)==="Map"&&(i=new Map(i.value)),i})}let $=e=>({getItem(e){if("undefined"==typeof window)return null;let t=z(document.cookie,e);return null!=t?t:null},setItem(t,r){if("undefined"==typeof window)return;let n=`${t}=${r};path=/;samesite=Lax`;null!=e&&e.expiry&&"number"==typeof e.expiry&&(n+=`; expires=${new Date(Date.now()+e.expiry).toUTCString()}`),n+="; secure",document.cookie=n},removeItem(e){"undefined"!=typeof window&&(document.cookie=`${e}=;max-age=-1;path=/`)}});function F(e){if(!e)return;let t=z(e,U.cJ);if(t)return j(t)}function z(e,t){let r=e.split("; ").find(e=>e.startsWith(`${t}=`));if(r)return r.substring(t.length+1)}var q=r(16957),G=r(43280),H=r(6827),V=r(87614),W=r(10994),Z=r(18108),K=r(98039);class Y extends Z.Z{constructor({config:e,state:t}){super({config:e,state:t})}async setupProvider(e){let t=this.getChain(e);if(!t)throw V.g.custom({message:"Chain not found",code:4902});let{networkMiddleware:r}=function(e){let{chainId:t,rpcTarget:r}=e,n=(0,K.v)({rpcTarget:r});return{networkMiddleware:(0,W.UZ)([(e,r,n,i)=>"chainId"===e.method?(r.result=t,i()):n(),(t,r,n,i)=>"provider_config"===t.method?(r.result=e,i()):n(),n]),fetchMiddleware:n}}(t),n=new W.eI;n.push(r);let i=(0,W.Xj)(n);this.updateProviderEngineProxy(i),this.emit("chainChanged",e),this.emit("connect",{chainId:e}),this.update({chainId:e})}async switchChain(e){if(!this._providerEngineProxy)throw V.g.custom({message:"Provider is not initialized",code:4902});let t=e.chainId;this.chainId!==t&&(this.update({chainId:"loading"}),await this.setupProvider(t))}getProviderEngineProxy(){return this._providerEngineProxy}lookupNetwork(){throw Error("Method not implemented.")}}(0,l.Z)(Y,"getProviderInstance",async e=>{let t=new Y({config:{chain:e.chain,chains:e.chains}}),{chainId:r}=e.chain;return await t.setupProvider(r),t});var J=r(61984),X=r(82957).Buffer;let Q=new J.ec("secp256k1"),ee=globalThis.crypto||globalThis.msCrypto||{},et=ee.subtle||ee.webkitSubtle,er=X.from("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141","hex"),en=X.alloc(32,0);function ei(e,t){if(!e)throw Error(t||"Assertion failed")}function eo(e){return!!X.isBuffer(e)&&32===e.length&&e.compare(en)>0&&0>e.compare(er)}function ea(e){if(void 0===ee.getRandomValues)return X.from(ee.randomBytes(e));let t=new Uint8Array(e);return ee.getRandomValues(t),X.from(t)}async function es(e){return new Uint8Array(ee.createHash?ee.createHash("sha512").update(e).digest():await et.digest("SHA-512",e))}function ec(e){return async function(t,r,n){if(et&&et[e]&&et.importKey){let i=await et.importKey("raw",r,{name:"AES-CBC"},!1,[e]),o=await et[e]({name:"AES-CBC",iv:t},i,n);return X.from(new Uint8Array(o))}if("encrypt"===e&&ee.createCipheriv){let e=ee.createCipheriv("aes-256-cbc",r,t),i=e.update(n),o=e.final();return X.concat([i,o])}if("decrypt"===e&&ee.createDecipheriv){let e=ee.createDecipheriv("aes-256-cbc",r,t),i=e.update(n),o=e.final();return X.concat([i,o])}throw Error(`Unsupported operation: ${e}`)}}let el=ec("encrypt"),eu=ec("decrypt");async function ed(e,t){if(!ee.createHmac){let r=await et.importKey("raw",new Uint8Array(e),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]),n=await et.sign("HMAC",r,t);return X.from(new Uint8Array(n))}let r=ee.createHmac("sha256",X.from(e));return r.update(t),r.digest()}async function ef(e,t,r){return function(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return 0===r}(await ed(e,t),r)}let eh=function(){let e=ea(32);for(;!eo(e);)e=ea(32);return e},ep=function(e){return ey(e),X.from(Q.keyFromPrivate(e).getPublic("array"))},eg=async function(e,t){return ey(e),ei(t.length>0,"Message should not be empty"),ei(t.length<=32,"Message is too long"),X.from(Q.sign(t,e,{canonical:!0}).toDER())},em=function(e){ei(65===e.length||33===e.length,"Bad public key: expected 65 or 33 bytes, got "+e.length),65===e.length&&ei(4===e[0],"Bad public key: expected first byte 4, got "+e[0]),33===e.length&&ei(2===e[0]||3===e[0],"Bad public key: expected first byte 2 or 3, got "+e[0])},ey=function(e){ei(X.isBuffer(e),"Bad private key: expected Buffer"),ei(32===e.length,"Bad private key: expected 32 bytes, got "+e.length),ei(eo(e),"Bad private key: out of range")},eb=async function(e,t,r){ey(e),em(t);let n=Q.keyFromPrivate(e),i=Q.keyFromPublic(t),o=n.derive(i.getPublic());return r?X.from(o.toString(16,64),"hex"):X.from(o.toArray())},ew=async function(e,t,r){let n=(r=r||{}).ephemPrivateKey||ea(32);for(;!eo(n);)n=r.ephemPrivateKey||ea(32);let i=ep(n),o=await eb(n,e,r.padding),a=await es(o),s=r.iv||ea(16),c=a.slice(0,32),l=a.slice(32),u=await el(s,X.from(c),t),d=X.concat([s,i,u]);return{iv:s,ephemPublicKey:i,ciphertext:u,mac:await ed(X.from(l),d)}},ev=async function(e,t,r){let n=await eb(e,t.ephemPublicKey,r),i=await es(n),o=i.slice(0,32),a=i.slice(32),s=X.concat([t.iv,t.ephemPublicKey,t.ciphertext]),c=await ef(X.from(a),s,t.mac);if(!c&&!r)return ev(e,t,!0);if(!c&&!0===r)throw Error("bad MAC after trying padded");let l=await eu(t.iv,X.from(o),t.ciphertext);return X.from(new Uint8Array(l))};var eE=r(70091),ex=r(85531),eA=r(82957).Buffer;function eS(e){return eA.from((0,ex.wn)(e))}let e_=new J.ec("secp256k1");var eI=r(82957).Buffer;async function eC(e,t){var r;let n=JSON.stringify(t),i=eI.from(n,"utf-8");return JSON.stringify((r=await ew(ep(eI.from(e,"hex")),i),{iv:eI.from(r.iv).toString("hex"),ephemPublicKey:eI.from(r.ephemPublicKey).toString("hex"),ciphertext:eI.from(r.ciphertext).toString("hex"),mac:eI.from(r.mac).toString("hex")}))}async function eO(e,t){var r;let n=(r=JSON.parse(t),{iv:eI.from(r.iv,"hex"),ephemPublicKey:eI.from(r.ephemPublicKey,"hex"),ciphertext:eI.from(r.ciphertext,"hex"),mac:eI.from(r.mac,"hex")}),i=e_.keyFromPrivate(e);return JSON.parse((await ev(eI.from(i.getPrivate().toString("hex",64),"hex"),n)).toString("utf-8"))}var eP=r(68680),eT=r(86005),ek=r.n(eT),eN=ek().getLogger("SecurePubSub"),eM=r(82957).Buffer;class eR{constructor(e={}){(0,l.Z)(this,"options",void 0),(0,l.Z)(this,"SOCKET_CONN",null),this.options=e,this.options.timeout=e.timeout||600,this.options.serverUrl=e.serverUrl||"https://api.web3auth.io/session-service",this.options.socketUrl=e.socketUrl||"https://session.web3auth.io",this.options.enableLogging=e.enableLogging||!1,this.options.namespace=e.namespace||"",this.options.sameIpCheck=e.sameIpCheck||!1,this.options.allowedOrigin=e.allowedOrigin||"*",this.options.enableLogging?eN.enableAll():eN.disableAll()}static setLogLevel(e){eN.setLevel(e),(0,eE.Ub)(e)}async publish(e,t){if(!this.isValidTopic(e))throw eN.error("Invalid topic"),Error("Invalid topic");let r=eS(eM.from(e,"utf8")),n=await eC(r.toString("hex"),t),i=await eg(r,eS(eM.from(n,"utf8"))),o={key:ep(r).toString("hex"),data:n,signature:i.toString("hex"),timeout:this.options.timeout,namespace:this.options.namespace,sameIpCheck:this.options.sameIpCheck,allowedOrigin:this.options.allowedOrigin};return(0,eE.v_)(`${this.options.serverUrl}/v2/channel/set`,o)}async subscribe(e){let t=!0,r=eS(eM.from(e,"utf8")),n=ep(r).toString("hex"),i=this.getSocketConnection();i.connected?(eN.debug("already connected with socket"),i.emit("v2:check_auth_status",n,{namespace:this.options.namespace,sameIpCheck:this.options.sameIpCheck,allowedOrigin:this.options.allowedOrigin})):i.once("connect",()=>{eN.debug("connected with socket"),i.emit("v2:check_auth_status",n,{namespace:this.options.namespace,sameIpCheck:this.options.sameIpCheck,allowedOrigin:this.options.allowedOrigin})});let o=()=>{i.once("connect",async()=>{eN.debug("connected with socket using reconnect"),t&&i.emit("v2:check_auth_status",n,{namespace:this.options.namespace,sameIpCheck:this.options.sameIpCheck,allowedOrigin:this.options.allowedOrigin})})},a=()=>{t||document.removeEventListener("visibilitychange",a),i.connected||"visible"!==document.visibilityState||o()},s=()=>{eN.debug("socket disconnected",t),t?(eN.error("socket disconnected unexpectedly, reconnecting socket"),o()):i.removeListener("disconnect",s)};i.on("disconnect",s);let c=new Promise((e,o)=>{let s=async n=>{try{let t=await eO(r.toString("hex"),n);eN.info("got data",t),e(t)}catch(e){eN.error(e),o(e)}finally{t=!1,"undefined"!=typeof document&&document.removeEventListener("visibilitychange",a)}};eN.info("listening to",`${n}_success`),i.once(`${n}_success`,s)});return"undefined"!=typeof document&&document.addEventListener("visibilitychange",a),c}cleanup(){this.SOCKET_CONN&&(this.SOCKET_CONN.disconnect(),this.SOCKET_CONN=null)}getSocketConnection(){if(this.SOCKET_CONN)return this.SOCKET_CONN;let e=(0,eP.io)(this.options.socketUrl,{transports:["websocket","polling"],withCredentials:!0,reconnectionDelayMax:1e4,reconnectionAttempts:10});return e.on("connect_error",t=>{e.io.opts.transports=["polling","websocket"],eN.error("connect error",t)}),e.on("connect",async()=>{let{engine:t}=e.io;eN.debug("initially connected to",t.transport.name),t.once("upgrade",()=>{eN.debug("upgraded",t.transport.name)}),t.once("close",e=>{eN.debug("connection closed",e)})}),e.on("error",t=>{eN.error("socket errored",t),e.disconnect()}),this.SOCKET_CONN=e,this.SOCKET_CONN}isValidTopic(e){return e&&e.length>0}}var eD=r(53727);let eL=e=>e.padStart(64,"0").slice(0,64);class eB{constructor(){(0,l.Z)(this,"sessionId",void 0)}checkSessionParams(){if(!this.sessionId)throw Error("Session id is required");this.sessionId=eL(this.sessionId)}request({method:e="GET",url:t,data:r={},headers:n={}}){let i={headers:n};switch(e){case"GET":return(0,eE.U2)(t,i);case"POST":return(0,eE.v_)(t,r,i);case"PUT":return(0,eE.gz)(t,r,i);case"PATCH":return(0,eE.r$)(t,r,i)}throw Error("Invalid method type")}}var eU=r(82957).Buffer;class ej extends eB{constructor({sessionServerBaseUrl:e,sessionNamespace:t,sessionTime:r,sessionId:n,allowedOrigin:i}={}){super(),(0,l.Z)(this,"sessionServerBaseUrl","https://api.web3auth.io/session-service"),(0,l.Z)(this,"sessionNamespace",void 0),(0,l.Z)(this,"allowedOrigin",void 0),(0,l.Z)(this,"sessionTime",86400),(0,l.Z)(this,"sessionId",""),e&&(this.sessionServerBaseUrl=e),t&&(this.sessionNamespace=t),r&&(this.sessionTime=r),n&&(this.sessionId=eL(n)),i?this.allowedOrigin=i:this.allowedOrigin="*"}static generateRandomSessionKey(){return eL(eh().toString("hex"))}async createSession(e,t={}){super.checkSessionParams();let r=eU.from(this.sessionId,"hex"),n=ep(r).toString("hex"),i=await eC(this.sessionId,e),o=(await eg(r,eS(eU.from(i,"utf8")))).toString("hex"),a={key:n,data:i,signature:o,namespace:this.sessionNamespace,timeout:this.sessionTime,allowedOrigin:this.allowedOrigin};return await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/v2/store/set`,data:a,headers:t}),this.sessionId}async authorizeSession({headers:e}={headers:{}}){super.checkSessionParams();let t={key:ep(eU.from(this.sessionId,"hex")).toString("hex"),namespace:this.sessionNamespace},r=await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/v2/store/get`,data:t,headers:e});if(!r.message)throw Error("Session Expired or Invalid public key");let n=await eO(this.sessionId,r.message);if(n.error)throw Error("There was an error decrypting data.");return n}async updateSession(e,t={}){super.checkSessionParams();let r=eU.from(this.sessionId,"hex"),n=ep(r).toString("hex"),i=await eC(this.sessionId,e),o=(await eg(r,eS(eU.from(i,"utf8")))).toString("hex"),a={key:n,data:i,signature:o,namespace:this.sessionNamespace,allowedOrigin:this.allowedOrigin};await super.request({method:"PUT",url:`${this.sessionServerBaseUrl}/v2/store/update`,data:a,headers:t})}async invalidateSession(e={}){super.checkSessionParams();let t=eU.from(this.sessionId,"hex"),r=ep(t).toString("hex"),n=await eC(this.sessionId,{}),i=(await eg(t,eS(eU.from(n,"utf8")))).toString("hex"),o={key:r,data:n,signature:i,namespace:this.sessionNamespace,timeout:1};return await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/v2/store/set`,data:o,headers:e}),this.sessionId="",!0}}var e$=r(39264),eF=r(18957);let ez={light:"light",dark:"dark"},eq={DEVICE:"deviceShareFactor",BACKUP_SHARE:"backUpShareFactor",SOCIAL_BACKUP:"socialBackupFactor",PASSWORD:"passwordFactor",PASSKEYS:"passkeysFactor",AUTHENTICATOR:"authenticatorFactor"},eG=new Map;class eH{constructor({sdkUrl:e,whiteLabel:t}){(0,l.Z)(this,"sdkUrl",void 0),(0,l.Z)(this,"whiteLabel",void 0),(0,l.Z)(this,"initialized",!1),(0,l.Z)(this,"loginCallbackSuccess",null),(0,l.Z)(this,"loginCallbackFailed",null),(0,l.Z)(this,"embedNonce",A()),this.sdkUrl=e,this.whiteLabel=t}get targetOrigin(){return new URL(this.sdkUrl).origin}getAuthServiceIframe(){return eG.get(this.embedNonce)}registerAuthServiceIframe(e){eG.set(this.embedNonce,e)}cleanup(){let e=eG.get(this.embedNonce);e&&e.parentNode&&(e.parentNode.removeChild(e),eG.delete(this.embedNonce))}async init({network:e,clientId:t}){var r;if("undefined"==typeof window||"undefined"==typeof document)throw Error("window or document is not available");if(this.initialized)throw Error("AuthProvider already initialized");let n=new URL(this.sdkUrl);n.pathname.endsWith("/")?n.pathname+="frame":n.pathname+="/frame";let i=new URLSearchParams;i.append("origin",window.location.origin),i.append("nonce",this.embedNonce),n.hash=i.toString();let o=(r=this.whiteLabel.mode||ez.light)===ez.light?"light":r===ez.dark?"dark":window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",a=(0,m.Bv)(`<iframe
        id="${eF.qn}-${this.embedNonce}"
        class="${eF.qn}-${this.embedNonce}"
        sandbox="allow-popups allow-scripts allow-same-origin allow-forms allow-modals allow-downloads"
        src="${n.href}"
        style="display: none; position: fixed; top: 0; right: 0; width: 100%; z-index: 10000000;
        height: 100%; border: none; border-radius: 0; color-scheme: ${o};"
        allow="clipboard-write"
      ></iframe>`);return this.registerAuthServiceIframe(a),new Promise((r,n)=>{try{window.document.body.appendChild(a),window.addEventListener("message",n=>{var i,o,a;if(n.origin!==this.targetOrigin)return;let{data:s}=n,{type:c,nonce:l}=s;if(l!==this.embedNonce)return;let u=s.data;switch(c){case eF.kJ.SETUP_COMPLETE:null===(i=this.getAuthServiceIframe())||void 0===i||null===(i=i.contentWindow)||void 0===i||i.postMessage({type:eF.kJ.INIT_DAPP,data:{network:e,clientId:t}},this.targetOrigin),this.initialized=!0,r();break;case eF.kJ.LOGIN_FAILED:null===(o=this.loginCallbackFailed)||void 0===o||o.call(this,(null==u?void 0:u.error)||"Login failed, reason: unknown");break;case eF.kJ.DISPLAY_IFRAME:this.getAuthServiceIframe().style.display="block";break;case eF.kJ.HIDE_IFRAME:this.getAuthServiceIframe().style.display="none";break;case eF.kJ.LOGIN_SUCCESS:e$.c.info("LOGIN_SUCCESS",u),this.getAuthServiceIframe().style.display="none",null!=u&&u.sessionId&&(null===(a=this.loginCallbackSuccess)||void 0===a||a.call(this,u));break;default:e$.c.warn(`Unknown message type: ${c}`)}})}catch(e){n(e)}})}postLoginInitiatedMessage(e,t){var r;if(!this.initialized)throw Error("Iframe not initialized");return null===(r=this.getAuthServiceIframe().contentWindow)||void 0===r||r.postMessage({type:eF.kJ.LOGIN_INITIATED,data:{loginConfig:e,nonce:t}},this.targetOrigin),new Promise((e,t)=>{this.loginCallbackSuccess=e,this.loginCallbackFailed=t})}postLoginCancelledMessage(e){var t;if(!this.initialized)throw Error("Iframe not initialized");null===(t=this.getAuthServiceIframe().contentWindow)||void 0===t||t.postMessage({type:eF.kJ.LOGIN_CANCELLED,data:{nonce:e}},this.targetOrigin)}}var eV=r(15400);class eW extends eV.s{constructor(e,t){super(t),(0,l.Z)(this,"code",void 0),(0,l.Z)(this,"message",void 0),this.code=e,this.message=t||"",Object.defineProperty(this,"name",{value:"AuthError"})}toJSON(){return{name:this.name,code:this.code,message:this.message}}toString(){return JSON.stringify(this.toJSON())}}class eZ extends eW{constructor(e,t){super(e,t),Object.defineProperty(this,"name",{value:"InitializationError"})}static fromCode(e,t=""){return new eZ(e,`${eZ.messages[e]}, ${t}`)}static invalidParams(e=""){return eZ.fromCode(5001,e)}static notInitialized(e=""){return eZ.fromCode(5002,e)}}(0,l.Z)(eZ,"messages",{5e3:"Custom",5001:"Invalid constructor params",5002:"SDK not initialized. please call init first"});class eK extends eW{constructor(e,t){super(e,t),Object.defineProperty(this,"name",{value:"LoginError"})}static fromCode(e,t=""){return new eK(e,`${eK.messages[e]}, ${t}`)}static invalidLoginParams(e=""){return eK.fromCode(5111,e)}static userNotLoggedIn(e=""){return eK.fromCode(5112,e)}static popupClosed(e=""){return eK.fromCode(5113,e)}static loginFailed(e=""){return eK.fromCode(5114,e)}static popupBlocked(e=""){return eK.fromCode(5115,e)}static mfaAlreadyEnabled(e=""){return eK.fromCode(5116,e)}static mfaNotEnabled(e=""){return eK.fromCode(5117,e)}}(0,l.Z)(eK,"messages",{5e3:"Custom",5111:"Invalid login params",5112:"User not logged in.",5113:"login popup has been closed by the user",5114:"Login failed",5115:"Popup was blocked. Please call this function as soon as user clicks button or use redirect mode",5116:"MFA already enabled",5117:"MFA not yet enabled. Please call `enableMFA` first"});var eY=r(55445);class eJ extends eY.EventEmitter{constructor({url:e,target:t,features:r,timeout:n=3e4,sessionSocketUrl:i,sessionServerUrl:o}){super(),(0,l.Z)(this,"url",void 0),(0,l.Z)(this,"target",void 0),(0,l.Z)(this,"features",void 0),(0,l.Z)(this,"window",void 0),(0,l.Z)(this,"windowTimer",void 0),(0,l.Z)(this,"iClosedWindow",void 0),(0,l.Z)(this,"timeout",void 0),(0,l.Z)(this,"sessionSocketUrl",void 0),(0,l.Z)(this,"sessionServerUrl",void 0),this.url=e,this.target=t||"_blank",this.features=r||O(),this.window=void 0,this.windowTimer=void 0,this.iClosedWindow=!1,this.timeout=n,this.sessionServerUrl=o||eD.Yg,this.sessionSocketUrl=i||eD.qo,this._setupTimer()}_setupTimer(){this.windowTimer=Number(setInterval(()=>{this.window&&this.window.closed&&(clearInterval(this.windowTimer),setTimeout(()=>{this.iClosedWindow||this.emit("close"),this.iClosedWindow=!1,this.window=void 0},this.timeout)),void 0===this.window&&clearInterval(this.windowTimer)},500))}open(){var e;if(this.window=window.open(this.url,this.target,this.features),!this.window)throw eK.popupBlocked();null!==(e=this.window)&&void 0!==e&&e.focus&&this.window.focus()}close(){this.iClosedWindow=!0,this.window&&this.window.close()}redirect(e){e?window.location.replace(this.url):window.location.href=this.url}async listenOnChannel(e){let t=new eR({serverUrl:this.sessionServerUrl,socketUrl:this.sessionSocketUrl,sameIpCheck:!0,allowedOrigin:!0}),r=await t.subscribe(e);this.close(),t.cleanup();let n=JSON.parse(r);return n.error?{error:n.error,state:n.state}:n.data}}let eX="10.8.0";class eQ{constructor(e){if((0,l.Z)(this,"state",{}),(0,l.Z)(this,"options",void 0),(0,l.Z)(this,"sessionManager",void 0),(0,l.Z)(this,"currentStorage",void 0),(0,l.Z)(this,"_storageBaseKey","auth_store"),(0,l.Z)(this,"dappState",void 0),(0,l.Z)(this,"addVersionInUrls",!0),(0,l.Z)(this,"authProvider",void 0),(0,l.Z)(this,"authProviderPromise",void 0),!e.clientId)throw eZ.invalidParams("clientId is required");e.network||(e.network=eF.K2.SAPPHIRE_MAINNET),e.buildEnv||(e.buildEnv=eF.Re.PRODUCTION),e.sdkMode||(e.sdkMode=eF.eh.DEFAULT),(e.buildEnv===eF.Re.DEVELOPMENT||e.buildEnv===eF.Re.TESTING||e.sdkUrl)&&(this.addVersionInUrls=!1),e.sdkUrl||e.useMpc||(e.buildEnv===eF.Re.DEVELOPMENT?(e.sdkUrl=eF.JJ,e.dashboardUrl=eF.dR):e.buildEnv===eF.Re.STAGING?(e.sdkUrl=eF.Is,e.dashboardUrl=eF.f$):e.buildEnv===eF.Re.TESTING?(e.sdkUrl=eF.WK,e.dashboardUrl=eF.q3):(e.sdkUrl=eF.DT,e.dashboardUrl=eF.E6)),e.redirectUrl||"undefined"==typeof window||(e.redirectUrl=`${window.location.protocol}//${window.location.host}${window.location.pathname}`),e.uxMode||(e.uxMode=g.$e.REDIRECT),"boolean"!=typeof e.replaceUrlOnRedirect&&(e.replaceUrlOnRedirect=!0),"boolean"!=typeof e.includeUserDataInToken&&(e.includeUserDataInToken=!0),e.originData||(e.originData={}),e.whiteLabel||(e.whiteLabel={}),e.authConnectionConfig||(e.authConnectionConfig=[]),e.mfaSettings||(e.mfaSettings={}),e.storageServerUrl||(e.storageServerUrl=eD.Yg),e.sessionSocketUrl||(e.sessionSocketUrl=eD.qo),e.storage||(e.storage="local"),e.sessionTime||(e.sessionTime=86400),this.options=e}get privKey(){return this.options.useMpc?this.state.factorKey||"":this.state.privKey?this.state.privKey.padStart(64,"0"):""}get coreKitKey(){return this.state.coreKitKey?this.state.coreKitKey.padStart(64,"0"):""}get ed25519PrivKey(){return this.state.ed25519PrivKey?this.state.ed25519PrivKey.padStart(128,"0"):""}get coreKitEd25519Key(){return this.state.coreKitEd25519PrivKey?this.state.coreKitEd25519PrivKey.padStart(128,"0"):""}get sessionId(){return this.state.sessionId||""}get sessionNamespace(){return this.options.sessionNamespace||""}get appState(){return this.state.userInfo.appState||this.dappState||""}get baseUrl(){return this.addVersionInUrls?`${this.options.sdkUrl}/v${eX.split(".")[0]}`:`${this.options.sdkUrl}`}get dashboardUrl(){return this.addVersionInUrls?`${this.options.dashboardUrl}/v${eX.split(".")[0]}`:`${this.options.dashboardUrl}`}async init(){let e=function(e=!1){let t={},r=new URLSearchParams(window.location.search.slice(1));r.forEach((e,r)=>{"b64Params"!==r&&(t[r]=e)});let n=r.get("b64Params");if(n)try{let e=JSON.parse((0,m.sX)(n));Object.keys(e).forEach(r=>{t[r]=e[r]})}catch(e){e$.c.error(e)}let i=new URLSearchParams(window.location.hash.substring(1));i.forEach((e,r)=>{"b64Params"!==r&&(t[r]=e)});let o=i.get("b64Params");if(o)try{let e=JSON.parse((0,m.sX)(o));Object.keys(e).forEach(r=>{t[r]=e[r]})}catch(e){e$.c.error(e)}if(e){let e=new URL(window.location.origin+window.location.pathname);0!==r.size&&(r.delete("error"),r.delete("state"),r.delete("b64Params"),r.delete("sessionNamespace"),e.search=r.toString()),0!==i.size&&(i.delete("error"),i.delete("state"),i.delete("b64Params"),i.delete("sessionNamespace"),e.hash=i.toString()),window.history.replaceState((0,c.Z)((0,c.Z)({},window.history.state),{},{as:e.href,url:e.href}),"",e.href)}return t}(this.options.replaceUrlOnRedirect);e.sessionNamespace&&(this.options.sessionNamespace=e.sessionNamespace);let t=this.options.sessionKey||(this.options.sessionNamespace?`${this._storageBaseKey}_${this.options.sessionNamespace}`:this._storageBaseKey);this.currentStorage=D.getInstance(t,this.options.storage);let r=this.currentStorage.get("sessionId");if(this.sessionManager=new ej({sessionServerBaseUrl:this.options.storageServerUrl,sessionNamespace:this.options.sessionNamespace,sessionTime:this.options.sessionTime,sessionId:r,allowedOrigin:this.options.sdkUrl}),(this.options.network===eF.K2.TESTNET||this.options.network===eF.K2.SAPPHIRE_DEVNET)&&console.log(`%c WARNING! You are on ${this.options.network}. Please set network: 'mainnet' or 'sapphire_mainnet' in production`,"color: #FF0000"),this.options.buildEnv!==eF.Re.PRODUCTION&&console.log(`%c WARNING! You are using build env ${this.options.buildEnv}. Please set buildEnv: 'production' in production`,"color: #FF0000"),e.error)throw this.dappState=e.state,eK.loginFailed(e.error);if(e.sessionId&&(this.currentStorage.set("sessionId",e.sessionId),this.sessionManager.sessionId=e.sessionId),this.sessionManager.sessionId){let e=await this._authorizeSession();this.updateState(e),0===Object.keys(e).length?this.currentStorage.set("sessionId",""):this.updateState({sessionId:this.sessionManager.sessionId})}this.options.sdkMode===eF.eh.IFRAME&&(this.authProvider=new eH({sdkUrl:this.baseUrl,whiteLabel:this.options.whiteLabel}),!this.state.sessionId&&(this.authProviderPromise=this.authProvider.init({network:this.options.network,clientId:this.options.clientId}),e.nonce&&(await this.authProviderPromise,await this.postLoginInitiatedMessage(JSON.parse(e.loginParams),e.nonce))))}async login(e){if(!e.authConnection&&(!e.authConnectionId||!e.groupedAuthConnectionId))throw eK.invalidLoginParams("AuthConnection is required");let t=(0,c.Z)({},e),r={actionType:eF.Oe.LOGIN,options:this.options,params:t},n=await this.authHandler(`${this.baseUrl}/start`,r,N(e.authConnection));if(this.options.uxMode===g.$e.REDIRECT)return null;if(n.error)throw this.dappState=n.state,eK.loginFailed(n.error);return this.sessionManager.sessionId=n.sessionId,this.options.sessionNamespace=n.sessionNamespace,this.currentStorage.set("sessionId",n.sessionId),await this.rehydrateSession(),{privKey:this.privKey}}async postLoginInitiatedMessage(e,t){var r;if(this.options.sdkMode!==eF.eh.IFRAME)throw eK.invalidLoginParams("Cannot perform this action in default mode.");this.authProviderPromise&&await this.authProviderPromise,null!==(r=this.authProvider)&&void 0!==r&&r.initialized||await this.authProvider.init({network:this.options.network,clientId:this.options.clientId});let n=await this.authProvider.postLoginInitiatedMessage({actionType:eF.Oe.LOGIN,params:e,options:this.options},t);if(n.error)throw eK.loginFailed(n.error);this.sessionManager.sessionId=n.sessionId,this.options.sessionNamespace=n.sessionNamespace,this.currentStorage.set("sessionId",n.sessionId),await this.rehydrateSession()}async postLoginCancelledMessage(e){var t;if(this.options.sdkMode!==eF.eh.IFRAME)throw eK.invalidLoginParams("Cannot perform this action in default mode.");if(this.authProviderPromise&&await this.authProviderPromise,!(null!==(t=this.authProvider)&&void 0!==t&&t.initialized))throw eZ.notInitialized();this.authProvider.postLoginCancelledMessage(e)}async logout(){if(!this.sessionManager.sessionId)throw eK.userNotLoggedIn();await this.sessionManager.invalidateSession(),this.updateState({privKey:"",coreKitKey:"",coreKitEd25519PrivKey:"",ed25519PrivKey:"",walletKey:"",oAuthPrivateKey:"",tKey:"",metadataNonce:"",keyMode:void 0,userInfo:{name:"",profileImage:"",dappShare:"",idToken:"",oAuthIdToken:"",oAuthAccessToken:"",appState:"",email:"",authConnectionId:"",userId:"",groupedAuthConnectionId:"",authConnection:"",isMfaEnabled:!1},authToken:"",sessionId:"",factorKey:"",signatures:[],tssShareIndex:-1,tssPubKey:"",tssShare:"",tssNonce:-1}),this.currentStorage.set("sessionId","")}async enableMFA(e){var t;if(!this.sessionId)throw eK.userNotLoggedIn();if(this.state.userInfo.isMfaEnabled)throw eK.mfaAlreadyEnabled();let r={actionType:eF.Oe.ENABLE_MFA,options:(0,c.Z)((0,c.Z)({},this.options),{},{sdkMode:eF.eh.DEFAULT}),params:(0,c.Z)((0,c.Z)({},e),{},{authConnection:this.state.userInfo.authConnection,authConnectionId:this.state.userInfo.authConnectionId,groupedAuthConnectionId:this.state.userInfo.groupedAuthConnectionId,extraLoginOptions:{login_hint:this.state.userInfo.userId},mfaLevel:"mandatory"}),sessionId:this.sessionId},n=await this.authHandler(`${this.baseUrl}/start`,r,eF.UP);if(this.options.uxMode===g.$e.REDIRECT)return null;if(n.error)throw this.dappState=n.state,eK.loginFailed(n.error);return this.sessionManager.sessionId=n.sessionId,this.options.sessionNamespace=n.sessionNamespace,this.currentStorage.set("sessionId",n.sessionId),await this.rehydrateSession(),!!(null===(t=this.state.userInfo)||void 0===t?void 0:t.isMfaEnabled)}async manageMFA(e){if(!this.sessionId)throw eK.userNotLoggedIn();if(!this.state.userInfo.isMfaEnabled)throw eK.mfaNotEnabled();let t={dappUrl:`${window.location.origin}${window.location.pathname}`},r=ej.generateRandomSessionKey(),n={actionType:eF.Oe.MANAGE_MFA,options:(0,c.Z)((0,c.Z)({},this.options),{},{uxMode:g.$e.REDIRECT,sdkMode:eF.eh.DEFAULT,redirectUrl:`${this.dashboardUrl}/wallet/account`}),params:(0,c.Z)((0,c.Z)((0,c.Z)({},t),e),{},{authConnection:this.state.userInfo.authConnection,authConnectionId:this.state.userInfo.authConnectionId,groupedAuthConnectionId:this.state.userInfo.groupedAuthConnectionId,extraLoginOptions:{login_hint:this.state.userInfo.userId},appState:(0,m.zc)({loginId:r})}),sessionId:this.sessionId};this.createLoginSession(r,n,n.options.sessionTime,!0);let i={loginId:r,sessionNamespace:this.options.sessionNamespace,storageServerUrl:this.options.storageServerUrl},o=P({baseURL:`${this.baseUrl}/start`,hash:{b64Params:(0,m.zc)(i)}});window.open(o,"_blank")}async manageSocialFactor(e,t){if(!this.sessionId)throw eK.userNotLoggedIn();let r={actionType:e,options:(0,c.Z)((0,c.Z)({},this.options),{},{sdkMode:eF.eh.DEFAULT}),params:(0,c.Z)({},t),sessionId:this.sessionId},n=await this.authHandler(`${this.baseUrl}/start`,r);if(this.options.uxMode!==g.$e.REDIRECT)return!n.error}async addAuthenticatorFactor(e){if(!this.sessionId)throw eK.userNotLoggedIn();let t={actionType:eF.Oe.ADD_AUTHENTICATOR_FACTOR,options:(0,c.Z)((0,c.Z)({},this.options),{},{sdkMode:eF.eh.DEFAULT}),params:(0,c.Z)((0,c.Z)({},e),{},{authConnection:g.Ck.AUTHENTICATOR}),sessionId:this.sessionId},r=await this.authHandler(`${this.baseUrl}/start`,t);if(this.options.uxMode!==g.$e.REDIRECT)return!r.error}async addPasskeyFactor(e){if(!this.sessionId)throw eK.userNotLoggedIn();let t={actionType:eF.Oe.ADD_PASSKEY_FACTOR,options:(0,c.Z)((0,c.Z)({},this.options),{},{sdkMode:eF.eh.DEFAULT}),params:(0,c.Z)((0,c.Z)({},e),{},{authConnection:g.Ck.PASSKEYS}),sessionId:this.sessionId},r=await this.authHandler(`${this.baseUrl}/start`,t);if(this.options.uxMode!==g.$e.REDIRECT)return!r.error}async cleanup(){this.authProvider&&this.authProvider.cleanup()}getUserInfo(){if(!this.sessionManager.sessionId)throw eK.userNotLoggedIn();return this.state.userInfo}async createLoginSession(e,t,r=600,n=!1){if(!this.sessionManager)throw eZ.notInitialized();let i=new ej({sessionServerBaseUrl:t.options.storageServerUrl,sessionNamespace:t.options.sessionNamespace,sessionTime:r,sessionId:e,allowedOrigin:this.options.sdkUrl}).createSession(JSON.parse(JSON.stringify(t)));t.options.uxMode!==g.$e.REDIRECT||n||await i}async _authorizeSession(){try{if(!this.sessionManager.sessionId)return{};return await this.sessionManager.authorizeSession()}catch(e){return e$.c.error("authorization failed",e),{}}}updateState(e){this.state=(0,c.Z)((0,c.Z)({},this.state),e)}async rehydrateSession(){let e=await this._authorizeSession();this.updateState(e)}async authHandler(e,t,r=1e4){let n=ej.generateRandomSessionKey();await this.createLoginSession(n,t);let i={loginId:n,sessionNamespace:this.options.sessionNamespace,storageServerUrl:this.options.storageServerUrl};if(this.options.uxMode===g.$e.REDIRECT){let t=P({baseURL:e,hash:{b64Params:(0,m.zc)(i)}});window.location.href=t;return}let o=new eJ({url:P({baseURL:e,hash:{b64Params:(0,m.zc)(i)}}),timeout:r,sessionServerUrl:this.options.storageServerUrl,sessionSocketUrl:this.options.sessionSocketUrl});return new Promise((e,t)=>{o.on("close",()=>{t(eK.popupClosed())}),o.listenOnChannel(n).then(e).catch(t);try{o.open()}catch(e){t(e)}})}}let e0=ek().getLogger("http-helpers");e0.setLevel(eT.levels.INFO);let e1="torus-default";async function e2(e,t){try{new URL(e)}catch{}return fetch(e,t)}function e3(){let e={};return e1&&(e["x-api-key"]=e1),e}function e6(e){e0.info(`Response: ${e.status} ${e.statusText}`),e0.info(`Url: ${e.url}`)}let e5=async(e,t)=>{let r=null;try{let n=new Promise((t,n)=>{r=setTimeout(()=>{n(Error(`Timed out in ${e}ms`))},e)}),i=await Promise.race([t,n]);return null!=r&&clearTimeout(r),i}catch(e){throw null!=r&&clearTimeout(r),e}},e8=async(e,t={},r={})=>{let n={mode:"cors",headers:{}};r.useAPIKey&&(n.headers=(0,c.Z)((0,c.Z)({},n.headers),e3())),t.method="GET";let i=B()(n,t),o=await e2(e,i);if(o.ok){let e=o.headers.get("content-type");return null!=e&&e.includes("application/json")?o.json():o.text()}throw e6(o),o},e4=(e,t={},r={},n={})=>{let i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};n.useAPIKey&&(i.headers=(0,c.Z)((0,c.Z)({},i.headers),e3())),r.method="POST";let o=B()(i,r);return n.isUrlEncodedData?(o.body=t,"application/json; charset=utf-8"===o.headers["Content-Type"]&&delete o.headers["Content-Type"]):o.body=JSON.stringify(t),e5(n.timeout||6e4,e2(e,o).then(e=>{if(n.logTracingHeader&&function(e){let t=e.headers.get("x-web3-correlation-id");t&&e0.info(`Request tracing with traceID = ${t}`)}(e),e.ok){let t=e.headers.get("content-type");return null!=t&&t.includes("application/json")?e.json():e.text()}throw e6(e),e}))},e9=async(e,t={},r={},n={})=>{let i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};n.useAPIKey&&(i.headers=(0,c.Z)((0,c.Z)({},i.headers),e3())),r.method="PATCH";let o=B()(i,r);n.isUrlEncodedData?(o.body=t,"application/json; charset=utf-8"===o.headers["Content-Type"]&&delete o.headers["Content-Type"]):o.body=JSON.stringify(t);let a=await e2(e,o);if(a.ok){let e=a.headers.get("content-type");return null!=e&&e.includes("application/json")?a.json():a.text()}throw e6(a),a},e7=async(e,t={},r={},n={})=>{let i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};n.useAPIKey&&(i.headers=(0,c.Z)((0,c.Z)({},i.headers),e3())),r.method="PUT";let o=B()(i,r);n.isUrlEncodedData?(o.body=t,"application/json; charset=utf-8"===o.headers["Content-Type"]&&delete o.headers["Content-Type"]):o.body=JSON.stringify(t);let a=await e2(e,o);if(a.ok){let e=a.headers.get("content-type");return null!=e&&e.includes("application/json")?a.json():a.text()}throw e6(a),a};var te=ek().getLogger("customauth");class tt extends eY.EventEmitter{constructor({url:e,target:t,features:r,timeout:n=3e4}){super(),(0,l.Z)(this,"url",void 0),(0,l.Z)(this,"target",void 0),(0,l.Z)(this,"features",void 0),(0,l.Z)(this,"window",void 0),(0,l.Z)(this,"windowTimer",void 0),(0,l.Z)(this,"iClosedWindow",void 0),(0,l.Z)(this,"timeout",void 0),this.url=e,this.target=t||"_blank",this.features=r||O(),this.window=void 0,this.windowTimer=void 0,this.iClosedWindow=!1,this.timeout=n,this._setupTimer()}_setupTimer(){this.windowTimer=Number(setInterval(()=>{this.window&&this.window.closed&&(clearInterval(this.windowTimer),setTimeout(()=>{this.iClosedWindow||this.emit("close"),this.iClosedWindow=!1,this.window=void 0},this.timeout)),void 0===this.window&&clearInterval(this.windowTimer)},500))}open(){var e;if(this.window=window.open(this.url.href,this.target,this.features),!this.window)throw Error("popup window is blocked");return null!==(e=this.window)&&void 0!==e&&e.focus&&this.window.focus(),Promise.resolve()}close(){this.iClosedWindow=!0,this.window&&this.window.close()}redirect(e){e?window.location.replace(this.url.href):window.location.href=this.url.href}}let tr=["access_token","id_token"];class tn{constructor(e){(0,l.Z)(this,"nonce",A()),(0,l.Z)(this,"finalURL",void 0),(0,l.Z)(this,"params",void 0),this.params=e}get state(){return encodeURIComponent(b().encode(JSON.stringify((0,c.Z)((0,c.Z)({},this.params.customState||{}),{},{instanceId:this.nonce,authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId,redirectToOpener:this.params.redirectToOpener||!1}))))}async handleLoginWindow(e){let t=new tt({url:this.finalURL,features:e.popupFeatures,timeout:N(this.params.authConnection)});if(this.params.uxMode===g.$e.REDIRECT)t.redirect(e.locationReplaceOnRedirect);else{let{RedundantAdaptiveBroadcastChannel:e}=await r.e(8335).then(r.bind(r,28335));return new Promise((r,n)=>{let i;let o=async e=>{try{let{error:t,data:o}=e,a=o||{},{instanceParams:s,hashParams:{access_token:l,id_token:u}}=a,f=d(a.hashParams,tr);if(t){te.error(e),n(Error(`Error: ${t}. Info: ${JSON.stringify(e.data||{})}`));return}e.data&&s.authConnectionId===this.params.authConnectionId&&(te.info(e.data),!this.params.redirectToOpener&&i&&await i.postMessage({success:!0}),r((0,c.Z)((0,c.Z)({accessToken:l,idToken:u||""},f),{},{state:s})))}catch(e){te.error(e),n(e)}};if(this.params.redirectToOpener){let e=async r=>{if(!r.data)return;let n=r.data;n.channel===`redirect_channel_${this.nonce}`&&(window.removeEventListener("message",e),o(n),t.close())};window.addEventListener("message",e)}else(i=new e(`redirect_channel_${this.nonce}`,S)).addEventListener("message",async e=>{await o(e),i.close(),t.close()});try{t.open()}catch(e){te.error(e),n(e);return}t.once("close",()=>{i&&i.close(),n(Error("user closed popup"))})})}return null}}class ti extends tn{constructor(e){super(e),(0,l.Z)(this,"RESPONSE_TYPE","token"),(0,l.Z)(this,"SCOPE","identify email"),this.setFinalUrl()}setFinalUrl(){let e=new URL("https://discord.com/api/oauth2/authorize"),t=JSON.parse(JSON.stringify(this.params.jwtParams||{})),r=B()({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.params.clientId,redirect_uri:this.params.redirect_uri,scope:this.SCOPE},t);Object.keys(r).forEach(t=>{r[t]&&e.searchParams.append(t,r[t])}),this.finalURL=e}async getUserInfo(e){let{accessToken:t}=e,{id:r,avatar:n,email:i="",username:o="",discriminator:a=""}=await e8("https://discord.com/api/users/@me",{headers:{Authorization:`Bearer ${t}`}});return{profileImage:null===n?`https://cdn.discordapp.com/embed/avatars/${Number(a)%5}.png`:`https://cdn.discordapp.com/avatars/${r}/${n}.png?size=2048`,name:`${o}#${a}`,email:i,userId:r,authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}}class to extends tn{constructor(e){super(e),(0,l.Z)(this,"RESPONSE_TYPE","token"),(0,l.Z)(this,"SCOPE","public_profile email"),this.setFinalUrl()}setFinalUrl(){let e=new URL("https://www.facebook.com/v20.0/dialog/oauth"),t=JSON.parse(JSON.stringify(this.params.jwtParams||{})),r=B()({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.params.clientId,redirect_uri:this.params.redirect_uri,scope:this.SCOPE},t);Object.keys(r).forEach(t=>{r[t]&&e.searchParams.append(t,r[t])}),this.finalURL=e}async getUserInfo(e){let{accessToken:t}=e,{name:r="",id:n,picture:i,email:o=""}=await e8("https://graph.facebook.com/me?fields=name,email,picture.type(large)",{headers:{Authorization:`Bearer ${t}`}});return{email:o,name:r,profileImage:i.data.url||"",authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId,userId:n}}}class ta extends tn{constructor(e){super(e),(0,l.Z)(this,"RESPONSE_TYPE","token id_token"),(0,l.Z)(this,"SCOPE","profile email openid"),(0,l.Z)(this,"PROMPT","select_account"),this.setFinalUrl()}setFinalUrl(){let e=new URL("https://accounts.google.com/o/oauth2/v2/auth"),t=JSON.parse(JSON.stringify(this.params.jwtParams||{})),r=B()({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.params.clientId,prompt:this.PROMPT,redirect_uri:this.params.redirect_uri,scope:this.SCOPE,nonce:this.nonce},t);Object.keys(r).forEach(t=>{r[t]&&e.searchParams.append(t,r[t])}),this.finalURL=e}async getUserInfo(e){let{accessToken:t}=e,{picture:r="",email:n="",name:i=""}=await e8("https://www.googleapis.com/userinfo/v2/me",{headers:{Authorization:`Bearer ${t}`}});return{email:n,name:i,profileImage:r,authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId,userId:n.toLowerCase()}}}class ts extends tn{constructor(e){super(e),(0,l.Z)(this,"SCOPE","openid profile email"),(0,l.Z)(this,"RESPONSE_TYPE","token id_token"),(0,l.Z)(this,"PROMPT","login"),this.setFinalUrl()}setFinalUrl(){let{domain:e}=this.params.jwtParams,t=T(e);t.pathname+=t.pathname.endsWith("/")?"authorize":"/authorize";let r=JSON.parse(JSON.stringify(this.params.jwtParams));delete r.domain;let n=B()({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.params.clientId,prompt:this.PROMPT,redirect_uri:this.params.redirect_uri,scope:this.SCOPE,connection:E[this.params.authConnection],nonce:this.nonce},r);Object.keys(n).forEach(e=>{n[e]&&t.searchParams.append(e,n[e])}),this.finalURL=t}async getUserInfo(e){let{idToken:t,accessToken:r}=e,{domain:n,userIdField:i,isUserIdCaseSensitive:o,user_info_route:a="userinfo"}=this.params.jwtParams;if(t){let e=M(t).payload,{name:r,email:n,picture:a}=e;return{profileImage:a,name:r,email:n,userId:I(e,this.params.authConnection,i,o),authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}if(r)try{let e=new URL(n),t=await e8(`${x(e)}${a}`,{headers:{Authorization:`Bearer ${r}`}}),{picture:s,name:c,email:l}=t;return{email:l,name:c,profileImage:s,userId:I(t,this.params.authConnection,i,o),authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}catch(e){ek().warn(e,"Unable to get userinfo from endpoint")}throw Error("Access/id token not available")}}class tc extends tn{constructor(e){super(e),this.setFinalUrl()}setFinalUrl(){let e=JSON.parse(JSON.stringify(this.params.jwtParams));delete e.domain;let t=B()({state:this.state,client_id:this.params.clientId,nonce:this.nonce},e);this.finalURL=new URL(P({baseURL:this.params.redirect_uri,query:null,hash:t}))}async getUserInfo(e){let{idToken:t,accessToken:r}=e,{domain:n,userIdField:i,isUserIdCaseSensitive:o,user_info_route:a="userinfo"}=this.params.jwtParams;if(t){let e=M(t).payload,{name:r,email:n,picture:a}=e;return{profileImage:a,name:r,email:n,userId:I(e,this.params.authConnection,i,o),authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}if(r)try{let e=new URL(n),t=await e8(`${x(e)}${a}`,{headers:{Authorization:`Bearer ${r}`}}),{picture:s,name:c,email:l}=t;return{email:l,name:c,profileImage:s,userId:I(t,this.params.authConnection,i,o),authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}catch(e){ek().warn(e,"Unable to get userinfo from endpoint")}throw Error("Access/id token not available")}handleLoginWindow(e){let{id_token:t,access_token:r}=this.params.jwtParams,n=new tt({url:this.finalURL,features:e.popupFeatures});return this.params.uxMode!==g.$e.REDIRECT?Promise.resolve({state:{},idToken:t,accessToken:r}):(n.redirect(e.locationReplaceOnRedirect),null)}}var tl=r(79177),tu=r(92695),td=r(96988);let tf=e=>e.padStart(64,"0").slice(0,64);class th{constructor(){(0,l.Z)(this,"sessionId",void 0)}checkSessionParams(){if(!this.sessionId)throw Error("Session id is required");this.sessionId=tf(this.sessionId)}request({method:e="GET",url:t,data:r={},headers:n={}}){let i={headers:n};switch(e){case"GET":return e8(t,i);case"POST":return e4(t,r,i);case"PUT":return e7(t,r,i);case"PATCH":return e9(t,r,i)}throw Error("Invalid method type")}}var tp=r(82957).Buffer;class tg extends th{constructor({sessionServerBaseUrl:e,sessionNamespace:t,sessionTime:r,sessionId:n,allowedOrigin:i}={}){super(),(0,l.Z)(this,"sessionServerBaseUrl","https://api.web3auth.io/session-service"),(0,l.Z)(this,"sessionNamespace",void 0),(0,l.Z)(this,"allowedOrigin",void 0),(0,l.Z)(this,"sessionTime",86400),(0,l.Z)(this,"sessionId",""),e&&(this.sessionServerBaseUrl=e),t&&(this.sessionNamespace=t),r&&(this.sessionTime=r),n&&(this.sessionId=tf(n)),i?this.allowedOrigin=i:this.allowedOrigin="*"}static generateRandomSessionKey(){return tf((0,tl.oq)().toString("hex"))}async createSession(e,t={}){super.checkSessionParams();let r=tp.from(this.sessionId,"hex"),n=(0,tl.rc)(r).toString("hex"),i=await (0,tu.q6)(this.sessionId,e),o=(await (0,tl.Xx)(r,(0,td.w)(tp.from(i,"utf8")))).toString("hex"),a={key:n,data:i,signature:o,namespace:this.sessionNamespace,timeout:this.sessionTime,allowedOrigin:this.allowedOrigin};return await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/v2/store/set`,data:a,headers:t}),this.sessionId}async authorizeSession({headers:e}={headers:{}}){super.checkSessionParams();let t={key:(0,tl.rc)(tp.from(this.sessionId,"hex")).toString("hex"),namespace:this.sessionNamespace},r=await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/v2/store/get`,data:t,headers:e});if(!r.message)throw Error("Session Expired or Invalid public key");let n=await (0,tu.ow)(this.sessionId,r.message);if(n.error)throw Error("There was an error decrypting data.");return n}async updateSession(e,t={}){super.checkSessionParams();let r=tp.from(this.sessionId,"hex"),n=(0,tl.rc)(r).toString("hex"),i=await (0,tu.q6)(this.sessionId,e),o=(await (0,tl.Xx)(r,(0,td.w)(tp.from(i,"utf8")))).toString("hex"),a={key:n,data:i,signature:o,namespace:this.sessionNamespace,allowedOrigin:this.allowedOrigin};await super.request({method:"PUT",url:`${this.sessionServerBaseUrl}/v2/store/update`,data:a,headers:t})}async invalidateSession(e={}){super.checkSessionParams();let t=tp.from(this.sessionId,"hex"),r=(0,tl.rc)(t).toString("hex"),n=await (0,tu.q6)(this.sessionId,{}),i=(await (0,tl.Xx)(t,(0,td.w)(tp.from(n,"utf8")))).toString("hex"),o={key:r,data:n,signature:i,namespace:this.sessionNamespace,timeout:1};return await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/v2/store/set`,data:o,headers:e}),this.sessionId="",!0}}async function tm(e,t){try{let r=new tg({sessionId:e,sessionServerBaseUrl:t,allowedOrigin:!0});return await r.authorizeSession()}catch(e){throw ek().error("fetch data from storage server error",e),Error("Unable to retrieve data from storage server, invalid key or key expired.")}}class ty extends tn{constructor(e){super(e),this.setFinalUrl()}setFinalUrl(){let{passkeysHostUrl:e}=this.params.customState||{};if(!e)throw Error("Invalid passkeys url.");let t=new URL(e),r=JSON.parse(JSON.stringify(this.params.jwtParams||{})),n=B()({state:this.state,client_id:this.params.clientId,redirect_uri:this.params.redirect_uri},r);Object.keys(n).forEach(e=>{n[e]&&t.searchParams.append(e,n[e])}),this.finalURL=t}async getUserInfo(e,t){let{idToken:r,extraParams:n}=e,{sessionId:i}=JSON.parse(b().decode(n))||{};if(!i)throw Error("sessionId not found");let{verifier_id:o,signature:a,clientDataJSON:s,authenticatorData:c,publicKey:l,challenge:u,rpOrigin:d,rpId:f,credId:h,transports:p,username:g}=await tm(i,t);if(a!==r)throw Error("idtoken should be equal to signature");return{email:"",name:"Passkeys Login",profileImage:"",authConnectionId:this.params.authConnectionId,userId:o,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId,extraConnectionParams:{signature:a,clientDataJSON:s,authenticatorData:c,publicKey:l,challenge:u,rpOrigin:d,rpId:f,credId:h,transports:p,username:g}}}}let tb=["event","origin","result"];class tw extends tn{constructor(e){super(e),(0,l.Z)(this,"RESPONSE_TYPE","token"),(0,l.Z)(this,"SCOPE","profile"),(0,l.Z)(this,"PROMPT","select_account"),this.setFinalUrl()}setFinalUrl(){let{domain:e}=this.params.jwtParams,t=T(e||"https://oauth.telegram.org/auth"),r=JSON.parse(JSON.stringify(this.params.jwtParams||{}));r.origin=`${this.params.redirect_uri}?state=${this.state}&nonce=${this.nonce}`;let n=B()({state:this.state,response_type:this.RESPONSE_TYPE,bot_id:this.params.clientId,prompt:this.PROMPT,redirect_uri:`${this.params.redirect_uri}?state=${this.state}&nonce=${this.nonce}`,scope:this.SCOPE,nonce:this.nonce},r);Object.keys(n).forEach(e=>{n[e]&&t.searchParams.append(e,n[e])}),this.finalURL=t}async getUserInfo(e){let{idToken:t}=e,{photo_url:r="",first_name:n="",last_name:i="",id:o}=k(t);return{email:"",name:`${n} ${i}`,profileImage:r,authConnectionId:this.params.authConnectionId,userId:o.toString(),authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}async handleLoginWindow(e){let t=new tt({url:this.finalURL,features:e.popupFeatures,timeout:N(this.params.authConnection)});return this.params.uxMode!==g.$e.REDIRECT?new Promise((e,r)=>{let n=async t=>{try{let r=JSON.parse(t)||{},{event:n,origin:i,result:o}=r,a=d(r,tb),s=new URL(i).searchParams.get("state");n&&"auth_result"===n&&e((0,c.Z)((0,c.Z)({accessToken:""},a),{},{idToken:b().encode(JSON.stringify(o))||"",state:b().decode(s)}))}catch(e){te.error(e),r(e)}},i=async e=>{if(!e.data)throw Error("Invalid data received");if(this.finalURL.origin!==e.origin)throw Error("Invalid origin received");let r=e.data;if("string"!=typeof r)throw Error("Invalid data type received");let{event:o}=JSON.parse(r)||{};o&&"auth_result"!==o&&te.info("Invalid event received"),window.removeEventListener("message",i),n(r),t.close()};window.addEventListener("message",i);try{t.open()}catch(e){te.error(e),r(e);return}t.once("close",()=>{r(Error("user closed popup"))})}):(t.redirect(e.locationReplaceOnRedirect),null)}}class tv extends tn{constructor(e){super(e),(0,l.Z)(this,"RESPONSE_TYPE","token"),(0,l.Z)(this,"SCOPE","user:read:email"),this.setFinalUrl()}setFinalUrl(){let e=new URL("https://id.twitch.tv/oauth2/authorize"),t=JSON.parse(JSON.stringify(this.params.jwtParams||{})),r=B()({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.params.clientId,redirect_uri:this.params.redirect_uri,scope:this.SCOPE,force_verify:"true"},t);Object.keys(r).forEach(t=>{r[t]&&e.searchParams.append(t,r[t])}),this.finalURL=e}async getUserInfo(e){let{accessToken:t}=e,[{profile_image_url:r="",display_name:n="",email:i="",id:o}]=(await e8("https://api.twitch.tv/helix/users",{headers:{Authorization:`Bearer ${t}`,"Client-ID":this.params.clientId}})).data||[];return{profileImage:r,name:n,email:i,userId:o,authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}}let tE={code:"code"};class tx extends tn{constructor(e){super(e),(0,l.Z)(this,"SCOPE","openid profile email"),(0,l.Z)(this,"RESPONSE_TYPE","token id_token"),(0,l.Z)(this,"PROMPT","login"),this.setFinalUrl()}setFinalUrl(){let{domain:e}=this.params.jwtParams||{},t=T(e||"https://passwordless.web3auth.io/v7");t.pathname+=t.pathname.endsWith("/")?"authorize":"/authorize";let r=JSON.parse(JSON.stringify(this.params.jwtParams||{}));delete r.domain,this.params.customState=(0,c.Z)((0,c.Z)({},this.params.customState||{}),{},{client:this.params.web3AuthClientId});let n=B()({state:this.state,client_id:this.params.clientId||this.params.web3AuthClientId,redirect_uri:this.params.redirect_uri,nonce:this.nonce,network:this.params.web3AuthNetwork,connection:E[this.params.authConnection],scope:this.SCOPE,response_type:this.RESPONSE_TYPE,prompt:this.PROMPT,flow_type:(null==r?void 0:r.flow_type)||tE.code},r);Object.keys(n).forEach(e=>{n[e]&&t.searchParams.append(e,n[e])}),this.finalURL=t}async getUserInfo(e){let{idToken:t}=e,{name:r,email:n,picture:i}=M(t).payload;return{profileImage:i,name:r,email:n,userId:r.toLowerCase(),authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}}let tA=e=>{let{authConnectionId:t,authConnection:r,clientId:n,jwtParams:i}=e;if(!t||!r||!n)throw Error("Invalid params. Missing authConnectionId, authConnection or clientId");let{domain:o,login_hint:a,id_token:s,access_token:c}=i||{};switch(r){case g.Ck.GOOGLE:return new ta(e);case g.Ck.TELEGRAM:return new tw(e);case g.Ck.FACEBOOK:return new to(e);case g.Ck.TWITCH:return new tv(e);case g.Ck.DISCORD:return new ti(e);case g.Ck.EMAIL_PASSWORDLESS:case g.Ck.SMS_PASSWORDLESS:if(!a)throw Error("Invalid params. Missing login_hint for web3auth passwordless login");return new tx(e);case g.Ck.APPLE:case g.Ck.GITHUB:case g.Ck.LINKEDIN:case g.Ck.TWITTER:case g.Ck.LINE:case g.Ck.CUSTOM:case g.Ck.REDDIT:case g.Ck.WECHAT:case g.Ck.KAKAO:case g.Ck.FARCASTER:case g.Ck.AUTHENTICATOR:if(s||c)return new tc(e);if(!o)throw Error("Invalid params for jwt login. Missing domain");return new ts(e);case g.Ck.PASSKEYS:return new ty(e);default:throw Error("Unsupported login type")}};var tS=r(29542),t_=r(24689),tI=r(65514),tC=r(56344),tO=r(20840),tP=r(17360),tT=r(57194);function tk(e){try{return structuredClone(e)}catch{return JSON.parse(JSON.stringify(e,(e,t)=>"bigint"==typeof t?t.toString():t))}}class tN extends tI.e{constructor(e){super(e),(0,l.Z)(this,"name",o.tp.AUTH),(0,l.Z)(this,"connectorNamespace",tC.$.MULTICHAIN),(0,l.Z)(this,"type",G.$Y.IN_APP),(0,l.Z)(this,"authInstance",null),(0,l.Z)(this,"status",G.Ak.NOT_READY),(0,l.Z)(this,"privateKeyProvider",null),(0,l.Z)(this,"authOptions",void 0),(0,l.Z)(this,"loginSettings",{authConnection:""}),(0,l.Z)(this,"wsSettings",void 0),(0,l.Z)(this,"wsEmbedInstance",null),(0,l.Z)(this,"authConnectionConfig",[]),(0,l.Z)(this,"wsEmbedInstancePromise",null),this.authOptions=e.connectorSettings,this.loginSettings=e.loginSettings||{authConnection:""},this.wsSettings=e.walletServicesSettings||{loginMode:tS.pT.PLUGIN},this.authConnectionConfig=e.authConnectionConfig||[]}get provider(){if(this.status!==G.Ak.NOT_READY){var e;if(null!==(e=this.wsEmbedInstance)&&void 0!==e&&e.provider)return this.wsEmbedInstance.provider;if(this.privateKeyProvider)return this.privateKeyProvider}return null}get wsEmbed(){return this.wsEmbedInstance}set provider(e){throw Error("Not implemented")}async init(e){let{chains:t}=this.coreOptions,{chainId:n}=e,i=t.find(e=>e.chainId===n);if(super.checkInitializationRequirements({chainConfig:i}),!this.coreOptions.clientId)throw tO.Ty.invalidParams("clientId is required before auth's initialization");if(!this.authOptions)throw tO.Ty.invalidParams("authOptions is required before auth's initialization");if(0===this.authConnectionConfig.length)throw tO.Ty.invalidParams("authConnectionConfig is required before auth's initialization");let a=this.authOptions.uxMode===g.$e.REDIRECT;this.authOptions=(0,c.Z)((0,c.Z)({},this.authOptions),{},{replaceUrlOnRedirect:a,useCoreKitKey:this.coreOptions.useSFAKey}),this.authInstance=new eQ((0,c.Z)((0,c.Z)({},this.authOptions),{},{clientId:this.coreOptions.clientId,network:this.coreOptions.web3AuthNetwork,sdkMode:eF.eh.IFRAME,authConnectionConfig:this.authConnectionConfig.filter(e=>!e.isDefault),mfaSettings:this.coreOptions.mfaSettings})),tP.c.debug("initializing auth connector init",this.authOptions);let s=this.authInstance.init();if(this.coreOptions.privateKeyProvider)this.privateKeyProvider=this.coreOptions.privateKeyProvider;else switch(i.chainNamespace){case f.E.EIP155:case f.E.SOLANA:{let{default:e}=await Promise.all([r.e(3396),r.e(1156)]).then(r.bind(r,83396));this.wsEmbedInstance=new e({web3AuthClientId:this.coreOptions.clientId,web3AuthNetwork:this.coreOptions.web3AuthNetwork,modalZIndex:this.wsSettings.modalZIndex});let i=t.filter(e=>e.chainNamespace===f.E.EIP155||e.chainNamespace===f.E.SOLANA);this.wsEmbedInstancePromise=this.wsEmbedInstance.init((0,c.Z)((0,c.Z)({},this.wsSettings),{},{loginMode:tS.pT.PLUGIN,chains:i,chainId:n,whiteLabel:(0,c.Z)((0,c.Z)({},this.authOptions.whiteLabel),this.wsSettings.whiteLabel)})).then(()=>{this.wsEmbedInstancePromise=null});break}case f.E.XRPL:throw tO.RM.connectionError("Private key provider is required for XRPL");default:{let{CommonPrivateKeyProvider:e}=await r.e(7646).then(r.bind(r,97646));this.privateKeyProvider=new e({config:{chain:i,chains:this.coreOptions.chains}})}}tP.c.debug("initializing auth connector"),await s,this.status=G.Ak.READY,this.emit(G.cS.READY,o.tp.AUTH);try{let{sessionId:t}=this.authInstance||{};if(t&&(e.autoConnect||a))this.rehydrated=!0,await this.connect({chainId:e.chainId,getIdentityToken:e.getIdentityToken});else if(!t&&e.autoConnect)throw tO.RM.connectionError("Failed to rehydrate")}catch(e){this.emit(G.cS.REHYDRATION_ERROR,e)}}async connect(e){super.checkConnectionRequirements(),this.status=G.Ak.CONNECTING,this.emit(G.cS.CONNECTING,(0,c.Z)((0,c.Z)({},e),{},{connector:o.tp.AUTH}));try{return await this.connectWithProvider(e),this.provider}catch(e){var t;if(tP.c.error("Failed to connect with auth provider",e),this.status=G.Ak.READY,this.emit(G.cS.ERRORED,e),null!=e&&null!==(t=e.message)&&void 0!==t&&t.includes("user closed popup"))throw tO.RM.popupClosed();if(e instanceof tO.up)throw e;throw tO.RM.connectionError("Failed to login with auth",e)}}async enableMFA(e={authConnection:""}){if(!this.connected)throw tO.RM.notConnectedError("Not connected with wallet");if(!this.authInstance)throw tO.Ty.notReady("authInstance is not ready");try{let t=await this.authInstance.enableMFA(e);t&&this.emit(G.cS.MFA_ENABLED,t)}catch(e){if(tP.c.error("Failed to enable MFA with auth provider",e),e instanceof tO.up)throw e;throw tO.RM.connectionError("Failed to enable MFA with auth",e)}}async manageMFA(e={authConnection:""}){if(!this.connected)throw tO.RM.notConnectedError("Not connected with wallet");if(!this.authInstance)throw tO.Ty.notReady("authInstance is not ready");try{await this.authInstance.manageMFA(e)}catch(e){if(tP.c.error("Failed to manage MFA with auth provider",e),e instanceof tO.up)throw e;throw tO.RM.connectionError("Failed to manage MFA with auth",e)}}async disconnect(e={cleanup:!1}){if(!this.connected)throw tO.RM.notConnectedError("Not connected with wallet");if(!this.authInstance)throw tO.Ty.notReady("authInstance is not ready");this.status=G.Ak.DISCONNECTING,await this.authInstance.logout(),this.wsEmbedInstance&&await this.wsEmbedInstance.logout(),e.cleanup?(this.status=G.Ak.NOT_READY,this.authInstance=null,this.wsEmbedInstance&&(this.wsEmbedInstance=null),this.privateKeyProvider&&(this.privateKeyProvider=null)):this.status=G.Ak.READY,this.rehydrated=!1,this.emit(G.cS.DISCONNECTED)}async getIdentityToken(){if(!this.canAuthorize)throw tO.RM.notConnectedError("Not connected with wallet, Please login/connect first");this.status=G.Ak.AUTHORIZING,this.emit(G.cS.AUTHORIZING,{connector:o.tp.AUTH});let e=await this.getUserInfo();return this.status=G.Ak.AUTHORIZED,this.emit(G.cS.AUTHORIZED,{connector:o.tp.AUTH,identityTokenInfo:{idToken:e.idToken}}),{idToken:e.idToken}}async getUserInfo(){if(!this.canAuthorize)throw tO.RM.notConnectedError("Not connected with wallet");if(!this.authInstance)throw tO.Ty.notReady("authInstance is not ready");return this.authInstance.getUserInfo()}async switchChain(e,t=!1){var r,n;super.checkSwitchChainRequirements(e,t);let{chainId:i}=e,{chainId:o}=this.provider,{chainNamespace:a}=this.getChain(o),{chainNamespace:s}=this.getChain(i);if(o!==i){if(a===f.E.SOLANA||a===f.E.EIP155){if(s!==f.E.SOLANA&&s!==f.E.EIP155)throw tO.RM.connectionError("Cannot switch to other chain namespace");let t=`${s}:${Number(e.chainId)}`;await (null===(r=this.wsEmbedInstance.provider)||void 0===r?void 0:r.request({method:"wallet_switchChain",params:{chainId:t}}))}else{if(a!==s)throw tO.RM.connectionError("Cannot switch to other chain namespace");await (null===(n=this.privateKeyProvider)||void 0===n?void 0:n.switchChain(e))}}}async cleanup(){if(!this.authInstance)throw tO.Ty.notReady("authInstance is not ready");await this.authInstance.cleanup(),this.wsEmbedInstance&&this.wsEmbedInstance.clearInit()}getOAuthProviderConfig(e){let{authConnection:t,authConnectionId:r,groupedAuthConnectionId:n}=e;return this.authConnectionConfig.find(e=>n&&r?e.authConnection===t&&e.groupedAuthConnectionId===n&&e.authConnectionId===r:r?e.authConnection===t&&e.authConnectionId===r:e.authConnection===t&&e.isDefault)}getChain(e){return this.coreOptions.chains.find(t=>t.chainId===e)}_getFinalPrivKey(){if(!this.authInstance)return"";let e=this.authInstance.privKey;if(this.coreOptions.useSFAKey){if(this.authInstance.privKey&&!this.authInstance.coreKitKey)throw tO.RM.sfaKeyNotFound();e=this.authInstance.coreKitKey}return e}async connectWithProvider(e){var t,r,n,i;if(!this.authInstance)throw tO.Ty.notReady("authInstance is not ready");let a=this.coreOptions.chains.find(t=>t.chainId===e.chainId);if(!a)throw tO.RM.connectionError("Chain config is not available");let{chainNamespace:s}=a,l=s===f.E.EIP155||s===f.E.SOLANA?null===(t=this.authInstance)||void 0===t?void 0:t.sessionId:this._getFinalPrivKey();if(e.idToken&&(e.extraLoginOptions=(0,c.Z)((0,c.Z)({},e.extraLoginOptions),{},{id_token:e.idToken})),!l||null!==(r=e.extraLoginOptions)&&void 0!==r&&r.id_token){this.loginSettings.curve=eF.x7.OTHER;let t=B()(this.loginSettings,e);null!==(n=e.extraLoginOptions)&&void 0!==n&&n.id_token?await this.connectWithJwtLogin(t):await this.connectWithSocialLogin(t)}if(s===f.E.EIP155||s===f.E.SOLANA){this.wsEmbedInstancePromise&&await this.wsEmbedInstancePromise;let{sessionId:t,sessionNamespace:r}=this.authInstance||{};if(t&&await this.wsEmbedInstance.loginWithSessionId({sessionId:t,sessionNamespace:r})){let t;this.status=G.Ak.CONNECTED,this.emit(G.cS.CONNECTED,{connector:o.tp.AUTH,reconnected:this.rehydrated,provider:this.provider,identityTokenInfo:t}),e.getIdentityToken&&(t=await this.getIdentityToken()),null===(i=this.wsEmbedInstance)||void 0===i||i.provider.on("accountsChanged",(e=[])=>{0===e.length&&tT.x.includes(this.status)&&this.disconnect({cleanup:!1})})}}else{let t=this._getFinalPrivKey();t&&(await this.privateKeyProvider.setupProvider(t,e.chainId),this.status=G.Ak.CONNECTED,this.emit(G.cS.CONNECTED,{connector:o.tp.AUTH,reconnected:this.rehydrated,provider:this.provider}))}}async connectWithSocialLogin(e){var t,r;let n=this.getOAuthProviderConfig({authConnection:e.authConnection,authConnectionId:e.authConnectionId,groupedAuthConnectionId:e.groupedAuthConnectionId});if(!(null!=n&&n.authConnection))throw tO.RM.connectionError("Invalid auth connection.");let i=(0,c.Z)((0,c.Z)((0,c.Z)({},n.jwtParameters||{}),e.extraLoginOptions||{}),{},{login_hint:e.loginHint||(null===(t=e.extraLoginOptions)||void 0===t?void 0:t.login_hint)}),o=A(),a=tk(e);a.extraLoginOptions=(0,c.Z)((0,c.Z)({},a.extraLoginOptions||{}),{},{login_hint:e.loginHint||(null===(r=e.extraLoginOptions)||void 0===r?void 0:r.login_hint)}),delete a.chainId;let s=new tt({url:tA({authConnection:e.authConnection,authConnectionId:n.authConnectionId,clientId:n.clientId||i.client_id,groupedAuthConnectionId:n.groupedAuthConnectionId,redirect_uri:`${this.authInstance.options.sdkUrl}/auth`,jwtParams:i,customState:{nonce:o,appState:e.appState,dapp_redirect_url:this.authInstance.options.redirectUrl,uxMode:this.authInstance.options.uxMode,whiteLabel:JSON.stringify(this.authInstance.options.whiteLabel),loginParams:JSON.stringify(a),version:eX.split(".")[0],web3AuthNetwork:this.coreOptions.web3AuthNetwork,web3AuthClientId:this.coreOptions.clientId,originData:this.authInstance.options.originData?JSON.stringify(this.authInstance.options.originData):void 0},web3AuthClientId:this.coreOptions.clientId,web3AuthNetwork:this.coreOptions.web3AuthNetwork}).finalURL,timeout:0});if(this.authOptions.uxMode===g.$e.REDIRECT)return s.redirect(this.authOptions.replaceUrlOnRedirect);let l=!1;return new Promise((e,t)=>{s.open().catch(e=>{tP.c.error("Error during login with social",e),this.authInstance.postLoginCancelledMessage(o),t(e)});let r=new eR({sameIpCheck:!0});r.subscribe(`web3auth-login-${o}`).then(e=>{let n=JSON.parse(e||"{}");return(null==n?void 0:n.message)==="login_finished"&&(null!=n&&n.error&&(this.authInstance.postLoginCancelledMessage(o),t(n.error)),l=!0,r.cleanup(),s.close()),!0}).catch(e=>{tP.c.error("Error during login with social",e)}),s.once("close",()=>{l||(r.cleanup(),this.authInstance.postLoginCancelledMessage(o),t(tO.RM.popupClosed()))}),this.authInstance.postLoginInitiatedMessage(a,o).then(e).catch(e=>{if(e instanceof tO.up)throw e;t(tO.RM.connectionError(e instanceof Error?e.message:e||"Failed to login with social"))})})}connectWithJwtLogin(e){var t,r,n;let i;let o=this.getOAuthProviderConfig({authConnection:e.authConnection,authConnectionId:e.authConnectionId,groupedAuthConnectionId:e.groupedAuthConnectionId});if(!(null!=o&&o.authConnection)&&!e.authConnectionId)throw tO.RM.connectionError("Invalid auth connection.");null!=o&&o.authConnection||this.authInstance.options.authConnectionConfig.push({authConnection:e.authConnection,authConnectionId:e.authConnectionId,groupedAuthConnectionId:e.groupedAuthConnectionId});let a=tk(e),s=(0,c.Z)((0,c.Z)({},(null==o?void 0:o.jwtParameters)||{}),e.extraLoginOptions||{});if(e.loginHint||null!==(t=e.extraLoginOptions)&&void 0!==t&&t.login_hint)i=e.loginHint||(null===(n=e.extraLoginOptions)||void 0===n?void 0:n.login_hint);else if(null!==(r=e.extraLoginOptions)&&void 0!==r&&r.id_token){let{payload:t}=(0,t_.he)(e.extraLoginOptions.id_token);i=I(t,a.authConnection,s.userIdField,s.isUserIdCaseSensitive)}else throw tO.RM.connectionError("Invalid login hint or id_token");return a.extraLoginOptions=(0,c.Z)((0,c.Z)({},s),{},{login_hint:i}),delete a.chainId,this.authInstance.postLoginInitiatedMessage(a)}}let tM=e=>({projectConfig:t,coreOptions:r})=>{var n,i,o,a;let s={},{whitelist:l,sessionTime:u}=t;l&&(s.originData=l.signed_urls),r.sessionTime?s.sessionTime=r.sessionTime:u&&(s.sessionTime=u),null!==(n=r.uiConfig)&&void 0!==n&&n.uxMode&&(s.uxMode=r.uiConfig.uxMode);let d=r.uiConfig||{};s.whiteLabel=d;let f=B().all([{uxMode:g.$e.POPUP,buildEnv:r.authBuildEnv||eF.Re.PRODUCTION},s,(null==e?void 0:e.connectorSettings)||{}]),h=B().all([d,(null===(i=r.walletServicesConfig)||void 0===i?void 0:i.whiteLabel)||{}]),p=(0,c.Z)((0,c.Z)({},r.walletServicesConfig),{},{whiteLabel:h,accountAbstractionConfig:r.accountAbstractionConfig,enableLogging:r.enableLogging}),m=null===(o=null===(a=r.walletServicesConfig)||void 0===a?void 0:a.enableKeyExport)||void 0===o||o;return r.privateKeyProvider&&r.privateKeyProvider.setKeyExportFlag(m),new tN({connectorSettings:f,walletServicesSettings:p,loginSettings:(0,c.Z)((0,c.Z)({},(null==e?void 0:e.loginSettings)||{}),{},{mfaLevel:r.mfaLevel}),coreOptions:r,authConnectionConfig:t.embeddedWalletAuth})},tR=(0,c.Z)((0,c.Z)({},f.E),{},{MULTICHAIN:"multichain"}),tD={READY:"ready",CONNECTING:"connecting",CONNECTED:"connected",DISCONNECTED:"disconnected",ERRORED:"errored"},tL=(0,c.Z)({},tD),tB={WALLET_SERVICES:"wallet-services"},tU={SOLANA:"solana"},tj=(0,c.Z)((0,c.Z)({},tB),tU);class t$ extends tO.up{constructor(e,t,r){super(e,t,r),Object.defineProperty(this,"name",{value:"WalletServicesPluginError"})}static fromCode(e,t="",r){return new t$(e,`${t$.messages[e]}${t}`,r)}static notInitialized(e="",t){return t$.fromCode(5210,e,t)}static unsupportedConnector(e="",t){return t$.fromCode(5211,e,t)}static providerRequired(e="",t){return t$.fromCode(5212,e,t)}static web3authRequired(e="",t){return t$.fromCode(5213,e,t)}static web3AuthNotConnected(e="",t){return t$.fromCode(5214,e,t)}static alreadyInitialized(e="",t){return t$.fromCode(5216,e,t)}static unsupportedChainNamespace(e="",t){return t$.fromCode(5218,e,t)}static differentWeb3AuthNetwork(e="",t){return t$.fromCode(5219,e,t)}static invalidParams(e="",t){return t$.fromCode(5220,e,t)}static web3authNotInitialized(e="",t){return t$.fromCode(5221,e,t)}static invalidSession(e="",t){return t$.fromCode(5222,e,t)}static walletPluginNotConnected(e="",t){return t$.fromCode(5223,e,t)}}(0,l.Z)(t$,"messages",{5210:"Wallet Services Plugin is not initialized",5211:"Web3Auth is connected to unsupported connector. Wallet services connector plugin requires web3auth connected to auth connector.",5212:"Provider is required..",5213:"Web3Auth instance is required while initialization.",5214:"Web3Auth is not connected.",5216:"Plugin is already initialized",5218:"Unsupported chain namespace.",5219:"Plugin network different than web3auth instance network.",5221:"Web3Auth is not initialized",5222:"Invalid session inside wallet services. Please report this issue.",5223:"Wallet plugin is not connected Yet. Please wait for plugin to connect and listen via `connected` event on the plugin"});class tF extends p.U{constructor(...e){super(...e),(0,l.Z)(this,"name",tB.WALLET_SERVICES),(0,l.Z)(this,"status",tD.DISCONNECTED),(0,l.Z)(this,"SUPPORTED_CONNECTORS",[o.tp.AUTH]),(0,l.Z)(this,"pluginNamespace",tR.MULTICHAIN),(0,l.Z)(this,"wsEmbedInstance",void 0),(0,l.Z)(this,"provider",null),(0,l.Z)(this,"web3auth",null),(0,l.Z)(this,"isInitialized",!1),(0,l.Z)(this,"analytics",void 0)}get proxyProvider(){var e;return null!==(e=this.wsEmbedInstance)&&void 0!==e&&e.provider?this.wsEmbedInstance.provider:null}async initWithWeb3Auth(e,t,r){if(this.isInitialized)return;if(!e)throw t$.web3authRequired();if(e.provider&&!this.SUPPORTED_CONNECTORS.includes(e.connectedConnectorName))throw t$.notInitialized();let n=e.currentChain;if(![f.E.EIP155,f.E.SOLANA].includes(null==n?void 0:n.chainNamespace))throw t$.unsupportedChainNamespace();e.provider&&(this.provider=e.provider),this.web3auth=e,this.analytics=r;let i=e.getConnector(o.tp.AUTH);if(!i||!i.wsEmbed)throw t$.web3AuthNotConnected();this.wsEmbedInstance=i.wsEmbed,this.isInitialized=!0,this.status=tD.READY,this.emit(tL.READY)}initWithProvider(){throw Error("Method not implemented.")}async connect(){if(!this.isInitialized)throw t$.notInitialized();if(this.emit(tL.CONNECTING),this.status=tD.CONNECTING,!this.provider){var e;null!==(e=this.web3auth)&&void 0!==e&&e.provider&&(this.provider=this.web3auth.provider)}if(tT.C.includes(this.web3auth.status)){if(!this.web3auth.provider)throw t$.providerRequired()}else throw t$.web3AuthNotConnected();try{this.emit(tL.CONNECTED),this.status=tD.CONNECTED}catch(e){tP.c.error(e),this.status=tD.ERRORED,this.emit(tL.ERRORED,{error:e.message||"Something went wrong"})}}async showWalletConnectScanner(e){var t,r;if(!(null!==(t=this.wsEmbedInstance)&&void 0!==t&&t.isLoggedIn))throw t$.walletPluginNotConnected();return null===(r=this.analytics)||void 0===r||r.track(q.dW.WALLET_CONNECT_SCANNER_CLICKED,{is_visible:null==e?void 0:e.show}),this.wsEmbedInstance.showWalletConnectScanner(e)}async showFunding(e){var t,r;if(!(null!==(t=this.wsEmbedInstance)&&void 0!==t&&t.isLoggedIn))throw t$.walletPluginNotConnected();return null===(r=this.analytics)||void 0===r||r.track(q.dW.WALLET_FUNDING_CLICKED,{is_visible:null==e?void 0:e.show}),this.wsEmbedInstance.showFunding(e)}async showCheckout(e){var t,r;if(!(null!==(t=this.wsEmbedInstance)&&void 0!==t&&t.isLoggedIn))throw t$.walletPluginNotConnected();return null===(r=this.analytics)||void 0===r||r.track(q.dW.WALLET_CHECKOUT_CLICKED,{is_visible:null==e?void 0:e.show,receive_wallet_address_enabled:!!(null!=e&&e.receiveWalletAddress),token_list:null==e?void 0:e.tokenList,fiat_list:null==e?void 0:e.fiatList,crypto:null==e?void 0:e.crypto,fiat:null==e?void 0:e.fiat,fiat_amount:null==e?void 0:e.fiatAmount,crypto_amount:null==e?void 0:e.cryptoAmount}),this.wsEmbedInstance.showCheckout(e)}async showReceive(e){var t,r;if(!(null!==(t=this.wsEmbedInstance)&&void 0!==t&&t.isLoggedIn))throw t$.walletPluginNotConnected();return null===(r=this.analytics)||void 0===r||r.track(q.dW.WALLET_RECEIVE_CLICKED,{is_visible:null==e?void 0:e.show}),this.wsEmbedInstance.showReceive(e)}async showWalletUi(e){var t,r;if(!(null!==(t=this.wsEmbedInstance)&&void 0!==t&&t.isLoggedIn))throw t$.walletPluginNotConnected();return null===(r=this.analytics)||void 0===r||r.track(q.dW.WALLET_UI_CLICKED,{is_visible:null==e?void 0:e.show,path:null==e?void 0:e.path}),this.wsEmbedInstance.showWalletUi(e)}async showSwap(e){var t,r;if(!(null!==(t=this.wsEmbedInstance)&&void 0!==t&&t.isLoggedIn))throw t$.walletPluginNotConnected();return null===(r=this.analytics)||void 0===r||r.track(q.dW.WALLET_SWAP_CLICKED,{is_visible:null==e?void 0:e.show,from_token:null==e?void 0:e.fromToken,to_token:null==e?void 0:e.toToken,from_value_enabled:!!(null!=e&&e.fromValue),to_address_enabled:!!(null!=e&&e.toAddress)}),this.wsEmbedInstance.showSwap(e)}async cleanup(){var e;return null===(e=this.wsEmbedInstance)||void 0===e?void 0:e.cleanUp()}async disconnect(){var e;if(this.status!==tD.CONNECTED)throw t$.invalidSession("Wallet Services plugin is not connected");null!==(e=this.wsEmbedInstance)&&void 0!==e&&e.isLoggedIn&&await this.wsEmbedInstance.logout(),this.emit(tL.DISCONNECTED),this.status=tD.DISCONNECTED}}let tz=()=>()=>new tF;var tq=r(35156),tG=r(7604),tH=r(26639),tV=r(44015);class tW extends tV.C{constructor(e){super(e),(0,l.Z)(this,"connectorNamespace",tC.$.EIP155),(0,l.Z)(this,"currentChainNamespace",f.E.EIP155),(0,l.Z)(this,"type",G.$Y.EXTERNAL),(0,l.Z)(this,"name",o.tp.METAMASK),(0,l.Z)(this,"status",G.Ak.NOT_READY),(0,l.Z)(this,"metamaskProvider",null),(0,l.Z)(this,"metamaskSDK",null),(0,l.Z)(this,"metamaskOptions",void 0),(0,l.Z)(this,"analytics",void 0),this.metamaskOptions=e.connectorSettings,this.analytics=e.analytics}get provider(){return this.status!==G.Ak.NOT_READY&&this.metamaskProvider?this.metamaskProvider:null}set provider(e){throw Error("Not implemented")}async init(e){await super.init(e);let t=this.coreOptions.chains.find(t=>t.chainId===e.chainId);super.checkInitializationRequirements({chainConfig:t});let r=await (0,t_.ze)(window),n={name:(0,t_.hA)(window)||"web3auth",url:window.location.origin||"https://web3auth.io",iconUrl:null!=r?r:void 0},i=B()(this.metamaskOptions||{},{dappMetadata:n});this.metamaskSDK=new tG.cR((0,c.Z)((0,c.Z)({},i),{},{_source:"web3auth",preferDesktop:!0}));let a=await this.metamaskSDK.init();a&&(this.metamaskSDK=a),this.isInjected=this.metamaskSDK.isExtensionActive(),this.status=G.Ak.READY,this.emit(G.cS.READY,o.tp.METAMASK);try{if(e.autoConnect&&(this.rehydrated=!0,!await this.connect({chainId:e.chainId,getIdentityToken:e.getIdentityToken})))throw this.rehydrated=!1,tO.RM.connectionError("Failed to rehydrate.")}catch(e){this.emit(G.cS.REHYDRATION_ERROR,e)}}async connect({chainId:e,getIdentityToken:t}){var r,n,i,a,s;if(super.checkConnectionRequirements(),!this.metamaskSDK)throw tO.RM.notConnectedError("Connector is not initialized");let l=this.coreOptions.chains.find(t=>t.chainId===e);if(!l)throw tO.RM.connectionError("Chain config is not available");let u=!this.isInjected&&!this.rehydrated,d=Date.now(),f={connector:this.name,connector_type:this.type,is_injected:this.isInjected,chain_id:(0,H.cN)(l),chain_name:null==l?void 0:l.displayName,chain_namespace:null==l?void 0:l.chainNamespace};try{let e;if(this.status!==G.Ak.CONNECTING&&(this.status=G.Ak.CONNECTING,this.emit(G.cS.CONNECTING,{connector:o.tp.METAMASK}),!this.metamaskSDK.isExtensionActive()&&null!==(r=this.metamaskOptions)&&void 0!==r&&r.headless&&this.metamaskSDK.getProvider().on("display_uri",e=>{this.updateConnectorData({uri:e})}),await this.metamaskSDK.connect()),this.metamaskProvider=this.metamaskSDK.getProvider(),!this.metamaskProvider)throw tO.RM.notConnectedError("Failed to connect with provider");return await this.metamaskProvider.request({method:"eth_chainId"})!==l.chainId&&await this.switchChain(l,!0),this.metamaskProvider.on("accountsChanged",e=>{0===e.length&&this.disconnect()}),this.metamaskProvider.once("disconnect",()=>{this.disconnect()}),this.status=G.Ak.CONNECTED,u&&(null===(n=this.analytics)||void 0===n||n.track(q.dW.CONNECTION_STARTED,f),null===(i=this.analytics)||void 0===i||i.track(q.dW.CONNECTION_COMPLETED,(0,c.Z)((0,c.Z)({},f),{},{duration:Date.now()-d}))),t&&(e=await this.getIdentityToken()),this.emit(G.cS.CONNECTED,{connector:o.tp.METAMASK,reconnected:this.rehydrated,provider:this.metamaskProvider,identityTokenInfo:e}),this.metamaskProvider}catch(e){if(this.status=G.Ak.READY,this.rehydrated||this.emit(G.cS.ERRORED,e),this.rehydrated=!1,u&&(null===(a=this.analytics)||void 0===a||a.track(q.dW.CONNECTION_STARTED,f),null===(s=this.analytics)||void 0===s||s.track(q.dW.CONNECTION_FAILED,(0,c.Z)((0,c.Z)((0,c.Z)({},f),(0,tH.eX)(e)),{},{duration:Date.now()-d}))),e instanceof tO.up)throw e;throw tO.RM.connectionError("Failed to login with MetaMask wallet",e)}}async disconnect(e={cleanup:!1}){if(!this.metamaskProvider)throw tO.RM.connectionError("MetaMask provider is not available");await super.disconnectSession(),void 0!==this.metamaskProvider.removeAllListeners&&this.metamaskProvider.removeAllListeners(),await this.metamaskSDK.terminate(),e.cleanup?(this.status=G.Ak.NOT_READY,this.metamaskProvider=null):this.status=G.Ak.READY,await super.disconnect()}async getUserInfo(){if(!this.canAuthorize)throw tO.RM.notConnectedError("Not connected with wallet, Please login/connect first");return{}}async switchChain(e,t=!1){super.checkSwitchChainRequirements(e,t);let r=()=>this.metamaskProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:e.chainId}]});try{await r()}catch(t){if((null==t?void 0:t.code)===4902){let t=this.coreOptions.chains.find(t=>t.chainId===e.chainId&&[f.E.EIP155].includes(t.chainNamespace));await this.addChain(t),await r()}else throw t}}async enableMFA(){throw Error("Method Not implemented")}async manageMFA(){throw Error("Method Not implemented")}async addChain(e){if(!this.metamaskProvider)throw tO.RM.connectionError("Injected provider is not available");await this.metamaskProvider.request({method:"wallet_addEthereumChain",params:[{chainId:e.chainId,chainName:e.displayName,rpcUrls:[e.rpcTarget],blockExplorerUrls:[e.blockExplorerUrl],nativeCurrency:{name:e.tickerName,symbol:e.ticker,decimals:e.decimals||18},iconUrls:[e.logo]}]})}}let tZ=e=>({coreOptions:t,analytics:r})=>new tW({connectorSettings:e,coreOptions:t,analytics:r}),tK=["walletScope"];class tY extends p.U{constructor(e,t){if(super(),(0,l.Z)(this,"coreOptions",void 0),(0,l.Z)(this,"status",G.Ak.NOT_READY),(0,l.Z)(this,"aaProvider",null),(0,l.Z)(this,"connectors",[]),(0,l.Z)(this,"commonJRPCProvider",null),(0,l.Z)(this,"analytics",void 0),(0,l.Z)(this,"plugins",{}),(0,l.Z)(this,"storage",void 0),(0,l.Z)(this,"state",{connectedConnectorName:null,cachedConnector:null,currentChainId:null,idToken:null}),(0,l.Z)(this,"loginMode",U.XI.NO_MODAL),!e.clientId)throw tO.Ty.invalidParams("Please provide a valid clientId in constructor");e.enableLogging?tP.c.enableAll():tP.c.setLevel("error"),e.storageType||(e.storageType="local"),this.coreOptions=e,this.storage=this.getStorageMethod(),this.analytics=new q.cp,this.analytics.setGlobalProperties({integration_type:q.JO.NATIVE_SDK}),this.loadState(t),this.state.idToken&&this.coreOptions.ssr&&(this.status=this.coreOptions.initialAuthenticationMode===G.Hd.CONNECT_AND_SIGN?G.Ak.AUTHORIZED:G.Ak.CONNECTED)}get currentChain(){var e;if(this.currentChainId)return null===(e=this.coreOptions.chains)||void 0===e?void 0:e.find(e=>e.chainId===this.currentChainId)}get connected(){return!!this.connectedConnector}get provider(){return this.status!==G.Ak.NOT_READY&&this.commonJRPCProvider?this.commonJRPCProvider:null}get connectedConnectorName(){return this.state.connectedConnectorName}get cachedConnector(){return this.state.cachedConnector}get currentChainId(){var e;return this.state.currentChainId||this.coreOptions.defaultChainId||(null===(e=this.coreOptions.chains)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.chainId)||null}get connectedConnector(){var e;return this.getConnector(this.connectedConnectorName,null===(e=this.currentChain)||void 0===e?void 0:e.chainNamespace)}get accountAbstractionProvider(){return this.aaProvider}get idToken(){return this.state.idToken||null}set provider(e){throw Error("Not implemented")}async init(e){let t=Date.now();this.analytics.init(),this.analytics.identify(this.coreOptions.clientId,{web3auth_client_id:this.coreOptions.clientId,web3auth_network:this.coreOptions.web3AuthNetwork}),this.analytics.setGlobalProperties({dapp_url:window.location.origin,sdk_name:q.Yz.WEB_NO_MODAL,sdk_version:H.lB,web3auth_client_id:this.coreOptions.clientId,web3auth_network:this.coreOptions.web3AuthNetwork});let r={};try{var n,i,a;let s;let{signal:l}=e||{};try{s=await (0,H.pw)({clientId:this.coreOptions.clientId,web3AuthNetwork:this.coreOptions.web3AuthNetwork,aaProvider:null===(a=this.coreOptions.accountAbstractionConfig)||void 0===a?void 0:a.smartAccountType,authBuildEnv:this.coreOptions.authBuildEnv})}catch(t){let e=await (0,u.X)(t);throw tP.c.error("Failed to fetch project configurations",e),tO.Ty.notReady("failed to fetch project configurations",e)}this.initAccountAbstractionConfig(s),this.initChainsConfig(s),this.initCachedConnectorAndChainId(),this.initUIConfig(s),this.initWalletServicesConfig(s),this.initSessionTimeConfig(s),this.analytics.setGlobalProperties({team_id:s.teamId}),r=this.getInitializationTrackData(),await (0,H.Kj)(()=>this.setupCommonJRPCProvider(),l),this.on(G.cS.CONNECTORS_UPDATED,async({connectors:e})=>{await (0,H.Kj)(()=>Promise.all(e.map(this.setupConnector.bind(this))),l,()=>{var e;(null===(e=this.connectors)||void 0===e?void 0:e.length)>0&&this.cleanup()}),this.status===G.Ak.NOT_READY&&(this.status=G.Ak.READY,this.emit(G.cS.READY))}),await (0,H.Kj)(()=>this.loadConnectors({projectConfig:s}),l),await (0,H.Kj)(()=>this.initPlugins(),l);let d=this.getConnector(o.tp.AUTH);r=(0,c.Z)((0,c.Z)({},r),{},{connectors:this.connectors.map(e=>e.name),plugins:Object.keys(this.plugins),auth_ux_mode:(null==d||null===(n=d.authInstance)||void 0===n||null===(n=n.options)||void 0===n?void 0:n.uxMode)||(null===(i=this.coreOptions.uiConfig)||void 0===i?void 0:i.uxMode)}),this.analytics.track(q.dW.SDK_INITIALIZATION_COMPLETED,(0,c.Z)((0,c.Z)({},r),{},{duration:Date.now()-t}))}catch(e){if(e instanceof DOMException&&"AbortError"===e.name)return;throw this.analytics.track(q.dW.SDK_INITIALIZATION_FAILED,(0,c.Z)((0,c.Z)((0,c.Z)({},r),(0,H.eX)(e)),{},{duration:Date.now()-t})),tP.c.error("Failed to initialize modal",e),e}}getConnector(e,t){return this.connectors.find(r=>r.name===e&&(!t||r.connectorNamespace===tC.$.MULTICHAIN||r.connectorNamespace===t))||null}clearCache(){this.setState({connectedConnectorName:null,cachedConnector:null,currentChainId:null,idToken:null})}async cleanup(){for(let e of this.connectors)e.cleanup&&await e.cleanup()}async switchChain(e){var t;if(e.chainId!==(null===(t=this.currentChain)||void 0===t?void 0:t.chainId)){if(!this.coreOptions.chains.find(t=>t.chainId===e.chainId))throw tO.Ty.invalidParams("Invalid chainId");if(tT.x.includes(this.status)&&this.connectedConnector){await this.connectedConnector.switchChain(e);return}if(this.commonJRPCProvider){await this.commonJRPCProvider.switchChain(e);return}throw tO.Ty.notReady("No wallet is ready")}}async connectTo(e,t,r){let n;this.loginMode=r||"no-modal";let i=this.getConnector(e,null==t?void 0:t.chainNamespace);if(!i||!this.commonJRPCProvider)throw tO.Ty.notFound(`Please add wallet connector for ${e} wallet, before connecting`);let a=this.getInitialChainIdForConnector(i),s=(0,c.Z)((0,c.Z)({},t),{},{chainId:a.chainId,getIdentityToken:this.coreOptions.initialAuthenticationMode===G.Hd.CONNECT_AND_SIGN}),l=Date.now();if(e===o.tp.AUTH){var u;let r=i.getOAuthProviderConfig({authConnection:t.authConnection,authConnectionId:t.authConnectionId,groupedAuthConnectionId:t.groupedAuthConnectionId});n={connector:e,connector_type:i.type,chain_id:(0,H.cN)(a),chain_name:a.displayName,chain_namespace:a.chainNamespace,auth_connection:t.authConnection,auth_connection_id:t.authConnectionId,group_auth_connection_id:t.groupedAuthConnectionId,mfa_level:t.mfaLevel,wallet_key_enabled:t.getWalletKey,extra_login_options_enabled:!!t.extraLoginOptions,dapp_share_enabled:!!t.dappShare,curve:t.curve,auth_dapp_url:t.dappUrl,is_sfa:!!t.idToken,is_default_auth_connection:null==r?void 0:r.isDefault,auth_ux_mode:null===(u=i.authInstance)||void 0===u||null===(u=u.options)||void 0===u?void 0:u.uxMode}}else n={connector:e,connector_type:i.type,is_injected:i.isInjected,chain_id:(0,H.cN)(a),chain_name:a.displayName,chain_namespace:a.chainNamespace};return this.analytics.track(q.dW.CONNECTION_STARTED,n),new Promise((e,t)=>{let r=!1,o=!1,u=()=>{this.removeListener(G.cS.CONNECTED,h),this.removeListener(G.cS.ERRORED,g),this.removeListener(G.cS.AUTHORIZED,p)},d=async()=>{s.getIdentityToken?r&&o&&await f():r&&await f()},f=async()=>{try{let t=await i.getUserInfo();this.analytics.track(q.dW.CONNECTION_COMPLETED,(0,c.Z)((0,c.Z)({},n),{},{is_mfa_enabled:null==t?void 0:t.isMfaEnabled,duration:Date.now()-l})),u(),e(this.provider)}catch(e){u(),t(e)}},h=async()=>{r=!0,await d()},p=async()=>{o=!0,await d()},g=async e=>{this.analytics.track(q.dW.CONNECTION_FAILED,(0,c.Z)((0,c.Z)((0,c.Z)({},n),(0,H.eX)(e)),{},{duration:Date.now()-l})),u(),t(e)};this.once(G.cS.CONNECTED,h),s.getIdentityToken&&this.once(G.cS.AUTHORIZED,p),this.once(G.cS.ERRORED,g),i.connect(s),this.setCurrentChain(a.chainId)})}async logout(e={cleanup:!1}){if(!tT.x.includes(this.status)||!this.connectedConnector)throw tO.RM.notConnectedError("No wallet is connected");this.connectedConnector.status!==G.Ak.DISCONNECTING&&await this.connectedConnector.disconnect(e)}async getUserInfo(){var e;if(tP.c.debug("Getting user info",this.status,null===(e=this.connectedConnector)||void 0===e?void 0:e.name),!tT.C.includes(this.status)||!this.connectedConnector)throw tO.RM.notConnectedError("No wallet is connected");return this.connectedConnector.getUserInfo()}async enableMFA(e){var t;if(!tT.x.includes(this.status)||!this.connectedConnector)throw tO.RM.notConnectedError("No wallet is connected");if(this.connectedConnector.name!==o.tp.AUTH)throw tO.RM.unsupportedOperation("EnableMFA is not supported for this connector.");let r=this.connectedConnector,n={connector:this.connectedConnector.name,auth_ux_mode:null===(t=r.authInstance)||void 0===t||null===(t=t.options)||void 0===t?void 0:t.uxMode};try{this.analytics.track(q.dW.MFA_ENABLEMENT_STARTED,n),await this.connectedConnector.enableMFA(e)}catch(e){throw this.analytics.track(q.dW.MFA_ENABLEMENT_FAILED,(0,c.Z)((0,c.Z)({},n),(0,H.eX)(e))),e}}async manageMFA(e){var t;if(!tT.x.includes(this.status)||!this.connectedConnector)throw tO.RM.notConnectedError("No wallet is connected");if(this.connectedConnector.name!==o.tp.AUTH)throw tO.RM.unsupportedOperation("ManageMFA is not supported for this connector.");let r=this.connectedConnector,n={connector:this.connectedConnector.name,auth_ux_mode:null===(t=r.authInstance)||void 0===t||null===(t=t.options)||void 0===t?void 0:t.uxMode};try{this.analytics.track(q.dW.MFA_MANAGEMENT_SELECTED,n),await this.connectedConnector.manageMFA(e)}catch(e){throw this.analytics.track(q.dW.MFA_MANAGEMENT_FAILED,(0,c.Z)((0,c.Z)({},n),(0,H.eX)(e))),e}}async getIdentityToken(){if(!tT.C.includes(this.status)||!this.connectedConnector)throw tO.RM.notConnectedError("No wallet is connected");let e={connector:this.connectedConnector.name};try{this.analytics.track(q.dW.IDENTITY_TOKEN_STARTED,e);let t=await this.connectedConnector.getIdentityToken();return this.analytics.track(q.dW.IDENTITY_TOKEN_COMPLETED,e),t}catch(t){throw this.analytics.track(q.dW.IDENTITY_TOKEN_FAILED,(0,c.Z)((0,c.Z)({},e),(0,H.eX)(t))),t}}getPlugin(e){return this.plugins[e]||null}setAnalyticsProperties(e){this.analytics.setGlobalProperties(e)}initChainsConfig(e){let t=new Map;for(let r of[...e.chains||[],...this.coreOptions.chains||[]]){let e=t.get(r.chainId);e?t.set(r.chainId,(0,c.Z)((0,c.Z)({},e),r)):t.set(r.chainId,r)}if(this.coreOptions.chains=Array.from(t.values()),0===this.coreOptions.chains.length)throw tP.c.error("chain info not found. Please configure chains on dashboard at https://dashboard.web3auth.io"),tO.Ty.invalidParams("Please configure chains on dashboard at https://dashboard.web3auth.io");let r=new Set(Object.values(f.E));for(let e of this.coreOptions.chains){if(!e.chainNamespace||!r.has(e.chainNamespace))throw tP.c.error(`Please provide a valid chainNamespace in chains for chain ${e.chainId}`),tO.Ty.invalidParams(`Please provide a valid chainNamespace in chains for chain ${e.chainId}`);if(e.chainNamespace!==f.E.OTHER&&!(0,H.H2)(e.chainId))throw tP.c.error(`Please provide a valid chainId in chains for chain ${e.chainId}`),tO.Ty.invalidParams(`Please provide a valid chainId as hex string in chains for chain ${e.chainId}`);if(e.chainNamespace!==f.E.OTHER)try{new URL(e.rpcTarget)}catch(t){throw tP.c.error(`Please provide a valid rpcTarget in chains for chain ${e.chainId}`,t),tO.Ty.invalidParams(`Please provide a valid rpcTarget in chains for chain ${e.chainId}`)}}if(this.coreOptions.accountAbstractionConfig){if(0===this.coreOptions.accountAbstractionConfig.chains.length)throw tP.c.error("Please configure chains for smart accounts on dashboard at https://dashboard.web3auth.io"),tO.Ty.invalidParams("Please configure chains for smart accounts on dashboard at https://dashboard.web3auth.io");for(let e of this.coreOptions.accountAbstractionConfig.chains){if(!(0,H.H2)(e.chainId))throw tP.c.error(`Please provide a valid chainId in accountAbstractionConfig.chains for chain ${e.chainId}`),tO.Ty.invalidParams(`Please provide a valid chainId in accountAbstractionConfig.chains for chain ${e.chainId}`);try{var n;new URL(null===(n=e.bundlerConfig)||void 0===n?void 0:n.url)}catch(t){throw tP.c.error(`Please provide a valid bundlerConfig.url in accountAbstractionConfig.chains for chain ${e.chainId}`,t),tO.Ty.invalidParams(`Please provide a valid bundlerConfig.url in accountAbstractionConfig.chains for chain ${e.chainId}`)}if(!t.has(e.chainId))throw tP.c.error(`Please provide chain config for AA chain in accountAbstractionConfig.chains for chain ${e.chainId}`),tO.Ty.invalidParams(`Please provide chain config for AA chain in accountAbstractionConfig.chains for chain ${e.chainId}`)}}}initAccountAbstractionConfig(e){var t;if(!(this.coreOptions.accountAbstractionConfig||(null==e?void 0:e.smartAccounts)))return;let r=(null==e?void 0:e.smartAccounts)||{},{walletScope:n}=r,i=d(r,tK),o=new Map;for(let e of[...(null==i?void 0:i.chains)||[],...(null===(t=this.coreOptions.accountAbstractionConfig)||void 0===t?void 0:t.chains)||[]]){let t=o.get(e.chainId);t?o.set(e.chainId,(0,c.Z)((0,c.Z)({},t),e)):o.set(e.chainId,e)}this.coreOptions.accountAbstractionConfig=(0,c.Z)((0,c.Z)({},B()(i||{},this.coreOptions.accountAbstractionConfig||{})),{},{chains:Array.from(o.values())}),void 0===this.coreOptions.useAAWithExternalWallet&&(this.coreOptions.useAAWithExternalWallet=n===U.RU.ALL)}initUIConfig(e){this.coreOptions.uiConfig=B().all([{mode:"light",uxMode:g.$e.POPUP},(0,m.Xh)(e.whitelabel||{}),this.coreOptions.uiConfig||{}])}initSessionTimeConfig(e){!this.coreOptions.sessionTime&&e.sessionTime&&(this.coreOptions.sessionTime=e.sessionTime)}initCachedConnectorAndChainId(){let e=this.state.currentChainId,t=e&&this.coreOptions.chains.some(t=>t.chainId===e);if(this.coreOptions.defaultChainId&&!(0,H.H2)(this.coreOptions.defaultChainId))throw tO.Ty.invalidParams("Please provide a valid defaultChainId in constructor");let r=t?e:this.coreOptions.defaultChainId||this.coreOptions.chains[0].chainId;this.setState({currentChainId:r})}initWalletServicesConfig(e){var t,r,n,i,o,a;let{enableKeyExport:s,walletUi:l}=e,{enablePortfolioWidget:u=!1,enableTokenDisplay:d=!0,enableNftDisplay:f=!0,enableWalletConnect:p=!0,enableBuyButton:g=!0,enableSendButton:m=!0,enableSwapButton:y=!0,enableReceiveButton:b=!0,enableShowAllTokensButton:w=!0,enableConfirmationModal:v=!1,enableDefiPositionsDisplay:E=!0,portfolioWidgetPosition:x="bottom-left",defaultPortfolio:A="token"}=l||{},S=B().all([{showWidgetButton:u,hideNftDisplay:!f,hideTokenDisplay:!d,hideTransfers:!m,hideTopup:!g,hideReceive:!b,hideSwap:!y,hideShowAllTokens:!w,hideWalletConnect:!p,hideDefiPositionsDisplay:!E,buttonPosition:x,defaultPortfolio:A},(null===(t=this.coreOptions.walletServicesConfig)||void 0===t?void 0:t.whiteLabel)||{}]),_=null!==(r=null===(n=this.coreOptions.walletServicesConfig)||void 0===n?void 0:n.confirmationStrategy)&&void 0!==r?r:v?h.MODAL:h.AUTO_APPROVE,I=null===(i=null!==(o=null===(a=this.coreOptions.walletServicesConfig)||void 0===a?void 0:a.enableKeyExport)&&void 0!==o?o:s)||void 0===i||i;this.coreOptions.walletServicesConfig=(0,c.Z)((0,c.Z)({},this.coreOptions.walletServicesConfig),{},{confirmationStrategy:_,whiteLabel:S,enableKeyExport:I})}getInitializationTrackData(){try{var e,t,r,n,i;let o=null===(e=this.coreOptions.chains)||void 0===e?void 0:e.find(e=>e.chainId===this.coreOptions.defaultChainId),a=Array.from(new Set(null===(t=this.coreOptions.chains)||void 0===t?void 0:t.map(e=>(0,H.Fo)(e.rpcTarget)))).filter(Boolean);return(0,c.Z)((0,c.Z)((0,c.Z)({chain_ids:null===(r=this.coreOptions.chains)||void 0===r?void 0:r.map(e=>(0,H.cN)(e)),chain_names:null===(n=this.coreOptions.chains)||void 0===n?void 0:n.map(e=>e.displayName),chain_rpc_targets:a,default_chain_id:o?(0,H.cN)(o):void 0,default_chain_name:null==o?void 0:o.displayName,logging_enabled:this.coreOptions.enableLogging,storage_type:this.coreOptions.storageType,session_time:this.coreOptions.sessionTime,sfa_key_enabled:this.coreOptions.useSFAKey,mipd_enabled:this.coreOptions.multiInjectedProviderDiscovery,private_key_provider_enabled:!!this.coreOptions.privateKeyProvider,ssr_enabled:this.coreOptions.ssr,auth_build_env:this.coreOptions.authBuildEnv,auth_ux_mode:null===(i=this.coreOptions.uiConfig)||void 0===i?void 0:i.uxMode,auth_mfa_level:this.coreOptions.mfaLevel,auth_mfa_settings:Object.keys(this.coreOptions.mfaSettings||{}),aa_enabled_for_external_wallets:this.coreOptions.accountAbstractionConfig?this.coreOptions.useAAWithExternalWallet:void 0},(0,H.Xj)(this.coreOptions.uiConfig)),(0,H.dl)(this.coreOptions.accountAbstractionConfig)),(0,H.Vn)(this.coreOptions.walletServicesConfig))}catch(e){return tP.c.error("Failed to get initialization track data",e),{}}}async setupCommonJRPCProvider(){this.commonJRPCProvider=await Y.getProviderInstance({chain:this.currentChain,chains:this.coreOptions.chains}),this.commonJRPCProvider.on("chainChanged",e=>this.setCurrentChain(e))}async setupConnector(e){this.subscribeToConnectorEvents(e);try{let t=this.getInitialChainIdForConnector(e),r=this.checkIfAutoConnect(e);await e.init({autoConnect:r,chainId:t.chainId,getIdentityToken:this.coreOptions.initialAuthenticationMode===G.Hd.CONNECT_AND_SIGN})}catch(t){tP.c.error(t,e.name)}}async loadConnectors({projectConfig:e,modalMode:t}){var n;let i=[...this.coreOptions.connectors||[],tM()],o={projectConfig:e,coreOptions:this.coreOptions,analytics:this.analytics},a=!!e.externalWalletAuth,s=a&&(null===(n=this.coreOptions.multiInjectedProviderDiscovery)||void 0===n||n),c=new Set(this.coreOptions.chains.map(e=>e.chainNamespace));if((0,H.jU)()&&c.has(f.E.EIP155)&&i.push(tZ(t?{headless:!0}:void 0)),s&&(0,H.jU)()){if(c.has(f.E.SOLANA)){let{createSolanaMipd:e,hasSolanaWalletStandardFeatures:t,walletStandardConnector:n}=await Promise.resolve().then(r.bind(r,64694)),a=e();a.on("register",async(...e)=>{let r=e.filter(t).map(e=>n(e)(o));this.setConnectors(r)}),i.push(...a.get().filter(e=>t(e)).map(n))}if(c.has(f.E.EIP155)){let{createMipd:e,injectedEvmConnector:t}=await r.e(6681).then(r.bind(r,96681)),n=e();n.subscribe(e=>{let r=e.map(e=>t(e)(o));this.setConnectors(r)}),i.push(...n.getProviders().map(t))}}if((0,H.jU)()&&a&&(c.has(f.E.SOLANA)||c.has(f.E.EIP155))){let{walletConnectV2Connector:e}=await r.e(2465).then(r.bind(r,82465));i.push(e())}let l=i.map(e=>e(o));this.setConnectors(l)}async initPlugins(){let{chains:e,plugins:t}=this.coreOptions,r=t||[];for(let t of(e.some(e=>e.chainNamespace===f.E.EIP155||e.chainNamespace===f.E.SOLANA)&&r.push(tz()),r)){let e=t();this.plugins[e.name]||(this.plugins[e.name]=e)}}setConnectors(e){let t=e=>`${e.connectorNamespace}-${e.name}`,r=new Set(this.connectors.map(t)),n=e.map(e=>{let n=t(e);return r.has(n)?null:(r.add(n),e)}).filter(e=>null!==e);n.length>0&&(this.connectors=[...this.connectors,...n],this.emit(G.cS.CONNECTORS_UPDATED,{connectors:n}))}subscribeToConnectorEvents(e){e.on(G.cS.CONNECTED,async t=>{var n,i,a;if(!this.commonJRPCProvider)throw tO.Ty.notFound("CommonJrpcProvider not found");let{provider:s,identityTokenInfo:l}=t;if(l&&this.setState({idToken:l.idToken}),this.coreOptions.ssr)try{let t=await e.getIdentityToken();if(!t.idToken)throw tO.RM.connectionError("No idToken found");this.setState({idToken:t.idToken})}catch(e){tP.c.error(e),this.status=G.Ak.ERRORED,this.emit(G.cS.ERRORED,e,this.loginMode);return}let u=s.provider||s,{accountAbstractionConfig:d}=this.coreOptions;if((null===(n=this.currentChain)||void 0===n?void 0:n.chainNamespace)===f.E.EIP155&&(null==d||null===(i=d.chains)||void 0===i?void 0:i.some(e=>{var t;return e.chainId===(null===(t=this.currentChain)||void 0===t?void 0:t.chainId)}))&&(t.connector===o.tp.AUTH||this.coreOptions.useAAWithExternalWallet)){let{accountAbstractionProvider:e,toEoaProvider:n}=await r.e(1580).then(r.bind(r,21580)),i=t.connector===o.tp.AUTH?await n(s):s,c=new Set((null==d||null===(a=d.chains)||void 0===a?void 0:a.map(e=>e.chainId))||[]),l=await e({accountAbstractionConfig:d,provider:i,chain:this.currentChain,chains:this.coreOptions.chains.filter(e=>c.has(e.chainId)),useProviderAsTransport:t.connector===o.tp.AUTH});this.aaProvider=l,t.connector!==o.tp.AUTH&&this.coreOptions.useAAWithExternalWallet&&(u=this.aaProvider)}this.commonJRPCProvider.updateProviderEngineProxy(u),this.setState({connectedConnectorName:t.connector}),this.cacheWallet(t.connector),this.status=G.Ak.CONNECTED,tP.c.debug("connected",this.status,this.connectedConnectorName),this.connectToPlugins((0,c.Z)((0,c.Z)({},t),{},{connector:t.connector})),this.emit(G.cS.CONNECTED,(0,c.Z)((0,c.Z)({},t),{},{loginMode:this.loginMode}))}),e.on(G.cS.DISCONNECTED,async()=>{this.commonJRPCProvider.removeAllListeners(),this.setupCommonJRPCProvider(),this.status=G.Ak.READY;let t=this.state.cachedConnector;this.connectedConnectorName===t&&this.clearCache(),tP.c.debug("disconnected",this.status,this.connectedConnectorName),await Promise.all(Object.values(this.plugins).map(async t=>{if(t.SUPPORTED_CONNECTORS.includes(e.name)&&t.status===tD.CONNECTED)return t.disconnect().catch(e=>{5211!==e.code&&tP.c.error(e)})})),this.setState({connectedConnectorName:null}),this.emit(G.cS.DISCONNECTED)}),e.on(G.cS.CONNECTING,e=>{this.status=G.Ak.CONNECTING,this.emit(G.cS.CONNECTING,e),tP.c.debug("connecting",this.status,this.connectedConnectorName)}),e.on(G.cS.ERRORED,e=>{this.status=G.Ak.ERRORED,this.clearCache(),this.emit(G.cS.ERRORED,e,this.loginMode),tP.c.debug("errored",this.status,this.connectedConnectorName)}),e.on(G.cS.REHYDRATION_ERROR,e=>{this.status=G.Ak.READY,this.clearCache(),this.emit(G.cS.REHYDRATION_ERROR,e)}),e.on(G.cS.CONNECTOR_DATA_UPDATED,e=>{tP.c.debug("connector data updated",e),this.emit(G.cS.CONNECTOR_DATA_UPDATED,e)}),e.on(G.cS.CACHE_CLEAR,e=>{tP.c.debug("connector cache clear",e),this.clearCache()}),e.on(G.cS.MFA_ENABLED,e=>{var t;tP.c.debug("mfa enabled",e);let r=this.connectedConnector;this.analytics.track(q.dW.MFA_ENABLEMENT_COMPLETED,{connector:this.connectedConnector.name,auth_ux_mode:null===(t=r.authInstance)||void 0===t||null===(t=t.options)||void 0===t?void 0:t.uxMode,is_mfa_enabled:e}),this.emit(G.cS.MFA_ENABLED,e)}),e.on(G.cS.AUTHORIZING,e=>{this.status=G.Ak.AUTHORIZING,this.emit(G.cS.AUTHORIZING,e),tP.c.debug("authorizing",this.status,this.connectedConnectorName)}),e.on(G.cS.AUTHORIZED,e=>{this.status=G.Ak.AUTHORIZED,this.setState({idToken:e.identityTokenInfo.idToken}),this.emit(G.cS.AUTHORIZED,e),tP.c.debug("authorized",this.status,this.connectedConnectorName)})}checkInitRequirements(){if(this.status===G.Ak.READY)throw tO.Ty.notReady("Connector is already initialized")}checkIfAutoConnect(e){var t;let r=this.cachedConnector===e.name;return r&&null!==(t=this.currentChain)&&void 0!==t&&t.chainNamespace&&(r=e.connectorNamespace===tC.$.MULTICHAIN||e.connectorNamespace===this.currentChain.chainNamespace),r}getInitialChainIdForConnector(e){var t;let r=this.currentChain;if((null===(t=r)||void 0===t?void 0:t.chainNamespace)!==e.connectorNamespace&&e.connectorNamespace!==tC.$.MULTICHAIN&&!(r=this.coreOptions.chains.find(t=>t.chainNamespace===e.connectorNamespace)))throw tO.Ty.invalidParams(`No chain found for ${e.connectorNamespace}`);return r}cacheWallet(e){this.setState({cachedConnector:e})}setCurrentChain(e){if(e!==this.currentChainId){if(!this.coreOptions.chains.find(t=>t.chainId===e))throw tO.Ty.invalidParams(`Invalid chainId: ${e}`);this.setState({currentChainId:e})}}connectToPlugins(e){Object.values(this.plugins).map(async t=>{try{var r;if(!t.SUPPORTED_CONNECTORS.includes(e.connector)||t.pluginNamespace!==tR.MULTICHAIN&&t.pluginNamespace!==(null===(r=this.currentChain)||void 0===r?void 0:r.chainNamespace)||t.status===tD.CONNECTED)return;await t.initWithWeb3Auth(this,this.coreOptions.uiConfig,this.analytics),await t.connect()}catch(e){if(5211===e.code)return;tP.c.error(e)}})}setState(e){this.state=(0,c.Z)((0,c.Z)({},this.state),e),this.storage.setItem(U.cJ,JSON.stringify(this.state))}loadState(e){if(e){this.state=e;return}let t=this.storage.getItem(U.cJ);t&&(this.state=j(t))}getStorageMethod(){return this.coreOptions.ssr||"cookies"===this.coreOptions.storageType?$({expiry:this.coreOptions.sessionTime}):"session"===this.coreOptions.storageType&&(0,tq.oZ)("sessionStorage")?window.sessionStorage:"local"===this.coreOptions.storageType&&(0,tq.oZ)("localStorage")?window.localStorage:new R}}let tJ={MAINNET:"mainnet",TESTNET:"testnet",CYAN:"cyan",AQUA:"aqua",CELESTE:"celeste"},tX={SAPPHIRE_DEVNET:"sapphire_devnet",SAPPHIRE_MAINNET:"sapphire_mainnet"};tJ.MAINNET,tJ.TESTNET,tJ.CYAN,tJ.AQUA,tJ.CELESTE,tJ.AQUA,tX.SAPPHIRE_MAINNET,tJ.CELESTE,tX.SAPPHIRE_MAINNET,tJ.CYAN,tX.SAPPHIRE_MAINNET,tJ.MAINNET,tX.SAPPHIRE_MAINNET,tJ.TESTNET,tX.SAPPHIRE_DEVNET,tJ.MAINNET,tJ.TESTNET,tJ.CYAN,tJ.AQUA,tJ.CELESTE,tX.SAPPHIRE_MAINNET,tX.SAPPHIRE_DEVNET,tJ.MAINNET,tJ.TESTNET,tJ.CYAN,tJ.AQUA,tJ.CELESTE,tJ.MAINNET,tJ.TESTNET,tJ.CYAN,tJ.AQUA,tJ.CELESTE;let tQ=(0,c.Z)((0,c.Z)({},tX),tJ),t0={PRODUCTION:"production",DEVELOPMENT:"development",STAGING:"staging",TESTING:"testing"};function t1(e){return e.charAt(0).toUpperCase()+e.slice(1)}let t2=new Set([g.Ck.CUSTOM,g.Ck.PASSKEYS,g.Ck.TELEGRAM,g.Ck.AUTHENTICATOR]),t3=Object.values(g.Ck).filter(e=>!t2.has(e)),t6=t3.reduce((e,t)=>("email_passwordless"===t?e[t]="Email":"sms_passwordless"===t?e[t]="Mobile":e[t]=t1(t),e),{}),t5={[t0.DEVELOPMENT]:"https://api-develop.web3auth.io/passwordless-service",[t0.STAGING]:"https://api.web3auth.io/passwordless-service",[t0.PRODUCTION]:"https://api.web3auth.io/passwordless-service",[t0.TESTING]:"https://api-develop.web3auth.io/passwordless-service"},t8={MODAL_VISIBILITY:"MODAL_VISIBILITY"},t4={INITIALIZED:"initialized",CONNECTED:"connected",CONNECTING:"connecting",ERRORED:"errored",AUTHORIZING:"authorizing",AUTHORIZED:"authorized"},t9=((as={}).SUCCESS="success",as.ERROR="error",as.WARNING="warning",as.INFO="info",as);!function(e,t){void 0===t&&(t={});var r=t.insertAt;if("undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===r&&n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}('@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap");.w3a-parent-container *,.w3a-parent-container :after,.w3a-parent-container :before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:#3b82f680;--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }.w3a-parent-container ::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:#3b82f680;--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }\n/*! tailwindcss v3.4.18 | MIT License | https://tailwindcss.com*/.w3a-parent-container *,.w3a-parent-container :after,.w3a-parent-container :before{border:0 solid;box-sizing:border-box}.w3a-parent-container :after,.w3a-parent-container :before{--tw-content:""}.w3a-parent-container :host,.w3a-parent-container html{-webkit-text-size-adjust:100%;font-feature-settings:normal;-webkit-tap-highlight-color:transparent;font-family:ui-sans-serif,system-ui,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-variation-settings:normal;line-height:1.5;-moz-tab-size:4;tab-size:4}.w3a-parent-container body{line-height:inherit;margin:0}.w3a-parent-container hr{border-top-width:1px;color:inherit;height:0}.w3a-parent-container abbr:where([title]){text-decoration:underline dotted}.w3a-parent-container h1,.w3a-parent-container h2,.w3a-parent-container h3,.w3a-parent-container h4,.w3a-parent-container h5,.w3a-parent-container h6{font-size:inherit;font-weight:inherit}.w3a-parent-container a{color:inherit;text-decoration:inherit}.w3a-parent-container b,.w3a-parent-container strong{font-weight:bolder}.w3a-parent-container code,.w3a-parent-container kbd,.w3a-parent-container pre,.w3a-parent-container samp{font-feature-settings:normal;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em;font-variation-settings:normal}.w3a-parent-container small{font-size:80%}.w3a-parent-container sub,.w3a-parent-container sup{font-size:75%;line-height:0;position:relative;vertical-align:initial}.w3a-parent-container sub{bottom:-.25em}.w3a-parent-container sup{top:-.5em}.w3a-parent-container table{border-collapse:collapse;border-color:inherit;text-indent:0}.w3a-parent-container button,.w3a-parent-container input,.w3a-parent-container optgroup,.w3a-parent-container select,.w3a-parent-container textarea{font-feature-settings:inherit;color:inherit;font-family:inherit;font-size:100%;font-variation-settings:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0}.w3a-parent-container button,.w3a-parent-container select{text-transform:none}.w3a-parent-container button,.w3a-parent-container input:where([type=button]),.w3a-parent-container input:where([type=reset]),.w3a-parent-container input:where([type=submit]){-webkit-appearance:button;background-color:initial;background-image:none}.w3a-parent-container :-moz-focusring{outline:auto}.w3a-parent-container :-moz-ui-invalid{box-shadow:none}.w3a-parent-container progress{vertical-align:initial}.w3a-parent-container ::-webkit-inner-spin-button,.w3a-parent-container ::-webkit-outer-spin-button{height:auto}.w3a-parent-container [type=search]{-webkit-appearance:textfield;outline-offset:-2px}.w3a-parent-container ::-webkit-search-decoration{-webkit-appearance:none}.w3a-parent-container ::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}.w3a-parent-container summary{display:list-item}.w3a-parent-container blockquote,.w3a-parent-container dd,.w3a-parent-container dl,.w3a-parent-container figure,.w3a-parent-container h1,.w3a-parent-container h2,.w3a-parent-container h3,.w3a-parent-container h4,.w3a-parent-container h5,.w3a-parent-container h6,.w3a-parent-container hr,.w3a-parent-container p,.w3a-parent-container pre{margin:0}.w3a-parent-container fieldset{margin:0;padding:0}.w3a-parent-container legend{padding:0}.w3a-parent-container menu,.w3a-parent-container ol,.w3a-parent-container ul{list-style:none;margin:0;padding:0}.w3a-parent-container dialog{padding:0}.w3a-parent-container textarea{resize:vertical}.w3a-parent-container input::placeholder,.w3a-parent-container textarea::placeholder{color:#9ca3af;opacity:1}.w3a-parent-container [role=button],.w3a-parent-container button{cursor:pointer}.w3a-parent-container :disabled{cursor:default}.w3a-parent-container audio,.w3a-parent-container canvas,.w3a-parent-container embed,.w3a-parent-container iframe,.w3a-parent-container img,.w3a-parent-container object,.w3a-parent-container svg,.w3a-parent-container video{display:block;vertical-align:middle}.w3a-parent-container img,.w3a-parent-container video{height:auto;max-width:100%}.w3a-parent-container [hidden]:where(:not([hidden=until-found])){display:none}.w3a-parent-container{--app-on-primary:#fff;--app-primary-50:#ebf5ff;--app-primary-100:#e1effe;--app-primary-200:#c3ddfd;--app-primary-300:#a4cafe;--app-primary-400:#76a9fa;--app-primary-500:#3f83f8;--app-primary-600:#0346ff;--app-primary-700:#1a56db;--app-primary-800:#1e429f;--app-primary-900:#233876;--app-gray-50:#f9fafb;--app-gray-100:#f3f4f6;--app-gray-200:#e5e7eb;--app-gray-300:#d1d5db;--app-gray-400:#9ca3af;--app-gray-500:#6b7280;--app-gray-600:#4b5563;--app-gray-700:#374151;--app-gray-800:#1f2a37;--app-gray-900:#111928;--app-blue-50:#ebf5ff;--app-blue-100:#e1effe;--app-blue-200:#c3ddfd;--app-blue-300:#a4cafe;--app-blue-400:#76a9fa;--app-blue-500:#3f83f8;--app-blue-600:#0346ff;--app-blue-700:#1a56db;--app-blue-800:#1e429f;--app-blue-900:#233876;--app-red-50:#fdf2f2;--app-red-100:#fde8e8;--app-red-200:#fbd5d5;--app-red-300:#f8b4b4;--app-red-400:#f98080;--app-red-500:#f05252;--app-red-600:#e02424;--app-red-700:#c81e1e;--app-red-800:#9b1c1c;--app-red-900:#771d1d;--app-green-50:#f3faf7;--app-green-100:#def7ec;--app-green-200:#bcf0da;--app-green-300:#84e1bc;--app-green-400:#31c48d;--app-green-500:#0e9f6e;--app-green-600:#057a55;--app-green-700:#046c4e;--app-green-800:#03543f;--app-green-900:#014737;--app-yellow-50:#fdfdea;--app-yellow-100:#fdf6b2;--app-yellow-200:#fce96a;--app-yellow-300:#faca15;--app-yellow-400:#e3a008;--app-yellow-500:#c27803;--app-yellow-600:#9f580a;--app-yellow-700:#8e4b10;--app-yellow-800:#723b13;--app-yellow-900:#633112;--app-success:#30cca4;--app-warning:#fbc94a;--app-error:#fb4a61;--app-info:#d4d4d4;--app-white:#fff;--app-black:#000}.w3a-parent-container body{box-sizing:border-box;margin:0!important;padding:0!important}.w3a-parent-container{font-family:Inter;position:relative}.w3a-parent-container .w3a-parent-container>*{scrollbar-color:#e5e7eb!important}.w3a-parent-container .w3a--social-container{scroll-padding-right:10px;scrollbar-color:#e5e7eb!important}.w3a-parent-container .w3a--modal-curtain{background-color:initial;left:0;opacity:0;position:absolute;right:0;top:0;transition:opacity 50ms ease-in;z-index:1}.w3a-parent-container .w3a--fixed{position:fixed}.w3a-parent-container .w3a--absolute{position:absolute}.w3a-parent-container .w3a--relative{position:relative}.w3a-parent-container .w3a--inset-0{inset:0}.w3a-parent-container .w3a--inset-x-4{left:1rem;right:1rem}.w3a-parent-container .w3a--bottom-2{bottom:.5rem}.w3a-parent-container .w3a--bottom-4{bottom:1rem}.w3a-parent-container .w3a--bottom-8{bottom:2rem}.w3a-parent-container .w3a--bottom-\\[100\\%\\]{bottom:100%}.w3a-parent-container .w3a--left-0{left:0}.w3a-parent-container .w3a--left-2{left:.5rem}.w3a-parent-container .w3a--left-\\[50\\%\\]{left:50%}.w3a-parent-container .w3a--right-4{right:1rem}.w3a-parent-container .w3a--right-6{right:1.5rem}.w3a-parent-container .w3a--top-0{top:0}.w3a-parent-container .w3a--top-1\\/2{top:50%}.w3a-parent-container .w3a--top-4{top:1rem}.w3a-parent-container .w3a--top-8{top:2rem}.w3a-parent-container .w3a--top-\\[16px\\]{top:16px}.w3a-parent-container .w3a--top-\\[30px\\]{top:30px}.w3a-parent-container .w3a--z-10{z-index:10}.w3a-parent-container .w3a--z-20{z-index:20}.w3a-parent-container .w3a--z-50{z-index:50}.w3a-parent-container .w3a--z-\\[-1\\]{z-index:-1}.w3a-parent-container .w3a--z-\\[45\\]{z-index:45}.w3a-parent-container .w3a--z-\\[60\\]{z-index:60}.w3a-parent-container .w3a--mx-auto{margin-left:auto;margin-right:auto}.w3a-parent-container .w3a--my-2{margin-bottom:.5rem;margin-top:.5rem}.w3a-parent-container .w3a--my-4{margin-bottom:1rem;margin-top:1rem}.w3a-parent-container .w3a--my-6{margin-bottom:1.5rem;margin-top:1.5rem}.w3a-parent-container .-w3a--mt-10{margin-top:-2.5rem}.w3a-parent-container .-w3a--mt-2{margin-top:-.5rem}.w3a-parent-container .-w3a--mt-6{margin-top:-1.5rem}.w3a-parent-container .w3a--mb-2{margin-bottom:.5rem}.w3a-parent-container .w3a--ml-0{margin-left:0}.w3a-parent-container .w3a--ml-2{margin-left:.5rem}.w3a-parent-container .w3a--ml-4{margin-left:1rem}.w3a-parent-container .w3a--mr-2\\.5{margin-right:.625rem}.w3a-parent-container .w3a--mr-auto{margin-right:auto}.w3a-parent-container .w3a--mt-2{margin-top:.5rem}.w3a-parent-container .w3a--mt-3{margin-top:.75rem}.w3a-parent-container .w3a--mt-auto{margin-top:auto}.w3a-parent-container .w3a--block{display:block}.w3a-parent-container .w3a--flex{display:flex}.w3a-parent-container .w3a--inline-flex{display:inline-flex}.w3a-parent-container .w3a--grid{display:grid}.w3a-parent-container .w3a--contents{display:contents}.w3a-parent-container .w3a--hidden{display:none}.w3a-parent-container .w3a--size-10{height:2.5rem;width:2.5rem}.w3a-parent-container .w3a--size-3{height:.75rem;width:.75rem}.w3a-parent-container .w3a--size-5{height:1.25rem;width:1.25rem}.w3a-parent-container .w3a--size-\\[300px\\]{height:300px;width:300px}.w3a-parent-container .w3a--size-auto{height:auto;width:auto}.w3a-parent-container .w3a--size-full{height:100%;width:100%}.w3a-parent-container .w3a--h-0{height:0}.w3a-parent-container .w3a--h-11{height:2.75rem}.w3a-parent-container .w3a--h-12{height:3rem}.w3a-parent-container .w3a--h-9{height:2.25rem}.w3a-parent-container .w3a--h-\\[280px\\]{height:280px}.w3a-parent-container .w3a--h-\\[300px\\]{height:300px}.w3a-parent-container .w3a--h-\\[328px\\]{height:328px}.w3a-parent-container .w3a--h-\\[42px\\]{height:42px}.w3a-parent-container .w3a--h-\\[50px\\]{height:50px}.w3a-parent-container .w3a--h-auto{height:auto}.w3a-parent-container .w3a--h-full{height:100%}.w3a-parent-container .w3a--h-px{height:1px}.w3a-parent-container .w3a--h-screen{height:100vh}.w3a-parent-container .w3a--w-0{width:0}.w3a-parent-container .w3a--w-12{width:3rem}.w3a-parent-container .w3a--w-4\\/5{width:80%}.w3a-parent-container .w3a--w-\\[100px\\]{width:100px}.w3a-parent-container .w3a--w-\\[104px\\]{width:104px}.w3a-parent-container .w3a--w-\\[200px\\]{width:200px}.w3a-parent-container .w3a--w-\\[356px\\]{width:356px}.w3a-parent-container .w3a--w-\\[90\\%\\]{width:90%}.w3a-parent-container .w3a--w-\\[96\\%\\]{width:96%}.w3a-parent-container .w3a--w-auto{width:auto}.w3a-parent-container .w3a--w-full{width:100%}.w3a-parent-container .w3a--w-max{width:max-content}.w3a-parent-container .w3a--w-screen{width:100vw}.w3a-parent-container .w3a--max-w-\\[180px\\]{max-width:180px}.w3a-parent-container .w3a--flex-1{flex:1 1 0%}.w3a-parent-container .-w3a--translate-x-10{--tw-translate-x:-2.5rem}.w3a-parent-container .-w3a--translate-x-10,.w3a-parent-container .-w3a--translate-x-6{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .-w3a--translate-x-6{--tw-translate-x:-1.5rem}.w3a-parent-container .-w3a--translate-y-1\\/2{--tw-translate-y:-50%}.w3a-parent-container .-w3a--translate-y-1\\/2,.w3a-parent-container .w3a--translate-y-0{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .w3a--translate-y-0{--tw-translate-y:0px}.w3a-parent-container .w3a--translate-y-\\[100vh\\]{--tw-translate-y:100vh}.w3a-parent-container .w3a--translate-y-\\[100vh\\],.w3a-parent-container .w3a--translate-y-full{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .w3a--translate-y-full{--tw-translate-y:100%}@keyframes w3a--pulse{50%{opacity:.5}}.w3a-parent-container .w3a--animate-pulse{animation:w3a--pulse 2s cubic-bezier(.4,0,.6,1) infinite}@keyframes w3a--spin{to{transform:rotate(1turn)}}.w3a-parent-container .w3a--animate-spin{animation:w3a--spin 1s linear infinite}.w3a-parent-container .w3a--cursor-not-allowed{cursor:not-allowed}.w3a-parent-container .w3a--cursor-pointer{cursor:pointer}.w3a-parent-container .w3a--appearance-none{appearance:none}.w3a-parent-container .w3a--auto-rows-min{grid-auto-rows:min-content}.w3a-parent-container .w3a--grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.w3a-parent-container .w3a--grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.w3a-parent-container .w3a--grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.w3a-parent-container .w3a--grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.w3a-parent-container .w3a--flex-col{flex-direction:column}.w3a-parent-container .w3a--items-start{align-items:flex-start}.w3a-parent-container .w3a--items-end{align-items:flex-end}.w3a-parent-container .w3a--items-center{align-items:center}.w3a-parent-container .\\!w3a--justify-start{justify-content:flex-start!important}.w3a-parent-container .w3a--justify-start{justify-content:flex-start}.w3a-parent-container .\\!w3a--justify-center{justify-content:center!important}.w3a-parent-container .w3a--justify-center{justify-content:center}.w3a-parent-container .\\!w3a--justify-between{justify-content:space-between!important}.w3a-parent-container .w3a--justify-between{justify-content:space-between}.w3a-parent-container .w3a--justify-items-start{justify-items:start}.w3a-parent-container .w3a--gap-2{gap:.5rem}.w3a-parent-container .w3a--gap-3{gap:.75rem}.w3a-parent-container .w3a--gap-x-1{column-gap:.25rem}.w3a-parent-container .w3a--gap-x-2{column-gap:.5rem}.w3a-parent-container .w3a--gap-x-4{column-gap:1rem}.w3a-parent-container .w3a--gap-x-6{column-gap:1.5rem}.w3a-parent-container .w3a--gap-y-1{row-gap:.25rem}.w3a-parent-container .w3a--gap-y-2{row-gap:.5rem}.w3a-parent-container .w3a--gap-y-4{row-gap:1rem}.w3a-parent-container .w3a--gap-y-6{row-gap:1.5rem}.w3a-parent-container .w3a--space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse:0;margin-left:calc(.5rem*(1 - var(--tw-space-x-reverse)));margin-right:calc(.5rem*var(--tw-space-x-reverse))}.w3a-parent-container .w3a--overflow-hidden{overflow:hidden}.w3a-parent-container .w3a--overflow-y-auto{overflow-y:auto}.w3a-parent-container .w3a--truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.w3a-parent-container .w3a--rounded{border-radius:.25rem}.w3a-parent-container .w3a--rounded-2xl{border-radius:1rem}.w3a-parent-container .w3a--rounded-3xl{border-radius:1.5rem}.w3a-parent-container .w3a--rounded-\\[30px\\]{border-radius:30px}.w3a-parent-container .w3a--rounded-full{border-radius:9999px}.w3a-parent-container .w3a--rounded-lg{border-radius:.5rem}.w3a-parent-container .w3a--rounded-md{border-radius:.375rem}.w3a-parent-container .w3a--rounded-none{border-radius:0}.w3a-parent-container .w3a--rounded-xl{border-radius:.75rem}.w3a-parent-container .w3a--border{border-width:1px}.w3a-parent-container .\\!w3a--border-app-primary-600{border-color:var(--app-primary-600)!important}.w3a-parent-container .w3a--border-app-blue-200{border-color:var(--app-blue-200)}.w3a-parent-container .w3a--border-app-gray-100{border-color:var(--app-gray-100)}.w3a-parent-container .w3a--border-app-gray-200{border-color:var(--app-gray-200)}.w3a-parent-container .w3a--border-app-gray-300{border-color:var(--app-gray-300)}.w3a-parent-container .w3a--border-app-gray-800{border-color:var(--app-gray-800)}.w3a-parent-container .w3a--border-app-green-200{border-color:var(--app-green-200)}.w3a-parent-container .w3a--border-app-green-400{border-color:var(--app-green-400)}.w3a-parent-container .w3a--border-app-red-200{border-color:var(--app-red-200)}.w3a-parent-container .w3a--border-app-red-600{border-color:var(--app-red-600)}.w3a-parent-container .w3a--border-app-yellow-200{border-color:var(--app-yellow-200)}.w3a-parent-container .w3a--border-transparent{border-color:#0000}.w3a-parent-container .\\!w3a--bg-app-gray-800{background-color:var(--app-gray-800)!important}.w3a-parent-container .w3a--bg-app-blue-100{background-color:var(--app-blue-100)}.w3a-parent-container .w3a--bg-app-gray-100{background-color:var(--app-gray-100)}.w3a-parent-container .w3a--bg-app-gray-200{background-color:var(--app-gray-200)}.w3a-parent-container .w3a--bg-app-gray-400{background-color:var(--app-gray-400)}.w3a-parent-container .w3a--bg-app-gray-50{background-color:var(--app-gray-50)}.w3a-parent-container .w3a--bg-app-gray-500{background-color:var(--app-gray-500)}.w3a-parent-container .w3a--bg-app-gray-800{background-color:var(--app-gray-800)}.w3a-parent-container .w3a--bg-app-green-100{background-color:var(--app-green-100)}.w3a-parent-container .w3a--bg-app-light-surface1{background-color:var(--app-white)}.w3a-parent-container .w3a--bg-app-primary-100{background-color:var(--app-primary-100)}.w3a-parent-container .w3a--bg-app-red-100{background-color:var(--app-red-100)}.w3a-parent-container .w3a--bg-app-white{background-color:var(--app-white)}.w3a-parent-container .w3a--bg-app-yellow-100{background-color:var(--app-yellow-100)}.w3a-parent-container .w3a--bg-transparent{background-color:initial}.w3a-parent-container .w3a--object-contain{object-fit:contain}.w3a-parent-container .w3a--p-0{padding:0}.w3a-parent-container .w3a--p-2{padding:.5rem}.w3a-parent-container .w3a--p-3{padding:.75rem}.w3a-parent-container .w3a--p-4{padding:1rem}.w3a-parent-container .w3a--p-6{padding:1.5rem}.w3a-parent-container .w3a--px-2{padding-left:.5rem;padding-right:.5rem}.w3a-parent-container .w3a--px-2\\.5{padding-left:.625rem;padding-right:.625rem}.w3a-parent-container .w3a--px-4{padding-left:1rem;padding-right:1rem}.w3a-parent-container .w3a--px-5{padding-left:1.25rem;padding-right:1.25rem}.w3a-parent-container .w3a--px-\\[6px\\]{padding-left:6px;padding-right:6px}.w3a-parent-container .w3a--py-0\\.5{padding-bottom:.125rem;padding-top:.125rem}.w3a-parent-container .w3a--py-1{padding-bottom:.25rem;padding-top:.25rem}.w3a-parent-container .w3a--py-2{padding-bottom:.5rem;padding-top:.5rem}.w3a-parent-container .w3a--py-2\\.5{padding-bottom:.625rem;padding-top:.625rem}.w3a-parent-container .w3a--py-3{padding-bottom:.75rem;padding-top:.75rem}.w3a-parent-container .w3a--py-6{padding-bottom:1.5rem;padding-top:1.5rem}.w3a-parent-container .w3a--py-\\[3px\\]{padding-bottom:3px;padding-top:3px}.w3a-parent-container .w3a--pl-2{padding-left:.5rem}.w3a-parent-container .w3a--pl-6{padding-left:1.5rem}.w3a-parent-container .w3a--pr-1\\.5{padding-right:.375rem}.w3a-parent-container .w3a--pr-2\\.5{padding-right:.625rem}.w3a-parent-container .w3a--pr-3{padding-right:.75rem}.w3a-parent-container .w3a--pt-5{padding-top:1.25rem}.w3a-parent-container .w3a--pt-6{padding-top:1.5rem}.w3a-parent-container .w3a--text-left{text-align:left}.w3a-parent-container .w3a--text-center{text-align:center}.w3a-parent-container .w3a--text-start{text-align:start}.w3a-parent-container .w3a--text-3xl{font-size:1.875rem;line-height:2.25rem}.w3a-parent-container .w3a--text-base{font-size:1rem;line-height:1.5rem}.w3a-parent-container .w3a--text-lg{font-size:1.125rem;line-height:1.75rem}.w3a-parent-container .w3a--text-sm{font-size:.875rem;line-height:1.25rem}.w3a-parent-container .w3a--text-xl{font-size:1.25rem;line-height:1.75rem}.w3a-parent-container .w3a--text-xs{font-size:.75rem;line-height:1rem}.w3a-parent-container .w3a--font-bold{font-weight:700}.w3a-parent-container .w3a--font-medium{font-weight:500}.w3a-parent-container .w3a--font-normal{font-weight:400}.w3a-parent-container .w3a--font-semibold{font-weight:600}.w3a-parent-container .w3a--uppercase{text-transform:uppercase}.w3a-parent-container .w3a--text-app-blue-900{color:var(--app-blue-900)}.w3a-parent-container .w3a--text-app-gray-100{color:var(--app-gray-100)}.w3a-parent-container .w3a--text-app-gray-400{color:var(--app-gray-400)}.w3a-parent-container .w3a--text-app-gray-500{color:var(--app-gray-500)}.w3a-parent-container .w3a--text-app-gray-700{color:var(--app-gray-700)}.w3a-parent-container .w3a--text-app-gray-900{color:var(--app-gray-900)}.w3a-parent-container .w3a--text-app-green-400{color:var(--app-green-400)}.w3a-parent-container .w3a--text-app-green-500{color:var(--app-green-500)}.w3a-parent-container .w3a--text-app-green-900{color:var(--app-green-900)}.w3a-parent-container .w3a--text-app-primary-600{color:var(--app-primary-600)}.w3a-parent-container .w3a--text-app-primary-800{color:var(--app-primary-800)}.w3a-parent-container .w3a--text-app-red-400{color:var(--app-red-400)}.w3a-parent-container .w3a--text-app-red-500{color:var(--app-red-500)}.w3a-parent-container .w3a--text-app-red-900{color:var(--app-red-900)}.w3a-parent-container .w3a--text-app-yellow-900{color:var(--app-yellow-900)}.w3a-parent-container .w3a--opacity-0{opacity:0}.w3a-parent-container .w3a--shadow-2xl{--tw-shadow:0 25px 50px -12px #00000040;--tw-shadow-colored:0 25px 50px -12px var(--tw-shadow-color)}.w3a-parent-container .w3a--shadow-2xl,.w3a-parent-container .w3a--shadow-lg{box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.w3a-parent-container .w3a--shadow-lg{--tw-shadow:0 10px 15px -3px #0000001a,0 4px 6px -4px #0000001a;--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color),0 4px 6px -4px var(--tw-shadow-color)}.w3a-parent-container .w3a--shadow-xl{--tw-shadow:0 20px 25px -5px #0000001a,0 8px 10px -6px #0000001a;--tw-shadow-colored:0 20px 25px -5px var(--tw-shadow-color),0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.w3a-parent-container .w3a--outline-none{outline:2px solid #0000;outline-offset:2px}.w3a-parent-container .w3a--transition-all{transition-duration:.15s;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1)}.w3a-parent-container .w3a--transition-opacity{transition-duration:.15s;transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1)}.w3a-parent-container .w3a--transition-transform{transition-duration:.15s;transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1)}.w3a-parent-container .w3a--delay-100{transition-delay:.1s}.w3a-parent-container .w3a--delay-300{transition-delay:.3s}.w3a-parent-container .w3a--delay-500{transition-delay:.5s}.w3a-parent-container .w3a--delay-700{transition-delay:.7s}.w3a-parent-container .w3a--duration-150{transition-duration:.15s}.w3a-parent-container .w3a--duration-300{transition-duration:.3s}.w3a-parent-container .w3a--duration-500{transition-duration:.5s}.w3a-parent-container .w3a--duration-\\[400ms\\]{transition-duration:.4s}.w3a-parent-container .w3a--ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.w3a-parent-container .w3a--ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.w3a-parent-container .w3a--bottom-sheet-bg{background-color:var(--app-gray-600);opacity:.5}.w3a-parent-container .w3a--connected-logo{color:var(--app-green-500);height:4rem;width:4rem}.w3a-parent-container .w3a--connected-logo:is(.w3a--dark *){color:var(--app-green-400)}.w3a-parent-container .w3a--error-logo{color:var(--app-red-500);height:4rem;width:4rem}.w3a-parent-container .w3a--error-logo:is(.w3a--dark *){color:var(--app-red-400)}.w3a-parent-container .w3a--btn{align-items:center;appearance:none;border-color:var(--app-gray-200);border-width:1px;color:var(--app-gray-700);column-gap:.5rem;display:flex;font-size:1rem;font-weight:400;justify-content:center;line-height:1.5rem;padding:.75rem 1.25rem;width:100%}.w3a-parent-container .w3a--btn:hover{--tw-translate-y:0.5px;--tw-shadow:0px 2px 8px 2px #e5e7eb;--tw-shadow-colored:0px 2px 8px 2px var(--tw-shadow-color);background-color:var(--app-gray-50);border-color:var(--app-gray-50);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow);transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .w3a--btn:is(.w3a--dark *){border-color:var(--app-gray-500)}.w3a-parent-container .w3a--btn:hover:is(.w3a--dark *){--tw-shadow:0px 2px 8px 2px #111928;--tw-shadow-colored:0px 2px 8px 2px var(--tw-shadow-color);background-color:var(--app-gray-800);border-color:var(--app-gray-800);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.w3a-parent-container .w3a--input{align-items:center;border-color:var(--app-gray-200);border-width:1px;column-gap:.5rem;display:flex;justify-content:space-between;padding:.75rem 1.25rem;width:100%}.w3a-parent-container .w3a--input:is(.w3a--dark *){border-color:var(--app-gray-500)}.w3a-parent-container .first-letter\\:w3a--capitalize:first-letter{text-transform:capitalize}.w3a-parent-container .placeholder\\:w3a--text-xs::placeholder{font-size:.75rem;line-height:1rem}.w3a-parent-container .placeholder\\:w3a--text-app-gray-400::placeholder{color:var(--app-gray-400)}.w3a-parent-container .hover\\:w3a--translate-y-\\[0\\.5px\\]:hover{--tw-translate-y:0.5px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .hover\\:w3a--border-app-gray-50:hover{border-color:var(--app-gray-50)}.w3a-parent-container .hover\\:w3a--border-transparent:hover{border-color:#0000}.w3a-parent-container .hover\\:\\!w3a--bg-app-gray-100:hover{background-color:var(--app-gray-100)!important}.w3a-parent-container .hover\\:w3a--bg-app-gray-200:hover{background-color:var(--app-gray-200)}.w3a-parent-container .hover\\:w3a--text-app-gray-900:hover{color:var(--app-gray-900)}.w3a-parent-container .hover\\:w3a--shadow-light:hover{--tw-shadow:0px 2px 8px 2px #e5e7eb;--tw-shadow-colored:0px 2px 8px 2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.w3a-parent-container .focus\\:w3a--outline-none:focus{outline:2px solid #0000;outline-offset:2px}.w3a-parent-container .active\\:w3a--scale-95:active{--tw-scale-x:.95;--tw-scale-y:.95;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .active\\:w3a--outline-none:active{outline:2px solid #0000;outline-offset:2px}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--block{display:block}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--hidden{display:none}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--translate-x-0{--tw-translate-x:0px}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--translate-x-0,.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--translate-x-6{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--translate-x-6{--tw-translate-x:1.5rem}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--opacity-0{opacity:0}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--opacity-100{opacity:1}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--delay-0{transition-delay:0s}.w3a-parent-container .dark\\:w3a--block:is(.w3a--dark *){display:block}.w3a-parent-container .dark\\:w3a--hidden:is(.w3a--dark *){display:none}.w3a-parent-container .dark\\:w3a--border:is(.w3a--dark *){border-width:1px}.w3a-parent-container .dark\\:w3a--border-app-gray-500:is(.w3a--dark *){border-color:var(--app-gray-500)}.w3a-parent-container .dark\\:w3a--border-app-gray-600:is(.w3a--dark *){border-color:var(--app-gray-600)}.w3a-parent-container .dark\\:w3a--border-app-gray-700:is(.w3a--dark *){border-color:var(--app-gray-700)}.w3a-parent-container .dark\\:w3a--border-app-gray-800:is(.w3a--dark *){border-color:var(--app-gray-800)}.w3a-parent-container .dark\\:w3a--border-app-green-500:is(.w3a--dark *){border-color:var(--app-green-500)}.w3a-parent-container .dark\\:w3a--border-app-primary-400:is(.w3a--dark *){border-color:var(--app-primary-400)}.w3a-parent-container .dark\\:w3a--border-app-primary-500:is(.w3a--dark *){border-color:var(--app-primary-500)}.w3a-parent-container .dark\\:w3a--border-app-red-500:is(.w3a--dark *){border-color:var(--app-red-500)}.w3a-parent-container .dark\\:w3a--bg-app-dark-surface-main:is(.w3a--dark *){background-color:var(--app-gray-900)}.w3a-parent-container .dark\\:w3a--bg-app-gray-200:is(.w3a--dark *){background-color:var(--app-gray-200)}.w3a-parent-container .dark\\:w3a--bg-app-gray-400:is(.w3a--dark *){background-color:var(--app-gray-400)}.w3a-parent-container .dark\\:w3a--bg-app-gray-500:is(.w3a--dark *){background-color:var(--app-gray-500)}.w3a-parent-container .dark\\:w3a--bg-app-gray-600:is(.w3a--dark *){background-color:var(--app-gray-600)}.w3a-parent-container .dark\\:w3a--bg-app-gray-700:is(.w3a--dark *){background-color:var(--app-gray-700)}.w3a-parent-container .dark\\:w3a--bg-app-gray-800:is(.w3a--dark *){background-color:var(--app-gray-800)}.w3a-parent-container .dark\\:w3a--bg-transparent:is(.w3a--dark *){background-color:initial}.w3a-parent-container .dark\\:w3a--text-app-gray-200:is(.w3a--dark *){color:var(--app-gray-200)}.w3a-parent-container .dark\\:w3a--text-app-gray-300:is(.w3a--dark *){color:var(--app-gray-300)}.w3a-parent-container .dark\\:w3a--text-app-gray-400:is(.w3a--dark *){color:var(--app-gray-400)}.w3a-parent-container .dark\\:w3a--text-app-gray-500:is(.w3a--dark *){color:var(--app-gray-500)}.w3a-parent-container .dark\\:w3a--text-app-green-400:is(.w3a--dark *){color:var(--app-green-400)}.w3a-parent-container .dark\\:w3a--text-app-primary-400:is(.w3a--dark *){color:var(--app-primary-400)}.w3a-parent-container .dark\\:w3a--text-app-primary-500:is(.w3a--dark *){color:var(--app-primary-500)}.w3a-parent-container .dark\\:w3a--text-app-red-400:is(.w3a--dark *){color:var(--app-red-400)}.w3a-parent-container .dark\\:w3a--text-app-white:is(.w3a--dark *){color:var(--app-white)}.w3a-parent-container .dark\\:placeholder\\:w3a--text-app-gray-500:is(.w3a--dark *)::placeholder{color:var(--app-gray-500)}.w3a-parent-container .dark\\:hover\\:w3a--border-app-gray-800:hover:is(.w3a--dark *){border-color:var(--app-gray-800)}.w3a-parent-container .dark\\:hover\\:w3a--border-transparent:hover:is(.w3a--dark *){border-color:#0000}.w3a-parent-container .dark\\:hover\\:\\!w3a--bg-app-gray-800:hover:is(.w3a--dark *){background-color:var(--app-gray-800)!important}.w3a-parent-container .dark\\:hover\\:w3a--bg-app-gray-600:hover:is(.w3a--dark *){background-color:var(--app-gray-600)}.w3a-parent-container .dark\\:hover\\:w3a--bg-app-gray-700:hover:is(.w3a--dark *){background-color:var(--app-gray-700)}.w3a-parent-container .dark\\:hover\\:w3a--text-app-white:hover:is(.w3a--dark *){color:var(--app-white)}.w3a-parent-container .dark\\:hover\\:w3a--shadow-dark:hover:is(.w3a--dark *){--tw-shadow:0px 2px 8px 2px #111928;--tw-shadow-colored:0px 2px 8px 2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}@media (min-width:640px){.w3a-parent-container .sm\\:w3a--left-8{left:2rem}.w3a-parent-container .sm\\:w3a--right-8{right:2rem}.w3a-parent-container .sm\\:w3a--justify-start{justify-content:flex-start}.w3a-parent-container .sm\\:w3a--justify-end{justify-content:flex-end}.w3a-parent-container .sm\\:w3a--shadow-lg{--tw-shadow:0 10px 15px -3px #0000001a,0 4px 6px -4px #0000001a;--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color),0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}}@media (min-width:768px){.w3a-parent-container .md\\:w3a--hidden{display:none}}@media(min-width:375px){.w3a-parent-container .\\[\\@media\\(min-width\\:375px\\)\\]\\:w3a--w-\\[393px\\]{width:393px}}');let t7={en:"en",ja:"ja",ko:"ko",de:"de",zh:"zh",es:"es",fr:"fr",pt:"pt",nl:"nl",tr:"tr"},re={en:"english",ja:"japanese",ko:"korean",de:"german",zh:"mandarin",es:"spanish",fr:"french",pt:"portuguese",nl:"dutch",tr:"turkish",am:"amharic"},rt={light:"light"};function rr(e,t=3,r=50,n="black",i=0,o=20,a="#0346ff"){let s;let c=[];for(s=0;s<t;s+=1)c.push(e(a).rotate(-((s+1)/t*i)).saturate((s+1)/t*(o/100)).mix(e(n),r/100*(s+1)/t).hex());return c}function rn(e,t,r){try{Reflect.apply(e,t,r)}catch(e){setTimeout(()=>{throw e})}}class ri extends eY.EventEmitter{emit(e,...t){let r="error"===e,n=this._events;if(void 0!==n)r=r&&void 0===n.error;else if(!r)return!1;if(r){let e;if(t.length>0&&([e]=t),e instanceof Error)throw e;let r=Error(`Unhandled error.${e?` (${e.message})`:""}`);throw r.context=e,r}let i=n[e];if(void 0===i)return!1;if("function"==typeof i)rn(i,this,t);else{let e=i.length,r=function(e){let t=e.length,r=Array(t);for(let n=0;n<t;n+=1)r[n]=e[n];return r}(i);for(let n=0;n<e;n+=1)rn(r[n],this,t)}return!0}}var ro=r(34040);let ra=e=>({ui_modal_login_methods_order:null==e?void 0:e.loginMethodsOrder,ui_modal_z_index:null==e?void 0:e.modalZIndex,ui_modal_display_errors_on_modal:null==e?void 0:e.displayErrorsOnModal,ui_modal_login_grid_col:null==e?void 0:e.loginGridCol,ui_modal_primary_button:null==e?void 0:e.primaryButton,ui_modal_widget_type:null==e?void 0:e.widgetType,ui_modal_target_id_used:!!(null==e?void 0:e.targetId),ui_modal_logo_alignment:null==e?void 0:e.logoAlignment,ui_modal_border_radius_type:null==e?void 0:e.borderRadiusType,ui_modal_button_radius_type:null==e?void 0:e.buttonRadiusType,ui_modal_sign_in_methods:null==e?void 0:e.signInMethods,ui_modal_add_previous_login_hint:null==e?void 0:e.addPreviousLoginHint,ui_modal_display_installed_external_wallets:null==e?void 0:e.displayInstalledExternalWallets,ui_modal_display_external_wallets_count:null==e?void 0:e.displayExternalWalletsCount});var rs=r(2265);let rc={LOGIN:"login",CONNECT_WALLET:"connect_wallet"},rl={CONNECT_WALLET:"Connect Your Wallet",SELECTED_WALLET:"Selected Wallet"},ru="https://images.web3auth.io/web3auth-logo-w.svg",rd="https://images.web3auth.io/web3auth-logo-w-light.svg",rf={app:{android:"io.metamask",chrome:"nkbihfbeogaeaoehlefnkodbefgpgknn",edge:"ejbalbakoplchlghecdalmeeeajnimhm",firefox:"ether-metamask",ios:"id1438144202"},chains:["eip155:1"],imgExtension:"webp",injected:[{injected_id:"isMetaMask",namespace:"eip155"}],mobile:{inAppBrowser:"https://metamask.app.link/dapp",native:"metamask://wc",universal:"https://metamask.app.link/wc"},name:"MetaMask",primaryColor:"#E2761B",walletConnect:{sdks:["sign_v1","sign_v2"]}},rh=ek().getLogger("http-helpers");rh.setLevel(eT.levels.INFO);let rp="torus-default";async function rg(e,t){try{new URL(e)}catch{}return fetch(e,t)}function rm(){let e={};return rp&&(e["x-api-key"]=rp),e}function ry(e){rh.info(`Response: ${e.status} ${e.statusText}`),rh.info(`Url: ${e.url}`)}let rb=async(e,t)=>{let r=null;try{let n=new Promise((t,n)=>{r=setTimeout(()=>{n(Error(`Timed out in ${e}ms`))},e)}),i=await Promise.race([t,n]);return null!=r&&clearTimeout(r),i}catch(e){throw null!=r&&clearTimeout(r),e}},rw=async(e,t={},r={})=>{let n={mode:"cors",headers:{}};r.useAPIKey&&(n.headers=(0,c.Z)((0,c.Z)({},n.headers),rm())),t.method="GET";let i=B()(n,t),o=await rg(e,i);if(o.ok){let e=o.headers.get("content-type");return null!=e&&e.includes("application/json")?o.json():o.text()}throw ry(o),o},rv=(e,t={},r={},n={})=>{let i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};n.useAPIKey&&(i.headers=(0,c.Z)((0,c.Z)({},i.headers),rm())),r.method="POST";let o=B()(i,r);return n.isUrlEncodedData?(o.body=t,"application/json; charset=utf-8"===o.headers["Content-Type"]&&delete o.headers["Content-Type"]):o.body=JSON.stringify(t),rb(n.timeout||6e4,rg(e,o).then(e=>{if(n.logTracingHeader&&function(e){let t=e.headers.get("x-web3-correlation-id");t&&rh.info(`Request tracing with traceID = ${t}`)}(e),e.ok){let t=e.headers.get("content-type");return null!=t&&t.includes("application/json")?e.json():e.text()}throw ry(e),e}))};var rE=function(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=function e(t){var r,n,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t){if(Array.isArray(t)){var o=t.length;for(r=0;r<o;r++)t[r]&&(n=e(t[r]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n)}return i}(e))&&(n&&(n+=" "),n+=t);return n};let rx=(e,t)=>{let r=Array(e.length+t.length);for(let t=0;t<e.length;t++)r[t]=e[t];for(let n=0;n<t.length;n++)r[e.length+n]=t[n];return r},rA=(e,t)=>({classGroupId:e,validator:t}),rS=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),r_=[],rI=e=>{let t=rP(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:e=>{if(e.startsWith("[")&&e.endsWith("]"))return rO(e);let r=e.split("-"),n=""===r[0]&&r.length>1?1:0;return rC(r,n,t)},getConflictingClassGroupIds:(e,t)=>{if(t){let t=n[e],i=r[e];return t?i?rx(i,t):t:i||r_}return r[e]||r_}}},rC=(e,t,r)=>{if(0==e.length-t)return r.classGroupId;let n=e[t],i=r.nextPart.get(n);if(i){let r=rC(e,t+1,i);if(r)return r}let o=r.validators;if(null===o)return;let a=0===t?e.join("-"):e.slice(t).join("-"),s=o.length;for(let e=0;e<s;e++){let t=o[e];if(t.validator(a))return t.classGroupId}},rO=e=>-1===e.slice(1,-1).indexOf(":")?void 0:(()=>{let t=e.slice(1,-1),r=t.indexOf(":"),n=t.slice(0,r);return n?"arbitrary.."+n:void 0})(),rP=e=>{let{theme:t,classGroups:r}=e;return rT(r,t)},rT=(e,t)=>{let r=rS();for(let n in e)rk(e[n],r,n,t);return r},rk=(e,t,r,n)=>{let i=e.length;for(let o=0;o<i;o++)rN(e[o],t,r,n)},rN=(e,t,r,n)=>{if("string"==typeof e){rM(e,t,r);return}if("function"==typeof e){rR(e,t,r,n);return}rD(e,t,r,n)},rM=(e,t,r)=>{(""===e?t:rL(t,e)).classGroupId=r},rR=(e,t,r,n)=>{if(rB(e)){rk(e(n),t,r,n);return}null===t.validators&&(t.validators=[]),t.validators.push(rA(r,e))},rD=(e,t,r,n)=>{let i=Object.entries(e),o=i.length;for(let e=0;e<o;e++){let[o,a]=i[e];rk(a,rL(t,o),r,n)}},rL=(e,t)=>{let r=e,n=t.split("-"),i=n.length;for(let e=0;e<i;e++){let t=n[e],i=r.nextPart.get(t);i||(i=rS(),r.nextPart.set(t,i)),r=i}return r},rB=e=>"isThemeGetter"in e&&!0===e.isThemeGetter,rU=e=>{if(e<1)return{get:()=>void 0,set:()=>{}};let t=0,r=Object.create(null),n=Object.create(null),i=(i,o)=>{r[i]=o,++t>e&&(t=0,n=r,r=Object.create(null))};return{get(e){let t=r[e];return void 0!==t?t:void 0!==(t=n[e])?(i(e,t),t):void 0},set(e,t){e in r?r[e]=t:i(e,t)}}},rj=[],r$=(e,t,r,n,i)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:i}),rF=e=>{let{prefix:t,experimentalParseClassName:r}=e,n=e=>{let t;let r=[],n=0,i=0,o=0,a=e.length;for(let s=0;s<a;s++){let a=e[s];if(0===n&&0===i){if(":"===a){r.push(e.slice(o,s)),o=s+1;continue}if("/"===a){t=s;continue}}"["===a?n++:"]"===a?n--:"("===a?i++:")"===a&&i--}let s=0===r.length?e:e.slice(o),c=s,l=!1;return s.endsWith("!")?(c=s.slice(0,-1),l=!0):s.startsWith("!")&&(c=s.slice(1),l=!0),r$(r,l,c,t&&t>o?t-o:void 0)};if(t){let e=t+":",r=n;n=t=>t.startsWith(e)?r(t.slice(e.length)):r$(rj,!1,t,void 0,!0)}if(r){let e=n;n=t=>r({className:t,parseClassName:e})}return n},rz=e=>{let t=new Map;return e.orderSensitiveModifiers.forEach((e,r)=>{t.set(e,1e6+r)}),e=>{let r=[],n=[];for(let i=0;i<e.length;i++){let o=e[i],a="["===o[0],s=t.has(o);a||s?(n.length>0&&(n.sort(),r.push(...n),n=[]),r.push(o)):n.push(o)}return n.length>0&&(n.sort(),r.push(...n)),r}},rq=e=>({cache:rU(e.cacheSize),parseClassName:rF(e),sortModifiers:rz(e),...rI(e)}),rG=/\s+/,rH=(e,t)=>{let{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:o}=t,a=[],s=e.trim().split(rG),c="";for(let e=s.length-1;e>=0;e-=1){let t=s[e],{isExternal:l,modifiers:u,hasImportantModifier:d,baseClassName:f,maybePostfixModifierPosition:h}=r(t);if(l){c=t+(c.length>0?" "+c:c);continue}let p=!!h,g=n(p?f.substring(0,h):f);if(!g){if(!p||!(g=n(f))){c=t+(c.length>0?" "+c:c);continue}p=!1}let m=0===u.length?"":1===u.length?u[0]:o(u).join(":"),y=d?m+"!":m,b=y+g;if(a.indexOf(b)>-1)continue;a.push(b);let w=i(g,p);for(let e=0;e<w.length;++e){let t=w[e];a.push(y+t)}c=t+(c.length>0?" "+c:c)}return c},rV=(...e)=>{let t,r,n=0,i="";for(;n<e.length;)(t=e[n++])&&(r=rW(t))&&(i&&(i+=" "),i+=r);return i},rW=e=>{let t;if("string"==typeof e)return e;let r="";for(let n=0;n<e.length;n++)e[n]&&(t=rW(e[n]))&&(r&&(r+=" "),r+=t);return r},rZ=[],rK=e=>{let t=t=>t[e]||rZ;return t.isThemeGetter=!0,t},rY=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,rJ=/^\((?:(\w[\w-]*):)?(.+)\)$/i,rX=/^\d+\/\d+$/,rQ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,r0=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,r1=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,r2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,r3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,r6=e=>rX.test(e),r5=e=>!!e&&!Number.isNaN(Number(e)),r8=e=>!!e&&Number.isInteger(Number(e)),r4=e=>e.endsWith("%")&&r5(e.slice(0,-1)),r9=e=>rQ.test(e),r7=()=>!0,ne=e=>r0.test(e)&&!r1.test(e),nt=()=>!1,nr=e=>r2.test(e),nn=e=>r3.test(e),ni=e=>!na(e)&&!nf(e),no=e=>nw(e,nA,nt),na=e=>rY.test(e),ns=e=>nw(e,nS,ne),nc=e=>nw(e,n_,r5),nl=e=>nw(e,nE,nt),nu=e=>nw(e,nx,nn),nd=e=>nw(e,nC,nr),nf=e=>rJ.test(e),nh=e=>nv(e,nS),np=e=>nv(e,nI),ng=e=>nv(e,nE),nm=e=>nv(e,nA),ny=e=>nv(e,nx),nb=e=>nv(e,nC,!0),nw=(e,t,r)=>{let n=rY.exec(e);return!!n&&(n[1]?t(n[1]):r(n[2]))},nv=(e,t,r=!1)=>{let n=rJ.exec(e);return!!n&&(n[1]?t(n[1]):r)},nE=e=>"position"===e||"percentage"===e,nx=e=>"image"===e||"url"===e,nA=e=>"length"===e||"size"===e||"bg-size"===e,nS=e=>"length"===e,n_=e=>"number"===e,nI=e=>"family-name"===e,nC=e=>"shadow"===e,nO=((e,...t)=>{let r,n,i,o;let a=e=>{let t=n(e);if(t)return t;let o=rH(e,r);return i(e,o),o};return o=s=>(n=(r=rq(t.reduce((e,t)=>t(e),e()))).cache.get,i=r.cache.set,o=a,a(s)),(...e)=>o(rV(...e))})(()=>{let e=rK("color"),t=rK("font"),r=rK("text"),n=rK("font-weight"),i=rK("tracking"),o=rK("leading"),a=rK("breakpoint"),s=rK("container"),c=rK("spacing"),l=rK("radius"),u=rK("shadow"),d=rK("inset-shadow"),f=rK("text-shadow"),h=rK("drop-shadow"),p=rK("blur"),g=rK("perspective"),m=rK("aspect"),y=rK("ease"),b=rK("animate"),w=()=>["auto","avoid","all","avoid-page","page","left","right","column"],v=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],E=()=>[...v(),nf,na],x=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto","contain","none"],S=()=>[nf,na,c],_=()=>[r6,"full","auto",...S()],I=()=>[r8,"none","subgrid",nf,na],C=()=>["auto",{span:["full",r8,nf,na]},r8,nf,na],O=()=>[r8,"auto",nf,na],P=()=>["auto","min","max","fr",nf,na],T=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],k=()=>["start","end","center","stretch","center-safe","end-safe"],N=()=>["auto",...S()],M=()=>[r6,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],R=()=>[e,nf,na],D=()=>[...v(),ng,nl,{position:[nf,na]}],L=()=>["no-repeat",{repeat:["","x","y","space","round"]}],B=()=>["auto","cover","contain",nm,no,{size:[nf,na]}],U=()=>[r4,nh,ns],j=()=>["","none","full",l,nf,na],$=()=>["",r5,nh,ns],F=()=>["solid","dashed","dotted","double"],z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>[r5,r4,ng,nl],G=()=>["","none",p,nf,na],H=()=>["none",r5,nf,na],V=()=>["none",r5,nf,na],W=()=>[r5,nf,na],Z=()=>[r6,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[r9],breakpoint:[r9],color:[r7],container:[r9],"drop-shadow":[r9],ease:["in","out","in-out"],font:[ni],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[r9],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[r9],shadow:[r9],spacing:["px",r5],text:[r9],"text-shadow":[r9],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",r6,na,nf,m]}],container:["container"],columns:[{columns:[r5,na,nf,s]}],"break-after":[{"break-after":w()}],"break-before":[{"break-before":w()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:E()}],overflow:[{overflow:x()}],"overflow-x":[{"overflow-x":x()}],"overflow-y":[{"overflow-y":x()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:_()}],"inset-x":[{"inset-x":_()}],"inset-y":[{"inset-y":_()}],start:[{start:_()}],end:[{end:_()}],top:[{top:_()}],right:[{right:_()}],bottom:[{bottom:_()}],left:[{left:_()}],visibility:["visible","invisible","collapse"],z:[{z:[r8,"auto",nf,na]}],basis:[{basis:[r6,"full","auto",s,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[r5,r6,"auto","initial","none",na]}],grow:[{grow:["",r5,nf,na]}],shrink:[{shrink:["",r5,nf,na]}],order:[{order:[r8,"first","last","none",nf,na]}],"grid-cols":[{"grid-cols":I()}],"col-start-end":[{col:C()}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":I()}],"row-start-end":[{row:C()}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":P()}],"auto-rows":[{"auto-rows":P()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...T(),"normal"]}],"justify-items":[{"justify-items":[...k(),"normal"]}],"justify-self":[{"justify-self":["auto",...k()]}],"align-content":[{content:["normal",...T()]}],"align-items":[{items:[...k(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...k(),{baseline:["","last"]}]}],"place-content":[{"place-content":T()}],"place-items":[{"place-items":[...k(),"baseline"]}],"place-self":[{"place-self":["auto",...k()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:N()}],mx:[{mx:N()}],my:[{my:N()}],ms:[{ms:N()}],me:[{me:N()}],mt:[{mt:N()}],mr:[{mr:N()}],mb:[{mb:N()}],ml:[{ml:N()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:M()}],w:[{w:[s,"screen",...M()]}],"min-w":[{"min-w":[s,"screen","none",...M()]}],"max-w":[{"max-w":[s,"screen","none","prose",{screen:[a]},...M()]}],h:[{h:["screen","lh",...M()]}],"min-h":[{"min-h":["screen","lh","none",...M()]}],"max-h":[{"max-h":["screen","lh",...M()]}],"font-size":[{text:["base",r,nh,ns]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,nf,nc]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",r4,na]}],"font-family":[{font:[np,na,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,nf,na]}],"line-clamp":[{"line-clamp":[r5,"none",nf,nc]}],leading:[{leading:[o,...S()]}],"list-image":[{"list-image":["none",nf,na]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",nf,na]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:R()}],"text-color":[{text:R()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:[r5,"from-font","auto",nf,ns]}],"text-decoration-color":[{decoration:R()}],"underline-offset":[{"underline-offset":[r5,"auto",nf,na]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",nf,na]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",nf,na]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:D()}],"bg-repeat":[{bg:L()}],"bg-size":[{bg:B()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},r8,nf,na],radial:["",nf,na],conic:[r8,nf,na]},ny,nu]}],"bg-color":[{bg:R()}],"gradient-from-pos":[{from:U()}],"gradient-via-pos":[{via:U()}],"gradient-to-pos":[{to:U()}],"gradient-from":[{from:R()}],"gradient-via":[{via:R()}],"gradient-to":[{to:R()}],rounded:[{rounded:j()}],"rounded-s":[{"rounded-s":j()}],"rounded-e":[{"rounded-e":j()}],"rounded-t":[{"rounded-t":j()}],"rounded-r":[{"rounded-r":j()}],"rounded-b":[{"rounded-b":j()}],"rounded-l":[{"rounded-l":j()}],"rounded-ss":[{"rounded-ss":j()}],"rounded-se":[{"rounded-se":j()}],"rounded-ee":[{"rounded-ee":j()}],"rounded-es":[{"rounded-es":j()}],"rounded-tl":[{"rounded-tl":j()}],"rounded-tr":[{"rounded-tr":j()}],"rounded-br":[{"rounded-br":j()}],"rounded-bl":[{"rounded-bl":j()}],"border-w":[{border:$()}],"border-w-x":[{"border-x":$()}],"border-w-y":[{"border-y":$()}],"border-w-s":[{"border-s":$()}],"border-w-e":[{"border-e":$()}],"border-w-t":[{"border-t":$()}],"border-w-r":[{"border-r":$()}],"border-w-b":[{"border-b":$()}],"border-w-l":[{"border-l":$()}],"divide-x":[{"divide-x":$()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":$()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...F(),"hidden","none"]}],"divide-style":[{divide:[...F(),"hidden","none"]}],"border-color":[{border:R()}],"border-color-x":[{"border-x":R()}],"border-color-y":[{"border-y":R()}],"border-color-s":[{"border-s":R()}],"border-color-e":[{"border-e":R()}],"border-color-t":[{"border-t":R()}],"border-color-r":[{"border-r":R()}],"border-color-b":[{"border-b":R()}],"border-color-l":[{"border-l":R()}],"divide-color":[{divide:R()}],"outline-style":[{outline:[...F(),"none","hidden"]}],"outline-offset":[{"outline-offset":[r5,nf,na]}],"outline-w":[{outline:["",r5,nh,ns]}],"outline-color":[{outline:R()}],shadow:[{shadow:["","none",u,nb,nd]}],"shadow-color":[{shadow:R()}],"inset-shadow":[{"inset-shadow":["none",d,nb,nd]}],"inset-shadow-color":[{"inset-shadow":R()}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:R()}],"ring-offset-w":[{"ring-offset":[r5,ns]}],"ring-offset-color":[{"ring-offset":R()}],"inset-ring-w":[{"inset-ring":$()}],"inset-ring-color":[{"inset-ring":R()}],"text-shadow":[{"text-shadow":["none",f,nb,nd]}],"text-shadow-color":[{"text-shadow":R()}],opacity:[{opacity:[r5,nf,na]}],"mix-blend":[{"mix-blend":[...z(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":z()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[r5]}],"mask-image-linear-from-pos":[{"mask-linear-from":q()}],"mask-image-linear-to-pos":[{"mask-linear-to":q()}],"mask-image-linear-from-color":[{"mask-linear-from":R()}],"mask-image-linear-to-color":[{"mask-linear-to":R()}],"mask-image-t-from-pos":[{"mask-t-from":q()}],"mask-image-t-to-pos":[{"mask-t-to":q()}],"mask-image-t-from-color":[{"mask-t-from":R()}],"mask-image-t-to-color":[{"mask-t-to":R()}],"mask-image-r-from-pos":[{"mask-r-from":q()}],"mask-image-r-to-pos":[{"mask-r-to":q()}],"mask-image-r-from-color":[{"mask-r-from":R()}],"mask-image-r-to-color":[{"mask-r-to":R()}],"mask-image-b-from-pos":[{"mask-b-from":q()}],"mask-image-b-to-pos":[{"mask-b-to":q()}],"mask-image-b-from-color":[{"mask-b-from":R()}],"mask-image-b-to-color":[{"mask-b-to":R()}],"mask-image-l-from-pos":[{"mask-l-from":q()}],"mask-image-l-to-pos":[{"mask-l-to":q()}],"mask-image-l-from-color":[{"mask-l-from":R()}],"mask-image-l-to-color":[{"mask-l-to":R()}],"mask-image-x-from-pos":[{"mask-x-from":q()}],"mask-image-x-to-pos":[{"mask-x-to":q()}],"mask-image-x-from-color":[{"mask-x-from":R()}],"mask-image-x-to-color":[{"mask-x-to":R()}],"mask-image-y-from-pos":[{"mask-y-from":q()}],"mask-image-y-to-pos":[{"mask-y-to":q()}],"mask-image-y-from-color":[{"mask-y-from":R()}],"mask-image-y-to-color":[{"mask-y-to":R()}],"mask-image-radial":[{"mask-radial":[nf,na]}],"mask-image-radial-from-pos":[{"mask-radial-from":q()}],"mask-image-radial-to-pos":[{"mask-radial-to":q()}],"mask-image-radial-from-color":[{"mask-radial-from":R()}],"mask-image-radial-to-color":[{"mask-radial-to":R()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":v()}],"mask-image-conic-pos":[{"mask-conic":[r5]}],"mask-image-conic-from-pos":[{"mask-conic-from":q()}],"mask-image-conic-to-pos":[{"mask-conic-to":q()}],"mask-image-conic-from-color":[{"mask-conic-from":R()}],"mask-image-conic-to-color":[{"mask-conic-to":R()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:D()}],"mask-repeat":[{mask:L()}],"mask-size":[{mask:B()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",nf,na]}],filter:[{filter:["","none",nf,na]}],blur:[{blur:G()}],brightness:[{brightness:[r5,nf,na]}],contrast:[{contrast:[r5,nf,na]}],"drop-shadow":[{"drop-shadow":["","none",h,nb,nd]}],"drop-shadow-color":[{"drop-shadow":R()}],grayscale:[{grayscale:["",r5,nf,na]}],"hue-rotate":[{"hue-rotate":[r5,nf,na]}],invert:[{invert:["",r5,nf,na]}],saturate:[{saturate:[r5,nf,na]}],sepia:[{sepia:["",r5,nf,na]}],"backdrop-filter":[{"backdrop-filter":["","none",nf,na]}],"backdrop-blur":[{"backdrop-blur":G()}],"backdrop-brightness":[{"backdrop-brightness":[r5,nf,na]}],"backdrop-contrast":[{"backdrop-contrast":[r5,nf,na]}],"backdrop-grayscale":[{"backdrop-grayscale":["",r5,nf,na]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[r5,nf,na]}],"backdrop-invert":[{"backdrop-invert":["",r5,nf,na]}],"backdrop-opacity":[{"backdrop-opacity":[r5,nf,na]}],"backdrop-saturate":[{"backdrop-saturate":[r5,nf,na]}],"backdrop-sepia":[{"backdrop-sepia":["",r5,nf,na]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",nf,na]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[r5,"initial",nf,na]}],ease:[{ease:["linear","initial",y,nf,na]}],delay:[{delay:[r5,nf,na]}],animate:[{animate:["none",b,nf,na]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,nf,na]}],"perspective-origin":[{"perspective-origin":E()}],rotate:[{rotate:H()}],"rotate-x":[{"rotate-x":H()}],"rotate-y":[{"rotate-y":H()}],"rotate-z":[{"rotate-z":H()}],scale:[{scale:V()}],"scale-x":[{"scale-x":V()}],"scale-y":[{"scale-y":V()}],"scale-z":[{"scale-z":V()}],"scale-3d":["scale-3d"],skew:[{skew:W()}],"skew-x":[{"skew-x":W()}],"skew-y":[{"skew-y":W()}],transform:[{transform:[nf,na,"","none","gpu","cpu"]}],"transform-origin":[{origin:E()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Z()}],"translate-x":[{"translate-x":Z()}],"translate-y":[{"translate-y":Z()}],"translate-z":[{"translate-z":Z()}],"translate-none":["translate-none"],accent:[{accent:R()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:R()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",nf,na]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",nf,na]}],fill:[{fill:["none",...R()]}],"stroke-w":[{stroke:[r5,nh,ns,nc]}],stroke:[{stroke:["none",...R()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}}),nP=new Map;function nT(...e){let t=JSON.stringify(e);if(nP.has(t))return nP.get(t);let r=nO(rE(e));return nP.set(t,r),r}let nk=(e,t)=>{if(null!=t&&t.startsWith("https://"))return t;switch(e){case"chrome":return`https://chrome.google.com/webstore/detail/${t}`;case"firefox":return`https://addons.mozilla.org/firefox/addon/${t}`;case"edge":return`https://microsoftedge.microsoft.com/addons/detail/${t}`;default:return null}},nN=(e,t)=>{if(null!=t&&t.includes("https://"))return t;switch(e){case"android":return`https://play.google.com/store/apps/details?id=${t}`;case"ios":return`https://apps.apple.com/app/safepal-wallet/${t}`;default:return""}},nM=e=>{switch(e){case"ios":return"iOS";case"android":return"Android";default:return""}},nR=e=>e.charAt(0).toUpperCase()+e.slice(1),nD=e=>`https://images.web3auth.io/login-modal/${e}.svg`,nL="https://api.web3auth.io/passwordless-service",nB=async()=>{try{let e=await rw(`${nL}/api/v3/user/location`);if(e&&e.data.country)return{country:e.data.country,dialCode:e.data.dial_code};return null}catch(e){return tP.c.error("error getting user country",e),null}},nU=async e=>{try{let t=await rv(`${nL}/api/v3/phone_number/validate`,{phone_number:e});if(t&&t.success)return t;return{success:!1,parsed_number:"",country_flag:""}}catch(e){return tP.c.error("error validating phone number",e),e.status,{success:!1,parsed_number:"",country_flag:""}}},nj=e=>{let t=e;return t||(t=("undefined"!=typeof window&&(window.navigator.userLanguage||window.navigator.language)||"en-US").split("-")[0]),Object.prototype.hasOwnProperty.call(re,t)?t:t7.en},n$=e=>{if(!e)return"passwordless.something-wrong-error";switch(e){case"E001":return"passwordless.error-invalid-params";case"E002":return"passwordless.error-invalid-origin";case"E201":return"passwordless.error-sending-sms-failed";case"E300":return"passwordless.error-no-mail-generated";case"E301":return"passwordless.error-invalid-link";case"E302":return"passwordless.error-new-link-generated-heading";case"E304":case"E403":return"passwordless.error-max-retry-limit-reached";case"E305":case"E401":return"passwordless.error-invalid-otp";case"E306":return"passwordless.error-otp-expired";case"E400":return"passwordless.error-no-sms-generated";case"E411":return"passwordless.error-plan-limit-reached";case"E412":return"passwordless.error-recaptcha-verification-failed";case"E502":return"passwordless.error-invalid-test-account";default:return"passwordless.something-wrong-error"}};var nF=r(57437);function nz(e){let{open:t=!0,padding:r=!0,shadow:n=!0,border:i=!1,showCloseIcon:o=!1,onClose:a,children:s,borderRadius:c="large"}=e,[l,u]=(0,rs.useState)(!1);return((0,rs.useEffect)(()=>{t?setTimeout(()=>{u(!0)},50):u(!1)},[t]),l)?(0,nF.jsxs)("div",{className:nT("w3a--bg-app-light-surface1 dark:w3a--bg-app-dark-surface-main w3a--rounded-3xl w3a--w-[356px] [@media(min-width:375px)]:w3a--w-[393px] w3a--h-auto w3a--flex w3a--flex-col w3a--duration-500",{"w3a--translate-y-0 w3a--delay-100":l,"w3a--translate-y-[100vh]":!l,"w3a--p-4":r,"w3a--shadow-xl sm:w3a--shadow-lg":n,"w3a--border w3a--border-app-gray-100 dark:w3a--border-app-gray-800":i,"w3a--rounded-[30px]":"large"===c,"w3a--rounded-2xl":"medium"===c,"w3a--rounded-none":"small"===c}),children:[o&&(0,nF.jsx)("div",{className:"w3a--absolute w3a--right-6 w3a--top-[30px] w3a--z-10 w3a--cursor-pointer",children:(0,nF.jsx)("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:()=>{a&&a()},className:"w3a--text-app-gray-900 dark:w3a--text-app-white",children:(0,nF.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.292787 1.29299C0.480314 1.10552 0.734622 1.0002 0.999786 1.0002C1.26495 1.0002 1.51926 1.10552 1.70679 1.29299L5.99979 5.58599L10.2928 1.29299C10.385 1.19748 10.4954 1.1213 10.6174 1.06889C10.7394 1.01648 10.8706 0.988893 11.0034 0.987739C11.1362 0.986585 11.2678 1.01189 11.3907 1.06217C11.5136 1.11245 11.6253 1.1867 11.7192 1.28059C11.8131 1.37449 11.8873 1.48614 11.9376 1.60904C11.9879 1.73193 12.0132 1.86361 12.012 1.99639C12.0109 2.12917 11.9833 2.26039 11.9309 2.38239C11.8785 2.5044 11.8023 2.61474 11.7068 2.70699L7.41379 6.99999L11.7068 11.293C11.8889 11.4816 11.9897 11.7342 11.9875 11.9964C11.9852 12.2586 11.88 12.5094 11.6946 12.6948C11.5092 12.8802 11.2584 12.9854 10.9962 12.9877C10.734 12.9899 10.4814 12.8891 10.2928 12.707L5.99979 8.41399L1.70679 12.707C1.51818 12.8891 1.26558 12.9899 1.00339 12.9877C0.741188 12.9854 0.490376 12.8802 0.304968 12.6948C0.11956 12.5094 0.0143906 12.2586 0.0121121 11.9964C0.00983372 11.7342 0.110629 11.4816 0.292787 11.293L4.58579 6.99999L0.292787 2.70699C0.105316 2.51946 0 2.26515 0 1.99999C0 1.73483 0.105316 1.48052 0.292787 1.29299V1.29299Z",fill:"currentColor"})})}),s]}):null}function nq(e){let{children:t,open:r,onClose:n,placement:i="center",padding:o=!0,shadow:a=!0,border:s=!1,showCloseIcon:c=!0,borderRadius:l="large"}=e,[u,d]=(0,rs.useState)(!1);(0,rs.useEffect)(()=>{r?(document.body.style.overflow="hidden",setTimeout(()=>{d(!0)},50)):(d(!1),document.body.style.overflow="")},[r]);let f=(0,rs.useMemo)(()=>({center:"w3a--top-0 w3a--left-0 w3a--items-center w3a--justify-center","top-center":"w3a--top-8 w3a--left-0 w3a--items-start w3a--justify-center","bottom-center":"w3a--bottom-8 w3a--left-0 w3a--items-end w3a--justify-center",left:"sm:w3a--left-8 w3a--flex w3a--items-center w3a--justify-center sm:w3a--justify-start",right:"sm:w3a--right-8 w3a--flex w3a--items-center w3a--justify-center sm:w3a--justify-end"}),[]),h=(0,rs.useMemo)(()=>f[i],[i,f]);return(0,nF.jsx)("div",{className:nT("w3a--fixed w3a--z-50 w3a--overflow-hidden w3a--flex w3a--transition-all",h,{"w3a--w-screen w3a--h-screen":u,"w3a--w-0 w3a--h-0 w3a--delay-500":!u}),children:(0,nF.jsxs)("div",{className:nT("w3a--bg-app-light-surface1 dark:w3a--bg-app-dark-surface-main w3a--w-[356px] [@media(min-width:375px)]:w3a--w-[393px] w3a--h-auto w3a--flex w3a--flex-col w3a--duration-500",{"w3a--translate-y-0 w3a--delay-100":u,"w3a--translate-y-[100vh]":!u,"w3a--p-4":o,"w3a--shadow-xl sm:w3a--shadow-lg":a,"w3a--border w3a--border-app-gray-100 dark:w3a--border-app-gray-800":s,"w3a--rounded-[30px]":"large"===l,"w3a--rounded-2xl":"medium"===l,"w3a--rounded-none":"small"===l}),children:[c&&(0,nF.jsx)("div",{className:"w3a--absolute w3a--right-6 w3a--top-[30px] w3a--z-10 w3a--cursor-pointer",children:(0,nF.jsx)("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:()=>{n&&n()},className:"w3a--text-app-gray-500 hover:w3a--text-app-gray-900 dark:w3a--text-app-gray-200 dark:hover:w3a--text-app-white",children:(0,nF.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.292787 1.29299C0.480314 1.10552 0.734622 1.0002 0.999786 1.0002C1.26495 1.0002 1.51926 1.10552 1.70679 1.29299L5.99979 5.58599L10.2928 1.29299C10.385 1.19748 10.4954 1.1213 10.6174 1.06889C10.7394 1.01648 10.8706 0.988893 11.0034 0.987739C11.1362 0.986585 11.2678 1.01189 11.3907 1.06217C11.5136 1.11245 11.6253 1.1867 11.7192 1.28059C11.8131 1.37449 11.8873 1.48614 11.9376 1.60904C11.9879 1.73193 12.0132 1.86361 12.012 1.99639C12.0109 2.12917 11.9833 2.26039 11.9309 2.38239C11.8785 2.5044 11.8023 2.61474 11.7068 2.70699L7.41379 6.99999L11.7068 11.293C11.8889 11.4816 11.9897 11.7342 11.9875 11.9964C11.9852 12.2586 11.88 12.5094 11.6946 12.6948C11.5092 12.8802 11.2584 12.9854 10.9962 12.9877C10.734 12.9899 10.4814 12.8891 10.2928 12.707L5.99979 8.41399L1.70679 12.707C1.51818 12.8891 1.26558 12.9899 1.00339 12.9877C0.741188 12.9854 0.490376 12.8802 0.304968 12.6948C0.11956 12.5094 0.0143906 12.2586 0.0121121 11.9964C0.00983372 11.7342 0.110629 11.4816 0.292787 11.293L4.58579 6.99999L0.292787 2.70699C0.105316 2.51946 0 2.26515 0 1.99999C0 1.73483 0.105316 1.48052 0.292787 1.29299V1.29299Z",fill:"currentColor"})})}),t]})})}let nG=e=>"string"==typeof e,nH=()=>{let e,t;let r=new Promise((r,n)=>{e=r,t=n});return r.resolve=e,r.reject=t,r},nV=e=>null==e?"":""+e,nW=(e,t,r)=>{e.forEach(e=>{t[e]&&(r[e]=t[e])})},nZ=/###/g,nK=e=>e&&e.indexOf("###")>-1?e.replace(nZ,"."):e,nY=e=>!e||nG(e),nJ=(e,t,r)=>{let n=nG(t)?t.split("."):t,i=0;for(;i<n.length-1;){if(nY(e))return{};let t=nK(n[i]);!e[t]&&r&&(e[t]=new r),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++i}return nY(e)?{}:{obj:e,k:nK(n[i])}},nX=(e,t,r)=>{let{obj:n,k:i}=nJ(e,t,Object);if(void 0!==n||1===t.length){n[i]=r;return}let o=t[t.length-1],a=t.slice(0,t.length-1),s=nJ(e,a,Object);for(;void 0===s.obj&&a.length;)o=`${a[a.length-1]}.${o}`,s=nJ(e,a=a.slice(0,a.length-1),Object),s?.obj&&void 0!==s.obj[`${s.k}.${o}`]&&(s.obj=void 0);s.obj[`${s.k}.${o}`]=r},nQ=(e,t,r,n)=>{let{obj:i,k:o}=nJ(e,t,Object);i[o]=i[o]||[],i[o].push(r)},n0=(e,t)=>{let{obj:r,k:n}=nJ(e,t);if(r&&Object.prototype.hasOwnProperty.call(r,n))return r[n]},n1=(e,t,r)=>{let n=n0(e,r);return void 0!==n?n:n0(t,r)},n2=(e,t,r)=>{for(let n in t)"__proto__"!==n&&"constructor"!==n&&(n in e?nG(e[n])||e[n]instanceof String||nG(t[n])||t[n]instanceof String?r&&(e[n]=t[n]):n2(e[n],t[n],r):e[n]=t[n]);return e},n3=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var n6={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};let n5=e=>nG(e)?e.replace(/[&<>"'\/]/g,e=>n6[e]):e;class n8{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){let t=this.regExpMap.get(e);if(void 0!==t)return t;let r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}let n4=[" ",",","?","!",";"],n9=new n8(20),n7=(e,t,r)=>{t=t||"",r=r||"";let n=n4.filter(e=>0>t.indexOf(e)&&0>r.indexOf(e));if(0===n.length)return!0;let i=n9.getRegExp(`(${n.map(e=>"?"===e?"\\?":e).join("|")})`),o=!i.test(e);if(!o){let t=e.indexOf(r);t>0&&!i.test(e.substring(0,t))&&(o=!0)}return o},ie=(e,t,r=".")=>{if(!e)return;if(e[t]){if(!Object.prototype.hasOwnProperty.call(e,t))return;return e[t]}let n=t.split(r),i=e;for(let e=0;e<n.length;){let t;if(!i||"object"!=typeof i)return;let o="";for(let a=e;a<n.length;++a)if(a!==e&&(o+=r),o+=n[a],void 0!==(t=i[o])){if(["string","number","boolean"].indexOf(typeof t)>-1&&a<n.length-1)continue;e+=a-e+1;break}i=t}return i},it=e=>e?.replace("_","-"),ir={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console?.[e]?.apply?.(console,t)}};class ii{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||ir,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,n){return n&&!this.debug?null:(nG(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new ii(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new ii(this.logger,e)}}var io=new ii;class ia{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(e=>{this.observers[e]||(this.observers[e]=new Map);let r=this.observers[e].get(t)||0;this.observers[e].set(t,r+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([e,r])=>{for(let n=0;n<r;n++)e(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([r,n])=>{for(let i=0;i<n;i++)r.apply(r,[e,...t])})}}class is extends ia{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){0>this.options.ns.indexOf(e)&&this.options.ns.push(e)}removeNamespaces(e){let t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r,n={}){let i;let o=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,a=void 0!==n.ignoreJSONStructure?n.ignoreJSONStructure:this.options.ignoreJSONStructure;e.indexOf(".")>-1?i=e.split("."):(i=[e,t],r&&(Array.isArray(r)?i.push(...r):nG(r)&&o?i.push(...r.split(o)):i.push(r)));let s=n0(this.data,i);return(!s&&!t&&!r&&e.indexOf(".")>-1&&(e=i[0],t=i[1],r=i.slice(2).join(".")),!s&&a&&nG(r))?ie(this.data?.[e]?.[t],r,o):s}addResource(e,t,r,n,i={silent:!1}){let o=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,a=[e,t];r&&(a=a.concat(o?r.split(o):r)),e.indexOf(".")>-1&&(a=e.split("."),n=t,t=a[1]),this.addNamespaces(t),nX(this.data,a,n),i.silent||this.emit("added",e,t,r,n)}addResources(e,t,r,n={silent:!1}){for(let n in r)(nG(r[n])||Array.isArray(r[n]))&&this.addResource(e,t,n,r[n],{silent:!0});n.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,n,i,o={silent:!1,skipCopy:!1}){let a=[e,t];e.indexOf(".")>-1&&(a=e.split("."),n=r,r=t,t=a[1]),this.addNamespaces(t);let s=n0(this.data,a)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),n?n2(s,r,i):s={...s,...r},nX(this.data,a,s),o.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){let t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(e=>t[e]&&Object.keys(t[e]).length>0)}toJSON(){return this.data}}var ic={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,r,n,i){return e.forEach(e=>{t=this.processors[e]?.process(t,r,n,i)??t}),t}};let il=Symbol("i18next/PATH_KEY");function iu(e,t){let{[il]:r}=e(function(){let e;let t=[],r=Object.create(null);return r.get=(n,i)=>(e?.revoke?.(),i===il)?t:(t.push(i),(e=Proxy.revocable(n,r)).proxy),Proxy.revocable(Object.create(null),r).proxy}());return r.join(t?.keySeparator??".")}let id={},ih=e=>!nG(e)&&"boolean"!=typeof e&&"number"!=typeof e;class ip extends ia{constructor(e,t={}){super(),nW(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=io.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){let r={...t};if(null==e)return!1;let n=this.resolve(e,r);if(n?.res===void 0)return!1;let i=ih(n.res);return!1!==r.returnObjects||!i}extractFromKey(e,t){let r=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===r&&(r=":");let n=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,i=t.ns||this.options.defaultNS||[],o=r&&e.indexOf(r)>-1,a=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!n7(e,r,n);if(o&&!a){let t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:nG(i)?[i]:i};let o=e.split(r);(r!==n||r===n&&this.options.ns.indexOf(o[0])>-1)&&(i=o.shift()),e=o.join(n)}return{key:e,namespaces:nG(i)?[i]:i}}translate(e,t,r){let n="object"==typeof t?{...t}:t;if("object"!=typeof n&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof n&&(n={...n}),n||(n={}),null==e)return"";"function"==typeof e&&(e=iu(e,{...this.options,...n})),Array.isArray(e)||(e=[String(e)]);let i=void 0!==n.returnDetails?n.returnDetails:this.options.returnDetails,o=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,{key:a,namespaces:s}=this.extractFromKey(e[e.length-1],n),c=s[s.length-1],l=void 0!==n.nsSeparator?n.nsSeparator:this.options.nsSeparator;void 0===l&&(l=":");let u=n.lng||this.language,d=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u?.toLowerCase()==="cimode")return d?i?{res:`${c}${l}${a}`,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(n)}:`${c}${l}${a}`:i?{res:a,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(n)}:a;let f=this.resolve(e,n),h=f?.res,p=f?.usedKey||a,g=f?.exactUsedKey||a,m=void 0!==n.joinArrays?n.joinArrays:this.options.joinArrays,y=!this.i18nFormat||this.i18nFormat.handleAsObject,b=void 0!==n.count&&!nG(n.count),w=ip.hasDefaultValue(n),v=b?this.pluralResolver.getSuffix(u,n.count,n):"",E=n.ordinal&&b?this.pluralResolver.getSuffix(u,n.count,{ordinal:!1}):"",x=b&&!n.ordinal&&0===n.count,A=x&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${v}`]||n[`defaultValue${E}`]||n.defaultValue,S=h;y&&!h&&w&&(S=A);let _=ih(S),I=Object.prototype.toString.apply(S);if(y&&S&&_&&0>["[object Number]","[object Function]","[object RegExp]"].indexOf(I)&&!(nG(m)&&Array.isArray(S))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");let e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,S,{...n,ns:s}):`key '${a} (${this.language})' returned an object instead of string.`;return i?(f.res=e,f.usedParams=this.getUsedParamsDetails(n),f):e}if(o){let e=Array.isArray(S),t=e?[]:{},r=e?g:p;for(let e in S)if(Object.prototype.hasOwnProperty.call(S,e)){let i=`${r}${o}${e}`;w&&!h?t[e]=this.translate(i,{...n,defaultValue:ih(A)?A[e]:void 0,joinArrays:!1,ns:s}):t[e]=this.translate(i,{...n,joinArrays:!1,ns:s}),t[e]===i&&(t[e]=S[e])}h=t}}else if(y&&nG(m)&&Array.isArray(h))(h=h.join(m))&&(h=this.extendTranslation(h,e,n,r));else{let t=!1,i=!1;!this.isValidLookup(h)&&w&&(t=!0,h=A),this.isValidLookup(h)||(i=!0,h=a);let s=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&i?void 0:h,d=w&&A!==h&&this.options.updateMissing;if(i||t||d){if(this.logger.log(d?"updateKey":"missingKey",u,c,a,d?A:h),o){let e=this.resolve(a,{...n,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[],t=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if("fallback"===this.options.saveMissingTo&&t&&t[0])for(let r=0;r<t.length;r++)e.push(t[r]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(n.lng||this.language):e.push(n.lng||this.language);let r=(e,t,r)=>{let i=w&&r!==h?r:s;this.options.missingKeyHandler?this.options.missingKeyHandler(e,c,t,i,d,n):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(e,c,t,i,d,n),this.emit("missingKey",e,c,t,h)};this.options.saveMissing&&(this.options.saveMissingPlurals&&b?e.forEach(e=>{let t=this.pluralResolver.getSuffixes(e,n);x&&n[`defaultValue${this.options.pluralSeparator}zero`]&&0>t.indexOf(`${this.options.pluralSeparator}zero`)&&t.push(`${this.options.pluralSeparator}zero`),t.forEach(t=>{r([e],a+t,n[`defaultValue${t}`]||A)})}):r(e,a,A))}h=this.extendTranslation(h,e,n,f,r),i&&h===a&&this.options.appendNamespaceToMissingKey&&(h=`${c}${l}${a}`),(i||t)&&this.options.parseMissingKeyHandler&&(h=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}${l}${a}`:a,t?h:void 0,n))}return i?(f.res=h,f.usedParams=this.getUsedParamsDetails(n),f):h}extendTranslation(e,t,r,n,i){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||n.usedLng,n.usedNS,n.usedKey,{resolved:n});else if(!r.skipInterpolation){let o;r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});let a=nG(e)&&(r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(a){let t=e.match(this.interpolator.nestingRegexp);o=t&&t.length}let s=r.replace&&!nG(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),e=this.interpolator.interpolate(e,s,r.lng||this.language||n.usedLng,r),a){let t=e.match(this.interpolator.nestingRegexp);o<(t&&t.length)&&(r.nest=!1)}!r.lng&&n&&n.res&&(r.lng=this.language||n.usedLng),!1!==r.nest&&(e=this.interpolator.nest(e,(...e)=>i?.[0]!==e[0]||r.context?this.translate(...e,t):(this.logger.warn(`It seems you are nesting recursively key: ${e[0]} in key: ${t[0]}`),null),r)),r.interpolation&&this.interpolator.reset()}let o=r.postProcess||this.options.postProcess,a=nG(o)?[o]:o;return null!=e&&a?.length&&!1!==r.applyPostProcessor&&(e=ic.handle(a,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...n,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,t={}){let r,n,i,o,a;return nG(e)&&(e=[e]),e.forEach(e=>{if(this.isValidLookup(r))return;let s=this.extractFromKey(e,t),c=s.key;n=c;let l=s.namespaces;this.options.fallbackNS&&(l=l.concat(this.options.fallbackNS));let u=void 0!==t.count&&!nG(t.count),d=u&&!t.ordinal&&0===t.count,f=void 0!==t.context&&(nG(t.context)||"number"==typeof t.context)&&""!==t.context,h=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);l.forEach(e=>{this.isValidLookup(r)||(a=e,!id[`${h[0]}-${e}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(a)&&(id[`${h[0]}-${e}`]=!0,this.logger.warn(`key "${n}" for languages "${h.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),h.forEach(n=>{let a;if(this.isValidLookup(r))return;o=n;let s=[c];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(s,c,n,e,t);else{let e;u&&(e=this.pluralResolver.getSuffix(n,t.count,t));let r=`${this.options.pluralSeparator}zero`,i=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(u&&(t.ordinal&&0===e.indexOf(i)&&s.push(c+e.replace(i,this.options.pluralSeparator)),s.push(c+e),d&&s.push(c+r)),f){let n=`${c}${this.options.contextSeparator||"_"}${t.context}`;s.push(n),u&&(t.ordinal&&0===e.indexOf(i)&&s.push(n+e.replace(i,this.options.pluralSeparator)),s.push(n+e),d&&s.push(n+r))}}for(;a=s.pop();)this.isValidLookup(r)||(i=a,r=this.getResource(n,e,a,t))}))})}),{res:r,usedKey:n,exactUsedKey:i,usedLng:o,usedNS:a}}isValidLookup(e){return void 0!==e&&!(!this.options.returnNull&&null===e)&&!(!this.options.returnEmptyString&&""===e)}getResource(e,t,r,n={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,t,r,n):this.resourceStore.getResource(e,t,r,n)}getUsedParamsDetails(e={}){let t=e.replace&&!nG(e.replace),r=t?e.replace:e;if(t&&void 0!==e.count&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!t)for(let e of(r={...r},["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"]))delete r[e];return r}static hasDefaultValue(e){let t="defaultValue";for(let r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&void 0!==e[r])return!0;return!1}}class ig{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=io.create("languageUtils")}getScriptPartFromCode(e){if(!(e=it(e))||0>e.indexOf("-"))return null;let t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase())?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(!(e=it(e))||0>e.indexOf("-"))return e;let t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(nG(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch(e){}return(t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t)?t:this.options.lowerCaseLng?e.toLowerCase():e}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){let t;return e?(e.forEach(e=>{if(t)return;let r=this.formatLanguageCode(e);(!this.options.supportedLngs||this.isSupportedCode(r))&&(t=r)}),!t&&this.options.supportedLngs&&e.forEach(e=>{if(t)return;let r=this.getScriptPartFromCode(e);if(this.isSupportedCode(r))return t=r;let n=this.getLanguagePartFromCode(e);if(this.isSupportedCode(n))return t=n;t=this.options.supportedLngs.find(e=>{if(e===n||!(0>e.indexOf("-")&&0>n.indexOf("-"))&&(e.indexOf("-")>0&&0>n.indexOf("-")&&e.substring(0,e.indexOf("-"))===n||0===e.indexOf(n)&&n.length>1))return e})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}getFallbackCodes(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),nG(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){let r=this.getFallbackCodes((!1===t?[]:t)||this.options.fallbackLng||[],e),n=[],i=e=>{e&&(this.isSupportedCode(e)?n.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return nG(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&i(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&i(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&i(this.getLanguagePartFromCode(e))):nG(e)&&i(this.formatLanguageCode(e)),r.forEach(e=>{0>n.indexOf(e)&&i(this.formatLanguageCode(e))}),n}}let im={zero:0,one:1,two:2,few:3,many:4,other:5},iy={select:e=>1===e?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class ib{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=io.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){let r;let n=it("dev"===e?"en":e),i=t.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:n,type:i});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];try{r=new Intl.PluralRules(n,{type:i})}catch(i){if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),iy;if(!e.match(/-|_/))return iy;let n=this.languageUtils.getLanguagePartFromCode(e);r=this.getRule(n,t)}return this.pluralRulesCache[o]=r,r}needsPlural(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,t,r={}){return this.getSuffixes(e,r).map(e=>`${t}${e}`)}getSuffixes(e,t={}){let r=this.getRule(e,t);return(r||(r=this.getRule("dev",t)),r)?r.resolvedOptions().pluralCategories.sort((e,t)=>im[e]-im[t]).map(e=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${e}`):[]}getSuffix(e,t,r={}){let n=this.getRule(e,r);return n?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${n.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,r))}}let iw=(e,t,r,n=".",i=!0)=>{let o=n1(e,t,r);return!o&&i&&nG(r)&&void 0===(o=ie(e,r,n))&&(o=ie(t,r,n)),o},iv=e=>e.replace(/\$/g,"$$$$");class iE{constructor(e={}){this.logger=io.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(e=>e),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});let{escape:t,escapeValue:r,useRawValueToEscape:n,prefix:i,prefixEscaped:o,suffix:a,suffixEscaped:s,formatSeparator:c,unescapeSuffix:l,unescapePrefix:u,nestingPrefix:d,nestingPrefixEscaped:f,nestingSuffix:h,nestingSuffixEscaped:p,nestingOptionsSeparator:g,maxReplaces:m,alwaysFormat:y}=e.interpolation;this.escape=void 0!==t?t:n5,this.escapeValue=void 0===r||r,this.useRawValueToEscape=void 0!==n&&n,this.prefix=i?n3(i):o||"{{",this.suffix=a?n3(a):s||"}}",this.formatSeparator=c||",",this.unescapePrefix=l?"":u||"-",this.unescapeSuffix=this.unescapePrefix?"":l||"",this.nestingPrefix=d?n3(d):f||n3("$t("),this.nestingSuffix=h?n3(h):p||n3(")"),this.nestingOptionsSeparator=g||",",this.maxReplaces=m||1e3,this.alwaysFormat=void 0!==y&&y,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){let e=(e,t)=>e?.source===t?(e.lastIndex=0,e):RegExp(t,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,t,r,n){let i,o,a;let s=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=e=>{if(0>e.indexOf(this.formatSeparator)){let i=iw(t,s,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(i,void 0,r,{...n,...t,interpolationkey:e}):i}let i=e.split(this.formatSeparator),o=i.shift().trim(),a=i.join(this.formatSeparator).trim();return this.format(iw(t,s,o,this.options.keySeparator,this.options.ignoreJSONStructure),a,r,{...n,...t,interpolationkey:o})};this.resetRegExp();let l=n?.missingInterpolationHandler||this.options.missingInterpolationHandler,u=n?.interpolation?.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>iv(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?iv(this.escape(e)):iv(e)}].forEach(t=>{for(a=0;i=t.regex.exec(e);){let r=i[1].trim();if(void 0===(o=c(r))){if("function"==typeof l){let t=l(e,i,n);o=nG(t)?t:""}else if(n&&Object.prototype.hasOwnProperty.call(n,r))o="";else if(u){o=i[0];continue}else this.logger.warn(`missed to pass in variable ${r} for interpolating ${e}`),o=""}else nG(o)||this.useRawValueToEscape||(o=nV(o));let s=t.safeValue(o);if(e=e.replace(i[0],s),u?(t.regex.lastIndex+=o.length,t.regex.lastIndex-=i[0].length):t.regex.lastIndex=0,++a>=this.maxReplaces)break}}),e}nest(e,t,r={}){let n,i,o;let a=(e,t)=>{let r=this.nestingOptionsSeparator;if(0>e.indexOf(r))return e;let n=e.split(RegExp(`${r}[ ]*{`)),i=`{${n[1]}`;e=n[0];let a=(i=this.interpolate(i,o)).match(/'/g),s=i.match(/"/g);((a?.length??0)%2!=0||s)&&s.length%2==0||(i=i.replace(/'/g,'"'));try{o=JSON.parse(i),t&&(o={...t,...o})}catch(t){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,t),`${e}${r}${i}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,e};for(;n=this.nestingRegexp.exec(e);){let s=[];(o=(o={...r}).replace&&!nG(o.replace)?o.replace:o).applyPostProcessor=!1,delete o.defaultValue;let c=/{.*}/.test(n[1])?n[1].lastIndexOf("}")+1:n[1].indexOf(this.formatSeparator);if(-1!==c&&(s=n[1].slice(c).split(this.formatSeparator).map(e=>e.trim()).filter(Boolean),n[1]=n[1].slice(0,c)),(i=t(a.call(this,n[1].trim(),o),o))&&n[0]===e&&!nG(i))return i;nG(i)||(i=nV(i)),i||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${e}`),i=""),s.length&&(i=s.reduce((e,t)=>this.format(e,t,r.lng,{...r,interpolationkey:n[1].trim()}),i.trim())),e=e.replace(n[0],i),this.regexp.lastIndex=0}return e}}let ix=e=>{let t=e.toLowerCase().trim(),r={};if(e.indexOf("(")>-1){let n=e.split("(");t=n[0].toLowerCase().trim();let i=n[1].substring(0,n[1].length-1);"currency"===t&&0>i.indexOf(":")?r.currency||(r.currency=i.trim()):"relativetime"===t&&0>i.indexOf(":")?r.range||(r.range=i.trim()):i.split(";").forEach(e=>{if(e){let[t,...n]=e.split(":"),i=n.join(":").trim().replace(/^'+|'+$/g,""),o=t.trim();r[o]||(r[o]=i),"false"===i&&(r[o]=!1),"true"===i&&(r[o]=!0),isNaN(i)||(r[o]=parseInt(i,10))}})}return{formatName:t,formatOptions:r}},iA=e=>{let t={};return(r,n,i)=>{let o=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(o={...o,[i.interpolationkey]:void 0});let a=n+JSON.stringify(o),s=t[a];return s||(s=e(it(n),i),t[a]=s),s(r)}},iS=e=>(t,r,n)=>e(it(r),n)(t);class i_{constructor(e={}){this.logger=io.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";let r=t.cacheInBuiltFormats?iA:iS;this.formats={number:r((e,t)=>{let r=new Intl.NumberFormat(e,{...t});return e=>r.format(e)}),currency:r((e,t)=>{let r=new Intl.NumberFormat(e,{...t,style:"currency"});return e=>r.format(e)}),datetime:r((e,t)=>{let r=new Intl.DateTimeFormat(e,{...t});return e=>r.format(e)}),relativetime:r((e,t)=>{let r=new Intl.RelativeTimeFormat(e,{...t});return e=>r.format(e,t.range||"day")}),list:r((e,t)=>{let r=new Intl.ListFormat(e,{...t});return e=>r.format(e)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=iA(t)}format(e,t,r,n={}){let i=t.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&0>i[0].indexOf(")")&&i.find(e=>e.indexOf(")")>-1)){let e=i.findIndex(e=>e.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,e)].join(this.formatSeparator)}return i.reduce((e,t)=>{let{formatName:i,formatOptions:o}=ix(t);if(this.formats[i]){let t=e;try{let a=n?.formatParams?.[n.interpolationkey]||{},s=a.locale||a.lng||n.locale||n.lng||r;t=this.formats[i](e,s,{...o,...n,...a})}catch(e){this.logger.warn(e)}return t}return this.logger.warn(`there was no format function for ${i}`),e},e)}}let iI=(e,t)=>{void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)};class iC extends ia{constructor(e,t,r,n={}){super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=n,this.logger=io.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=n.maxParallelReads||10,this.readingCalls=0,this.maxRetries=n.maxRetries>=0?n.maxRetries:5,this.retryTimeout=n.retryTimeout>=1?n.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(r,n.backend,n)}queueLoad(e,t,r,n){let i={},o={},a={},s={};return e.forEach(e=>{let n=!0;t.forEach(t=>{let a=`${e}|${t}`;!r.reload&&this.store.hasResourceBundle(e,t)?this.state[a]=2:this.state[a]<0||(1===this.state[a]?void 0===o[a]&&(o[a]=!0):(this.state[a]=1,n=!1,void 0===o[a]&&(o[a]=!0),void 0===i[a]&&(i[a]=!0),void 0===s[t]&&(s[t]=!0)))}),n||(a[e]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:n}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(s)}}loaded(e,t,r){let n=e.split("|"),i=n[0],o=n[1];t&&this.emit("failedLoading",i,o,t),!t&&r&&this.store.addResourceBundle(i,o,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);let a={};this.queue.forEach(r=>{nQ(r.loaded,[i],o),iI(r,e),t&&r.errors.push(t),0!==r.pendingCount||r.done||(Object.keys(r.loaded).forEach(e=>{a[e]||(a[e]={});let t=r.loaded[e];t.length&&t.forEach(t=>{void 0===a[e][t]&&(a[e][t]=!0)})}),r.done=!0,r.errors.length?r.callback(r.errors):r.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(e=>!e.done)}read(e,t,r,n=0,i=this.retryTimeout,o){if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:r,tried:n,wait:i,callback:o});return}this.readingCalls++;let a=(a,s)=>{if(this.readingCalls--,this.waitingReads.length>0){let e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}if(a&&s&&n<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,r,n+1,2*i,o)},i);return}o(a,s)},s=this.backend[r].bind(this.backend);if(2===s.length){try{let r=s(e,t);r&&"function"==typeof r.then?r.then(e=>a(null,e)).catch(a):a(null,r)}catch(e){a(e)}return}return s(e,t,a)}prepareLoading(e,t,r={},n){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();nG(e)&&(e=this.languageUtils.toResolveHierarchy(e)),nG(t)&&(t=[t]);let i=this.queueLoad(e,t,r,n);if(!i.toLoad.length)return i.pending.length||n(),null;i.toLoad.forEach(e=>{this.loadOne(e)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e,t=""){let r=e.split("|"),n=r[0],i=r[1];this.read(n,i,"read",void 0,void 0,(r,o)=>{r&&this.logger.warn(`${t}loading namespace ${i} for language ${n} failed`,r),!r&&o&&this.logger.log(`${t}loaded namespace ${i} for language ${n}`,o),this.loaded(e,r,o)})}saveMissing(e,t,r,n,i,o={},a=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(null!=r&&""!==r){if(this.backend?.create){let s={...o,isUpdate:i},c=this.backend.create.bind(this.backend);if(c.length<6)try{let i;(i=5===c.length?c(e,t,r,n,s):c(e,t,r,n))&&"function"==typeof i.then?i.then(e=>a(null,e)).catch(a):a(null,i)}catch(e){a(e)}else c(e,t,r,n,a,s)}e&&e[0]&&this.store.addResource(e[0],t,r,n)}}}let iO=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if("object"==typeof e[1]&&(t=e[1]),nG(e[1])&&(t.defaultValue=e[1]),nG(e[2])&&(t.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){let r=e[3]||e[2];Object.keys(r).forEach(e=>{t[e]=r[e]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),iP=e=>(nG(e.ns)&&(e.ns=[e.ns]),nG(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),nG(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs?.indexOf?.("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),"boolean"==typeof e.initImmediate&&(e.initAsync=e.initImmediate),e),iT=()=>{},ik=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(t=>{"function"==typeof e[t]&&(e[t]=e[t].bind(e))})};class iN extends ia{constructor(e={},t){if(super(),this.options=iP(e),this.services={},this.logger=io,this.modules={external:[]},ik(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,"function"==typeof e&&(t=e,e={}),null==e.defaultNS&&e.ns&&(nG(e.ns)?e.defaultNS=e.ns:0>e.ns.indexOf("translation")&&(e.defaultNS=e.ns[0]));let r=iO();this.options={...r,...this.options,...iP(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},void 0!==e.keySeparator&&(this.options.userDefinedKeySeparator=e.keySeparator),void 0!==e.nsSeparator&&(this.options.userDefinedNsSeparator=e.nsSeparator),"function"!=typeof this.options.overloadTranslationOptionHandler&&(this.options.overloadTranslationOptionHandler=r.overloadTranslationOptionHandler),!0===this.options.debug&&"undefined"!=typeof console&&console.warn("i18next is maintained with support from locize.com  consider powering your project with managed localization (AI, CDN, integrations): https://locize.com");let n=e=>e?"function"==typeof e?new e:e:null;if(!this.options.isClone){let e;this.modules.logger?io.init(n(this.modules.logger),this.options):io.init(null,this.options),e=this.modules.formatter?this.modules.formatter:i_;let t=new ig(this.options);this.store=new is(this.options.resources,this.options);let i=this.services;i.logger=io,i.resourceStore=this.store,i.languageUtils=t,i.pluralResolver=new ib(t,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),e&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(i.formatter=n(e),i.formatter.init&&i.formatter.init(i,this.options),this.options.interpolation.format=i.formatter.format.bind(i.formatter)),i.interpolator=new iE(this.options),i.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},i.backendConnector=new iC(n(this.modules.backend),i.resourceStore,i,this.options),i.backendConnector.on("*",(e,...t)=>{this.emit(e,...t)}),this.modules.languageDetector&&(i.languageDetector=n(this.modules.languageDetector),i.languageDetector.init&&i.languageDetector.init(i,this.options.detection,this.options)),this.modules.i18nFormat&&(i.i18nFormat=n(this.modules.i18nFormat),i.i18nFormat.init&&i.i18nFormat.init(this)),this.translator=new ip(this.services,this.options),this.translator.on("*",(e,...t)=>{this.emit(e,...t)}),this.modules.external.forEach(e=>{e.init&&e.init(this)})}if(this.format=this.options.interpolation.format,t||(t=iT),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){let e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(e=>{this[e]=(...t)=>this.store[e](...t)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(e=>{this[e]=(...t)=>(this.store[e](...t),this)});let i=nH(),o=()=>{let e=(e,r)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),i.resolve(r),t(e,r)};if(this.languages&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initAsync?o():setTimeout(o,0),i}loadResources(e,t=iT){let r=t,n=nG(e)?e:this.language;if("function"==typeof e&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(n?.toLowerCase()==="cimode"&&(!this.options.preload||0===this.options.preload.length))return r();let e=[],t=t=>{t&&"cimode"!==t&&this.services.languageUtils.toResolveHierarchy(t).forEach(t=>{"cimode"!==t&&0>e.indexOf(t)&&e.push(t)})};n?t(n):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(e=>t(e)),this.options.preload?.forEach?.(e=>t(e)),this.services.backendConnector.load(e,this.options.ns,e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),r(e)})}else r(null)}reloadResources(e,t,r){let n=nH();return"function"==typeof e&&(r=e,e=void 0),"function"==typeof t&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=iT),this.services.backendConnector.reload(e,t,e=>{n.resolve(),r(e)}),n}use(e){if(!e)throw Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&ic.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1)){for(let e=0;e<this.languages.length;e++){let t=this.languages[e];if(!(["cimode","dev"].indexOf(t)>-1)&&this.store.hasLanguageSomeTranslations(t)){this.resolvedLanguage=t;break}}!this.resolvedLanguage&&0>this.languages.indexOf(e)&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;let r=nH();this.emit("languageChanging",e);let n=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},i=(i,o)=>{o?this.isLanguageChangingTo===e&&(n(o),this.translator.changeLanguage(o),this.isLanguageChangingTo=void 0,this.emit("languageChanged",o),this.logger.log("languageChanged",o)):this.isLanguageChangingTo=void 0,r.resolve((...e)=>this.t(...e)),t&&t(i,(...e)=>this.t(...e))},o=t=>{e||t||!this.services.languageDetector||(t=[]);let r=nG(t)?t:t&&t[0],o=this.store.hasLanguageSomeTranslations(r)?r:this.services.languageUtils.getBestMatchFromCodes(nG(t)?[t]:t);o&&(this.language||n(o),this.translator.language||this.translator.changeLanguage(o),this.services.languageDetector?.cacheUserLanguage?.(o)),this.loadResources(o,e=>{i(e,o)})};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e):o(this.services.languageDetector.detect()),r}getFixedT(e,t,r){let n=(e,t,...i)=>{let o,a;(o="object"!=typeof t?this.options.overloadTranslationOptionHandler([e,t].concat(i)):{...t}).lng=o.lng||n.lng,o.lngs=o.lngs||n.lngs,o.ns=o.ns||n.ns,""!==o.keyPrefix&&(o.keyPrefix=o.keyPrefix||r||n.keyPrefix);let s=this.options.keySeparator||".";return o.keyPrefix&&Array.isArray(e)?a=e.map(e=>("function"==typeof e&&(e=iu(e,{...this.options,...t})),`${o.keyPrefix}${s}${e}`)):("function"==typeof e&&(e=iu(e,{...this.options,...t})),a=o.keyPrefix?`${o.keyPrefix}${s}${e}`:e),this.t(a,o)};return nG(e)?n.lng=e:n.lngs=e,n.ns=t,n.keyPrefix=r,n}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;let r=t.lng||this.resolvedLanguage||this.languages[0],n=!!this.options&&this.options.fallbackLng,i=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;let o=(e,t)=>{let r=this.services.backendConnector.state[`${e}|${t}`];return -1===r||0===r||2===r};if(t.precheck){let e=t.precheck(this,o);if(void 0!==e)return e}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,e)&&(!n||o(i,e)))}loadNamespaces(e,t){let r=nH();return this.options.ns?(nG(e)&&(e=[e]),e.forEach(e=>{0>this.options.ns.indexOf(e)&&this.options.ns.push(e)}),this.loadResources(e=>{r.resolve(),t&&t(e)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){let r=nH();nG(e)&&(e=[e]);let n=this.options.preload||[],i=e.filter(e=>0>n.indexOf(e)&&this.services.languageUtils.isSupportedCode(e));return i.length?(this.options.preload=n.concat(i),this.loadResources(e=>{r.resolve(),t&&t(e)}),r):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{let t=new Intl.Locale(e);if(t&&t.getTextInfo){let e=t.getTextInfo();if(e&&e.direction)return e.direction}}catch(e){}let t=this.services?.languageUtils||new ig(iO());return e.toLowerCase().indexOf("-latn")>1?"ltr":["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){let r=new iN(e,t);return r.createInstance=iN.createInstance,r}cloneInstance(e={},t=iT){let r=e.forkResourceStore;r&&delete e.forkResourceStore;let n={...this.options,...e,isClone:!0},i=new iN(n);if((void 0!==e.debug||void 0!==e.prefix)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(e=>{i[e]=this[e]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r){let e=Object.keys(this.store.data).reduce((e,t)=>(e[t]={...this.store.data[t]},e[t]=Object.keys(e[t]).reduce((r,n)=>(r[n]={...e[t][n]},r),e[t]),e),{});i.store=new is(e,n),i.services.resourceStore=i.store}if(e.interpolation){let t={...iO().interpolation,...this.options.interpolation,...e.interpolation},r={...n,interpolation:t};i.services.interpolator=new iE(r)}return i.translator=new ip(i.services,n),i.translator.on("*",(e,...t)=>{i.emit(e,...t)}),i.init(n,t),i.translator.options=n,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}let iM=iN.createInstance();iM.createInstance,iM.dir,iM.init,iM.loadResources,iM.reloadResources,iM.use,iM.changeLanguage,iM.getFixedT,iM.t,iM.exists,iM.setDefaultNamespace,iM.hasLoadedNamespace,iM.loadNamespaces,iM.loadLanguages,r(69917),Object.create(null);let iR=(e,t,r,n)=>{let i=[r,{code:t,...n||{}}];if(e?.services?.logger?.forward)return e.services.logger.forward(i,"warn","react-i18next::",!0);iF(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),e?.services?.logger?.warn?e.services.logger.warn(...i):console?.warn&&console.warn(...i)},iD={},iL=(e,t,r,n)=>{iF(r)&&iD[r]||(iF(r)&&(iD[r]=new Date),iR(e,t,r,n))},iB=(e,t)=>()=>{if(e.isInitialized)t();else{let r=()=>{setTimeout(()=>{e.off("initialized",r)},0),t()};e.on("initialized",r)}},iU=(e,t,r)=>{e.loadNamespaces(t,iB(e,r))},ij=(e,t,r,n)=>{if(iF(r)&&(r=[r]),e.options.preload&&e.options.preload.indexOf(t)>-1)return iU(e,r,n);r.forEach(t=>{0>e.options.ns.indexOf(t)&&e.options.ns.push(t)}),e.loadLanguages(t,iB(e,n))},i$=(e,t,r={})=>t.languages&&t.languages.length?t.hasLoadedNamespace(e,{lng:r.lng,precheck:(t,n)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!n(t.isLanguageChangingTo,e))return!1}}):(iL(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0),iF=e=>"string"==typeof e,iz=e=>"object"==typeof e&&null!==e,iq=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,iG={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"\xa9","&#169;":"\xa9","&reg;":"\xae","&#174;":"\xae","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},iH=e=>iG[e],iV={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e=>e.replace(iq,iH),transDefaultProps:void 0},iW=(e={})=>{iV={...iV,...e}},iZ=()=>iV,iK=e=>{n=e},iY=()=>n,iJ=(0,rs.createContext)();class iX{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}class iQ extends Error{constructor(e,t,r){super(e),this.name="TranslationParserError",this.position=t,this.translationString=r,Error.captureStackTrace&&Error.captureStackTrace(this,iQ)}}let i0={"&nbsp;":"\xa0","&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&apos;":"'","&copy;":"\xa9","&reg;":"\xae","&trade;":"","&hellip;":"","&ndash;":"","&mdash;":"","&lsquo;":"","&rsquo;":"","&sbquo;":"","&ldquo;":"","&rdquo;":"","&bdquo;":"","&dagger;":"","&Dagger;":"","&bull;":"","&prime;":"","&Prime;":"","&lsaquo;":"","&rsaquo;":"","&sect;":"\xa7","&para;":"\xb6","&middot;":"\xb7","&ensp;":"","&emsp;":"","&thinsp;":"","&euro;":"","&pound;":"\xa3","&yen;":"\xa5","&cent;":"\xa2","&curren;":"\xa4","&times;":"\xd7","&divide;":"\xf7","&minus;":"","&plusmn;":"\xb1","&ne;":"","&le;":"","&ge;":"","&asymp;":"","&equiv;":"","&infin;":"","&int;":"","&sum;":"","&prod;":"","&radic;":"","&part;":"","&permil;":"","&deg;":"\xb0","&micro;":"\xb5","&larr;":"","&uarr;":"","&rarr;":"","&darr;":"","&harr;":"","&crarr;":"","&lArr;":"","&uArr;":"","&rArr;":"","&dArr;":"","&hArr;":"","&alpha;":"","&beta;":"","&gamma;":"","&delta;":"","&epsilon;":"","&zeta;":"","&eta;":"","&theta;":"","&iota;":"","&kappa;":"","&lambda;":"","&mu;":"","&nu;":"","&xi;":"","&omicron;":"","&pi;":"","&rho;":"","&sigma;":"","&tau;":"","&upsilon;":"","&phi;":"","&chi;":"","&psi;":"","&omega;":"","&Alpha;":"","&Beta;":"","&Gamma;":"","&Delta;":"","&Epsilon;":"","&Zeta;":"","&Eta;":"","&Theta;":"","&Iota;":"","&Kappa;":"","&Lambda;":"","&Mu;":"","&Nu;":"","&Xi;":"","&Omicron;":"","&Pi;":"","&Rho;":"","&Sigma;":"","&Tau;":"","&Upsilon;":"","&Phi;":"","&Chi;":"","&Psi;":"","&Omega;":"","&Agrave;":"\xc0","&Aacute;":"\xc1","&Acirc;":"\xc2","&Atilde;":"\xc3","&Auml;":"\xc4","&Aring;":"\xc5","&AElig;":"\xc6","&Ccedil;":"\xc7","&Egrave;":"\xc8","&Eacute;":"\xc9","&Ecirc;":"\xca","&Euml;":"\xcb","&Igrave;":"\xcc","&Iacute;":"\xcd","&Icirc;":"\xce","&Iuml;":"\xcf","&ETH;":"\xd0","&Ntilde;":"\xd1","&Ograve;":"\xd2","&Oacute;":"\xd3","&Ocirc;":"\xd4","&Otilde;":"\xd5","&Ouml;":"\xd6","&Oslash;":"\xd8","&Ugrave;":"\xd9","&Uacute;":"\xda","&Ucirc;":"\xdb","&Uuml;":"\xdc","&Yacute;":"\xdd","&THORN;":"\xde","&szlig;":"\xdf","&agrave;":"\xe0","&aacute;":"\xe1","&acirc;":"\xe2","&atilde;":"\xe3","&auml;":"\xe4","&aring;":"\xe5","&aelig;":"\xe6","&ccedil;":"\xe7","&egrave;":"\xe8","&eacute;":"\xe9","&ecirc;":"\xea","&euml;":"\xeb","&igrave;":"\xec","&iacute;":"\xed","&icirc;":"\xee","&iuml;":"\xef","&eth;":"\xf0","&ntilde;":"\xf1","&ograve;":"\xf2","&oacute;":"\xf3","&ocirc;":"\xf4","&otilde;":"\xf5","&ouml;":"\xf6","&oslash;":"\xf8","&ugrave;":"\xf9","&uacute;":"\xfa","&ucirc;":"\xfb","&uuml;":"\xfc","&yacute;":"\xfd","&thorn;":"\xfe","&yuml;":"\xff","&iexcl;":"\xa1","&iquest;":"\xbf","&fnof;":"","&circ;":"","&tilde;":"","&OElig;":"","&oelig;":"","&Scaron;":"","&scaron;":"","&Yuml;":"","&ordf;":"\xaa","&ordm;":"\xba","&macr;":"\xaf","&acute;":"\xb4","&cedil;":"\xb8","&sup1;":"\xb9","&sup2;":"\xb2","&sup3;":"\xb3","&frac14;":"\xbc","&frac12;":"\xbd","&frac34;":"\xbe","&spades;":"","&clubs;":"","&hearts;":"","&diams;":"","&loz;":"","&oline;":"","&frasl;":"","&weierp;":"","&image;":"","&real;":"","&alefsym;":""},i1=RegExp(Object.keys(i0).map(e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|"),"g"),i2=e=>e.replace(i1,e=>i0[e]).replace(/&#(\d+);/g,(e,t)=>String.fromCharCode(parseInt(t,10))).replace(/&#x([0-9a-fA-F]+);/g,(e,t)=>String.fromCharCode(parseInt(t,16))),i3=e=>{let t=[],r=0,n="",i=()=>{n&&(t.push({type:"Text",value:n,position:r-n.length}),n="")};for(;r<e.length;){let o=e[r];if("<"===o){let a=e.slice(r).match(/^<(\d+)>/);if(a)i(),t.push({type:"TagOpen",value:a[0],position:r,tagNumber:parseInt(a[1],10)}),r+=a[0].length;else{let a=e.slice(r).match(/^<\/(\d+)>/);a?(i(),t.push({type:"TagClose",value:a[0],position:r,tagNumber:parseInt(a[1],10)}),r+=a[0].length):(n+=o,r+=1)}}else n+=o,r+=1}return i(),t},i6=(e,t,r)=>{let{type:n,props:i={}}=e;if(i.children&&Array.isArray(i.children)&&r){let{children:e,...r}=i;return rs.createElement(n,r,...t)}return 0===t.length?rs.createElement(n,i):1===t.length?rs.createElement(n,i,t[0]):rs.createElement(n,i,...t)};var i5=r(82558);let i8={t:(e,t)=>iF(t)?t:iz(t)&&iF(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,ready:!1},i4=()=>()=>{},i9=(e,t={})=>{let{i18n:r}=t,{i18n:n,defaultNS:i}=(0,rs.useContext)(iJ)||{},o=r||n||iY();o&&!o.reportNamespaces&&(o.reportNamespaces=new iX),o||iL(o,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");let a=(0,rs.useMemo)(()=>({...iZ(),...o?.options?.react,...t}),[o,t]),{useSuspense:s,keyPrefix:c}=a,l=e||i||o?.options?.defaultNS,u=iF(l)?[l]:l||["translation"],d=(0,rs.useMemo)(()=>u,u);o?.reportNamespaces?.addUsedNamespaces?.(d);let f=(0,rs.useRef)(0),h=(0,rs.useCallback)(e=>{if(!o)return i4;let{bindI18n:t,bindI18nStore:r}=a,n=()=>{f.current+=1,e()};return t&&o.on(t,n),r&&o.store.on(r,n),()=>{t&&t.split(" ").forEach(e=>o.off(e,n)),r&&r.split(" ").forEach(e=>o.store.off(e,n))}},[o,a]),p=(0,rs.useRef)(),g=(0,rs.useCallback)(()=>{if(!o)return i8;let e=!!(o.isInitialized||o.initializedStoreOnce)&&d.every(e=>i$(e,o,a)),r=t.lng||o.language,n=f.current,i=p.current;if(i&&i.ready===e&&i.lng===r&&i.keyPrefix===c&&i.revision===n)return i;let s={t:o.getFixedT(r,"fallback"===a.nsMode?d:d[0],c),ready:e,lng:r,keyPrefix:c,revision:n};return p.current=s,s},[o,d,c,a,t.lng]),[m,y]=(0,rs.useState)(0),{t:b,ready:w}=(0,i5.useSyncExternalStore)(h,g,g);(0,rs.useEffect)(()=>{if(o&&!w&&!s){let e=()=>y(e=>e+1);t.lng?ij(o,t.lng,d,e):iU(o,d,e)}},[o,t.lng,d,w,s,m]);let v=o||{},E=(0,rs.useRef)(null),x=(0,rs.useRef)(),A=e=>{let t=Object.getOwnPropertyDescriptors(e);t.__original&&delete t.__original;let r=Object.create(Object.getPrototypeOf(e),t);if(!Object.prototype.hasOwnProperty.call(r,"__original"))try{Object.defineProperty(r,"__original",{value:e,writable:!1,enumerable:!1,configurable:!1})}catch(e){}return r},S=(0,rs.useMemo)(()=>{let e=v?.language,t=v;v&&(E.current&&E.current.__original===v?x.current!==e?(t=A(v),E.current=t,x.current=e):t=E.current:(t=A(v),E.current=t,x.current=e));let r=[b,t,w];return r.t=b,r.i18n=t,r.ready=w,r},[b,v,w,v.resolvedLanguage,v.language,v.languages]);if(o&&s&&!w)throw new Promise(e=>{let r=()=>e();t.lng?ij(o,t.lng,d,r):iU(o,d,r)});return S},i7=(0,rs.createContext)({bodyState:{metamaskQrCode:{show:!1,wallet:null},installLinks:{show:!1,wallet:null},multiChainSelector:{show:!1,wallet:null}},toast:{message:"",type:t9.SUCCESS},setBodyState:()=>{},setToast:()=>{}}),oe=(0,rs.createContext)({isDark:!0});var ot=r(98600);let or=iM.createInstance();function on({isShown:e,onClose:t,children:r,uiConfig:n,sheetClassName:i,showCloseButton:o=!0}){let{borderRadiusType:a="large"}=n;return(0,nF.jsxs)(nF.Fragment,{children:[(0,nF.jsx)("div",{className:nT("w3a--bottom-sheet-bg w3a--fixed w3a--left-0 w3a--top-0 w3a--size-full w3a--transition-opacity w3a--duration-300",{"w3a--rounded-[30px]":"large"===a,"w3a--rounded-2xl":"medium"===a,"w3a--rounded-none":"small"===a}),onClick:t,"aria-hidden":"true",role:"button"}),(0,nF.jsxs)("div",{className:nT(`w3a--fixed w3a--bottom-2 w3a--left-2 w3a--mx-auto w3a--flex w3a--w-[96%] w3a--flex-col 
      w3a--gap-y-2 w3a--border w3a--border-app-gray-100 w3a--bg-app-white w3a--p-4 w3a--shadow-lg w3a--transition-transform w3a--duration-500 
      w3a--ease-out dark:w3a--border-app-gray-600 dark:w3a--bg-app-dark-surface-main
      ${e?"w3a--translate-y-0 w3a--delay-700":"w3a--translate-y-full"}`,{"w3a--rounded-[30px]":"large"===a,"w3a--rounded-2xl":"medium"===a,"w3a--rounded-none":"small"===a},i),children:[o&&(0,nF.jsx)("div",{className:"w3a--absolute w3a--right-4 w3a--top-[16px] w3a--z-10 w3a--cursor-pointer",children:(0,nF.jsx)("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:t,className:"w3a--text-app-gray-500 hover:w3a--text-app-gray-900 dark:w3a--text-app-gray-200 dark:hover:w3a--text-app-white",children:(0,nF.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.292787 1.29299C0.480314 1.10552 0.734622 1.0002 0.999786 1.0002C1.26495 1.0002 1.51926 1.10552 1.70679 1.29299L5.99979 5.58599L10.2928 1.29299C10.385 1.19748 10.4954 1.1213 10.6174 1.06889C10.7394 1.01648 10.8706 0.988893 11.0034 0.987739C11.1362 0.986585 11.2678 1.01189 11.3907 1.06217C11.5136 1.11245 11.6253 1.1867 11.7192 1.28059C11.8131 1.37449 11.8873 1.48614 11.9376 1.60904C11.9879 1.73193 12.0132 1.86361 12.012 1.99639C12.0109 2.12917 11.9833 2.26039 11.9309 2.38239C11.8785 2.5044 11.8023 2.61474 11.7068 2.70699L7.41379 6.99999L11.7068 11.293C11.8889 11.4816 11.9897 11.7342 11.9875 11.9964C11.9852 12.2586 11.88 12.5094 11.6946 12.6948C11.5092 12.8802 11.2584 12.9854 10.9962 12.9877C10.734 12.9899 10.4814 12.8891 10.2928 12.707L5.99979 8.41399L1.70679 12.707C1.51818 12.8891 1.26558 12.9899 1.00339 12.9877C0.741188 12.9854 0.490376 12.8802 0.304968 12.6948C0.11956 12.5094 0.0143906 12.2586 0.0121121 11.9964C0.00983372 11.7342 0.110629 11.4816 0.292787 11.293L4.58579 6.99999L0.292787 2.70699C0.105316 2.51946 0 2.26515 0 1.99999C0 1.73483 0.105316 1.48052 0.292787 1.29299V1.29299Z",fill:"currentColor"})})}),r]})]})}or.use({type:"3rdParty",init(e){iW(e.options.react),iK(e)}}).init({resources:{en:{translation:ot.default}},lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1},debug:!1,react:{useSuspense:!0}});let oi=(0,rs.createContext)({analytics:void 0});function oo(e){let{isDark:t,isLoading:r,selectedChain:n,setSelectedChain:i,chainNamespace:o}=e,[a]=i9(void 0,{i18n:or}),s=(0,rs.useMemo)(()=>{let e=[{id:"all",name:"modal.allChains",icon:""}];for(let t of o)(t===f.E.EIP155||t===f.E.SOLANA)&&e.push({id:t,name:t===f.E.EIP155?"EVM":t,icon:t===f.E.EIP155?"ethereum":t});return e},[o]);return r?(0,nF.jsx)("div",{className:"w3a--flex w3a--items-center w3a--justify-between w3a--gap-x-2",children:Array.from({length:s.length}).map((e,t)=>(0,nF.jsx)("div",{className:"w3a--h-12 w3a--w-[100px] w3a--animate-pulse w3a--rounded-2xl w3a--bg-app-gray-200 dark:w3a--bg-app-gray-700"},`chain-loader-${t}`))}):(0,nF.jsx)("div",{className:"w3a--flex w3a--items-center w3a--justify-items-start w3a--gap-x-4",children:s.map(e=>(0,nF.jsxs)("button",{type:"button",className:nT("w3a--flex w3a--w-[104px] w3a--items-center w3a--justify-center w3a--gap-x-1 w3a--text-xs w3a--font-medium w3a--px-4 w3a--py-3 w3a--text-app-gray-500 dark:w3a--text-app-gray-300 hover:w3a--bg-app-gray-200 dark:hover:w3a--bg-app-gray-700 w3a--h-12 w3a--rounded-2xl w3a--border w3a--border-transparent",{"w3a--bg-app-gray-100 dark:w3a--bg-app-gray-800 w3a--border-app-gray-200 dark:w3a--border-app-gray-700 w3a--text-app-gray-900 dark:w3a--text-app-white hover:!w3a--bg-app-gray-100 dark:hover:!w3a--bg-app-gray-800":n===e.id}),onClick:()=>i(e.id),children:[e.icon&&(0,nF.jsx)("img",{src:nD(t?`${e.icon}-dark`:`${e.icon}-light`),alt:e.name,className:"w3a--size-5 w3a--object-contain"}),(0,nF.jsx)("span",{className:"first-letter:w3a--capitalize",children:a(e.name)})]},e.id))})}function oa(e){let{disableBackButton:t,onBackClick:r,currentPage:n,selectedButton:i}=e,[o]=i9(void 0,{i18n:or});return(0,nF.jsxs)("div",{className:"w3a--flex w3a--items-center w3a--justify-between",children:[t?(0,nF.jsx)("div",{}):(0,nF.jsx)("button",{type:"button",className:"w3a--z-20 w3a--flex w3a--size-5 w3a--cursor-pointer w3a--items-center w3a--justify-center w3a--rounded-full",onClick:()=>{r&&r()},children:(0,nF.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",className:"w3a--text-app-gray-500 hover:w3a--text-app-gray-900 dark:w3a--text-app-gray-200 dark:hover:w3a--text-app-white",children:(0,nF.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.707 16.707a1 1 0 0 1-1.414 0l-6-6a1 1 0 0 1 0-1.414l6-6a1 1 0 0 1 1.414 1.414L5.414 9H17a1 1 0 1 1 0 2H5.414l4.293 4.293a1 1 0 0 1 0 1.414",clipRule:"evenodd"})})}),(0,nF.jsx)("p",{className:"w3a--text-base w3a--font-medium w3a--text-app-gray-900 dark:w3a--text-app-white",children:n===rl.SELECTED_WALLET?null==i?void 0:i.displayName:n===rl.CONNECT_WALLET?o("modal.connectYourWallet"):n}),(0,nF.jsx)("div",{className:"w3a--z-[-1] w3a--size-5"})]})}let os={SOCIAL:"social",WALLET:"wallet"};function oc(e){let{id:t="",isButton:r=!1,imageData:n="",height:i="auto",width:o="auto",extension:a="svg",darkImageId:s="",darkHoverImageId:c="",imageId:l,hoverImageId:u,fallbackImageId:d}=e,{isDark:f}=(0,rs.useContext)(oe),h=(0,rs.useMemo)(()=>f&&s?s:l,[f,s,l]),p=(0,rs.useMemo)(()=>f&&c?c:u,[f,c,u]);return r?n?(0,nF.jsx)("img",{id:t,src:n,height:i,width:o,alt:u,className:nT("w3a--object-contain",`w3a--h-${i} w3a--w-${o}`)}):(0,nF.jsx)("img",{id:t,src:`https://images.web3auth.io/${p}.${a}`,height:i,width:o,alt:u,className:nT("w3a--rounded w3a--object-contain",`w3a--h-${i} w3a--w-${o}`)}):n?(0,nF.jsx)("img",{id:t,src:n,height:i,width:o,alt:l,className:nT("w3a--object-contain",`w3a--h-${i} w3a--w-${o}`),onError:({currentTarget:e})=>{d&&(e.onerror=null,e.src=`https://images.web3auth.io/${d}.svg`)}}):(0,nF.jsx)("img",{id:t,src:`https://images.web3auth.io/${h}.${a}`,height:i,width:o,alt:l,className:nT("w3a--rounded w3a--object-contain",`w3a--h-${i} w3a--w-${o}`),onError:({currentTarget:e})=>{d&&(e.onerror=null,e.src=`https://images.web3auth.io/${d}.svg`)}})}function ol(e){let{text:t,showIcon:r,showText:n,method:i,isDark:o,isPrimaryBtn:a,onClick:s,children:c,btnStyle:l,buttonRadius:u="pill"}=e;return(0,nF.jsxs)("button",{type:"button",onClick:e=>s&&s(e),className:nT("w3a--btn",l,{"w3a--rounded-full":"pill"===u,"w3a--rounded-lg":"rounded"===u,"w3a--rounded-none":"square"===u}),children:[r&&function(e,t,r){let n=e===g.Ck.TWITTER?`login-X${t?"-light":"-dark"}`:`login-${e}${t?"-light":"-dark"}`,i=e===g.Ck.APPLE||e===g.Ck.GITHUB||e===g.Ck.TWITTER?n:`login-${e}-active`;return r?(0,nF.jsx)(oc,{width:"20",imageId:i,hoverImageId:i,isButton:!0}):(0,nF.jsx)(oc,{width:"20",imageId:n,hoverImageId:i})}(i,o,a),c,n&&(0,nF.jsx)("p",{className:"w3a--text-base w3a--font-normal w3a--text-app-gray-900 dark:w3a--text-app-white",children:t})]})}var ou=r(36760),od=r.n(ou);function of(e){let[t]=i9(void 0,{i18n:or}),{deviceDetails:r,button:n,walletConnectUri:i,onClick:o,label:a,buttonRadius:s}=e,c=(0,rs.useContext)(oe),l=(0,rs.useMemo)(()=>"desktop"!==r.platform&&n.href&&n.hasWalletConnect&&!n.isInstalled,[r,n]),u=(0,rs.useMemo)(()=>n.href?function(e){let t=encodeURIComponent(e.uri);return e.link.startsWith("http")?`${e.link}/wc?uri=${t}`:e.link?`${e.link}wc?uri=${t}`:""}({uri:i,link:n.href}):i,[n,i]);return(0,nF.jsxs)("button",{type:"button",className:od()(`w3a--group w3a--relative w3a--overflow-hidden w3a--flex w3a--w-full w3a--items-center w3a--justify-between w3a--bg-app-gray-50 w3a--p-3 hover:w3a--bg-app-gray-200 
        hover:w3a--text-app-gray-900 dark:w3a--bg-app-gray-800 dark:hover:w3a--bg-app-gray-600 active:w3a--scale-95 w3a--transition-all w3a--duration-150`,{"w3a--rounded-full":"pill"===s,"w3a--rounded-lg":"rounded"===s,"w3a--rounded-none":"square"===s}),onClick:()=>{u&&l?window.open(u,"_blank"):o&&o()},children:[(0,nF.jsxs)("div",{className:"w3a--flex w3a--items-center w3a--gap-x-2",children:[(0,nF.jsx)("figure",{className:"w3a--size-5",children:(0,nF.jsx)(oc,{imageData:n.icon,imageId:`login-${n.name}`,hoverImageId:`login-${n.name}`,fallbackImageId:"wallet",height:"24",width:"24",isButton:!0,extension:n.imgExtension||"webp"})}),(0,nF.jsx)("p",{className:"w3a--max-w-[180px] w3a--truncate w3a--text-base w3a--font-normal w3a--text-app-gray-700 dark:w3a--text-app-white",children:a})]}),n.hasInjectedWallet&&(0,nF.jsx)("span",{className:"w3a--absolute w3a--right-4 w3a--top-1/2 w3a--flex w3a--w-auto -w3a--translate-y-1/2 w3a--items-center w3a--rounded-md w3a--bg-app-primary-100 w3a--px-2 w3a--py-1 w3a--text-xs w3a--font-medium w3a--text-app-primary-800 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-6 group-hover:w3a--opacity-0  dark:w3a--border dark:w3a--border-app-primary-400 dark:w3a--bg-transparent dark:w3a--text-app-primary-400",children:t("modal.external.installed")}),(0,nF.jsx)("img",{id:"injected-wallet-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-10 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:nD(c?"chevron-right-light":"chevron-right-dark"),alt:"arrow"})]})}function oh(e){let{type:t,props:r}=e,{text:n,showIcon:i,showText:o,method:a,isDark:s,isPrimaryBtn:c,onClick:l,children:u,btnStyle:d,buttonRadius:f}=r,{label:h,onClick:p,button:g,deviceDetails:m,walletConnectUri:y,buttonRadius:b}=r;return(0,nF.jsxs)(nF.Fragment,{children:[t===os.SOCIAL&&(0,nF.jsx)(ol,{text:n,showIcon:i,showText:o,method:a,isDark:s,isPrimaryBtn:c,onClick:l,btnStyle:d,buttonRadius:f,children:u}),t===os.WALLET&&(0,nF.jsx)(of,{label:h,walletConnectUri:y,onClick:p,button:g,deviceDetails:m,buttonRadius:b})]})}function op(){let[e]=i9(void 0,{i18n:or});return(0,nF.jsx)("div",{className:"w3a--flex w3a--w-full w3a--items-center w3a--justify-center w3a--py-6 w3a--text-center w3a--text-app-gray-400 dark:w3a--text-app-gray-500",children:e("modal.external.no-wallets-found")})}function og(e){let{externalButtons:t,isLoading:r,handleWalletClick:n,deviceDetails:i,walletConnectUri:o,buttonRadius:a}=e;return r?(0,nF.jsx)("div",{className:"w3a--flex w3a--flex-col w3a--gap-y-2",children:Array.from({length:6}).map((e,t)=>(0,nF.jsx)("div",{className:nT("w3a--h-12 w3a--w-full w3a--animate-pulse w3a--rounded-2xl w3a--bg-app-gray-200 dark:w3a--bg-app-gray-700",{"w3a--rounded-full":"pill"===a,"w3a--rounded-lg":"rounded"===a,"w3a--rounded-none":"square"===a})},`loader-${t}`))}):(0,nF.jsx)("div",{className:"w3a--flex w3a--flex-col w3a--gap-y-2 w3a--pr-1.5",children:t.map(e=>(0,nF.jsx)(oh,{type:os.WALLET,props:{label:e.displayName,onClick:()=>n(e),button:e,deviceDetails:i,walletConnectUri:o,buttonRadius:a}},e.name))})}function om(e){let{totalExternalWalletsCount:t,initialWalletCount:r,handleMoreWallets:n,isLoading:i,isDark:o,buttonRadius:a}=e,[s]=i9(void 0,{i18n:or});return i&&r<t?(0,nF.jsx)("div",{className:nT("w3a--h-12 w3a--w-full w3a--animate-pulse w3a--bg-app-gray-200 dark:w3a--bg-app-gray-700",{"w3a--rounded-full":"pill"===a,"w3a--rounded-lg":"rounded"===a,"w3a--rounded-none":"square"===a})}):(0,nF.jsxs)("button",{type:"button",className:nT("w3a--flex w3a--items-center w3a--justify-start w3a--gap-x-2 w3a--bg-app-gray-50 w3a--p-3 hover:w3a--bg-app-gray-200 dark:w3a--bg-app-gray-800 dark:hover:w3a--bg-app-gray-600 active:w3a--scale-95 w3a--transition-all w3a--duration-150 w3a--mr-2.5",{"w3a--rounded-full":"pill"===a,"w3a--rounded-lg":"rounded"===a,"w3a--rounded-none":"square"===a}),onClick:()=>{n&&n()},children:[(0,nF.jsx)("img",{src:nD(o?"view-dark":"view-light"),alt:"view",height:"24",width:"24"}),(0,nF.jsx)("p",{className:"w3a--text-base w3a--font-normal w3a--text-app-gray-700 dark:w3a--text-app-white",children:s("modal.connect-wallet.more-wallets")}),(0,nF.jsx)("span",{className:"w3a--inline-flex w3a--items-center w3a--rounded-full w3a--bg-app-primary-100 w3a--px-2 w3a--py-1 w3a--text-xs w3a--font-medium w3a--text-app-primary-800  dark:w3a--border dark:w3a--border-app-primary-400 dark:w3a--bg-transparent dark:w3a--text-app-primary-400",children:t-r})]})}function oy(e){let{externalButtons:t,isLoading:r,totalExternalWalletsCount:n,initialWalletCount:i,handleWalletClick:o,handleMoreWallets:a,isDark:s,deviceDetails:c,walletConnectUri:l,buttonRadius:u,isShowAllWallets:d}=e,f=!d;return(0,nF.jsxs)(nF.Fragment,{children:[(0,nF.jsx)("ul",{className:nT("w3a--overflow-y-auto w3a--flex w3a--flex-col w3a--gap-y-2 w3a--h-[280px] w3a--social-container w3a--pr-2.5",{"w3a--h-[328px]":!f}),children:0===t.length?(0,nF.jsx)(op,{}):(0,nF.jsx)(og,{externalButtons:t,isLoading:r,handleWalletClick:o,deviceDetails:c,walletConnectUri:l,buttonRadius:u})}),f&&!r&&i<n&&(0,nF.jsx)(om,{totalExternalWalletsCount:n,initialWalletCount:i,handleMoreWallets:()=>{a()},isLoading:r,isDark:s,buttonRadius:u})]})}let ob=function(e,t){let r=e,n=ov[t],i=null,o=0,a=null,s=[],c={},l=function(e,t){i=function(e){let t=Array(e);for(let r=0;r<e;r+=1){t[r]=Array(e);for(let n=0;n<e;n+=1)t[r][n]=null}return t}(o=4*r+17),u(0,0),u(o-7,0),u(0,o-7),h(),f(),g(e,t),r>=7&&p(e),null==a&&(a=b(r,n,s)),m(a,t)},u=function(e,t){for(let r=-1;r<=7;r+=1)if(!(e+r<=-1)&&!(o<=e+r))for(let n=-1;n<=7;n+=1)t+n<=-1||o<=t+n||(0<=r&&r<=6&&(0==n||6==n)||0<=n&&n<=6&&(0==r||6==r)||2<=r&&r<=4&&2<=n&&n<=4?i[e+r][t+n]=!0:i[e+r][t+n]=!1)},d=function(){let e=0,t=0;for(let r=0;r<8;r+=1){l(!0,r);let n=ox.getLostPoint(c);(0==r||e>n)&&(e=n,t=r)}return t},f=function(){for(let e=8;e<o-8;e+=1)null==i[e][6]&&(i[e][6]=e%2==0);for(let e=8;e<o-8;e+=1)null==i[6][e]&&(i[6][e]=e%2==0)},h=function(){let e=ox.getPatternPosition(r);for(let t=0;t<e.length;t+=1)for(let r=0;r<e.length;r+=1){let n=e[t],o=e[r];if(null==i[n][o])for(let e=-2;e<=2;e+=1)for(let t=-2;t<=2;t+=1)-2==e||2==e||-2==t||2==t||0==e&&0==t?i[n+e][o+t]=!0:i[n+e][o+t]=!1}},p=function(e){let t=ox.getBCHTypeNumber(r);for(let r=0;r<18;r+=1){let n=!e&&(t>>r&1)==1;i[Math.floor(r/3)][r%3+o-8-3]=n}for(let r=0;r<18;r+=1){let n=!e&&(t>>r&1)==1;i[r%3+o-8-3][Math.floor(r/3)]=n}},g=function(e,t){let r=n<<3|t,a=ox.getBCHTypeInfo(r);for(let t=0;t<15;t+=1){let r=!e&&(a>>t&1)==1;t<6?i[t][8]=r:t<8?i[t+1][8]=r:i[o-15+t][8]=r}for(let t=0;t<15;t+=1){let r=!e&&(a>>t&1)==1;t<8?i[8][o-t-1]=r:t<9?i[8][15-t-1+1]=r:i[8][15-t-1]=r}i[o-8][8]=!e},m=function(e,t){let r=-1,n=o-1,a=7,s=0,c=ox.getMaskFunction(t);for(let t=o-1;t>0;t-=2)for(6==t&&(t-=1);;){for(let r=0;r<2;r+=1)if(null==i[n][t-r]){let o=!1;s<e.length&&(o=(e[s]>>>a&1)==1),c(n,t-r)&&(o=!o),i[n][t-r]=o,-1==(a-=1)&&(s+=1,a=7)}if((n+=r)<0||o<=n){n-=r,r=-r;break}}},y=function(e,t){let r=0,n=0,i=0,o=Array(t.length),a=Array(t.length);for(let s=0;s<t.length;s+=1){let c=t[s].dataCount,l=t[s].totalCount-c;n=Math.max(n,c),i=Math.max(i,l),o[s]=Array(c);for(let t=0;t<o[s].length;t+=1)o[s][t]=255&e.getBuffer()[t+r];r+=c;let u=ox.getErrorCorrectPolynomial(l),d=oS(o[s],u.getLength()-1).mod(u);a[s]=Array(u.getLength()-1);for(let e=0;e<a[s].length;e+=1){let t=e+d.getLength()-a[s].length;a[s][e]=t>=0?d.getAt(t):0}}let s=0;for(let e=0;e<t.length;e+=1)s+=t[e].totalCount;let c=Array(s),l=0;for(let e=0;e<n;e+=1)for(let r=0;r<t.length;r+=1)e<o[r].length&&(c[l]=o[r][e],l+=1);for(let e=0;e<i;e+=1)for(let r=0;r<t.length;r+=1)e<a[r].length&&(c[l]=a[r][e],l+=1);return c},b=function(e,t,r){let n=o_.getRSBlocks(e,t),i=oI();for(let t=0;t<r.length;t+=1){let n=r[t];i.put(n.getMode(),4),i.put(n.getLength(),ox.getLengthInBits(n.getMode(),e)),n.write(i)}let o=0;for(let e=0;e<n.length;e+=1)o+=n[e].dataCount;if(i.getLengthInBits()>8*o)throw"code length overflow. ("+i.getLengthInBits()+">"+8*o+")";for(i.getLengthInBits()+4<=8*o&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=8*o)&&(i.put(236,8),!(i.getLengthInBits()>=8*o));)i.put(17,8);return y(i,n)};c.addData=function(e,t){let r=null;switch(t=t||"Byte"){case"Numeric":r=oC(e);break;case"Alphanumeric":r=oO(e);break;case"Byte":r=oP(e);break;case"Kanji":r=oT(e);break;default:throw"mode:"+t}s.push(r),a=null},c.isDark=function(e,t){if(e<0||o<=e||t<0||o<=t)throw e+","+t;return i[e][t]},c.getModuleCount=function(){return o},c.make=function(){if(r<1){let e=1;for(;e<40;e++){let t=o_.getRSBlocks(e,n),r=oI();for(let t=0;t<s.length;t++){let n=s[t];r.put(n.getMode(),4),r.put(n.getLength(),ox.getLengthInBits(n.getMode(),e)),n.write(r)}let i=0;for(let e=0;e<t.length;e++)i+=t[e].dataCount;if(r.getLengthInBits()<=8*i)break}r=e}l(!1,d())},c.createTableTag=function(e,t){e=e||2;let r="";r+='<table style=" border-width: 0px; border-style: none; border-collapse: collapse; padding: 0px; margin: '+(t=void 0===t?4*e:t)+'px;"><tbody>';for(let t=0;t<c.getModuleCount();t+=1){r+="<tr>";for(let n=0;n<c.getModuleCount();n+=1)r+='<td style=" border-width: 0px; border-style: none; border-collapse: collapse; padding: 0px; margin: 0px; width: '+e+"px; height: "+e+"px; background-color: "+(c.isDark(t,n)?"#000000":"#ffffff")+';"/>';r+="</tr>"}return r+"</tbody></table>"},c.createSvgTag=function(e,t,r,n){let i={};"object"==typeof arguments[0]&&(i=arguments[0],e=i.cellSize,t=i.margin,r=i.alt,n=i.title),e=e||2,t=void 0===t?4*e:t,(r="string"==typeof r?{text:r}:r||{}).text=r.text||null,r.id=r.text?r.id||"qrcode-description":null,(n="string"==typeof n?{text:n}:n||{}).text=n.text||null,n.id=n.text?n.id||"qrcode-title":null;let o=c.getModuleCount()*e+2*t,a,s,l,u="",d;for(d="l"+e+",0 0,"+e+" -"+e+",0 0,-"+e+"z ",u+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"'+(i.scalable?"":' width="'+o+'px" height="'+o+'px"')+(' viewBox="0 0 '+o+" ")+o+'"  preserveAspectRatio="xMinYMin meet"'+(n.text||r.text?' role="img" aria-labelledby="'+w([n.id,r.id].join(" ").trim())+'"':"")+">"+(n.text?'<title id="'+w(n.id)+'">'+w(n.text)+"</title>":"")+(r.text?'<description id="'+w(r.id)+'">'+w(r.text)+"</description>":"")+'<rect width="100%" height="100%" fill="white" cx="0" cy="0"/><path d="',s=0;s<c.getModuleCount();s+=1)for(a=0,l=s*e+t;a<c.getModuleCount();a+=1)c.isDark(s,a)&&(u+="M"+(a*e+t)+","+l+d);return u+'" stroke="transparent" fill="black"/></svg>'},c.createDataURL=function(e,t){e=e||2,t=void 0===t?4*e:t;let r=c.getModuleCount()*e+2*t,n=t,i=r-t;return oD(r,r,function(t,r){if(!(n<=t)||!(t<i)||!(n<=r)||!(r<i))return 1;{let i=Math.floor((t-n)/e),o=Math.floor((r-n)/e);return c.isDark(o,i)?0:1}})},c.createImgTag=function(e,t,r){e=e||2,t=void 0===t?4*e:t;let n=c.getModuleCount()*e+2*t,i="";return i+='<img src="'+c.createDataURL(e,t)+'" width="'+n+'" height="'+n+'"',r&&(i+=' alt="'+w(r)+'"'),i+="/>"};let w=function(e){let t="";for(let r=0;r<e.length;r+=1){let n=e.charAt(r);switch(n){case"<":t+="&lt;";break;case">":t+="&gt;";break;case"&":t+="&amp;";break;case'"':t+="&quot;";break;default:t+=n}}return t},v=function(e){let t,r,n,i,o;e=void 0===e?2:e;let a=1*c.getModuleCount()+2*e,s=e,l=a-e,u={"":""," ":""," ":"","  ":" "},d={"":""," ":""," ":" ","  ":" "},f="";for(t=0;t<a;t+=2){for(r=0,n=Math.floor((t-s)/1),i=Math.floor((t+1-s)/1);r<a;r+=1)o="",s<=r&&r<l&&s<=t&&t<l&&c.isDark(n,Math.floor((r-s)/1))&&(o=" "),s<=r&&r<l&&s<=t+1&&t+1<l&&c.isDark(i,Math.floor((r-s)/1))?o+=" ":o+="",f+=e<1&&t+1>=l?d[o]:u[o];f+="\n"}return a%2&&e>0?f.substring(0,f.length-a-1)+Array(a+1).join(""):f.substring(0,f.length-1)};return c.createASCII=function(e,t){let r,n,i,o;if((e=e||1)<2)return v(t);e-=1,t=void 0===t?2*e:t;let a=c.getModuleCount()*e+2*t,s=t,l=a-t,u=Array(e+1).join(""),d=Array(e+1).join("  "),f="",h="";for(r=0;r<a;r+=1){for(n=0,i=Math.floor((r-s)/e),h="";n<a;n+=1)o=1,s<=n&&n<l&&s<=r&&r<l&&c.isDark(i,Math.floor((n-s)/e))&&(o=0),h+=o?u:d;for(i=0;i<e;i+=1)f+=h+"\n"}return f.substring(0,f.length-1)},c.renderTo2dContext=function(e,t){t=t||2;let r=c.getModuleCount();for(let n=0;n<r;n++)for(let i=0;i<r;i++)e.fillStyle=c.isDark(n,i)?"black":"white",e.fillRect(i*t,n*t,t,t)},c};ob.stringToBytes=function(e){let t=[];for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);t.push(255&n)}return t},ob.createStringToBytes=function(e,t){let r=function(){let r=oM(e),n=function(){let e=r.read();if(-1==e)throw"eof";return e},i=0,o={};for(;;){let e=r.read();if(-1==e)break;let t=n(),a=n(),s=n(),c=String.fromCharCode(e<<8|t),l=a<<8|s;o[c]=l,i+=1}if(i!=t)throw i+" != "+t;return o}();return function(e){let t=[];for(let n=0;n<e.length;n+=1){let i=e.charCodeAt(n);if(i<128)t.push(i);else{let i=r[e.charAt(n)];"number"==typeof i?(255&i)==i?t.push(i):(t.push(i>>>8),t.push(255&i)):t.push(63)}}return t}};let ow={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},ov={L:1,M:0,Q:3,H:2},oE={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},ox=function(){let e=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],t={},r=function(e){let t=0;for(;0!=e;)t+=1,e>>>=1;return t};return t.getBCHTypeInfo=function(e){let t=e<<10;for(;r(t)-r(1335)>=0;)t^=1335<<r(t)-r(1335);return(e<<10|t)^21522},t.getBCHTypeNumber=function(e){let t=e<<12;for(;r(t)-r(7973)>=0;)t^=7973<<r(t)-r(7973);return e<<12|t},t.getPatternPosition=function(t){return e[t-1]},t.getMaskFunction=function(e){switch(e){case oE.PATTERN000:return function(e,t){return(e+t)%2==0};case oE.PATTERN001:return function(e,t){return e%2==0};case oE.PATTERN010:return function(e,t){return t%3==0};case oE.PATTERN011:return function(e,t){return(e+t)%3==0};case oE.PATTERN100:return function(e,t){return(Math.floor(e/2)+Math.floor(t/3))%2==0};case oE.PATTERN101:return function(e,t){return e*t%2+e*t%3==0};case oE.PATTERN110:return function(e,t){return(e*t%2+e*t%3)%2==0};case oE.PATTERN111:return function(e,t){return(e*t%3+(e+t)%2)%2==0};default:throw"bad maskPattern:"+e}},t.getErrorCorrectPolynomial=function(e){let t=oS([1],0);for(let r=0;r<e;r+=1)t=t.multiply(oS([1,oA.gexp(r)],0));return t},t.getLengthInBits=function(e,t){if(1<=t&&t<10)switch(e){case ow.MODE_NUMBER:return 10;case ow.MODE_ALPHA_NUM:return 9;case ow.MODE_8BIT_BYTE:case ow.MODE_KANJI:return 8;default:throw"mode:"+e}else if(t<27)switch(e){case ow.MODE_NUMBER:return 12;case ow.MODE_ALPHA_NUM:return 11;case ow.MODE_8BIT_BYTE:return 16;case ow.MODE_KANJI:return 10;default:throw"mode:"+e}else if(t<41)switch(e){case ow.MODE_NUMBER:return 14;case ow.MODE_ALPHA_NUM:return 13;case ow.MODE_8BIT_BYTE:return 16;case ow.MODE_KANJI:return 12;default:throw"mode:"+e}else throw"type:"+t},t.getLostPoint=function(e){let t=e.getModuleCount(),r=0;for(let n=0;n<t;n+=1)for(let i=0;i<t;i+=1){let o=0,a=e.isDark(n,i);for(let r=-1;r<=1;r+=1)if(!(n+r<0)&&!(t<=n+r))for(let s=-1;s<=1;s+=1)i+s<0||t<=i+s||0==r&&0==s||a!=e.isDark(n+r,i+s)||(o+=1);o>5&&(r+=3+o-5)}for(let n=0;n<t-1;n+=1)for(let i=0;i<t-1;i+=1){let t=0;e.isDark(n,i)&&(t+=1),e.isDark(n+1,i)&&(t+=1),e.isDark(n,i+1)&&(t+=1),e.isDark(n+1,i+1)&&(t+=1),(0==t||4==t)&&(r+=3)}for(let n=0;n<t;n+=1)for(let i=0;i<t-6;i+=1)e.isDark(n,i)&&!e.isDark(n,i+1)&&e.isDark(n,i+2)&&e.isDark(n,i+3)&&e.isDark(n,i+4)&&!e.isDark(n,i+5)&&e.isDark(n,i+6)&&(r+=40);for(let n=0;n<t;n+=1)for(let i=0;i<t-6;i+=1)e.isDark(i,n)&&!e.isDark(i+1,n)&&e.isDark(i+2,n)&&e.isDark(i+3,n)&&e.isDark(i+4,n)&&!e.isDark(i+5,n)&&e.isDark(i+6,n)&&(r+=40);let n=0;for(let r=0;r<t;r+=1)for(let i=0;i<t;i+=1)e.isDark(i,r)&&(n+=1);return r+Math.abs(100*n/t/t-50)/5*10},t}(),oA=function(){let e=Array(256),t=Array(256);for(let t=0;t<8;t+=1)e[t]=1<<t;for(let t=8;t<256;t+=1)e[t]=e[t-4]^e[t-5]^e[t-6]^e[t-8];for(let r=0;r<255;r+=1)t[e[r]]=r;let r={};return r.glog=function(e){if(e<1)throw"glog("+e+")";return t[e]},r.gexp=function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return e[t]},r}(),oS=function(e,t){if(void 0===e.length)throw e.length+"/"+t;let r=function(){let r=0;for(;r<e.length&&0==e[r];)r+=1;let n=Array(e.length-r+t);for(let t=0;t<e.length-r;t+=1)n[t]=e[t+r];return n}(),n={};return n.getAt=function(e){return r[e]},n.getLength=function(){return r.length},n.multiply=function(e){let t=Array(n.getLength()+e.getLength()-1);for(let r=0;r<n.getLength();r+=1)for(let i=0;i<e.getLength();i+=1)t[r+i]^=oA.gexp(oA.glog(n.getAt(r))+oA.glog(e.getAt(i)));return oS(t,0)},n.mod=function(e){if(n.getLength()-e.getLength()<0)return n;let t=oA.glog(n.getAt(0))-oA.glog(e.getAt(0)),r=Array(n.getLength());for(let e=0;e<n.getLength();e+=1)r[e]=n.getAt(e);for(let n=0;n<e.getLength();n+=1)r[n]^=oA.gexp(oA.glog(e.getAt(n))+t);return oS(r,0).mod(e)},n},o_=function(){let e=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],t=function(e,t){let r={};return r.totalCount=e,r.dataCount=t,r},r={},n=function(t,r){switch(r){case ov.L:return e[(t-1)*4+0];case ov.M:return e[(t-1)*4+1];case ov.Q:return e[(t-1)*4+2];case ov.H:return e[(t-1)*4+3];default:return}};return r.getRSBlocks=function(e,r){let i=n(e,r);if(void 0===i)throw"bad rs block @ typeNumber:"+e+"/errorCorrectionLevel:"+r;let o=i.length/3,a=[];for(let e=0;e<o;e+=1){let r=i[3*e+0],n=i[3*e+1],o=i[3*e+2];for(let e=0;e<r;e+=1)a.push(t(n,o))}return a},r}(),oI=function(){let e=[],t=0,r={};return r.getBuffer=function(){return e},r.getAt=function(t){return(e[Math.floor(t/8)]>>>7-t%8&1)==1},r.put=function(e,t){for(let n=0;n<t;n+=1)r.putBit((e>>>t-n-1&1)==1)},r.getLengthInBits=function(){return t},r.putBit=function(r){let n=Math.floor(t/8);e.length<=n&&e.push(0),r&&(e[n]|=128>>>t%8),t+=1},r},oC=function(e){let t=ow.MODE_NUMBER,r={};r.getMode=function(){return t},r.getLength=function(t){return e.length},r.write=function(t){let r=0;for(;r+2<e.length;)t.put(n(e.substring(r,r+3)),10),r+=3;r<e.length&&(e.length-r==1?t.put(n(e.substring(r,r+1)),4):e.length-r==2&&t.put(n(e.substring(r,r+2)),7))};let n=function(e){let t=0;for(let r=0;r<e.length;r+=1)t=10*t+i(e.charAt(r));return t},i=function(e){if("0"<=e&&e<="9")return e.charCodeAt(0)-48;throw"illegal char :"+e};return r},oO=function(e){let t=ow.MODE_ALPHA_NUM,r={};r.getMode=function(){return t},r.getLength=function(t){return e.length},r.write=function(t){let r=0;for(;r+1<e.length;)t.put(45*n(e.charAt(r))+n(e.charAt(r+1)),11),r+=2;r<e.length&&t.put(n(e.charAt(r)),6)};let n=function(e){if("0"<=e&&e<="9")return e.charCodeAt(0)-48;if("A"<=e&&e<="Z")return e.charCodeAt(0)-65+10;switch(e){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+e}};return r},oP=function(e){let t=ow.MODE_8BIT_BYTE,r=ob.stringToBytes(e),n={};return n.getMode=function(){return t},n.getLength=function(e){return r.length},n.write=function(e){for(let t=0;t<r.length;t+=1)e.put(r[t],8)},n},oT=function(e){let t=ow.MODE_KANJI,r=ob.stringToBytes;!function(e,t){let n=r("");if(2!=n.length||(n[0]<<8|n[1])!=38726)throw"sjis not supported."}(0,0);let n=r(e),i={};return i.getMode=function(){return t},i.getLength=function(e){return~~(n.length/2)},i.write=function(e){let t=0;for(;t+1<n.length;){let r=(255&n[t])<<8|255&n[t+1];if(33088<=r&&r<=40956)r-=33088;else if(57408<=r&&r<=60351)r-=49472;else throw"illegal char at "+(t+1)+"/"+r;r=(r>>>8&255)*192+(255&r),e.put(r,13),t+=2}if(t<n.length)throw"illegal char at "+(t+1)},i},ok=function(){let e=[],t={};return t.writeByte=function(t){e.push(255&t)},t.writeShort=function(e){t.writeByte(e),t.writeByte(e>>>8)},t.writeBytes=function(e,r,n){r=r||0,n=n||e.length;for(let i=0;i<n;i+=1)t.writeByte(e[i+r])},t.writeString=function(e){for(let r=0;r<e.length;r+=1)t.writeByte(e.charCodeAt(r))},t.toByteArray=function(){return e},t.toString=function(){let t="";t+="[";for(let r=0;r<e.length;r+=1)r>0&&(t+=","),t+=e[r];return t+"]"},t},oN=function(){let e=0,t=0,r=0,n="",i={},o=function(e){n+=String.fromCharCode(a(63&e))},a=function(e){if(e<0)throw"n:"+e;if(e<26)return 65+e;if(e<52)return 97+(e-26);if(e<62)return 48+(e-52);if(62==e)return 43;if(63==e)return 47;throw"n:"+e};return i.writeByte=function(n){for(e=e<<8|255&n,t+=8,r+=1;t>=6;)o(e>>>t-6),t-=6},i.flush=function(){if(t>0&&(o(e<<6-t),e=0,t=0),r%3!=0){let e=3-r%3;for(let t=0;t<e;t+=1)n+="="}},i.toString=function(){return n},i},oM=function(e){let t=0,r=0,n=0,i={};i.read=function(){for(;n<8;){if(t>=e.length){if(0==n)return -1;throw"unexpected end of file./"+n}let i=e.charAt(t);if(t+=1,"="==i)return n=0,-1;i.match(/^\s$/)||(r=r<<6|o(i.charCodeAt(0)),n+=6)}let i=r>>>n-8&255;return n-=8,i};let o=function(e){if(65<=e&&e<=90)return e-65;if(97<=e&&e<=122)return e-97+26;if(48<=e&&e<=57)return e-48+52;if(43==e)return 62;if(47==e)return 63;throw"c:"+e};return i},oR=function(e,t){let r=Array(e*t),n={};n.setPixel=function(t,n,i){r[n*e+t]=i},n.write=function(r){r.writeString("GIF87a"),r.writeShort(e),r.writeShort(t),r.writeByte(128),r.writeByte(0),r.writeByte(0),r.writeByte(0),r.writeByte(0),r.writeByte(0),r.writeByte(255),r.writeByte(255),r.writeByte(255),r.writeString(","),r.writeShort(0),r.writeShort(0),r.writeShort(e),r.writeShort(t),r.writeByte(0);let n=o(2);r.writeByte(2);let i=0;for(;n.length-i>255;)r.writeByte(255),r.writeBytes(n,i,255),i+=255;r.writeByte(n.length-i),r.writeBytes(n,i,n.length-i),r.writeByte(0),r.writeString(";")};let i=function(e){let t=0,r=0,n={};return n.write=function(n,i){if(n>>>i!=0)throw"length over";for(;t+i>=8;)e.writeByte(255&(n<<t|r)),i-=8-t,n>>>=8-t,r=0,t=0;r=n<<t|r,t+=i},n.flush=function(){t>0&&e.writeByte(r)},n},o=function(e){let t=1<<e,n=(1<<e)+1,o=e+1,s=a();for(let e=0;e<t;e+=1)s.add(String.fromCharCode(e));s.add(String.fromCharCode(t)),s.add(String.fromCharCode(n));let c=ok(),l=i(c);l.write(t,o);let u=0,d=String.fromCharCode(r[0]);for(u+=1;u<r.length;){let e=String.fromCharCode(r[u]);u+=1,s.contains(d+e)?d+=e:(l.write(s.indexOf(d),o),4095>s.size()&&(s.size()==1<<o&&(o+=1),s.add(d+e)),d=e)}return l.write(s.indexOf(d),o),l.write(n,o),l.flush(),c.toByteArray()},a=function(){let e={},t=0,r={};return r.add=function(n){if(r.contains(n))throw"dup key:"+n;e[n]=t,t+=1},r.size=function(){return t},r.indexOf=function(t){return e[t]},r.contains=function(t){return void 0!==e[t]},r};return n},oD=function(e,t,r){let n=oR(e,t);for(let i=0;i<t;i+=1)for(let t=0;t<e;t+=1)n.setPixel(t,i,r(t,i));let i=ok();n.write(i);let o=oN(),a=i.toByteArray();for(let e=0;e<a.length;e+=1)o.writeByte(a[e]);return o.flush(),"data:image/gif;base64,"+o};ob.stringToBytes;class oL extends rs.Component{canvasRef=rs.createRef();static defaultProps={value:"https://reactjs.org/",ecLevel:"M",enableCORS:!1,size:150,quietZone:10,bgColor:"#FFFFFF",fgColor:"#000000",logoOpacity:1,qrStyle:"squares",eyeRadius:[0,0,0],logoPaddingStyle:"square",logoPaddingRadius:0};download(e,t){if(this.canvasRef.current){let r;switch(e){case"jpg":r="image/jpeg";break;case"webp":r="image/webp";break;default:r="image/png"}let n=this.canvasRef.current.toDataURL(r,1),i=document.createElement("a");i.download=t??"react-qrcode-logo",i.href=n,i.click()}}utf16to8(e){let t="",r,n,i=e.length;for(r=0;r<i;r++)(n=e.charCodeAt(r))>=1&&n<=127?t+=e.charAt(r):n>2047?t+=String.fromCharCode(224|n>>12&15)+String.fromCharCode(128|n>>6&63)+String.fromCharCode(128|n>>0&63):t+=String.fromCharCode(192|n>>6&31)+String.fromCharCode(128|n>>0&63);return t}drawRoundedSquare(e,t,r,n,i,o,a,s){s.lineWidth=e,s.fillStyle=i,s.strokeStyle=i,r+=e/2,t+=e/2,n-=e,Array.isArray(o)||(o=[o,o,o,o]);let c=(o=o.map(e=>(e=Math.min(e,n/2))<0?0:e))[0]||0,l=o[1]||0,u=o[2]||0,d=o[3]||0;s.beginPath(),s.moveTo(t+c,r),s.lineTo(t+n-l,r),l&&s.quadraticCurveTo(t+n,r,t+n,r+l),s.lineTo(t+n,r+n-u),u&&s.quadraticCurveTo(t+n,r+n,t+n-u,r+n),s.lineTo(t+d,r+n),d&&s.quadraticCurveTo(t,r+n,t,r+n-d),s.lineTo(t,r+c),c&&s.quadraticCurveTo(t,r,t+c,r),s.closePath(),s.stroke(),a&&s.fill()}drawPositioningPattern(e,t,r,n,i,o,a=[0,0,0,0]){let s,c,l,u;let d=Math.ceil(t);"number"==typeof a||Array.isArray(a)?c=s=a:(s=a.outer||0,c=a.inner||0),"string"!=typeof o?(l=o.outer,u=o.inner):(l=o,u=o);let f=n*t+r,h=i*t+r,p=7*t;this.drawRoundedSquare(d,h,f,p,l,s,!1,e),p=3*t,f+=2*t,h+=2*t,this.drawRoundedSquare(d,h,f,p,u,c,!0,e)}isInPositioninZone(e,t,r){return r.some(r=>e>=r.row&&e<=r.row+7&&t>=r.col&&t<=r.col+7)}removeCoordinateBehindLogo(e,t,r,n,i,o,a,s,c,l,u=0,d="square"){if(!e||!l)return!1;let f=Math.ceil(u/s)*s,h=o+c,p=a+c,g=Math.round(r*s)+c,m=Math.round(t*s)+c,y=g+(Math.ceil((r+1)*s)-Math.floor(r*s)),b=m+(Math.ceil((t+1)*s)-Math.floor(t*s));if("square"===d)return g<h+n+f&&y>h-f&&m<p+i+f&&b>p-f;if("circle"===d){let e=h+n/2,t=p+i/2,r=Math.max(n,i)/2+f,o=e-Math.max(g,Math.min(e,y)),a=t-Math.max(m,Math.min(t,b));return o*o+a*a<r*r}return!1}constructor(e){super(e)}shouldComponentUpdate(e){return!function e(t,r,n=new WeakMap){if(Object.is(t,r))return!0;if(typeof t!=typeof r||null==t||null==r)return!1;if("function"==typeof t||"function"==typeof r)return t===r;if("object"==typeof t&&"object"==typeof r){if(n.has(t)&&n.get(t)===r)return!0;n.set(t,r)}if(t instanceof Date&&r instanceof Date)return t.getTime()===r.getTime();if(Array.isArray(t)&&Array.isArray(r)){if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(!e(t[i],r[i],n))return!1;return!0}if(t instanceof Set&&r instanceof Set){if(t.size!==r.size)return!1;for(let i of t)if(![...r].some(t=>e(i,t,n)))return!1;return!0}if(t instanceof Map&&r instanceof Map){if(t.size!==r.size)return!1;for(let[i,o]of t)if(!r.has(i)||!e(o,r.get(i),n))return!1;return!0}if(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t)){let i=Object.keys(t),o=Object.keys(r);if(i.length!==o.length)return!1;for(let a of i)if(!o.includes(a)||!e(t[a],r[a],n))return!1;return!0}try{return JSON.stringify(t)===JSON.stringify(r)}catch{return!1}}(this.props,e)}componentDidMount(){this.update()}componentDidUpdate(){this.update()}update(){let{value:e,ecLevel:t,enableCORS:r,bgColor:n,fgColor:i,logoImage:o,logoOpacity:a,logoOnLoad:s,removeQrCodeBehindLogo:c,qrStyle:l,eyeRadius:u,eyeColor:d,logoPaddingStyle:f,logoPaddingRadius:h}=this.props,p=+this.props.size,g=+this.props.quietZone,m=this.props.logoWidth?+this.props.logoWidth:0,y=this.props.logoHeight?+this.props.logoHeight:0,b=this.props.logoPadding?+this.props.logoPadding:0,w=ob(0,t);w.addData(this.utf16to8(e)),w.make();let v=this.canvasRef?.current,E=v.getContext("2d"),x=p+2*g,A=w.getModuleCount(),S=p/A,_=window.devicePixelRatio||1,I=m||.2*p,C=y||I,O=(p-I)/2,P=(p-C)/2;v.height=v.width=x*_,E.scale(_,_),E.fillStyle=n,E.fillRect(0,0,x,x);let T=[{row:0,col:0},{row:0,col:A-7},{row:A-7,col:0}];if(E.strokeStyle=i,"dots"===l){E.fillStyle=i;let e=S/2;for(let t=0;t<A;t++)for(let r=0;r<A;r++)!w.isDark(t,r)||this.isInPositioninZone(t,r,T)||this.removeCoordinateBehindLogo(c??!1,t,r,I,C,O,P,S,g,o,b,f)||(E.beginPath(),E.arc(Math.round(r*S)+e+g,Math.round(t*S)+e+g,e/100*75,0,2*Math.PI,!1),E.closePath(),E.fill())}else if("fluid"===l){let e=Math.ceil(S/2);for(let t=0;t<A;t++)for(let r=0;r<A;r++)if(w.isDark(t,r)&&!this.isInPositioninZone(t,r,T)&&!this.removeCoordinateBehindLogo(c??!1,t,r,I,C,O,P,S,g,o,b,f)){let n=[!1,!1,!1,!1];t>0&&!w.isDark(t-1,r)&&r>0&&!w.isDark(t,r-1)&&(n[0]=!0),t>0&&!w.isDark(t-1,r)&&r<A-1&&!w.isDark(t,r+1)&&(n[1]=!0),t<A-1&&!w.isDark(t+1,r)&&r<A-1&&!w.isDark(t,r+1)&&(n[2]=!0),t<A-1&&!w.isDark(t+1,r)&&r>0&&!w.isDark(t,r-1)&&(n[3]=!0);let o=Math.ceil((r+1)*S)-Math.floor(r*S),a=Math.ceil((t+1)*S)-Math.floor(t*S);E.fillStyle=i,E.beginPath(),E.arc(Math.round(r*S)+e+g,Math.round(t*S)+e+g,e,0,2*Math.PI,!1),E.closePath(),E.fill(),n[0]||E.fillRect(Math.round(r*S)+g,Math.round(t*S)+g,o/2,a/2),n[1]||E.fillRect(Math.round(r*S)+g+Math.floor(o/2),Math.round(t*S)+g,o/2,a/2),n[2]||E.fillRect(Math.round(r*S)+g+Math.floor(o/2),Math.round(t*S)+g+Math.floor(a/2),o/2,a/2),n[3]||E.fillRect(Math.round(r*S)+g,Math.round(t*S)+g+Math.floor(a/2),o/2,a/2)}}else for(let e=0;e<A;e++)for(let t=0;t<A;t++)if(w.isDark(e,t)&&!this.isInPositioninZone(e,t,T)&&!this.removeCoordinateBehindLogo(c??!1,e,t,I,C,O,P,S,g,o,b,f)){E.fillStyle=i;let r=Math.ceil((t+1)*S)-Math.floor(t*S),n=Math.ceil((e+1)*S)-Math.floor(e*S);E.fillRect(Math.round(t*S)+g,Math.round(e*S)+g,r,n)}for(let e=0;e<3;e++){let t;let{row:r,col:n}=T[e],o=u;Array.isArray(o)&&(o=o[e]),"number"==typeof o&&(o=[o,o,o,o]),t=d?Array.isArray(d)?d[e]:d:i,this.drawPositioningPattern(E,S,g,r,n,t,o)}if(o){let e=new Image;r&&(e.crossOrigin="Anonymous"),e.onload=t=>{if(E.save(),b){E.beginPath(),E.strokeStyle=n,E.fillStyle=n;let e=I+2*b,t=C+2*b,r=O+g-b,i=P+g-b;"circle"===f?E.ellipse(r+e/2,i+t/2,e/2,t/2,0,0,2*Math.PI):E.roundRect(r,i,e,t,h),E.stroke(),E.fill()}E.globalAlpha=a,E.drawImage(e,O+g,P+g,I,C),E.restore(),s&&s(t)},e.src=o}}render(){let e=+this.props.size+2*+this.props.quietZone;return rs.createElement("canvas",{id:this.props.id??"react-qrcode-logo",height:e,width:e,style:{height:e+"px",width:e+"px",...this.props.style},ref:this.canvasRef})}}function oB(e){var t;let[r]=i9(void 0,{i18n:or}),{bodyState:n,setBodyState:i,setToast:o}=(0,rs.useContext)(i7),{qrCodeValue:a,isDark:s,selectedButton:l,logoImage:u,primaryColor:d}=e,f=(0,rs.useMemo)(()=>"undefined"!=typeof window&&"desktop"===v().getParser(window.navigator.userAgent).getPlatformType(),[]),h=document.documentElement,p="#FFFFFF",g=(null===(t=getComputedStyle(h))||void 0===t||null===(t=t.getPropertyValue("--app-gray-800"))||void 0===t?void 0:t.trim())||"#1f2a37",m=d&&"#ffffff"===d.toLowerCase()?"#000000":d;return(0,nF.jsxs)("div",{className:"w3a--contents",children:[a?(0,nF.jsxs)("div",{className:"w3a--flex w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4 w3a--rounded-2xl w3a--border w3a--border-app-gray-200 w3a--p-4 dark:w3a--border-app-gray-700",children:[(0,nF.jsx)("button",{type:"button",className:"w3a--relative w3a--flex w3a--size-[300px] w3a--appearance-none w3a--items-center w3a--justify-center w3a--rounded-2xl",onClick:()=>{navigator.clipboard.writeText(a),o({message:r("modal.external.qr-code-copied-to-clipboard"),type:t9.SUCCESS})},children:(0,nF.jsx)(oL,{size:f?300:260,eyeRadius:5,qrStyle:"dots",removeQrCodeBehindLogo:!0,logoImage:u||"https://images.web3auth.io/login-wallet-connect.svg",value:a,logoHeight:32,logoWidth:32,logoPadding:10,eyeColor:s?p:m,bgColor:s?g:p,fgColor:s?p:"#000000"})}),(0,nF.jsx)("p",{className:"w3a--text-center w3a--text-sm w3a--font-normal w3a--text-app-gray-500 dark:w3a--text-app-gray-300",children:r("modal.external.walletconnect-copy")})]}):(0,nF.jsx)("div",{className:"w3a--mx-auto w3a--flex w3a--size-[300px] w3a--animate-pulse w3a--items-center w3a--justify-center w3a--rounded-lg w3a--bg-app-gray-200 w3a--p-2 dark:w3a--bg-app-gray-700",children:(0,nF.jsx)(oc,{imageId:`login-${l.name}`,hoverImageId:`login-${l.name}`,fallbackImageId:"wallet",height:"30",width:"30",isButton:!0,extension:l.imgExtension})}),(0,nF.jsxs)("div",{className:"w3a--flex w3a--w-full w3a--items-center w3a--justify-between w3a--rounded-2xl w3a--bg-app-gray-50  w3a--px-4 w3a--py-2 w3a--text-app-gray-900 dark:w3a--bg-app-gray-800 dark:w3a--text-app-white",children:[(0,nF.jsxs)("p",{className:"w3a--text-sm w3a--text-app-gray-900 dark:w3a--text-app-white",children:[r("modal.external.dont-have")," ",(0,nF.jsx)("span",{children:null==l?void 0:l.displayName}),"?"]}),(0,nF.jsx)("button",{type:"button",className:"w3a--appearance-none w3a--rounded-full w3a--border w3a--border-app-gray-200 w3a--bg-transparent w3a--px-5 w3a--py-2 w3a--text-base w3a--font-normal w3a--text-app-gray-700 w3a--transition-all w3a--duration-150 hover:w3a--border-transparent hover:w3a--shadow-light active:w3a--scale-95 dark:w3a--border-app-gray-700 dark:w3a--text-app-gray-300 dark:hover:w3a--border-transparent dark:hover:w3a--shadow-dark",onClick:()=>{i((0,c.Z)((0,c.Z)({},n),{},{installLinks:{show:!0,wallet:l}}))},children:r("modal.external.get-wallet")})]})]})}function oU(e){let{totalExternalWalletCount:t,isLoading:r,walletSearch:n,handleWalletSearch:i,buttonRadius:o}=e,[a,s]=(0,rs.useState)(!1),[c]=i9(void 0,{i18n:or});return(0,nF.jsx)("input",{type:"text",value:n,onInput:e=>{i(e),s(!0)},onFocus:e=>{e.target.placeholder="",s(!0)},onBlur:e=>{e.target.placeholder=c("modal.external.search-wallet",{count:t}),s(!1)},placeholder:r?c("modal.external.search-wallet-loading"):c("modal.external.search-wallet",{count:t}),disabled:r,className:nT("w3a--input w3a--appearance-none w3a--outline-none active:w3a--outline-none focus:w3a--outline-none w3a--bg-transparent placeholder:w3a--text-app-gray-400 dark:placeholder:w3a--text-app-gray-500 w3a--text-app-gray-900 dark:w3a--text-app-white",a&&"!w3a--border-app-primary-600",{"w3a--rounded-full":"pill"===o,"w3a--rounded-lg":"rounded"===o,"w3a--rounded-none":"square"===o})})}function oj(e){var t;let{isDark:r,config:n,walletConnectUri:i,metamaskConnectUri:a,walletRegistry:s,allRegistryButtons:l,customConnectorButtons:u,connectorVisibilityMap:d,deviceDetails:f,buttonRadius:h="pill",chainNamespace:p,isExternalWalletModeOnly:g,onBackClick:m,handleExternalWalletClick:y,handleWalletDetailsHeight:b}=e,{bodyState:w,setBodyState:v}=(0,rs.useContext)(i7),{analytics:E}=(0,rs.useContext)(oi),[x,A]=(0,rs.useState)(rl.CONNECT_WALLET),[S,_]=(0,rs.useState)(!1),[I]=(0,rs.useState)(!1),[C,O]=(0,rs.useState)(null),[P,T]=(0,rs.useState)(""),[k,N]=(0,rs.useState)("all"),[M,R]=(0,rs.useState)(!1),D=(0,rs.useMemo)(()=>s&&(Object.keys(s.default||{}).length>0||Object.keys(s.others||{}).length>0),[s]),L=(0,rs.useMemo)(()=>{let e=new Set;return u.concat(l).filter(t=>!e.has(t.name)&&(e.add(t.name),!0))},[l,u]),B=(0,rs.useMemo)(()=>new Set(Object.keys(s.default)),[s]),U=(0,rs.useMemo)(()=>{let e=[...l.filter(e=>e.hasInjectedWallet&&B.has(e.name)),...u,...l.filter(e=>!e.hasInjectedWallet&&B.has(e.name))].sort((e,t)=>e.name===o.tp.METAMASK&&t.name===o.tp.METAMASK?e.isInstalled?-1:t.isInstalled?1:e.hasInjectedWallet?-1:t.hasInjectedWallet?1:0:e.name===o.tp.METAMASK?-1:t.name===o.tp.METAMASK?1:0),t=new Set;return e.filter(e=>!t.has(e.name)&&(t.add(e.name),!0)).filter(e=>{var t;return"all"===k||(null===(t=e.chainNamespaces)||void 0===t?void 0:t.includes(k))})},[l,u,B,k]),j=(0,rs.useMemo)(()=>Object.keys(n).reduce((e,t)=>(t!==o.tp.WALLET_CONNECT_V2&&d[t]&&e.push({name:t,displayName:n[t].label||t,hasInjectedWallet:n[t].isInjected,hasWalletConnect:!1,hasInstallLinks:!1}),e),[]),[d,n]),$=(0,rs.useMemo)(()=>D?[...L.filter(e=>e.hasInjectedWallet),...L.filter(e=>!e.hasInjectedWallet)].sort((e,t)=>e.name===o.tp.METAMASK?-1:1).filter(e=>"all"===k||e.chainNamespaces.includes(k)).filter(e=>e.name.toLowerCase().includes(P.toLowerCase())):j,[D,j,P,L,k]),F=(0,rs.useMemo)(()=>!D||P||M?$:U,[D,P,$,U,M]),z=(0,rs.useMemo)(()=>$.length,[$]),G=(0,rs.useMemo)(()=>M?z:D?U.length:j.length,[D,U,j,M,z]);(0,rs.useEffect)(()=>{D&&z<=15?R(!0):R(!1)},[D,k,z]);let H=(0,rs.useMemo)(()=>S?C.name!==o.tp.METAMASK||C.hasInjectedWallet?i:a:null,[a,C,S,i]),V=(0,rs.useMemo)(()=>!S&&!!g,[S,g]);return(0,nF.jsxs)("div",{className:"w3a--relative w3a--flex w3a--flex-1 w3a--flex-col w3a--gap-y-4",children:[(0,nF.jsx)(oa,{disableBackButton:V,onBackClick:()=>{if(!S&&x===rl.CONNECT_WALLET&&m){m(!1);return}S&&(A(rl.CONNECT_WALLET),_(!1),b())},currentPage:x,selectedButton:C}),S?(0,nF.jsx)(oB,{qrCodeValue:H,isDark:r,selectedButton:C,primaryColor:null===(t=C.walletRegistryItem)||void 0===t?void 0:t.primaryColor,logoImage:`https://images.web3auth.io/login-${C.name}.${C.imgExtension}`}):(0,nF.jsxs)("div",{className:"w3a--flex w3a--flex-col w3a--gap-y-2",children:[p.length>1&&(0,nF.jsx)(oo,{isDark:r,isLoading:I,selectedChain:k,setSelectedChain:e=>{N(e)},chainNamespace:p}),(0,nF.jsx)(oU,{totalExternalWalletCount:z,isLoading:I,walletSearch:P,handleWalletSearch:e=>{T(e.target.value)},buttonRadius:h}),(0,nF.jsx)(oy,{externalButtons:F,isLoading:I,totalExternalWalletsCount:z,initialWalletCount:G,handleWalletClick:e=>{if(null==E||E.track(q.dW.EXTERNAL_WALLET_SELECTED,{connector:e.isInstalled?e.name:e.hasWalletConnect?o.tp.WALLET_CONNECT_V2:"",wallet_name:e.displayName,is_installed:e.isInstalled,is_injected:e.hasInjectedWallet,chain_namespaces:e.chainNamespaces,has_wallet_connect:e.hasWalletConnect,has_install_links:e.hasInstallLinks,has_wallet_registry_item:!!e.walletRegistryItem,total_external_wallets:L.length}),tP.c.info("handleWalletClick",e),e.isInstalled){var t;if(e.name===o.tp.METAMASK&&!e.hasInjectedWallet&&"desktop"===f.platform){y({connector:e.name}),O(e),_(!0),A(rl.SELECTED_WALLET),b();return}if((null===(t=e.chainNamespaces)||void 0===t?void 0:t.length)>1){v((0,c.Z)((0,c.Z)({},w),{},{multiChainSelector:{show:!0,wallet:e}}));return}y({connector:e.name});return}e.hasWalletConnect?(O(e),_(!0),A(rl.SELECTED_WALLET),b()):v((0,c.Z)((0,c.Z)({},w),{},{installLinks:{show:!0,wallet:e}}))},handleMoreWallets:()=>{R(!0)},isDark:r,deviceDetails:f,walletConnectUri:i,buttonRadius:h,isShowAllWallets:M})]})]})}let o$=e=>{let{isDark:t,wallet:r,handleExternalWalletClick:n}=e,[i]=i9(void 0,{i18n:or}),o=r.chainNamespaces.sort().map(e=>({chainNamespace:e,displayName:"eip155"===e?"EVM":e,imageId:`chain-${"eip155"===e?"evm":e}`}));return(0,nF.jsxs)("div",{children:[(0,nF.jsx)("div",{className:"w3a--flex w3a--items-center w3a--justify-center",children:(0,nF.jsx)("p",{className:"w3a--text-base w3a--font-medium w3a--text-app-gray-900 dark:w3a--text-app-white",children:i("modal.external.select-chain")})}),(0,nF.jsx)("div",{className:"w3a--my-6 w3a--flex w3a--justify-center",children:(0,nF.jsx)(oc,{imageId:`login-${r.name}`,hoverImageId:`login-${r.name}`,fallbackImageId:"wallet",height:"100",width:"100",isButton:!0,extension:r.imgExtension})}),(0,nF.jsx)("p",{className:"w3a--my-6 w3a--text-center w3a--text-sm w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:i("modal.external.select-chain-description",{wallet:r.displayName})}),(0,nF.jsx)("ul",{className:"w3a--flex w3a--flex-col w3a--gap-3",children:o.map(({chainNamespace:e,displayName:i,imageId:o})=>(0,nF.jsx)("li",{children:(0,nF.jsxs)("button",{type:"button",className:"w3a--btn w3a--group w3a--relative w3a--h-11 w3a--w-full w3a--items-center !w3a--justify-between w3a--overflow-hidden w3a--rounded-full",onClick:()=>n({connector:r.name,chainNamespace:e}),children:[(0,nF.jsxs)("div",{className:"w3a--flex w3a--items-center",children:[(0,nF.jsx)(oc,{imageId:o,hoverImageId:o,fallbackImageId:"wallet",height:"24",width:"24",isButton:!0,extension:"svg"}),(0,nF.jsx)("p",{className:"w3a--ml-2 w3a--text-left w3a--text-sm w3a--text-app-gray-900 first-letter:w3a--capitalize dark:w3a--text-app-gray-200",children:i})]}),(0,nF.jsx)("img",{id:"chain-namespace-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-6 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:nD(t?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})},e))})]})};function oF({privacyPolicy:e,termsOfService:t}){let[r]=i9(void 0,{i18n:or});return(0,nF.jsxs)("div",{className:"w3a--mx-auto w3a--mt-auto w3a--flex w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4 w3a--pt-5",children:[(e||t)&&(0,nF.jsxs)("p",{className:"w3a--mx-auto w3a--w-4/5 w3a--text-center w3a--text-xs w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:[r("modal.footer.by-signing-in")," ",t&&(0,nF.jsxs)("a",{href:t,className:"w3a--text-app-primary-600 dark:w3a--text-app-primary-500",children:[r("modal.footer.terms-of-service")," "]}),e&&(0,nF.jsxs)(nF.Fragment,{children:[r("modal.footer.and")," ",(0,nF.jsx)("a",{href:e,className:"w3a--text-app-primary-600 dark:w3a--text-app-primary-500",children:r("modal.footer.privacy-policy")})]})]}),(0,nF.jsxs)("div",{className:"w3a--flex w3a--items-center w3a--justify-center w3a--gap-2",children:[(0,nF.jsx)("img",{height:"36",src:"https://images.web3auth.io/metamask-footer-logo-light.svg",alt:"Web3Auth Logo Light",className:"w3a--block w3a--h-9 dark:w3a--hidden"}),(0,nF.jsx)("img",{height:"36",src:"https://images.web3auth.io/metamask-footer-logo-dark.svg",alt:"Web3Auth Logo Dark",className:"w3a--hidden w3a--h-9 dark:w3a--block"})]})]})}function oz(e,t=160){return null!=e?e:t}let oq=e=>{let{width:t,height:r,thickness:n=12,className:i="",children:o,showChildren:a=!0,trackColor:s="rgba(226, 232, 240, 1)",gradient:c,arcSizeDeg:l=36,arcColors:u}=e,d=oz(t,160),f=oz(r,160),h=`radial-gradient(farthest-side, transparent calc(100% - ${n}px), #000 calc(100% - ${n}px))`;function p(e,t){if(!e)return e;let r=e.trim().toLowerCase();if(r.startsWith("#"))return function(e,t){let r=e.replace("#",""),n=3===r.length?r.split("").map(e=>e+e).join(""):r,i=parseInt(n.substring(0,2),16),o=parseInt(n.substring(2,4),16),a=parseInt(n.substring(4,6),16);return`rgba(${i}, ${o}, ${a}, ${t})`}(r,t);if(r.startsWith("rgba("))return e;if(r.startsWith("rgb(")){let e=r.slice(4,-1);return`rgba(${e}, ${t})`}return e}let g=c||(u?`radial-gradient(210.91% 85.29% at 14.56% 18.67%, ${p(u[0],0)} 9.5%, ${u[1]} 41.82%, ${u[1]} 64.83%, ${p(u[0],.44)} 100%)`:"radial-gradient(210.91% 85.29% at 14.56% 18.67%, rgba(255, 98, 58, 0.00) 9.5%, #FF623A 41.82%, #FF623A 64.83%, rgba(255, 98, 58, 0.44) 100%)"),m=`conic-gradient(#000 0deg ${l}deg, transparent ${l}deg 360deg)`;return(0,nF.jsxs)("div",{className:nT("w3a--relative w3a--inline-flex w3a--items-center w3a--justify-center",i),style:{width:d,height:f},children:[(0,nF.jsx)("div",{className:"w3a--absolute w3a--inset-0 w3a--rounded-full",style:{background:s,WebkitMaskImage:h,maskImage:h,WebkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat"}}),(0,nF.jsx)("div",{className:"w3a--absolute w3a--inset-0 w3a--animate-spin",style:{WebkitMaskImage:m,maskImage:m,WebkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat"},children:(0,nF.jsx)("div",{className:"w3a--absolute w3a--inset-0 w3a--rounded-full",style:{background:g,WebkitMaskImage:h,maskImage:h,WebkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat"}})}),a&&o?(0,nF.jsx)("div",{className:"w3a--relative",children:o}):null]})},oG=()=>(0,nF.jsxs)("div",{className:"w3a--flex w3a--items-center w3a--justify-center w3a--gap-x-2",children:[(0,nF.jsx)("div",{className:"w3a--size-3 w3a--animate-pulse w3a--rounded-full w3a--bg-app-gray-500 dark:w3a--bg-app-gray-200"}),(0,nF.jsx)("div",{className:"w3a--size-3 w3a--animate-pulse w3a--rounded-full w3a--bg-app-gray-400 dark:w3a--bg-app-gray-400"}),(0,nF.jsx)("div",{className:"w3a--size-3 w3a--animate-pulse w3a--rounded-full w3a--bg-app-gray-200 dark:w3a--bg-app-gray-600"})]});function oH(e){let[t]=i9(void 0,{i18n:or}),{connector:r,appLogo:n,connectorName:i}=e,o=(0,rs.useMemo)(()=>"twitter"===r?(0,nF.jsx)(oc,{imageId:"login-x-dark"}):(0,nF.jsx)(oc,{imageId:`login-${r}`,height:"40",width:"40"}),[r]);return(0,nF.jsxs)("div",{className:"w3a--flex w3a--h-full w3a--flex-1 w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4",children:[(0,nF.jsxs)("div",{className:"w3a--flex w3a--items-center w3a--justify-center w3a--gap-x-6",children:[(0,nF.jsx)("figure",{className:"w3a--flex w3a--size-10 w3a--items-center w3a--justify-center w3a--overflow-hidden",children:(0,nF.jsx)("img",{src:n,alt:"",className:"w3a--size-full w3a--object-contain"})}),(0,nF.jsx)(oG,{}),o]}),(0,nF.jsxs)("div",{className:"w3a--flex w3a--flex-col w3a--gap-y-1",children:[(0,nF.jsx)("div",{className:"w3a--text-center w3a--text-sm w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:t("modal.adapter-loader.message1",{adapter:i})}),(0,nF.jsx)("div",{className:"w3a--text-center w3a--text-sm w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:t("modal.adapter-loader.message2",{adapter:i})})]})]})}function oV(e){let{message:t}=e;return(0,nF.jsxs)("div",{className:"w3a--flex w3a--flex-col w3a--items-center w3a--gap-y-2",children:[(0,nF.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",className:"w3a--connected-logo",children:(0,nF.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M6.267 3.455a3.07 3.07 0 0 0 1.745-.723 3.066 3.066 0 0 1 3.976 0 3.07 3.07 0 0 0 1.745.723 3.066 3.066 0 0 1 2.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 0 1 0 3.976 3.07 3.07 0 0 0-.723 1.745 3.066 3.066 0 0 1-2.812 2.812 3.07 3.07 0 0 0-1.745.723 3.066 3.066 0 0 1-3.976 0 3.07 3.07 0 0 0-1.745-.723 3.066 3.066 0 0 1-2.812-2.812 3.07 3.07 0 0 0-.723-1.745 3.066 3.066 0 0 1 0-3.976 3.07 3.07 0 0 0 .723-1.745 3.066 3.066 0 0 1 2.812-2.812m7.44 5.252a1 1 0 0 0-1.414-1.414L9 10.586 7.707 9.293a1 1 0 0 0-1.414 1.414l2 2a1 1 0 0 0 1.414 0z",clipRule:"evenodd"})}),(0,nF.jsx)("p",{className:"w3a--text-center w3a--text-sm w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:t})]})}function oW(e){let{message:t}=e;return(0,nF.jsxs)("div",{className:"w3a--flex w3a--flex-col w3a--items-center w3a--gap-y-2",children:[(0,nF.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",className:"w3a--error-logo",children:(0,nF.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M18 10a8 8 0 1 1-16.001 0A8 8 0 0 1 18 10m-7 4a1 1 0 1 1-2 0 1 1 0 0 1 2 0m-1-9a1 1 0 0 0-1 1v4a1 1 0 1 0 2 0V6a1 1 0 0 0-1-1",clipRule:"evenodd"})}),(0,nF.jsx)("p",{className:"w3a--text-center w3a--text-sm w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:t})]})}function oZ(e){var t,r;let[n]=i9(void 0,{i18n:or}),{connector:i,externalWalletsConfig:o,walletRegistry:a,handleMobileVerifyConnect:s}=e,c=(null==a||null===(t=a.default)||void 0===t?void 0:t[i])||(null==a||null===(r=a.others)||void 0===r?void 0:r[i]),l=(null==c?void 0:c.primaryColor)||"";return(0,nF.jsxs)("div",{className:"w3a--flex w3a--size-full w3a--flex-col w3a--items-center w3a--justify-between w3a--gap-y-6",children:[(0,nF.jsx)("p",{className:"w3a--p-2 w3a--text-center w3a--text-base w3a--font-semibold w3a--text-app-gray-900 dark:w3a--text-app-white",children:n("modal.loader.authorizing-header",{connector:o[i].label})}),(0,nF.jsx)("div",{className:"w3a--flex w3a--justify-center",children:(0,nF.jsx)(oq,{width:95,height:95,thickness:6,arcSizeDeg:100,arcColors:l?[l,l]:void 0,children:(0,nF.jsx)(oc,{imageId:`login-${i}`,hoverImageId:`login-${i}`,height:"45",width:"45"})})}),(0,nF.jsx)("p",{className:"w3a--text-center w3a--text-sm w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:n("modal.loader.authorizing-message")}),(0,nF.jsx)("button",{onClick:()=>{s({connector:i})},className:"w3a--w-full w3a--rounded-xl w3a--bg-app-gray-100 w3a--p-2 w3a--py-3 w3a--text-center w3a--text-sm w3a--text-app-gray-900 dark:w3a--bg-app-gray-800 dark:w3a--text-app-white md:w3a--hidden",children:n("modal.loader.authorizing-verify-btn")})]})}function oK(e){let{connector:t,connectorName:r,modalStatus:n,onClose:i,appLogo:o,message:a,isConnectAndSignAuthenticationMode:s,externalWalletsConfig:c,walletRegistry:l,handleMobileVerifyConnect:u}=e,d=(0,rs.useMemo)(()=>!s&&n===t4.CONNECTED||s&&n===t4.AUTHORIZED,[n,s]);return(0,rs.useEffect)(()=>{if(d){let e=setTimeout(()=>{i()},1e3);return()=>clearTimeout(e)}},[d,i]),(0,nF.jsxs)("div",{className:"w3a--flex w3a--h-full w3a--flex-1 w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4",children:[n===t4.CONNECTING&&(0,nF.jsx)(oH,{connector:t,connectorName:r,appLogo:o}),d&&(0,nF.jsx)(oV,{message:a}),n===t4.ERRORED&&(0,nF.jsx)(oW,{message:a}),n===t4.AUTHORIZING&&(0,nF.jsx)(oZ,{connector:t,externalWalletsConfig:c,walletRegistry:l,handleMobileVerifyConnect:u})]})}Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var oY=Object.defineProperty,oJ=Object.defineProperties,oX=Object.getOwnPropertyDescriptors,oQ=Object.getOwnPropertySymbols,o0=Object.prototype.hasOwnProperty,o1=Object.prototype.propertyIsEnumerable,o2=(e,t,r)=>t in e?oY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,o3=(e,t)=>{for(var r in t||(t={}))o0.call(t,r)&&o2(e,r,t[r]);if(oQ)for(var r of oQ(t))o1.call(t,r)&&o2(e,r,t[r]);return e},o6=(e,t)=>oJ(e,oX(t)),o5=(e,t)=>{var r={};for(var n in e)o0.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&oQ)for(var n of oQ(e))0>t.indexOf(n)&&o1.call(e,n)&&(r[n]=e[n]);return r},o8=(e,t,r)=>(o2(e,"symbol"!=typeof t?t+"":t,r),r),o4=(e,t,r)=>new Promise((n,i)=>{var o=e=>{try{s(r.next(e))}catch(e){i(e)}},a=e=>{try{s(r.throw(e))}catch(e){i(e)}},s=e=>e.done?n(e.value):Promise.resolve(e.value).then(o,a);s((r=r.apply(e,t)).next())}),o9="hCaptchaOnLoad",o7="script-error",ae="@hCaptcha/loader";function at(e){let t=e&&e.ownerDocument||document,r=t.defaultView||t.parentWindow||window;return{document:t,window:r}}function ar(e){return e||document.head}var an=class e{constructor(e){o8(this,"_parent"),o8(this,"breadcrumbs",[]),o8(this,"context",{}),o8(this,"extra",{}),o8(this,"tags",{}),o8(this,"request"),o8(this,"user"),this._parent=e}get parent(){return this._parent}child(){return new e(this)}setRequest(e){return this.request=e,this}removeRequest(){return this.request=void 0,this}addBreadcrumb(e){return typeof e.timestamp>"u"&&(e.timestamp=new Date().toISOString()),this.breadcrumbs.push(e),this}setExtra(e,t){return this.extra[e]=t,this}removeExtra(e){return delete this.extra[e],this}setContext(e,t){return typeof t.type>"u"&&(t.type=e),this.context[e]=t,this}removeContext(e){return delete this.context[e],this}setTags(e){return this.tags=o3(o3({},this.tags),e),this}setTag(e,t){return this.tags[e]=t,this}removeTag(e){return delete this.tags[e],this}setUser(e){return this.user=e,this}removeUser(){return this.user=void 0,this}toBody(){let e=[],t=this;for(;t;)e.push(t),t=t.parent;return e.reverse().reduce((e,t)=>{var r;return e.breadcrumbs=[...null!=(r=e.breadcrumbs)?r:[],...t.breadcrumbs],e.extra=o3(o3({},e.extra),t.extra),e.contexts=o3(o3({},e.contexts),t.context),e.tags=o3(o3({},e.tags),t.tags),t.user&&(e.user=t.user),t.request&&(e.request=t.request),e},{breadcrumbs:[],extra:{},contexts:{},tags:{},request:void 0,user:void 0})}clear(){this.breadcrumbs=[],this.context={},this.tags={},this.user=void 0}},ai=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,ao="An unknown error occurred";function aa(e){return(e+256).toString(16).substring(1)}var as,ac,al=[[/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,"chrome"],[/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,"winjs"],[/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js))(?::(\d+))?(?::(\d+))?\s*$/i,"gecko"]],au=(ac=class{constructor(e){var t,r,n,i,o;o8(this,"apiURL"),o8(this,"dsn"),o8(this,"environment"),o8(this,"release"),o8(this,"sampleRate"),o8(this,"debug"),o8(this,"_scope"),o8(this,"shouldBuffer",!1),o8(this,"bufferlimit",20),o8(this,"buffer",[]),this.environment=e.environment,this.release=e.release,this.sampleRate=null!=(t=e.sampleRate)?t:1,this.debug=null!=(r=e.debug)&&r,this._scope=null!=(n=e.scope)?n:new an,this.apiURL=function(e){let t=ai.exec(e),r=t?t.slice(1):[];if(6!==r.length)throw Error("Invalid DSN");let n=r[5].split("/"),i=n.slice(0,-1).join("/");return r[0]+"://"+r[3]+(r[4]?":"+r[4]:"")+(i?"/"+i:"")+"/api/"+n.pop()+"/envelope/?sentry_version=7&sentry_key="+r[1]+(r[2]?"&sentry_secret="+r[2]:"")}(e.dsn),this.dsn=e.dsn,this.shouldBuffer=null!=(i=e.buffer)&&i,this.bufferlimit=null!=(o=e.bufferLimit)?o:20}static init(e){ac._instance||(ac._instance=new ac(e))}static get instance(){if(!ac._instance)throw Error("Sentry has not been initialized");return ac._instance}log(...e){this.debug&&console.log(...e)}get scope(){return this._scope}static get scope(){return ac.instance.scope}withScope(e){e(this._scope.child())}static withScope(e){ac.instance.withScope(e)}captureException(e,t){this.captureEvent({type:"exception",level:"error",error:function(e){if(e instanceof Error)return e;if("string"==typeof e)return Error(e);if("object"==typeof e&&null!==e&&!Array.isArray(e)){let{message:t}=e,r=o5(e,["message"]);return Object.assign(Error("string"==typeof t?t:ao),r)}return Object.assign(Error(ao),{cause:e})}(e),scope:null!=t?t:this._scope})}static captureException(e,t){ac.instance.captureException(e,t)}captureMessage(e,t="info",r){this.captureEvent({type:"message",level:t,message:e,scope:null!=r?r:this._scope})}static captureMessage(e,t="info",r){ac.instance.captureMessage(e,t,r)}captureEvent(e){if(Math.random()>=this.sampleRate){this.log("Dropped event due to sample rate");return}if(this.shouldBuffer){if(this.buffer.length>=this.bufferlimit)return;this.buffer.push(e)}else this.sendEvent(e)}sendEvent(e,t=5e3){return o4(this,null,function*(){try{this.log("Sending sentry event",e);let r=function(e,t,r){var n,i,o;let a;let s=o3({event_id:((a=function(e){for(let t=0;t<e.length;t++)e[t]=Math.floor(256*Math.random());return e}(Array(16)))[6]=15&a[6]|64,a[8]=63&a[8]|128,aa(a[0])+aa(a[1])+aa(a[2])+aa(a[3])+"-"+aa(a[4])+aa(a[5])+"-"+aa(a[6])+aa(a[7])+"-"+aa(a[8])+aa(a[9])+"-"+aa(a[10])+aa(a[11])+aa(a[12])+aa(a[13])+aa(a[14])+aa(a[15])).replaceAll("-",""),platform:"javascript",sdk:{name:"@hcaptcha/sentry",version:"0.0.4"},environment:t,release:r,timestamp:Date.now()/1e3},e.scope.toBody());if("exception"===e.type){let t;s.message=null!=(i=null==(n=e.error)?void 0:n.message)?i:"Unknown error",s.fingerprint=[s.message];let r=[],a=e.error;for(let e=0;e<5&&a&&(r.push((t=function(e){var t,r,n,i;if(!e.stack)return null;let o=[],a=null!=(n=null==(r=(t=e.stack).split)?void 0:r.call(t,`
`))?n:[];for(let t=0;t<a.length;++t){let r=null,n=null,s=null;for(let[e,r]of al)if(n=e.exec(a[t])){s=r;break}if(!(!n||!s)){if("chrome"===s)r={filename:null!=(i=n[2])&&i.startsWith("address at ")?n[2].substring(11):n[2],function:n[1]||"?",lineno:n[3]?+n[3]:null,colno:n[4]?+n[4]:null};else if("winjs"===s)r={filename:n[2],function:n[1]||"?",lineno:+n[3],colno:n[4]?+n[4]:null};else{if("gecko"!==s)continue;0===t&&!n[5]&&void 0!==e.columnNumber&&o.length>0&&(o[0].column=e.columnNumber+1),r={filename:n[3],function:n[1]||"?",lineno:n[4]?+n[4]:null,colno:n[5]?+n[5]:null}}!r.function&&r.lineno&&(r.function="?"),o.push(r)}}return o.length?o.reverse():null}(o=a),{type:o.name,value:o.message,stacktrace:{frames:null!=t?t:[]}})),!(!a.cause||!(a.cause instanceof Error)));e++)a=a.cause;s.exception={values:r.reverse()}}return"message"===e.type&&(s.message=e.message,s.level=e.level),s}(e,this.environment,this.release),n={event_id:r.event_id,dsn:this.dsn},i=JSON.stringify(n)+`
`+JSON.stringify({type:"event"})+`
`+JSON.stringify(r),o=yield function(e,t,r){return o4(this,null,function*(){var n,i;try{if("u">typeof fetch&&"u">typeof AbortSignal){let n;if(r){let e=new AbortController;n=e.signal,setTimeout(()=>e.abort(),r)}let i=yield fetch(e,o6(o3({},t),{signal:n})),o=yield i.text();return{status:i.status,body:o}}return yield new Promise((n,i)=>{var o,a;let s=new XMLHttpRequest;if(s.open(null!=(o=null==t?void 0:t.method)?o:"GET",e),s.onload=()=>n({status:s.status,body:s.responseText}),s.onerror=()=>i(Error("XHR Network Error")),null==t?void 0:t.headers)for(let[e,r]of Object.entries(t.headers))s.setRequestHeader(e,r);if(r){let e=setTimeout(()=>{s.abort(),i(Error("Request timed out"))},r);s.onloadend=()=>{clearTimeout(e)}}s.send(null==(a=null==t?void 0:t.body)?void 0:a.toString())})}catch(e){return{status:0,body:null!=(i=null==(n=null==e?void 0:e.toString)?void 0:n.call(e))?i:"Unknown error"}}})}(this.apiURL,{method:"POST",headers:{"Content-Type":"application/x-sentry-envelope"},body:i},t);this.log("Sentry response",o.status),200!==o.status&&(console.log(o.body),console.error("Failed to send event to Sentry",o))}catch(e){console.error("Failed to send event",e)}})}flush(e=5e3){return o4(this,null,function*(){try{this.log("Flushing sentry events",this.buffer.length);let t=this.buffer.splice(0,this.buffer.length).map(t=>this.sendEvent(t,e));yield Promise.all(t),this.log("Flushed all events")}catch(e){console.error("Failed to flush events",e)}})}static flush(e=5e3){return ac.instance.flush(e)}static reset(){ac._instance=void 0}},o8(ac,"_instance"),ac);function ad(e=null){return{addBreadcrumb:t=>{e&&e.addBreadcrumb(t)},captureRequest:t=>{e&&e.setRequest(t)},captureException:t=>{e&&au.captureException(t,e)}}}var af=[];function ah(e){let t=e&&e.ownerDocument||document,r=t.defaultView||t.parentWindow||window;return{document:t,window:r}}function ap(e){return e||document.head}var ag=class extends rs.Component{constructor(e){super(e),this._hcaptcha=void 0,this.renderCaptcha=this.renderCaptcha.bind(this),this.resetCaptcha=this.resetCaptcha.bind(this),this.removeCaptcha=this.removeCaptcha.bind(this),this.isReady=this.isReady.bind(this),this._onReady=null,this.loadCaptcha=this.loadCaptcha.bind(this),this.handleOnLoad=this.handleOnLoad.bind(this),this.handleSubmit=this.handleSubmit.bind(this),this.handleExpire=this.handleExpire.bind(this),this.handleError=this.handleError.bind(this),this.handleOpen=this.handleOpen.bind(this),this.handleClose=this.handleClose.bind(this),this.handleChallengeExpired=this.handleChallengeExpired.bind(this),this.ref=rs.createRef(),this.apiScriptRequested=!1,this.sentryHub=null,this.captchaId="",this._pendingExecute=null,this.state={isApiReady:!1,isRemoved:!1,elementId:e.id}}componentDidMount(){let e=ah(ap(this.props.scriptLocation));if(this._hcaptcha=e.window.hcaptcha||void 0,void 0!==this._hcaptcha){this.setState({isApiReady:!0},()=>{this.renderCaptcha()});return}this.loadCaptcha()}componentWillUnmount(){let e=this._hcaptcha,t=this.captchaId;if(this._cancelPendingExecute("react-component-unmounted"),this.isReady())try{e.reset(t),e.remove(t)}catch(e){}finally{this.captchaId="",this._onReady=null}}shouldComponentUpdate(e,t){return!(this.state.isApiReady!==t.isApiReady||this.state.isRemoved!==t.isRemoved)}componentDidUpdate(e){["sitekey","size","theme","tabindex","languageOverride","endpoint"].every(t=>e[t]===this.props[t])||this.removeCaptcha(()=>{this.renderCaptcha()})}loadCaptcha(){if(this.apiScriptRequested)return;let{apihost:e,assethost:t,endpoint:r,host:n,imghost:i,languageOverride:o,reCaptchaCompat:a,reportapi:s,sentry:c,custom:l,loadAsync:u,scriptLocation:d,scriptSource:f,secureApi:h,cleanup:p=!0,userJourneys:g}=this.props;(function(){return o4(this,arguments,function*(e={}){let t=function(e=!0){var t,r,n,i,o,a,s;let c,l,u,d,f;if(!e)return ad();au.init({dsn:"https://d233059272824702afc8c43834c4912d@sentry.hcaptcha.com/6",release:"2.3.0",environment:"production"});let h=au.scope;return h.setTag("source",ae),h.setTag("url",document.URL),h.setContext("os",{UA:navigator.userAgent}),h.setContext("browser",o3({},(-1!==(c=navigator.userAgent).indexOf("Firefox")?(l="Firefox",u=null==(r=c.match(/Firefox\/([\d.]+)/))?void 0:r[1]):-1!==c.indexOf("Edg")?(l="Microsoft Edge",u=null==(n=c.match(/Edg\/([\d.]+)/))?void 0:n[1]):-1!==c.indexOf("Chrome")&&-1!==c.indexOf("Safari")?(l="Chrome",u=null==(i=c.match(/Chrome\/([\d.]+)/))?void 0:i[1]):-1!==c.indexOf("Safari")&&-1===c.indexOf("Chrome")?(l="Safari",u=null==(o=c.match(/Version\/([\d.]+)/))?void 0:o[1]):-1!==c.indexOf("Opera")||-1!==c.indexOf("OPR")?(l="Opera",u=null==(a=c.match(/(Opera|OPR)\/([\d.]+)/))?void 0:a[2]):-1!==c.indexOf("MSIE")||-1!==c.indexOf("Trident")?(l="Internet Explorer",u=null==(s=c.match(/(MSIE |rv:)([\d.]+)/))?void 0:s[2]):(l="Unknown",u="Unknown"),{name:l,version:u}))),h.setContext("device",o6(o3({},{model:f=-1!==(d=navigator.userAgent).indexOf("Win")?"Windows":-1!==d.indexOf("Mac")?"Mac":-1!==d.indexOf("Linux")?"Linux":-1!==d.indexOf("Android")?"Android":-1!==d.indexOf("like Mac")||-1!==d.indexOf("iPhone")||-1!==d.indexOf("iPad")?"iOS":"Unknown",family:f,device:/Mobile|iPhone|iPod|Android/i.test(d)?"Mobile":/Tablet|iPad/i.test(d)?"Tablet":"Desktop"}),{screen_width_pixels:screen.width,screen_height_pixels:screen.height,language:navigator.language,orientation:(null==(t=screen.orientation)?void 0:t.type)||"Unknown",processor_count:navigator.hardwareConcurrency,platform:navigator.platform})),ad(h)}(e.sentry);return yield function e(t,r,n=0){return o4(this,null,function*(){var i,o;let a=null!=(i=t.maxRetries)?i:2,s=null!=(o=t.retryDelay)?o:1e3,c=n<a?"Retry loading hCaptcha Api":"Exceeded maximum retries";try{return yield function(e={cleanup:!1},t){try{t.addBreadcrumb({category:ae,message:"hCaptcha loader params",data:e});let r=ar(e.scriptLocation),n=at(r),i=af.find(({scope:e})=>e===n.window);if(i)return t.addBreadcrumb({category:ae,message:"hCaptcha already loaded"}),i.promise;let o=new Promise((r,o)=>o4(this,null,function*(){try{var a;n.window[o9]=()=>{t.addBreadcrumb({category:ae,message:"hCaptcha script called onload function"}),r(n.window.hcaptcha)};let o=(a={custom:e.custom,render:e.render,sentry:e.sentry,assethost:e.assethost,imghost:e.imghost,reportapi:e.reportapi,endpoint:e.endpoint,host:e.host,recaptchacompat:e.recaptchacompat,hl:e.hl,uj:e.uj},Object.entries(a).filter(([,e])=>e||!1===e).map(([e,t])=>`${encodeURIComponent(e)}=${encodeURIComponent(String(t))}`).join("&"));yield function({scriptLocation:e,query:t,loadAsync:r=!0,crossOrigin:n="anonymous",apihost:i="https://js.hcaptcha.com",cleanup:o=!1,secureApi:a=!1,scriptSource:s=""}={},c){let l=ar(e),u=at(l);return new Promise((e,d)=>{let f=u.document.createElement("script");f.id="hCaptcha-script",s?f.src=`${s}?onload=${o9}`:a?f.src=`${i}/1/secure-api.js?onload=${o9}`:f.src=`${i}/1/api.js?onload=${o9}`,f.crossOrigin=n,f.async=r;let h=(e,t)=>{try{!a&&o&&l.removeChild(f),t(e)}catch(e){d(e)}};f.onload=t=>h(t,e),f.onerror=e=>{c&&c(f.src),h(e,d)},f.src+=""!==t?`&${t}`:"",l.appendChild(f)})}(o3({query:o},e),e=>{t.captureRequest({url:e,method:"GET"})}),t.addBreadcrumb({category:ae,message:"hCaptcha loaded",data:i})}catch(r){t.addBreadcrumb({category:ae,message:"hCaptcha failed to load"});let e=af.findIndex(e=>e.scope===n.window);-1!==e&&af.splice(e,1),o(Error(o7))}}));return af.push({promise:o,scope:n.window}),o}catch(e){return t.captureException(e),Promise.reject(Error(o7))}}(t,r)}catch(i){return r.addBreadcrumb({category:ae,message:c}),n>=a?(r.captureException(i),Promise.reject(i)):(r.addBreadcrumb({category:ae,message:`Waiting ${s}ms before retry attempt ${n+1}`}),yield new Promise(e=>setTimeout(e,s)),e(t,r,n+=1))}})}(e,t)})})({render:"explicit",apihost:e,assethost:t,endpoint:r,hl:o,host:n,imghost:i,recaptchacompat:!1===a?"off":null,reportapi:s,sentry:c,custom:l,loadAsync:u,scriptLocation:d,scriptSource:f,secureApi:h,cleanup:p,uj:void 0!==g&&g}).then(this.handleOnLoad,this.handleError).catch(this.handleError),this.apiScriptRequested=!0}renderCaptcha(e){let{onReady:t}=this.props,{isApiReady:r}=this.state,n=this.captchaId;if(!r||n)return;let i=Object.assign({"open-callback":this.handleOpen,"close-callback":this.handleClose,"error-callback":this.handleError,"chalexpired-callback":this.handleChallengeExpired,"expired-callback":this.handleExpire,callback:this.handleSubmit},this.props,{hl:this.props.hl||this.props.languageOverride,languageOverride:void 0}),o=this._hcaptcha.render(this.ref.current,i);this.captchaId=o,this.setState({isRemoved:!1},()=>{e&&e(),t&&t(),this._onReady&&this._onReady(o)})}resetCaptcha(){let e=this._hcaptcha,t=this.captchaId;this.isReady()&&(e.reset(t),this._cancelPendingExecute("hcaptcha-reset"))}removeCaptcha(e){let t=this._hcaptcha,r=this.captchaId;this._cancelPendingExecute("hcaptcha-removed"),this.isReady()&&this.setState({isRemoved:!0},()=>{this.captchaId="",t.remove(r),e&&e()})}handleOnLoad(){this.setState({isApiReady:!0},()=>{let e=ah(ap(this.props.scriptLocation));this._hcaptcha=e.window.hcaptcha,this.renderCaptcha(()=>{let{onLoad:e}=this.props;e&&e()})})}handleSubmit(e){let{onVerify:t}=this.props,{isRemoved:r}=this.state,n=this._hcaptcha,i=this.captchaId;if(void 0===n||r)return;let o=n.getResponse(i),a=n.getRespKey(i);t&&t(o,a)}handleExpire(){let{onExpire:e}=this.props,t=this._hcaptcha,r=this.captchaId;this.isReady()&&(t.reset(r),e&&e())}handleError(e){let{onError:t}=this.props,r=this._hcaptcha,n=this.captchaId;this.isReady()&&r.reset(n),t&&t(e)}isReady(){let{isApiReady:e,isRemoved:t}=this.state;return e&&!t}_cancelPendingExecute(e){if(!this._pendingExecute)return;let t=this._pendingExecute;this._pendingExecute=null;let r=Error(e);t.reject(r)}handleOpen(){this.isReady()&&this.props.onOpen&&this.props.onOpen()}handleClose(){this.isReady()&&this.props.onClose&&this.props.onClose()}handleChallengeExpired(){this.isReady()&&this.props.onChalExpired&&this.props.onChalExpired()}execute(e=null){e="object"==typeof e?e:null;try{let t=this._hcaptcha,r=this.captchaId;if(e&&e.async&&this._pendingExecute&&this._cancelPendingExecute("hcaptcha-execute-replaced"),!this.isReady())return e&&e.async?new Promise((r,n)=>{this._pendingExecute={resolve:r,reject:n},this._onReady=i=>{if(this._pendingExecute)try{let o=t.execute(i,e);o&&"function"==typeof o.then?o.then(e=>{this._pendingExecute=null,r(e)}).catch(e=>{this._pendingExecute=null,n(e)}):(this._pendingExecute=null,n(Error("hcaptcha-execute-no-promise")))}catch(e){this._pendingExecute=null,n(e)}}}):(this._onReady=r=>{t.execute(r,e)},null);let n=t.execute(r,e);return e&&e.async&&n&&"function"==typeof n.then?new Promise((e,t)=>{this._pendingExecute={resolve:e,reject:t},n.then(t=>{this._pendingExecute=null,e(t)}).catch(e=>{this._pendingExecute=null,t(e)})}):n}catch(t){return e&&e.async?Promise.reject(t):null}}close(){let e=this._hcaptcha,t=this.captchaId;if(this._cancelPendingExecute("hcaptcha-closed"),this.isReady())return e.close(t)}setData(e){let t=this._hcaptcha,r=this.captchaId;this.isReady()&&(e&&"object"!=typeof e&&(e=null),t.setData(r,e))}getResponse(){return this._hcaptcha.getResponse(this.captchaId)}getRespKey(){return this._hcaptcha.getRespKey(this.captchaId)}render(){let{elementId:e}=this.state;return rs.createElement("div",{ref:this.ref,id:e})}};(0,rs.createContext)();class am{constructor(e){if((0,l.Z)(this,"authBaseApiUrl",void 0),(0,l.Z)(this,"passwordlessParams",void 0),(0,l.Z)(this,"trackingIdentifier",void 0),(0,l.Z)(this,"version",`web3auth-${a.split(".")[0]}`),!e.authConnection)throw tO.Ty.invalidParams("authConnection is required");if(!e.web3authClientId)throw tO.Ty.invalidParams("web3authClientId is required");if(!e.loginHint)throw tO.Ty.invalidParams("loginHint is required");if(!e.network)throw tO.Ty.invalidParams("network is required");e.authBuildEnv||(e.authBuildEnv=t0.PRODUCTION),this.authBaseApiUrl=`${t5[e.authBuildEnv]}/api/v3/auth`,this.passwordlessParams=e}get name(){if(this.passwordlessParams.authConnection===g.Ck.EMAIL_PASSWORDLESS)return"Email";if(this.passwordlessParams.authConnection===g.Ck.SMS_PASSWORDLESS)return"Mobile";throw tO.Ty.invalidParams("Invalid authConnection")}get connection(){if(this.passwordlessParams.authConnection===g.Ck.EMAIL_PASSWORDLESS)return"email";if(this.passwordlessParams.authConnection===g.Ck.SMS_PASSWORDLESS)return"sms";throw tO.Ty.invalidParams("Invalid authConnection")}get trackingId(){return this.trackingIdentifier}get sessionStorageAvailable(){return C("sessionStorage")}get whiteLabelParams(){var e;let{uiConfig:t}=this.passwordlessParams;if(!t)return{};let{appName:r,appUrl:n,defaultLanguage:i,mode:o,logoLight:a,logoDark:s,theme:c}=t,l=null!==(e="dark"===o?s:a)&&void 0!==e?e:"";return{mode:null!=o?o:"light",name:null!=r?r:"",url:null!=n?n:"",language:null!=i?i:"en",logo:l.includes(".svg")?"":l,theme:null!=c?c:{}}}set trackingId(e){this.trackingIdentifier=e}async start(e){try{let r=await rv(`${this.authBaseApiUrl}/passwordless/start`,e);if(r&&r.success){var t;this.trackingId=null===(t=r.data)||void 0===t?void 0:t.trackingId,this.sessionStorageAvailable&&window.sessionStorage.setItem("trackingId",this.trackingId)}return r}catch(e){return this.handleError(e)}}async verify(e){try{let t=await rv(`${this.authBaseApiUrl}/passwordless/verify`,e);if(t.success)return this.sessionStorageAvailable&&window.sessionStorage.removeItem("trackingId"),{success:!0,data:{id_token:t.id_token}};return{success:!1,error:t.message}}catch(e){return this.handleError(e)}}async handleError(e){let t;if(429===e.status)t="passwordless.error-too-many-requests";else try{let r=await e.json();t=r.error_code?n$(r.error_code):r.message}catch{t="passwordless.something-wrong-error"}return{success:!1,error:t}}}class ay extends am{constructor(e){var t;super(e),(0,l.Z)(this,"mailSent",void 0),this.mailSent=!1,this.sessionStorageAvailable&&(this.trackingId=null!==(t=window.sessionStorage.getItem("trackingId"))&&void 0!==t?t:void 0)}async sendVerificationCode({captchaToken:e}){let{loginHint:t,network:r,web3authClientId:n}=this.passwordlessParams,i={client_id:n,web3auth_client_id:n,connection:this.connection,login_hint:t,tracking_id:this.trackingId,whitelabel:this.whiteLabelParams,version:this.version,network:r,flow_type:tE.code,captcha_token:e};return super.start(i)}async verifyCode(e){let{loginHint:t,network:r,web3authClientId:n}=this.passwordlessParams,i={client_id:n,login_hint:t,code:e,connection:"email",tracking_id:this.trackingId,version:this.version,network:r,flow_type:tE.code};return super.verify(i)}}class ab extends am{constructor(e){if(super(e),this.sessionStorageAvailable){var t;this.trackingId=null!==(t=window.sessionStorage.getItem("trackingId"))&&void 0!==t?t:void 0}}async sendVerificationCode({captchaToken:e}){let{loginHint:t,network:r,web3authClientId:n}=this.passwordlessParams,i=(0,c.Z)({client_id:n,web3auth_client_id:n,connection:this.connection,login_hint:t,tracking_id:this.trackingId,whitelabel:this.whiteLabelParams,version:this.version,network:r},e&&{captcha_token:e});return super.start(i)}async verifyCode(e){let{loginHint:t,network:r,web3authClientId:n}=this.passwordlessParams,i={client_id:n,login_hint:t,code:e,connection:this.connection,tracking_id:this.trackingId,version:this.version,network:r};return super.verify(i)}}let aw=(e,t)=>{switch(e){case g.Ck.EMAIL_PASSWORDLESS:return new ay(t);case g.Ck.SMS_PASSWORDLESS:return new ab(t);default:throw tO.Ty.invalidParams(`Unsupported auth connection: ${e}`)}},av=(e,t)=>{if(e===g.Ck.EMAIL_PASSWORDLESS)return t.startsWith("test_account_")&&t.endsWith("@example.com");if(e===g.Ck.SMS_PASSWORDLESS)return t.startsWith("+1-555");throw tO.Ty.invalidParams(`Unsupported auth connection: ${e}`)},aE=({children:e,content:t,isDark:r=!1,hideHint:n=!1})=>{let[i,o]=(0,rs.useState)(!1),a=()=>{o(!0)},s=()=>{o(!1)},c=(0,rs.useMemo)(()=>{let e=r?"#ffffff":"#1f2a37";return{borderTop:"8px solid transparent",borderRight:"none",borderBottom:"8px solid transparent",borderLeft:`8px solid ${e}`,left:"0%",top:"calc(100% - 8px)"}},[r]);return(0,nF.jsxs)("div",{className:"w3a--relative","aria-hidden":!0,onMouseEnter:a,onMouseLeave:s,onFocus:a,onBlur:s,onClick:s,children:[e,i&&!n&&(0,nF.jsxs)("div",{"data-popover":!0,role:"tooltip",className:nT("w3a--absolute w3a--z-[45] w3a--shadow-2xl w3a--rounded-lg w3a--bottom-[100%] w3a--left-[50%] w3a--w-max w3a--text-xs w3a--px-[6px] w3a--py-[3px]",r?"w3a--bg-app-white w3a--text-app-gray-900":"w3a--bg-app-gray-800 w3a--text-app-gray-100"),children:[t,(0,nF.jsx)("div",{className:"w3a--absolute",style:c})]})]})};function ax(e,t,r){let n=e===g.Ck.TWITTER?`login-X${t?"-light":"-dark"}`:`login-${e}${t?"-light":"-dark"}`,i=e===g.Ck.APPLE||e===g.Ck.GITHUB||e===g.Ck.TWITTER?n:`login-${e}-active`;return(0,nF.jsxs)(nF.Fragment,{children:[(0,nF.jsx)("img",{id:"active-login-img",src:`https://images.web3auth.io/${i}${r}`,alt:"active-login-img",className:"w3a--hidden w3a--size-5 w3a--object-contain group-hover:w3a--block"}),(0,nF.jsx)("img",{id:"login-img",src:`https://images.web3auth.io/${n}${r}`,alt:"login-img",className:"w3a--block w3a--size-5 w3a--object-contain group-hover:w3a--hidden"})]})}function aA(e){let{visibleRow:t,otherRow:r,mainOptionsRow:n,isDark:i,canShowMore:o,handleSocialLoginClick:a,handleExpandSocialLogins:s,buttonRadius:c}=e;return(0!==t.length||0!==n.length)&&(null==r?void 0:r.length)===0?(0,nF.jsxs)("div",{className:"w3a--flex w3a--w-full w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-2",children:[(0,nF.jsx)("div",{className:"w3a--grid w3a--w-full w3a--gap-y-2",children:n.map(e=>(0,nF.jsx)(oh,{type:os.SOCIAL,props:{showText:!0,text:e.description,method:e.method,isDark:i,isPrimaryBtn:!1,btnStyle:"w3a--flex w3a--items-center !w3a--justify-center w3a--w-full w3a--h-11 w3a--group",children:(0,nF.jsx)(nF.Fragment,{children:ax(e.method,i,".svg")}),onClick:()=>a({connector:e.connector,loginParams:e.loginParams}),buttonRadius:c}},e.method))}),(0,nF.jsxs)("div",{className:nT("w3a--grid w3a--w-full w3a--gap-x-2",1===t.length?"w3a--grid-cols-1":2===t.length?"w3a--grid-cols-2":3===t.length?"w3a--grid-cols-3":"w3a--grid-cols-4"),children:[t.filter((e,r)=>4===t.length?r<=3:r<3).map(e=>(0,nF.jsx)(aE,{content:"Last Login",isDark:i,hideHint:!0,children:(0,nF.jsx)(oh,{type:os.SOCIAL,props:{showText:!1,method:e.method,isDark:i,isPrimaryBtn:!1,btnStyle:"w3a--flex w3a--items-center !w3a--justify-center w3a--w-full w3a--h-11 w3a--group",children:(0,nF.jsx)(nF.Fragment,{children:ax(e.method,i,".svg")}),onClick:()=>a({connector:e.connector,loginParams:e.loginParams}),buttonRadius:c}},e.method)},e.method)),o&&t.length>4&&(0,nF.jsx)(oh,{type:os.SOCIAL,props:{showIcon:!1,onClick:s,btnStyle:"w3a--flex w3a--items-center !w3a--justify-center w3a--w-full w3a--h-11",children:(0,nF.jsx)("img",{src:nD(i?"dots-dark-horizontal":"dots-light-horizontal"),alt:"Logo",className:"w3a--object-contain"}),buttonRadius:c}})]})]}):(0,nF.jsxs)("div",{className:"w3a--flex w3a--w-full w3a--flex-col w3a--items-start w3a--justify-start w3a--gap-y-4",children:[(0,nF.jsx)("button",{type:"button",className:"w3a--appearance-none",onClick:()=>s(),children:(0,nF.jsx)("img",{src:nD(i?"arrow-left-dark":"arrow-left-light"),alt:"Logo",className:"w3a--object-contain"})}),(0,nF.jsx)("div",{className:"w3a--social-container w3a--grid w3a--h-[300px] w3a--w-full w3a--auto-rows-min w3a--grid-cols-1 w3a--gap-y-2 w3a--overflow-y-auto w3a--pl-2 w3a--pr-3",children:r.map(e=>(0,nF.jsx)("div",{className:"w3a--h-11 w3a--w-full",children:(0,nF.jsx)(oh,{type:os.SOCIAL,props:{method:e.method,isDark:i,isPrimaryBtn:!1,onClick:()=>a({connector:e.connector,loginParams:e.loginParams}),btnStyle:"w3a--group w3a--relative w3a--overflow-hidden w3a--flex w3a--items-center !w3a--justify-start w3a--w-full w3a--h-11",buttonRadius:c,children:(0,nF.jsxs)(nF.Fragment,{children:[ax(e.method,i,".svg"),(0,nF.jsx)("p",{className:"w3a--text-sm w3a--font-normal w3a--text-app-gray-900 dark:w3a--text-app-white",children:e.name}),(0,nF.jsx)("img",{id:"login-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-10 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:nD(i?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})}})},e.method))})]})}let aS=(0,rs.forwardRef)(({length:e,loading:t,resendTimer:r=60,onComplete:n,onChange:i,error:o=!1,success:a=!1,disabled:s=!1,classes:c,helperText:l="",onResendTimer:u,showCta:d=!0,showTimer:f=!0,autoFocus:h=!1,placeholder:p="",autoComplete:g="one-time-code",type:m="text",resendBtnText:y=""},b)=>{let[w,v]=(0,rs.useState)(Array(e).fill("")),[E,x]=(0,rs.useState)(null!=r?r:0),[A]=i9(void 0,{i18n:or}),S=(0,rs.useRef)([]),_=e=>/^\d$/.test(e)&&1===e.trim().length,I=(e,t)=>{var r,n,o;if("Backspace"===e.key||"Delete"===e.key){e.preventDefault();let n=[...w];""!==w[t]?n[t]="":t>0&&(null===(r=S.current[t-1])||void 0===r||r.focus(),n[t-1]=""),v(n),i&&i(n.join(""))}else"ArrowLeft"===e.key?(e.preventDefault(),null===(n=S.current[t-1])||void 0===n||n.focus()):"ArrowRight"===e.key?(e.preventDefault(),null===(o=S.current[t+1])||void 0===o||o.focus()):(" "===e.key||"Spacebar"===e.key||"Space"===e.key||!_(e.key)&&S.current[t+1])&&(e.preventDefault(),S.current[t+1].value="")},C=(t,r)=>{var o,a;t.preventDefault();let{value:s}=t.target;if(s&&s.length>1&&s.length===e){let t=s.split(""),r=[...w];t.forEach((e,t)=>{r[t]=e}),v(r),null===(o=S.current[t.length===e?e-1:t.length])||void 0===o||o.focus(),n&&e===r.length&&n(r.join(""))}else if(_(s)){let t=[...w].slice(0,e);t[r]=s,v(t);let o=t.join("");r<e-1&&S.current[r+1]&&(null===(a=S.current[r+1])||void 0===a||a.focus()),i&&i(s),n&&e===o.length&&n(o)}},O=t=>{t.preventDefault();let r=t.clipboardData.getData("text").slice(0,e);if(r&&/^\d+$/.test(r)){var i;let t=r.split(""),o=[...w];t.forEach((e,t)=>{o[t]=e}),v(o),null===(i=S.current[t.length===e?e-1:t.length])||void 0===i||i.focus(),n&&e===o.length&&n(o.join(""))}};(0,rs.useEffect)(()=>{let e=null;return d&&f&&(e=window.setInterval(()=>{E>0?x(e=>e-1):clearInterval(e)},1e3)),()=>{clearInterval(e)}},[E]),(0,rs.useEffect)(()=>{if(S&&h){var e;null===(e=S.current)||void 0===e||e[0].focus()}},[h]);let P=nT("w3a--text-xs w3a--font-normal w3a--text-app-gray-500 dark:w3a--text-app-white w3a--mt-2",{"w3a--text-app-red-500 dark:w3a--text-app-red-400":o,"w3a--text-app-green-500 dark:w3a--text-app-green-400":a},null==c?void 0:c.helperText),T=new Date().getFullYear();return(0,nF.jsxs)("div",{className:nT("w3a--flex w3a--flex-col w3a--items-center",null==c?void 0:c.root),ref:b,children:[(0,nF.jsx)("form",{className:nT("w3a--flex w3a--space-x-2",null==c?void 0:c.inputContainer),children:w.map((e,t)=>{var r,n,i;return(0,nF.jsx)("input",{id:`${T+t}`,type:m,value:e,autoComplete:g,placeholder:Array.isArray(p)?p[t]:p,inputMode:"numeric",onInput:e=>C(e,t),onKeyUp:e=>I(e,t),onPaste:O,className:nT("w3a--w-12 w3a--h-[42px] w3a--rounded-full w3a--border w3a--text-center w3a--text-xl w3a--focus:outline-none w3a--active:outline-none w3a--focus:border-app-primary-600 dark:w3a--focus:border-app-primary-500 w3a--border-app-gray-300 dark:w3a--border-app-gray-500 w3a--bg-app-gray-50 dark:w3a--bg-app-gray-700 w3a--text-app-gray-900 dark:w3a--text-app-white",a&&(null!==(r=null==c?void 0:c.success)&&void 0!==r?r:"w3a--border-app-green-400 dark:w3a--border-app-green-500 w3a--focus:w3a--border-app-green-400 dark:w3a--focus:w3a--border-app-green-500"),o&&(null!==(n=null==c?void 0:c.error)&&void 0!==n?n:"w3a--border-app-red-600 dark:w3a--border-app-red-500 w3a--focus:w3a--border-app-red-600 dark:w3a--focus:w3a--border-app-red-500"),s&&(null!==(i=null==c?void 0:c.disabled)&&void 0!==i?i:"w3a--border-app-gray-200 w3a--bg-app-gray-200 dark:w3a--border-app-gray-700 w3a--focus:w3a--border-app-gray-200 dark:w3a--focus:w3a--border-app-gray-700 w3a--cursor-not-allowed"),null==c?void 0:c.input),ref:e=>{S.current[t]=e},disabled:s},`${T+t}`)})}),l&&(0,nF.jsx)("p",{className:P,children:l}),t&&(0,nF.jsx)("div",{className:"w3a--mt-3",children:(0,nF.jsx)(oG,{})}),d&&!t&&(0,nF.jsx)("div",{className:nT("w3a--flex w3a--items-center w3a--mt-3",null==c?void 0:c.ctaContainer),children:E>0&&f?(0,nF.jsx)("span",{className:nT("w3a--text-xs w3a--text-app-gray-500 dark:w3a--text-app-gray-400",null==c?void 0:c.timerText),children:A("modal.resendTimer",{timer:E})}):(0,nF.jsx)("button",{type:"button",className:nT("w3a--text-xs w3a--p-0 w3a--text-app-primary-600 dark:w3a--text-app-primary-500",null==c?void 0:c.resendBtnText),onClick:()=>{x(r||0),u&&u()},disabled:E>0&&f,children:y||A("modal.resendCode")})})]})});function a_(e){let{setShowOtpFlow:t,handleOtpComplete:r,authConnection:n,loginHint:i="",errorMessage:o,otpLoading:a,countryFlag:s}=e,c=(0,rs.useMemo)(()=>n===g.Ck.SMS_PASSWORDLESS,[n]),[l]=i9(void 0,{i18n:or}),u=(0,rs.useMemo)(()=>{if(n===g.Ck.EMAIL_PASSWORDLESS)return i;let[e,t]=i.includes("-")?i.split("-"):["",i],r=`${t}`.slice(-Math.floor(t.length/2)).padStart(`${t}`.length,"*");return`${s} ${e} ${r}`},[i,n,s]);return(0,nF.jsxs)(nF.Fragment,{children:[(0,nF.jsx)("div",{className:"w3a--mr-auto w3a--flex w3a--w-full w3a--items-start w3a--justify-start",children:(0,nF.jsx)("button",{type:"button",className:"w3a--z-20 w3a--flex w3a--size-5 w3a--cursor-pointer w3a--items-center w3a--justify-center w3a--rounded-full",onClick:()=>t(!1),children:(0,nF.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",className:"w3a--text-app-gray-900 dark:w3a--text-app-white",children:(0,nF.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.707 16.707a1 1 0 0 1-1.414 0l-6-6a1 1 0 0 1 0-1.414l6-6a1 1 0 0 1 1.414 1.414L5.414 9H17a1 1 0 1 1 0 2H5.414l4.293 4.293a1 1 0 0 1 0 1.414",clipRule:"evenodd"})})})}),(0,nF.jsxs)("div",{className:"-w3a--mt-10 w3a--flex w3a--size-full w3a--flex-1 w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4",children:[(0,nF.jsx)("img",{src:nD(c?"sms-otp-light":"email-otp-light"),alt:"otp",className:"w3a--size-auto"}),(0,nF.jsxs)("div",{className:"w3a--mx-auto -w3a--mt-6 w3a--flex w3a--w-full w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-2",children:[(0,nF.jsx)("p",{className:"w3a--text-lg w3a--font-bold w3a--text-app-gray-900 dark:w3a--text-app-white",children:l(c?"modal.otp.mobile-title":"modal.otp.email-title")}),(0,nF.jsxs)("div",{className:"w3a--mx-auto w3a--flex w3a--w-full w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-1",children:[(0,nF.jsx)("p",{className:"w3a--text-center w3a--text-sm w3a--font-normal w3a--text-app-gray-500 dark:w3a--text-app-gray-300",children:l(c?"modal.otp.mobile-subtext":"modal.otp.email-subtext")}),(0,nF.jsx)("p",{className:"w3a--text-center w3a--text-sm w3a--font-normal w3a--text-app-gray-500 dark:w3a--text-app-gray-300",children:c?u:l("modal.otp.email-subtext-example",{email:u})})]})]}),(0,nF.jsx)(aS,{length:6,onComplete:r,error:!!o,helperText:o,loading:a,disabled:a})]})]})}function aI(e){let{otpLoading:t,setShowOtpFlow:r,handleOtpComplete:n,authConnection:i,loginHint:o,errorMessage:a,countryFlag:s}=e;return(0,nF.jsx)("div",{className:"w3a--flex w3a--size-full w3a--flex-1 w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4",children:(0,nF.jsx)(a_,{errorMessage:a,setShowOtpFlow:r,handleOtpComplete:n,authConnection:i,loginHint:o,otpLoading:t,countryFlag:s})})}function aC(e){let{isModalVisible:t,isPasswordLessCtaClicked:r,setIsPasswordLessCtaClicked:n,title:i,placeholder:o,handleFormSubmit:a,errorMessage:s,isDark:c,isPasswordLessLoading:l,buttonRadius:u}=e,[d]=i9(void 0,{i18n:or}),f=(0,rs.useRef)(null),[h,p]=(0,rs.useState)(""),[g,m]=(0,rs.useState)(!1),y=e=>{let{key:t}=e;"Enter"===t&&(a(h),m(!1))};return((0,rs.useEffect)(()=>{t||n(!1)},[t,n]),(0,rs.useEffect)(()=>{if(r){var e;null===(e=f.current)||void 0===e||e.focus()}},[r]),r)?(0,nF.jsxs)(nF.Fragment,{children:[(0,nF.jsxs)("div",{className:nT("w3a--input",g&&"!w3a--border-app-primary-600",{"w3a--rounded-full":"pill"===u,"w3a--rounded-lg":"rounded"===u,"w3a--rounded-none":"square"===u}),children:[(0,nF.jsx)("input",{ref:f,onInput:e=>{p(e.target.value),m(!0)},value:h,placeholder:o,onFocus:()=>{m(!0)},onBlur:e=>{e.target.placeholder=`${o}`,m(!1)},type:"text",className:nT("w3a--w-full w3a--appearance-none w3a--bg-transparent w3a--text-app-gray-900 w3a--outline-none placeholder:w3a--text-xs placeholder:w3a--text-app-gray-400 focus:w3a--outline-none active:w3a--outline-none dark:w3a--text-app-white dark:placeholder:w3a--text-app-gray-500"),onKeyDown:e=>y(e),disabled:l}),l&&(0,nF.jsx)(oG,{}),h&&!l&&(0,nF.jsx)("button",{type:"button",className:"w3a--appearance-none",onClick:e=>{e.preventDefault(),e.stopPropagation(),a(h),m(!1)},children:(0,nF.jsx)("img",{src:nD(c?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})})]}),s&&!g&&r&&(0,nF.jsx)("p",{className:"w3a--w-full w3a--pl-6 w3a--text-start w3a--text-xs w3a--font-normal w3a--text-app-red-500 dark:w3a--text-app-red-400",children:s})]}):(0,nF.jsxs)("button",{type:"button",className:nT("w3a--btn !w3a--justify-between w3a--relative w3a--group w3a--overflow-hidden",{"w3a--rounded-full":"pill"===u,"w3a--rounded-lg":"rounded"===u,"w3a--rounded-none":"square"===u}),onClick:()=>{n(!0)},children:[(0,nF.jsx)("p",{className:"w3a--text-app-gray-900 dark:w3a--text-app-white",children:d("modal.passwordless.title",{title:i})}),(0,nF.jsx)("img",{id:"passwordless-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-6 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:nD(c?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})}aS.displayName="OtpInput";let aO=[g.Ck.SMS_PASSWORDLESS,g.Ck.EMAIL_PASSWORDLESS,g.Ck.AUTHENTICATOR,g.Ck.PASSKEYS,g.Ck.TELEGRAM,g.Ck.CUSTOM];function aP(e){let{web3authClientId:t,web3authNetwork:r,authBuildEnv:n,appLogo:i,isModalVisible:a,handleSocialLoginHeight:s,socialLoginsConfig:l,installedExternalWalletConfig:u,isDark:d,handleSocialLoginClick:f,totalExternalWallets:h,remainingUndisplayedWallets:p,isEmailPasswordLessLoginVisible:m,isSmsPasswordLessLoginVisible:y,handleExternalWalletBtnClick:b,handleExternalWalletClick:w,areSocialLoginsVisible:v,showPasswordLessInput:E,showExternalWalletButton:x,showExternalWalletCount:A,showInstalledExternalWallets:S,logoAlignment:_="center",buttonRadius:I="pill",deviceDetails:C}=e,[O]=i9(void 0,{i18n:or}),{bodyState:P,setBodyState:T}=(0,rs.useContext)(i7),{analytics:k}=(0,rs.useContext)(oi),[N,M]=(0,rs.useState)(""),[R,D]=(0,rs.useState)(""),[L,B]=(0,rs.useState)(""),[U,j]=(0,rs.useState)(""),[$,F]=(0,rs.useState)(!1),[z,G]=(0,rs.useState)(!1),[H,V]=(0,rs.useState)([]),[W,Z]=(0,rs.useState)([]),[K,Y]=(0,rs.useState)([]),[J,X]=(0,rs.useState)(!1),[Q,ee]=(0,rs.useState)(!1),[et,er]=(0,rs.useState)(void 0),[en,ei]=(0,rs.useState)(void 0),[eo,ea]=(0,rs.useState)(!1),[es,ec]=(0,rs.useState)(!1),[el,eu]=(0,rs.useState)(!1),[ed,ef]=(0,rs.useState)(""),eh=(0,rs.useRef)(null),ep=()=>{F(e=>!e),X(!1),s()};(0,rs.useEffect)(()=>{let e=Object.keys(l.loginMethods).filter(e=>l.loginMethods[e].showOnModal&&!aO.includes(e)),t=[],r=[],n=[],i=(l.loginMethodsOrder||[]).reduce((e,t,r)=>(e[t]=r,e),{}),o=Object.keys(l.loginMethods).filter(e=>!1==!l.loginMethods[e].showOnModal&&!aO.includes(e)).sort((e,t)=>{var r,n;let o=(l.loginMethodsOrder||[]).length,a=null!==(r=i[e])&&void 0!==r?r:o,s=null!==(n=i[t])&&void 0!==n?n:o,{mainOption:c}=l.loginMethods[e]||{},{mainOption:u}=l.loginMethods[t]||{};return c&&u?a-s:c?-1:u?1:a-s});o.forEach((e,i)=>{var a;let s=l.loginMethods[e],c=t1(s.name||e),u=i+1,f=(null==l||null===(a=l.uiConfig)||void 0===a?void 0:a.primaryButton)==="socialLogin"&&1===u,h=s.mainOption,p=o.length,g=p>=4?u>0&&u<=p:u>0&&u<4,m={description:s.description||"",method:e,isDark:d,isPrimaryBtn:f,name:"Twitter"===c?"X":c,connector:l.connector,loginParams:{authConnection:s.authConnection||e,authConnectionId:s.authConnectionId,groupedAuthConnectionId:s.groupedAuthConnectionId,extraLoginOptions:s.extraLoginOptions,name:c,login_hint:""},order:u};h?n.push(m):g&&t.push(m),r.push(m)}),V(t),Z(r),Y(n),G(e.length>4)},[l,d,I]);let eg=async(e,i)=>{try{let a;let s=aw(e,{loginHint:i,web3authClientId:t,network:r,uiConfig:l.uiConfig,authConnection:e,authBuildEnv:n});if(!av(e,i)){var o;let e=await (null===(o=eh.current)||void 0===o?void 0:o.execute({async:!0}));if(!e)throw tO.RM.connectionError("Captcha token is required");a=e.response}let c=await s.sendVerificationCode({captchaToken:a});if(null!=c&&c.error){B(O(c.error));return}er(e),ee(!0),ei(s)}catch(e){tP.c.error(e)}finally{ea(!1)}},em=async e=>{if(ea(!0),m&&e.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i)){let t=l.loginMethods[g.Ck.EMAIL_PASSWORDLESS];return t.isDefault?f({connector:l.connector,loginParams:{authConnection:g.Ck.EMAIL_PASSWORDLESS,authConnectionId:t.authConnectionId,groupedAuthConnectionId:t.groupedAuthConnectionId,extraLoginOptions:t.extraLoginOptions,loginHint:e,name:"Email"}}):eg(g.Ck.EMAIL_PASSWORDLESS,e)}if(y){let t=e.startsWith("+")?e:`${N}${e}`,r=await nU(t);if(r.success){let e="string"==typeof r.parsed_number?r.parsed_number:t,n=l.loginMethods[g.Ck.SMS_PASSWORDLESS];return n.isDefault?f({connector:l.connector,loginParams:{authConnection:g.Ck.SMS_PASSWORDLESS,authConnectionId:n.authConnectionId,groupedAuthConnectionId:n.groupedAuthConnectionId,extraLoginOptions:n.extraLoginOptions,loginHint:e,name:"Mobile"}}):(D(r.country_flag),eg(g.Ck.SMS_PASSWORDLESS,e))}}B(ew),ea(!1)},ey=(0,rs.useMemo)(()=>m&&y?O("modal.social.passwordless-title"):m?O("modal.social.email"):O("modal.social.phone"),[m,y,O]),eb=(0,rs.useMemo)(()=>m&&y?"+(00)123456/name@example.com":m?"name@example.com":"+(00)123456",[m,y]),ew=(0,rs.useMemo)(()=>m&&y?O("modal.errors-invalid-number-email"):m?O("modal.errors-invalid-email"):O("modal.errors-invalid-number"),[m,y,O]);(0,rs.useEffect)(()=>{let e=async()=>{let e=await nB();e&&e.dialCode&&M(e.dialCode)};y&&e()},[y]);let ev=async e=>{ec(!0),U&&j("");try{var t,r;let n=l.loginMethods[et],i=await (null==en?void 0:en.verifyCode(e));if(null!=i&&i.error){j(O(i.error));return}if(null!=i&&null!==(t=i.data)&&void 0!==t&&t.id_token)return f({connector:l.connector,loginParams:{authConnection:et,authConnectionId:n.authConnectionId,groupedAuthConnectionId:n.groupedAuthConnectionId,extraLoginOptions:(0,c.Z)((0,c.Z)({},n.extraLoginOptions),{},{id_token:null===(r=i.data)||void 0===r?void 0:r.id_token}),loginHint:en.passwordlessParams.loginHint,name:en.name}})}catch(e){tP.c.error(e)}finally{ec(!1)}},eE=e=>{var t;if(null==k||k.track(q.dW.EXTERNAL_WALLET_SELECTED,{connector:e.name,wallet_name:e.displayName,is_installed:e.isInstalled,is_injected:e.hasInjectedWallet,chain_namespaces:e.chainNamespaces,has_wallet_connect:e.hasWalletConnect,has_install_links:e.hasInstallLinks,has_wallet_registry_item:!!e.walletRegistryItem,total_external_wallets:h}),tP.c.info("handleInstalledWalletClick",e),e.name===o.tp.METAMASK&&!e.hasInjectedWallet&&"desktop"===C.platform){w({connector:e.name}),T((0,c.Z)((0,c.Z)({},P),{},{metamaskQrCode:{show:!0,wallet:e}}));return}(null===(t=e.chainNamespaces)||void 0===t?void 0:t.length)>1?T((0,c.Z)((0,c.Z)({},P),{},{multiChainSelector:{show:!0,wallet:e}})):w({connector:e.name})},ex=(0,rs.useMemo)(()=>S?u:u.filter(e=>e.name===o.tp.METAMASK),[u,S]),eA=(0,rs.useCallback)(e=>{null==k||k.track(q.dW.EXTERNAL_WALLET_LIST_EXPANDED,{total_external_wallets:h,installed_external_wallets:ex.length}),X(!1),null==e||e.preventDefault(),b&&b(!0)},[k,b,ex.length,h]);if((0,rs.useEffect)(()=>{!x||v||E||eA()},[x,v,E,eA]),Q)return(0,nF.jsx)(aI,{otpLoading:es,loginHint:null==en?void 0:en.passwordlessParams.loginHint,setShowOtpFlow:ee,authConnection:et,handleOtpComplete:ev,errorMessage:U,countryFlag:R});let eS=(e=[])=>(0,nF.jsx)(aA,{otherRow:e,isDark:d,visibleRow:H,canShowMore:z,mainOptionsRow:K,handleSocialLoginClick:f,socialLoginsConfig:l,handleExpandSocialLogins:ep,buttonRadius:I},"social-login-section"),e_=()=>(0,nF.jsx)(aC,{isModalVisible:a,isPasswordLessCtaClicked:J,setIsPasswordLessCtaClicked:X,title:ey,placeholder:eb,handleFormSubmit:em,errorMessage:L,isDark:d,buttonRadius:I,isPasswordLessLoading:eo},"passwordless-section"),eI=()=>(0,nF.jsxs)("div",{className:nT("w3a--flex w3a--w-full w3a--flex-col w3a--items-start w3a--justify-start w3a--gap-y-2"),children:[ex.length>0&&ex.map(e=>(0,nF.jsxs)("button",{type:"button",className:nT("w3a--btn !w3a--justify-between w3a--group w3a--relative w3a--overflow-hidden",{"w3a--rounded-full":"pill"===I,"w3a--rounded-lg":"rounded"===I,"w3a--rounded-none":"square"===I}),onClick:()=>eE(e),children:[(0,nF.jsx)("p",{className:"w3a--max-w-[180px] w3a--truncate w3a--text-base w3a--font-normal w3a--text-app-gray-700 dark:w3a--text-app-white",children:e.displayName}),(0,nF.jsxs)("div",{className:"w3a--absolute w3a--right-4 w3a--top-1/2 w3a--flex w3a--w-auto -w3a--translate-y-1/2 w3a--items-center w3a--gap-x-2 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-6 group-hover:w3a--opacity-0",children:[e.hasInjectedWallet&&(0,nF.jsx)("span",{className:"w3a--inline-flex w3a--items-center w3a--rounded-md w3a--bg-app-primary-100 w3a--px-2 w3a--py-1 w3a--text-xs w3a--font-medium w3a--text-app-primary-800  dark:w3a--border dark:w3a--border-app-primary-400 dark:w3a--bg-transparent dark:w3a--text-app-primary-400",children:O("modal.external.installed")}),(0,nF.jsx)("figure",{className:"w3a--size-5",children:(0,nF.jsx)(oc,{imageData:e.icon,imageId:`login-${e.name}`,hoverImageId:`login-${e.name}`,fallbackImageId:"wallet",height:"24",width:"24",isButton:!0,extension:e.imgExtension||"webp"})})]}),(0,nF.jsx)("img",{id:"injected-wallet-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-10 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:nD(d?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]},e.name)),p>0&&(0,nF.jsxs)("button",{type:"button",className:nT("w3a--btn !w3a--justify-between w3a--group w3a--relative w3a--overflow-hidden",{"w3a--rounded-full":"pill"===I,"w3a--rounded-lg":"rounded"===I,"w3a--rounded-none":"square"===I}),onClick:eA,children:[(0,nF.jsx)("p",{className:"w3a--text-base w3a--font-normal w3a--text-app-gray-900 dark:w3a--text-app-white",children:O("modal.external.all-wallets")}),A&&(0,nF.jsx)("div",{id:"external-wallet-count",className:"w3a--absolute w3a--right-4 w3a--top-1/2 w3a--w-auto -w3a--translate-y-1/2 w3a--rounded-full w3a--bg-app-primary-100 w3a--px-2.5 w3a--py-0.5 w3a--text-xs w3a--font-medium w3a--text-app-primary-800 w3a--transition-all w3a--delay-300 w3a--duration-300 group-hover:w3a--translate-x-6 group-hover:w3a--opacity-0 group-hover:w3a--delay-0 dark:w3a--border dark:w3a--border-app-primary-500 dark:w3a--bg-transparent dark:w3a--text-app-primary-500",children:p}),(0,nF.jsx)("img",{id:"external-wallet-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-10 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:nD(d?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})]},"external-wallets-section"),eC=[rd,ru].includes(i)?"":i,eO=e=>(0,nF.jsxs)("div",{className:nT("w3a--flex w3a--w-full w3a--items-center w3a--gap-x-2",eC?"w3a--my-2":"w3a--my-4"),children:[(0,nF.jsx)("div",{className:"w3a--h-px w3a--w-full w3a--bg-app-gray-200 dark:w3a--bg-app-gray-500"}),(0,nF.jsx)("p",{className:"w3a--text-xs w3a--font-normal w3a--uppercase w3a--text-app-gray-400 dark:w3a--text-app-gray-400",children:"or"}),(0,nF.jsx)("div",{className:"w3a--h-px w3a--w-full w3a--bg-app-gray-200 dark:w3a--bg-app-gray-500"})]},`section-delimiter-${e}`);return(0,nF.jsxs)("div",{className:"w3a--flex w3a--flex-col w3a--items-center w3a--gap-y-4 w3a--p-2",children:[(0,nF.jsxs)("div",{className:nT("w3a--flex w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-2 w3a--pt-6","center"===_?"":"w3a--w-full"),children:[eC&&(0,nF.jsx)("figure",{className:nT("w3a--mx-auto w3a--h-12 w3a--w-[200px]","center"===_?"w3a--flex w3a--justify-center w3a--items-center":"w3a--ml-0 w3a--w-auto"),children:(0,nF.jsx)("img",{src:eC,alt:"Logo",className:"w3a--size-full w3a--object-contain"})}),(0,nF.jsx)("p",{className:nT("w3a--text-app-gray-900 dark:w3a--text-app-white","center"===_?"w3a--text-center":"w3a--text-left w3a--w-full w3a--ml-4",eC?"w3a--text-lg w3a--font-semibold":"w3a--text-3xl w3a--font-medium"),children:O("modal.social.sign-in")})]}),(0,nF.jsx)(ag,{ref:eh,sitekey:"d5f0c15c-eeda-4f9c-934a-d8e0348e83b2",size:"invisible",languageOverride:l.uiConfig.defaultLanguage,theme:l.uiConfig.theme,onOpen:()=>eu(!0),onClose:()=>eu(!1),onError:()=>ef("passwordless.captcha-default-error"),onChalExpired:()=>ef("passwordless.captcha-default-error")}),ed&&el&&(0,nF.jsx)("p",{className:"-w3a--mt-2 w3a--w-full w3a--pl-6 w3a--text-start w3a--text-xs w3a--font-normal w3a--text-app-red-500 dark:w3a--text-app-red-400",children:O(ed)}),!el&&(0,nF.jsxs)("div",{className:"w3a--flex w3a--w-full w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-2",children:[!$&&(()=>{var e;let t={social:eS,passwordless:e_,externalWallets:eI},r={social:v,passwordless:E,externalWallets:x},n=(null===(e=l.uiConfig)||void 0===e?void 0:e.signInMethods)||["social","passwordless","externalWallets"];Object.entries(r).forEach(([e,t])=>{t&&!n.includes(e)&&n.push(e)});let i=n.map(e=>r[e]&&t[e]()).filter(Boolean);if(3===i.length){let e=n.findIndex(e=>"externalWallets"===e);0===e?i.splice(1,0,eO(1)):1===e?(i.splice(1,0,eO(1)),i.splice(3,0,eO(2))):2===e&&i.splice(2,0,eO(1))}else 2===i.length&&r.externalWallets&&i.splice(1,0,eO(1));return i})(),$&&eS(W)]})]})}let aT=()=>{let{toast:e,setToast:t}=(0,rs.useContext)(i7);return((0,rs.useEffect)(()=>{e.message&&setTimeout(()=>{t({message:"",type:t9.SUCCESS})},3e3)},[e.message,t]),e.message)?(0,nF.jsxs)("div",{className:`w3a--absolute w3a--inset-x-4 w3a--bottom-4 w3a--z-[60] w3a--mx-auto w3a--w-[90%] w3a--rounded-md w3a--border w3a--p-4 w3a--text-sm ${{success:"w3a--border-app-green-200 w3a--bg-app-green-100 w3a--text-app-green-900",error:"w3a--border-app-red-200 w3a--bg-app-red-100 w3a--text-app-red-900",warning:"w3a--border-app-yellow-200 w3a--bg-app-yellow-100 w3a--text-app-yellow-900",info:"w3a--border-app-blue-200 w3a--bg-app-blue-100 w3a--text-app-blue-900"}[e.type]}`,children:[(0,nF.jsx)("div",{className:"w3a--absolute w3a--right-4 w3a--top-4 w3a--z-10 w3a--cursor-pointer",children:(0,nF.jsx)("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:()=>t({message:"",type:t9.SUCCESS}),className:{success:"w3a--text-app-green-900",error:"w3a--text-app-red-900",warning:"w3a--text-app-yellow-900",info:"w3a--text-app-blue-900"}[e.type],children:(0,nF.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.292787 1.29299C0.480314 1.10552 0.734622 1.0002 0.999786 1.0002C1.26495 1.0002 1.51926 1.10552 1.70679 1.29299L5.99979 5.58599L10.2928 1.29299C10.385 1.19748 10.4954 1.1213 10.6174 1.06889C10.7394 1.01648 10.8706 0.988893 11.0034 0.987739C11.1362 0.986585 11.2678 1.01189 11.3907 1.06217C11.5136 1.11245 11.6253 1.1867 11.7192 1.28059C11.8131 1.37449 11.8873 1.48614 11.9376 1.60904C11.9879 1.73193 12.0132 1.86361 12.012 1.99639C12.0109 2.12917 11.9833 2.26039 11.9309 2.38239C11.8785 2.5044 11.8023 2.61474 11.7068 2.70699L7.41379 6.99999L11.7068 11.293C11.8889 11.4816 11.9897 11.7342 11.9875 11.9964C11.9852 12.2586 11.88 12.5094 11.6946 12.6948C11.5092 12.8802 11.2584 12.9854 10.9962 12.9877C10.734 12.9899 10.4814 12.8891 10.2928 12.707L5.99979 8.41399L1.70679 12.707C1.51818 12.8891 1.26558 12.9899 1.00339 12.9877C0.741188 12.9854 0.490376 12.8802 0.304968 12.6948C0.11956 12.5094 0.0143906 12.2586 0.0121121 11.9964C0.00983372 11.7342 0.110629 11.4816 0.292787 11.293L4.58579 6.99999L0.292787 2.70699C0.105316 2.51946 0 2.26515 0 1.99999C0 1.73483 0.105316 1.48052 0.292787 1.29299V1.29299Z",fill:"currentColor"})})}),(0,nF.jsx)("div",{className:"w3a--flex w3a--items-center w3a--gap-2",children:(0,nF.jsx)("p",{children:e.message})})]}):null};function ak(e){var t,r,n,i,a,s,l;let{setModalState:u,modalState:d,handleExternalWalletBtnClick:f,handleMobileVerifyConnect:h,chainNamespaces:p,walletRegistry:g,appLogo:m,onCloseLoader:y,handleSocialLoginClick:b,showPasswordLessInput:w,showExternalWalletButton:v,socialLoginsConfig:E,areSocialLoginsVisible:x,isEmailPrimary:A,isExternalPrimary:S,showExternalWalletPage:_,isEmailPasswordLessLoginVisible:I,isSmsPasswordLessLoginVisible:C,preHandleExternalWalletClick:O,uiConfig:P,deviceDetails:T,isConnectAndSignAuthenticationMode:k}=e,{logoAlignment:N="center",buttonRadiusType:M="pill",privacyPolicy:R="",tncLink:D="",displayInstalledExternalWallets:L=!0,displayExternalWalletsCount:B=!0}=P,[U]=i9(void 0,{i18n:or}),{isDark:j}=(0,rs.useContext)(oe),[$,F]=(0,rs.useState)({metamaskQrCode:{show:!1,wallet:null},installLinks:{show:!1,wallet:null},multiChainSelector:{show:!1,wallet:null}}),[z,q]=(0,rs.useState)({message:"",type:t9.SUCCESS}),[G,H]=(0,rs.useState)(!1),[V,W]=(0,rs.useState)(!1),Z=(0,rs.useMemo)(()=>!w&&!x,[x,w]),K=(0,rs.useMemo)(()=>{var e;if("desktop"===T.platform)return[];let t=(null===(e=$.installLinks)||void 0===e||null===(e=e.wallet)||void 0===e||null===(e=e.walletRegistryItem)||void 0===e?void 0:e.app)||{};return Object.keys(t).reduce((e,r)=>{if(!["android","ios"].includes(r))return e;let n=t[r];if(!n)return e;let i=nN(r,n);if(!i)return e;let o=`${r}-light`,a=`${r}-dark`;return e.push((0,nF.jsx)("li",{className:"w3a--w-full",children:(0,nF.jsx)("a",{href:i,rel:"noopener noreferrer",target:"_blank",children:(0,nF.jsxs)("button",{type:"button",className:nT("w3a--group w3a--relative w3a--overflow-hidden w3a--h-11 w3a--flex w3a--w-full w3a--items-center w3a--justify-start w3a--gap-x-2 w3a--border w3a--border-app-gray-200 w3a--bg-app-gray-50 w3a--px-5 w3a--py-2.5 hover:w3a--translate-y-[0.5px] hover:w3a--border-app-gray-50 dark:w3a--border-app-gray-500 dark:w3a--bg-app-gray-800 dark:hover:w3a--border-app-gray-800",{"w3a--rounded-full":"pill"===M,"w3a--rounded-lg":"rounded"===M,"w3a--rounded-none":"square"===M}),children:[(0,nF.jsx)(oc,{imageId:o,darkImageId:a,hoverImageId:o,darkHoverImageId:a,height:"28",width:"28",isButton:!0}),(0,nF.jsx)("span",{className:"w3a--text-sm w3a--font-medium w3a--text-app-gray-900 dark:w3a--text-app-white",children:U("modal.external.install-mobile-app",{os:nM(r)})}),(0,nF.jsx)("img",{id:"install-links-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-6 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:nD(j?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})})},i)),e},[])},[null===(t=$.installLinks)||void 0===t||null===(t=t.wallet)||void 0===t||null===(t=t.walletRegistryItem)||void 0===t?void 0:t.app,T.platform,j,U,M]),Y=(0,rs.useMemo)(()=>{var e;if("desktop"!==T.platform)return[];let t="brave"===T.browser?"chrome":T.browser,r=(null===(e=$.installLinks)||void 0===e||null===(e=e.wallet)||void 0===e||null===(e=e.walletRegistryItem)||void 0===e?void 0:e.app)||{},n=r.browser&&r.browser.includes(t)?r.browser:void 0,i=r[t]||n,o=i?nk(t,i):null;return[o?(0,nF.jsx)("li",{children:(0,nF.jsx)("a",{href:o,rel:"noopener noreferrer",target:"_blank",children:(0,nF.jsxs)("button",{type:"button",className:nT("w3a--group w3a--relative w3a--overflow-hidden w3a--h-11 w3a--flex w3a--w-full w3a--items-center w3a--justify-start w3a--gap-x-2 w3a--border w3a--border-app-gray-200 w3a--bg-app-gray-50 w3a--px-5 w3a--py-2.5 hover:w3a--translate-y-[0.5px] hover:w3a--border-app-gray-50 dark:w3a--border-app-gray-500 dark:w3a--bg-app-gray-800 dark:hover:w3a--border-app-gray-800",{"w3a--rounded-full":"pill"===M,"w3a--rounded-lg":"rounded"===M,"w3a--rounded-none":"square"===M}),children:[(0,nF.jsx)(oc,{imageId:T.browser,darkImageId:T.browser,hoverImageId:T.browser,darkHoverImageId:T.browser,height:"30",width:"30",isButton:!0}),(0,nF.jsx)("span",{className:"w3a--text-sm w3a--font-medium w3a--text-app-gray-900 dark:w3a--text-app-white",children:U("modal.external.install-browser-extension",{browser:nR(T.browser)})}),(0,nF.jsx)("img",{id:"install-links-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-6 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:nD(j?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})})},o):null,...K]},[null===(r=$.installLinks)||void 0===r||null===(r=r.wallet)||void 0===r||null===(r=r.walletRegistryItem)||void 0===r?void 0:r.app,T.browser,T.platform,j,K,M,U]),J=(0,rs.useMemo)(()=>d.externalWalletsConfig,[d.externalWalletsConfig]),X=(0,rs.useMemo)(()=>{let e={};return Object.keys(J).forEach(t=>{var r;e[t]=!!(null===(r=J[t])||void 0===r?void 0:r.showOnModal)}),e},[J]),Q=(0,rs.useMemo)(()=>Object.keys((null==g?void 0:g.default)||{}).length>0||Object.keys((null==g?void 0:g.others)||{}).length>0,[g]),ee=(0,rs.useCallback)(e=>Object.keys(e).reduce((t,r)=>{var n,i,o,a,s;if(!1===X[r])return t;let c=e[r],l="";if("desktop"!==T.platform){let e=null==c||null===(a=c.mobile)||void 0===a?void 0:a.universal,t=null==c||null===(s=c.mobile)||void 0===s?void 0:s.native;l=e||t}let u=J[r],d=(null==u?void 0:u.chainNamespaces)||[],f=new Set(null===(n=c.chains)||void 0===n?void 0:n.map(e=>e.split(":")[0])),h=new Set(null===(i=c.injected)||void 0===i?void 0:i.map(e=>e.namespace)),g=p.filter(e=>f.has(e)||h.has(e)||d.includes(e)),m={name:r,displayName:c.name,href:l,hasInjectedWallet:(null==u?void 0:u.isInjected)||!1,isInstalled:!!u,hasWalletConnect:Q&&(null===(o=c.walletConnect)||void 0===o||null===(o=o.sdks)||void 0===o?void 0:o.includes("sign_v2")),hasInstallLinks:Object.keys(c.app||{}).length>0,walletRegistryItem:c,imgExtension:c.imgExtension||"svg",icon:null==u?void 0:u.icon,chainNamespaces:g};return(m.hasInjectedWallet||m.hasWalletConnect||m.hasInstallLinks)&&0!==g.length&&t.push(m),t},[]),[X,p,J,T.platform,Q]),et=(0,rs.useMemo)(()=>[...ee(g.default),...ee(g.others)],[ee,g.default,g.others]),er=(0,rs.useMemo)(()=>{let e=Object.keys(J).reduce((e,t)=>{if(t===o.tp.WALLET_CONNECT_V2||!X[t])return e;let r=J[t];return e.push({name:t,displayName:(null==r?void 0:r.label)||t,hasInjectedWallet:(null==r?void 0:r.isInjected)||!1,isInstalled:!0,hasWalletConnect:!1,hasInstallLinks:!1,icon:null==r?void 0:r.icon,chainNamespaces:(null==r?void 0:r.chainNamespaces)||[]}),e},[]),t=e.findIndex(e=>e.name===o.tp.METAMASK&&!e.hasInjectedWallet);if(-1!==t){let r=e[t],n=et.find(e=>e.name===o.tp.METAMASK);n||(n=ee({[o.tp.METAMASK]:rf})[0]),n&&e.splice(t,1,(0,c.Z)((0,c.Z)({},n),{},{chainNamespaces:r.chainNamespaces,isInstalled:!0}))}return e},[et,J,X,ee]),en=(0,rs.useMemo)(()=>er.filter(e=>!e.hasInjectedWallet),[er]),ei=(0,rs.useMemo)(()=>er.sort((e,t)=>e.name===o.tp.METAMASK?-1:1).slice(0,L?3:1),[er,L]),eo=(0,rs.useMemo)(()=>{let e=new Set;return er.concat(et).filter(t=>!e.has(t.name)&&(e.add(t.name),!0))},[et,er]),ea=(0,rs.useMemo)(()=>eo.filter(e=>!ei.includes(e)).length,[eo,ei]),es=(0,rs.useMemo)(()=>{var e;let t=R||D;if(d.status!==t4.INITIALIZED)return"530px";if(V||null!==(e=$.metamaskQrCode)&&void 0!==e&&e.show)return t?"640px":"588px";if(d.currentPage===rc.CONNECT_WALLET)return t?"640px":"580px";if(G)return t?"644px":"588px";if(1===ei.length)return t?"560px":"530px";if(ei.length>1){let e=500+(ei.length-1)*58;return t?`${e+60}px`:`${e+16}px`}return"539px"},[R,D,d.status,d.currentPage,V,null===(n=$.metamaskQrCode)||void 0===n?void 0:n.show,G,ei.length]),ec=(0,rs.useMemo)(()=>({bodyState:$,setBodyState:F,toast:z,setToast:q}),[$,F,z,q]),el=(0,rs.useMemo)(()=>d.status!==t4.INITIALIZED,[d.status]);return(0,nF.jsx)(i7.Provider,{value:ec,children:(0,nF.jsxs)("div",{className:"w3a--relative w3a--flex w3a--flex-col",children:[(0,nF.jsxs)("div",{className:"w3a--relative w3a--h-screen w3a--overflow-hidden w3a--transition-all w3a--duration-[400ms] w3a--ease-in-out",style:{maxHeight:es},children:[(0,nF.jsx)("div",{className:"w3a--modal-curtain"}),(0,nF.jsxs)("div",{className:"w3a--relative w3a--flex w3a--h-full w3a--flex-1 w3a--flex-col w3a--p-6",children:[el?(0,nF.jsx)(oK,{connector:d.detailedLoaderConnector,connectorName:d.detailedLoaderConnectorName,modalStatus:d.status,onClose:y,appLogo:m,isConnectAndSignAuthenticationMode:k,externalWalletsConfig:d.externalWalletsConfig,walletRegistry:g,handleMobileVerifyConnect:h}):(0,nF.jsx)(nF.Fragment,{children:null!==(i=$.metamaskQrCode)&&void 0!==i&&i.show?(0,nF.jsxs)("div",{className:"w3a--relative w3a--flex w3a--flex-1 w3a--flex-col w3a--gap-y-4",children:[(0,nF.jsx)(oa,{onBackClick:()=>F((0,c.Z)((0,c.Z)({},$),{},{metamaskQrCode:{show:!1,wallet:null}})),currentPage:rl.SELECTED_WALLET,selectedButton:$.metamaskQrCode.wallet}),(0,nF.jsx)(oB,{qrCodeValue:d.metamaskConnectUri,isDark:j,selectedButton:$.metamaskQrCode.wallet,primaryColor:null===(a=$.metamaskQrCode.wallet.walletRegistryItem)||void 0===a?void 0:a.primaryColor,logoImage:`https://images.web3auth.io/login-${$.metamaskQrCode.wallet.name}.${$.metamaskQrCode.wallet.imgExtension}`})]}):(0,nF.jsxs)(nF.Fragment,{children:[d.currentPage===rc.LOGIN&&_&&d.status===t4.INITIALIZED&&(0,nF.jsx)(aP,{web3authClientId:d.web3authClientId,web3authNetwork:d.web3authNetwork,authBuildEnv:d.authBuildEnv,isModalVisible:d.modalVisibility,isDark:j,appLogo:m,showPasswordLessInput:w,showExternalWalletButton:v,showExternalWalletCount:B,showInstalledExternalWallets:L,socialLoginsConfig:E,areSocialLoginsVisible:x,isEmailPrimary:A,isExternalPrimary:S,installedExternalWalletConfig:ei,isEmailPasswordLessLoginVisible:I,isSmsPasswordLessLoginVisible:C,totalExternalWallets:eo.length,remainingUndisplayedWallets:ea,logoAlignment:N,buttonRadius:M,deviceDetails:T,handleSocialLoginClick:b,handleExternalWalletBtnClick:e=>{u((0,c.Z)((0,c.Z)({},d),{},{currentPage:rc.CONNECT_WALLET})),f&&f(e)},handleSocialLoginHeight:()=>{H(e=>!e)},handleExternalWalletClick:O}),d.currentPage===rc.CONNECT_WALLET&&!_&&d.status===t4.INITIALIZED&&(0,nF.jsx)(oj,{isDark:j,walletConnectUri:d.walletConnectUri,metamaskConnectUri:d.metamaskConnectUri,config:d.externalWalletsConfig,walletRegistry:g,allRegistryButtons:et,connectorVisibilityMap:X,customConnectorButtons:en,deviceDetails:T,chainNamespace:p,buttonRadius:M,handleWalletDetailsHeight:()=>{W(e=>!e)},isExternalWalletModeOnly:Z,onBackClick:e=>{u((0,c.Z)((0,c.Z)({},d),{},{currentPage:rc.LOGIN})),f&&f(e)},handleExternalWalletClick:O})]})}),(0,nF.jsx)(oF,{privacyPolicy:R,termsOfService:D}),(null===(s=$.multiChainSelector)||void 0===s?void 0:s.show)&&(0,nF.jsx)(on,{uiConfig:P,isShown:$.multiChainSelector.show,onClose:()=>F((0,c.Z)((0,c.Z)({},$),{},{multiChainSelector:{show:!1,wallet:null}})),children:(0,nF.jsx)(o$,{isDark:j,wallet:$.multiChainSelector.wallet,handleExternalWalletClick:e=>{O(e),F((0,c.Z)((0,c.Z)({},$),{},{multiChainSelector:{show:!1,wallet:null}}))}})}),(null===(l=$.installLinks)||void 0===l?void 0:l.show)&&(0,nF.jsxs)(on,{uiConfig:P,isShown:$.installLinks.show,onClose:()=>F((0,c.Z)((0,c.Z)({},$),{},{installLinks:{show:!1,wallet:null}})),children:[(0,nF.jsx)("p",{className:"w3a--mb-2 w3a--text-center w3a--text-base w3a--font-semibold w3a--text-app-gray-900 dark:w3a--text-app-white",children:U("modal.getWallet")}),(0,nF.jsx)("div",{className:"w3a--my-4 w3a--flex w3a--justify-center",children:(0,nF.jsx)(oc,{imageId:`login-${$.installLinks.wallet.name}`,hoverImageId:`login-${$.installLinks.wallet.name}`,fallbackImageId:"wallet",height:"80",width:"80",isButton:!0,extension:$.installLinks.wallet.imgExtension})}),(0,nF.jsx)("ul",{className:"w3a--flex w3a--flex-col w3a--gap-y-2",children:"desktop"===T.platform?Y:K})]})]})]}),(0,nF.jsx)(aT,{})]})})}function aN(e){let{stateListener:t,handleSocialLoginClick:r,handleExternalWalletClick:n,handleMobileVerifyConnect:i,handleShowExternalWallets:a,closeModal:s,appLogo:l,appName:u,chainNamespaces:d,walletRegistry:f,uiConfig:h,deviceDetails:p,initialAuthenticationMode:m}=e,{widgetType:y}=h,b=(0,rs.useMemo)(()=>y===U.Lc.EMBED,[y]),[w,v]=(0,rs.useState)({externalWalletsVisibility:!1,status:t4.INITIALIZED,hasExternalWallets:!1,externalWalletsInitialized:!1,modalVisibility:!1,modalVisibilityDelayed:!1,postLoadingMessage:"",walletConnectUri:"",metamaskConnectUri:"",socialLoginsConfig:{loginMethods:{},loginMethodsOrder:[],connector:"",uiConfig:{}},externalWalletsConfig:{},showExternalWalletsOnly:!1,currentPage:rc.LOGIN,detailedLoaderConnector:"",detailedLoaderConnectorName:"",web3authClientId:"",web3authNetwork:tQ.SAPPHIRE_MAINNET,authBuildEnv:t0.PRODUCTION}),E=(0,rs.useMemo)(()=>m===G.Hd.CONNECT_AND_SIGN,[m]);(0,rs.useEffect)(()=>{v(e=>(0,c.Z)((0,c.Z)({},e),{},{modalVisibility:b}))},[b]),(0,rs.useEffect)(()=>{t.on("STATE_UPDATED",e=>{tP.c.debug("state updated",e),v(t=>tk(B()(t,e,{arrayMerge:(e,t)=>t})))}),t.emit("MOUNTED")},[t]);let x=e=>{let{connector:t}=e;v(e=>(0,c.Z)((0,c.Z)({},e),{},{detailedLoaderConnector:t,detailedLoaderConnectorName:o.AH[t]})),n&&n(e)},A=e=>{let{loginParams:t}=e;v(e=>(0,c.Z)((0,c.Z)({},e),{},{detailedLoaderConnector:t.authConnection,detailedLoaderConnectorName:t.name})),r(e)},S=(0,rs.useMemo)(()=>{var e,t;return!w.showExternalWalletsOnly&&0!==Object.keys((null===(e=w.socialLoginsConfig)||void 0===e?void 0:e.loginMethods)||{}).length&&Object.entries((null===(t=w.socialLoginsConfig)||void 0===t?void 0:t.loginMethods)||{}).some(([e,t])=>![g.Ck.EMAIL_PASSWORDLESS,g.Ck.SMS_PASSWORDLESS].includes(e)&&!1!==t.showOnModal)},[w]),_=(0,rs.useMemo)(()=>{var e;return null===(e=w.socialLoginsConfig)||void 0===e||null===(e=e.loginMethods[g.Ck.EMAIL_PASSWORDLESS])||void 0===e?void 0:e.showOnModal},[w.socialLoginsConfig]),I=(0,rs.useMemo)(()=>{var e;return null===(e=w.socialLoginsConfig)||void 0===e||null===(e=e.loginMethods[g.Ck.SMS_PASSWORDLESS])||void 0===e?void 0:e.showOnModal},[w.socialLoginsConfig]),C=(0,rs.useMemo)(()=>{var e;return(null===(e=w.socialLoginsConfig)||void 0===e||null===(e=e.uiConfig)||void 0===e?void 0:e.primaryButton)==="emailLogin"},[w.socialLoginsConfig]),O=(0,rs.useMemo)(()=>{var e;return(null===(e=w.socialLoginsConfig)||void 0===e||null===(e=e.uiConfig)||void 0===e?void 0:e.primaryButton)==="externalLogin"},[w.socialLoginsConfig]),P=(0,rs.useMemo)(()=>_||I,[_,I]),T=(0,rs.useMemo)(()=>w.hasExternalWallets||!!w.externalWalletsConfig[o.tp.METAMASK],[w]),k=(0,rs.useMemo)(()=>(S||P||!!w.externalWalletsConfig[o.tp.METAMASK])&&!w.externalWalletsVisibility,[S,P,w]),N=e=>{v(t=>(0,c.Z)((0,c.Z)({},t),{},{externalWalletsVisibility:e})),e&&a&&a(w.externalWalletsInitialized)},M=()=>{v(e=>(0,c.Z)((0,c.Z)({},e),{},{externalWalletsVisibility:!1,modalVisibility:!1,currentPage:rc.LOGIN})),s()},R=()=>{E||w.status!==t4.CONNECTED||v((0,c.Z)((0,c.Z)({},w),{},{modalVisibility:!1,externalWalletsVisibility:!1})),E&&w.status===t4.AUTHORIZED&&v((0,c.Z)((0,c.Z)({},w),{},{modalVisibility:!1,externalWalletsVisibility:!1})),w.status===t4.ERRORED&&v((0,c.Z)((0,c.Z)({},w),{},{modalVisibility:!0,status:t4.INITIALIZED}))},D=(0,rs.useMemo)(()=>w.status===t4.INITIALIZED||w.status===t4.CONNECTED||w.status===t4.ERRORED||w.status===t4.AUTHORIZED,[w.status]);return((0,rs.useEffect)(()=>{if(w.modalVisibility&&"object"==typeof w.externalWalletsConfig){var e;!1===((null===(e=w.externalWalletsConfig[o.tp.WALLET_CONNECT_V2])||void 0===e?void 0:e.showOnModal)||!1)||w.walletConnectUri||"function"!=typeof n||n({connector:o.tp.WALLET_CONNECT_V2})}},[w,n]),y===U.Lc.MODAL)?(0,nF.jsx)(nq,{open:w.modalVisibility,placement:"center",padding:!1,showCloseIcon:D,onClose:M,borderRadius:h.borderRadiusType,children:w.modalVisibility&&(0,nF.jsx)(ak,{appLogo:l,appName:u,chainNamespaces:d,walletRegistry:f,showPasswordLessInput:P,showExternalWalletButton:T,handleSocialLoginClick:e=>A(e),socialLoginsConfig:w.socialLoginsConfig,areSocialLoginsVisible:S,isEmailPrimary:C,isExternalPrimary:O,showExternalWalletPage:k,handleExternalWalletBtnClick:N,modalState:w,preHandleExternalWalletClick:x,setModalState:v,onCloseLoader:R,isEmailPasswordLessLoginVisible:_,isSmsPasswordLessLoginVisible:I,uiConfig:h,deviceDetails:p,isConnectAndSignAuthenticationMode:E,handleMobileVerifyConnect:i})}):(0,nF.jsx)(nz,{open:w.modalVisibility,padding:!1,onClose:M,borderRadius:h.borderRadiusType,children:w.modalVisibility&&(0,nF.jsx)(ak,{chainNamespaces:d,walletRegistry:f,appLogo:l,appName:u,showPasswordLessInput:P,showExternalWalletButton:T,handleSocialLoginClick:e=>A(e),socialLoginsConfig:w.socialLoginsConfig,areSocialLoginsVisible:S,isEmailPrimary:C,isExternalPrimary:O,showExternalWalletPage:k,handleExternalWalletBtnClick:N,modalState:w,preHandleExternalWalletClick:x,setModalState:v,onCloseLoader:R,isEmailPasswordLessLoginVisible:_,isSmsPasswordLessLoginVisible:I,uiConfig:h,deviceDetails:p,isConnectAndSignAuthenticationMode:E,handleMobileVerifyConnect:i})})}class aM{get isDark(){return"dark"===this.uiConfig.mode||"auto"===this.uiConfig.mode&&window.matchMedia("(prefers-color-scheme: dark)").matches}get deviceDetails(){if("undefined"==typeof window)return{platform:"mobile",browser:"chrome",os:"ios"};let e=v().getParser(window.navigator.userAgent);return{platform:e.getPlatformType(),browser:e.getBrowserName().toLowerCase(),os:e.getOSName()}}constructor(e,t){if((0,l.Z)(this,"uiConfig",void 0),(0,l.Z)(this,"stateEmitter",void 0),(0,l.Z)(this,"chainNamespaces",void 0),(0,l.Z)(this,"walletRegistry",void 0),(0,l.Z)(this,"callbacks",void 0),(0,l.Z)(this,"externalWalletsConfig",void 0),(0,l.Z)(this,"analytics",void 0),(0,l.Z)(this,"initModal",async()=>{let e={isDark:this.isDark},t=this.uiConfig.defaultLanguage||t7.en;return t===t7.de?r.e(8010).then(r.bind(r,78010)).then(e=>(or.addResourceBundle(t,"translation",e.default),or.changeLanguage(t))).catch(e=>{tP.c.error(e)}):t===t7.ja?r.e(3624).then(r.bind(r,43624)).then(e=>(or.addResourceBundle(t,"translation",e.default),or.changeLanguage(t))).catch(e=>{tP.c.error(e)}):t===t7.ko?r.e(3799).then(r.bind(r,3799)).then(e=>(or.addResourceBundle(t,"translation",e.default),or.changeLanguage(t))).catch(e=>{tP.c.error(e)}):t===t7.zh?r.e(2).then(r.bind(r,20002)).then(e=>(or.addResourceBundle(t,"translation",e.default),or.changeLanguage(t))).catch(e=>{tP.c.error(e)}):t===t7.es?r.e(1104).then(r.bind(r,21104)).then(e=>(or.addResourceBundle(t,"translation",e.default),or.changeLanguage(t))).catch(e=>{tP.c.error(e)}):t===t7.fr?r.e(3467).then(r.bind(r,93467)).then(e=>(or.addResourceBundle(t,"translation",e.default),or.changeLanguage(t))).catch(e=>{tP.c.error(e)}):t===t7.pt?r.e(7054).then(r.bind(r,27054)).then(e=>(or.addResourceBundle(t,"translation",e.default),or.changeLanguage(t))).catch(e=>{tP.c.error(e)}):t===t7.nl?r.e(3732).then(r.bind(r,13732)).then(e=>(or.addResourceBundle(t,"translation",e.default),or.changeLanguage(t))).catch(e=>{tP.c.error(e)}):t===t7.tr?r.e(2220).then(r.bind(r,42220)).then(e=>(or.addResourceBundle(t,"translation",e.default),or.changeLanguage(t))).catch(e=>{tP.c.error(e)}):t===t7.en&&Promise.resolve().then(r.bind(r,98600)).then(e=>(or.addResourceBundle(t,"translation",e.default),or.changeLanguage(t))).catch(e=>{tP.c.error(e)}),new Promise(t=>{var n,i,o;if(this.stateEmitter.once("MOUNTED",()=>(tP.c.info("rendered"),this.setState({status:t4.INITIALIZED,web3authClientId:this.uiConfig.web3authClientId,web3authNetwork:this.uiConfig.web3authNetwork,authBuildEnv:this.uiConfig.authBuildEnv}),t())),this.uiConfig.widgetType===U.Lc.MODAL)!function(e){let t=document.getElementById("w3a-parent-container");t&&t.remove();let r=document.createElement("section");r.classList.add("w3a-parent-container"),r.setAttribute("id","w3a-parent-container"),r.style.zIndex=e,r.style.position="relative",document.body.appendChild(r)}(this.uiConfig.modalZIndex);else if(this.uiConfig.widgetType===U.Lc.EMBED)!function(e){let t=document.getElementById(e);if(!t){tP.c.error("Element with ID ".concat(e," not found"));return}t.innerHTML='<div id="w3a-parent-container" class="w3a-parent-container"></div>'}(this.uiConfig.targetId);else throw tO.Ty.invalidParams("Invalid widget type: ".concat(this.uiConfig.widgetType));let a=document.getElementById("w3a-parent-container");e.isDark?a.classList.add("w3a--dark"):a.classList.remove("w3a--dark"),(0,ro.createRoot)(a).render((0,nF.jsx)(oe.Provider,{value:e,children:(0,nF.jsx)(oi.Provider,{value:{analytics:this.analytics},children:(0,nF.jsx)(aN,{stateListener:this.stateEmitter,appLogo:e.isDark?this.uiConfig.logoDark:this.uiConfig.logoLight,appName:this.uiConfig.appName,chainNamespaces:this.chainNamespaces,walletRegistry:this.walletRegistry,deviceDetails:this.deviceDetails,handleShowExternalWallets:this.handleShowExternalWallets,handleExternalWalletClick:this.handleExternalWalletClick,handleMobileVerifyConnect:this.handleMobileVerifyConnect,handleSocialLoginClick:this.handleSocialLoginClick,closeModal:this.closeModal,uiConfig:this.uiConfig,initialAuthenticationMode:this.uiConfig.initialAuthenticationMode})})}));let s=(null===(n=this.uiConfig)||void 0===n||null===(n=n.theme)||void 0===n?void 0:n.primary)==="#0364FF"&&(null===(i=this.uiConfig.theme)||void 0===i?void 0:i.onPrimary)==="#FFFFFF";null!==(o=this.uiConfig)&&void 0!==o&&o.theme&&!s&&r.e(5331).then(r.bind(r,85331)).then(e=>{let{default:t}=e;!function(e,t,r){if(r.primary){let n=function(e,t){let r=rr(e,3,50,"black",0,20,t),n=rr(e,6,85,"white",0,20,t);return[...r.reverse(),t,...n]}(e,r.primary);t.style.setProperty("--app-primary-900",n[0]),t.style.setProperty("--app-primary-800",n[1]),t.style.setProperty("--app-primary-700",n[2]),t.style.setProperty("--app-primary-600",n[3]),t.style.setProperty("--app-primary-500",n[4]),t.style.setProperty("--app-primary-400",n[5]),t.style.setProperty("--app-primary-300",n[6]),t.style.setProperty("--app-primary-200",n[7]),t.style.setProperty("--app-primary-100",n[8]),t.style.setProperty("--app-primary-50",n[9])}r.onPrimary&&t.style.setProperty("--app-on-primary",r.onPrimary)}(t,document.getElementById("w3a-parent-container"),this.uiConfig.theme)}).catch(e=>{tP.c.error(e)})})}),(0,l.Z)(this,"addSocialLogins",(e,t,r,n)=>{this.setState({socialLoginsConfig:{connector:e,loginMethods:t,loginMethodsOrder:r,uiConfig:n}}),tP.c.info("addSocialLogins",e,t,r,n)}),(0,l.Z)(this,"addWalletLogins",(e,t)=>{this.externalWalletsConfig=e;let r=!!e[o.tp.METAMASK];this.setState({externalWalletsConfig:e,externalWalletsInitialized:!!t.externalWalletsInitialized,showExternalWalletsOnly:!!t.showExternalWalletsOnly,externalWalletsVisibility:!r&&!!t.externalWalletsVisibility})}),(0,l.Z)(this,"open",()=>{var e,t,r;this.setState({modalVisibility:!0}),null===(e=this.analytics)||void 0===e||e.track(q.dW.LOGIN_MODAL_OPENED,(0,c.Z)((0,c.Z)({chain_namespaces:this.chainNamespaces,wallet_registry_count:Object.keys(null===(t=this.walletRegistry)||void 0===t?void 0:t.default).length+Object.keys(null===(r=this.walletRegistry)||void 0===r?void 0:r.others).length,external_wallet_connectors:Object.keys(this.externalWalletsConfig||{})},(0,H.Xj)(this.uiConfig)),ra(this.uiConfig))),this.callbacks.onModalVisibility&&this.callbacks.onModalVisibility(!0)}),(0,l.Z)(this,"closeModal",()=>{var e;this.setState({modalVisibility:!1,externalWalletsVisibility:!1}),null===(e=this.analytics)||void 0===e||e.track(q.dW.LOGIN_MODAL_CLOSED),this.callbacks.onModalVisibility&&this.callbacks.onModalVisibility(!1)}),(0,l.Z)(this,"initExternalWalletContainer",()=>{this.setState({hasExternalWallets:!0})}),(0,l.Z)(this,"handleShowExternalWallets",e=>{this.callbacks.onInitExternalWallets&&this.callbacks.onInitExternalWallets({externalWalletsInitialized:e})}),(0,l.Z)(this,"handleExternalWalletClick",e=>{tP.c.info("external wallet clicked",e);let{connector:t,chainNamespace:r}=e;this.callbacks.onExternalWalletLogin&&this.callbacks.onExternalWalletLogin({connector:t,loginParams:{chainNamespace:r}})}),(0,l.Z)(this,"handleMobileVerifyConnect",e=>{tP.c.info("mobile verify connect clicked",e);let{connector:t}=e;this.callbacks.onMobileVerifyConnect&&this.callbacks.onMobileVerifyConnect({connector:t})}),(0,l.Z)(this,"handleSocialLoginClick",e=>{var t;tP.c.info("social login clicked",e);let{connector:r,loginParams:n}=e;null===(t=this.analytics)||void 0===t||t.track(q.dW.SOCIAL_LOGIN_SELECTED,{connector:r,auth_connection:n.authConnection,auth_connection_id:n.authConnectionId,group_auth_connection_id:n.groupedAuthConnectionId}),this.callbacks.onSocialLogin&&this.callbacks.onSocialLogin({connector:r,loginParams:n})}),(0,l.Z)(this,"setState",e=>{this.stateEmitter.emit("STATE_UPDATED",e)}),(0,l.Z)(this,"handleConnectorData",e=>{if(e.connectorName===o.tp.WALLET_CONNECT_V2){let t=e.data;t.uri&&this.setState({walletConnectUri:t.uri})}if(e.connectorName===o.tp.METAMASK){let t=e.data;t.uri&&this.setState({metamaskConnectUri:t.uri})}}),(0,l.Z)(this,"subscribeCoreEvents",e=>{e.on(G.cS.CONNECTING,e=>{var t;if(tP.c.info("connecting with connector",e),(null==e?void 0:e.connector)===o.tp.WALLET_CONNECT_V2)return;let r=null===(t=this.externalWalletsConfig)||void 0===t||null===(t=t[o.tp.METAMASK])||void 0===t?void 0:t.isInjected;((null==e?void 0:e.connector)!==o.tp.METAMASK||r||"desktop"!==this.deviceDetails.platform)&&this.setState({status:t4.CONNECTING})}),e.on(G.cS.CONNECTED,e=>{tP.c.debug("connected with connector",e),e.reconnected||e.loginMode!==U.XI.MODAL?this.setState({status:t4.CONNECTED}):this.setState({status:t4.CONNECTED,modalVisibility:!0,postLoadingMessage:"modal.post-loading.connected",currentPage:rc.LOGIN})}),e.on(G.cS.ERRORED,(e,t)=>{tP.c.error("error",e,e.message),t!==U.XI.NO_MODAL&&(5e3===e.code?this.uiConfig.displayErrorsOnModal?this.setState({modalVisibility:!0,postLoadingMessage:e.message||"modal.post-loading.something-wrong",status:t4.ERRORED}):this.setState({modalVisibility:!1}):this.setState({modalVisibility:!0,status:t4.INITIALIZED}))}),e.on(G.cS.DISCONNECTED,()=>{this.setState({status:t4.INITIALIZED,externalWalletsVisibility:!1})}),e.on(G.cS.CONNECTOR_DATA_UPDATED,e=>{this.handleConnectorData(e)}),e.on(G.cS.AUTHORIZING,()=>{this.setState({status:t4.AUTHORIZING})}),e.on(G.cS.AUTHORIZED,()=>{this.setState({status:t4.AUTHORIZED})})}),this.uiConfig=e,e.logoDark||(this.uiConfig.logoDark=rd),e.logoLight||(this.uiConfig.logoLight=ru),e.mode||(this.uiConfig.mode=rt.light),e.modalZIndex||(this.uiConfig.modalZIndex="99998"),void 0===e.displayErrorsOnModal&&(this.uiConfig.displayErrorsOnModal=!0),e.appName||(this.uiConfig.appName="Web3Auth"),e.loginGridCol||(this.uiConfig.loginGridCol=3),e.primaryButton||(this.uiConfig.primaryButton="socialLogin"),e.defaultLanguage||(this.uiConfig.defaultLanguage=nj(e.defaultLanguage)),e.widgetType||(this.uiConfig.widgetType=U.Lc.MODAL),e.initialAuthenticationMode||(this.uiConfig.initialAuthenticationMode=G.Hd.CONNECT_ONLY),e.widgetType===U.Lc.EMBED&&!e.targetId)throw tP.c.error("targetId is required for embed widget"),tO.Ty.invalidParams("targetId is required for embed widget");this.stateEmitter=new ri,this.chainNamespaces=e.chainNamespaces,this.walletRegistry=e.walletRegistry,this.callbacks=t,this.analytics=e.analytics,this.subscribeCoreEvents(this.uiConfig.connectorListener)}}class aR extends tY{constructor(e,t){super(e,t),(0,l.Z)(this,"loginModal",void 0),(0,l.Z)(this,"options",void 0),(0,l.Z)(this,"modalConfig",tk(s)),(0,l.Z)(this,"onInitExternalWallets",async e=>{e.externalWalletsInitialized||await this.initExternalConnectors(this.connectors.filter(e=>e.name===o.tp.WALLET_CONNECT_V2),{externalWalletsInitialized:!0,externalWalletsVisibility:!0})}),(0,l.Z)(this,"onSocialLogin",async e=>{try{await this.connectTo(o.tp.AUTH,e.loginParams,U.XI.MODAL)}catch(t){tP.c.error(`Error while connecting to connector: ${e.connector}`,t)}}),(0,l.Z)(this,"onExternalWalletLogin",async e=>{try{var t;let r=this.getConnector(e.connector,null===(t=e.loginParams)||void 0===t?void 0:t.chainNamespace);if(r.name===o.tp.WALLET_CONNECT_V2){let e=this.getInitialChainIdForConnector(r);await r.connect({chainId:e.chainId})}else await this.connectTo(e.connector,e.loginParams,U.XI.MODAL)}catch(t){tP.c.error(`Error while connecting to connector: ${e.connector}`,t)}}),(0,l.Z)(this,"onModalVisibility",async e=>{tP.c.debug("is login modal visible",e),this.emit(t8.MODAL_VISIBILITY,e);let t=this.getConnector(o.tp.WALLET_CONNECT_V2);if(t){let r=null==t?void 0:t.status;if(tP.c.debug("trying refreshing wc session",e,r),e&&(r===G.Ak.READY||r===G.Ak.CONNECTING)){tP.c.debug("refreshing wc session");try{let e=this.getInitialChainIdForConnector(t);t.connect({chainId:e.chainId})}catch(e){tP.c.error("Error while disconnecting to wallet connect in core",e)}}!e&&tT.x.includes(this.status)&&(r===G.Ak.READY||r===G.Ak.CONNECTING)&&(tP.c.debug("this stops wc connector from trying to reconnect once proposal expires"),t.status=G.Ak.READY)}}),(0,l.Z)(this,"onMobileVerifyConnect",async e=>{try{let t=this.getConnector(e.connector);await t.getIdentityToken()}catch(t){tP.c.error(`Error while connecting to connector: ${e.connector}`,t)}}),(0,l.Z)(this,"getChainNamespaces",()=>{var e;return[...new Set((null===(e=this.coreOptions.chains)||void 0===e?void 0:e.map(e=>e.chainNamespace))||[])]}),this.options=(0,c.Z)({},e),this.options.uiConfig||(this.options.uiConfig={}),this.options.modalConfig&&(this.modalConfig=this.options.modalConfig),tP.c.info("modalConfig",this.modalConfig)}async init(e){let t=Date.now();this.analytics.init(),this.analytics.identify(this.options.clientId,{web3auth_client_id:this.options.clientId,web3auth_network:this.options.web3AuthNetwork}),this.analytics.setGlobalProperties({dapp_url:window.location.origin,sdk_name:q.Yz.WEB_MODAL,sdk_version:H.lB,web3auth_client_id:this.options.clientId,web3auth_network:this.options.web3AuthNetwork});let r={};try{var n,i;let{signal:a}=e||{};super.checkInitRequirements();let{projectConfig:s,walletRegistry:l}=await this.getProjectAndWalletConfig();this.initUIConfig(s),super.initAccountAbstractionConfig(s),super.initChainsConfig(s),super.initCachedConnectorAndChainId(),super.initWalletServicesConfig(s),super.initSessionTimeConfig(s),this.analytics.setGlobalProperties({team_id:s.teamId}),r=this.getInitializationTrackData();let{filteredWalletRegistry:u,disabledExternalWallets:d}=this.filterWalletRegistry(l,s);this.loginModal=new aM((0,c.Z)((0,c.Z)({},this.options.uiConfig),{},{connectorListener:this,web3authClientId:this.options.clientId,web3authNetwork:this.options.web3AuthNetwork,authBuildEnv:this.options.authBuildEnv,chainNamespaces:this.getChainNamespaces(),walletRegistry:u,analytics:this.analytics,initialAuthenticationMode:this.options.initialAuthenticationMode}),{onInitExternalWallets:this.onInitExternalWallets,onSocialLogin:this.onSocialLogin,onExternalWalletLogin:this.onExternalWalletLogin,onModalVisibility:this.onModalVisibility,onMobileVerifyConnect:this.onMobileVerifyConnect}),await (0,H.Kj)(()=>this.loginModal.initModal(),a),await (0,H.Kj)(()=>this.setupCommonJRPCProvider(),a),this.on(G.cS.CONNECTORS_UPDATED,({connectors:e})=>{(0,H.Kj)(()=>this.initConnectors({connectors:e,projectConfig:s,disabledExternalWallets:d}),a,()=>{var e;tP.c.debug("init aborted"),(null===(e=this.connectors)||void 0===e?void 0:e.length)>0&&super.cleanup()})}),await (0,H.Kj)(()=>super.loadConnectors({projectConfig:s,modalMode:!0}),a),await (0,H.Kj)(()=>super.initPlugins(),a);let f=this.getConnector(o.tp.AUTH);r=(0,c.Z)((0,c.Z)({},r),{},{connectors:this.connectors.map(e=>e.name),plugins:Object.keys(this.plugins),auth_ux_mode:(null==f||null===(n=f.authInstance)||void 0===n||null===(n=n.options)||void 0===n?void 0:n.uxMode)||(null===(i=this.coreOptions.uiConfig)||void 0===i?void 0:i.uxMode)}),this.analytics.track(q.dW.SDK_INITIALIZATION_COMPLETED,(0,c.Z)((0,c.Z)({},r),{},{duration:Date.now()-t}))}catch(e){if(e instanceof DOMException&&"AbortError"===e.name)return;throw this.analytics.track(q.dW.SDK_INITIALIZATION_FAILED,(0,c.Z)((0,c.Z)((0,c.Z)({},r),(0,H.eX)(e)),{},{duration:Date.now()-t})),tP.c.error("Failed to initialize modal",e),e}}async connect(){if(!this.loginModal)throw tO.Ty.notReady("Login modal is not initialized");return this.connectedConnectorName&&tT.x.includes(this.status)&&this.provider?this.provider:(this.loginModal.open(),new Promise((e,t)=>{let r=()=>(this.removeListener(G.cS.ERRORED,n),this.removeListener(t8.MODAL_VISIBILITY,i),e(this.provider)),n=e=>(this.removeListener(G.cS.CONNECTED,r),this.removeListener(G.cS.AUTHORIZED,r),this.removeListener(t8.MODAL_VISIBILITY,i),t(e)),i=e=>{if(!e&&!tT.x.includes(this.status))return this.removeListener(G.cS.CONNECTED,r),this.removeListener(G.cS.ERRORED,n),this.removeListener(G.cS.AUTHORIZED,r),t(Error("User closed the modal"))};this.coreOptions.initialAuthenticationMode===G.Hd.CONNECT_AND_SIGN?this.once(G.cS.AUTHORIZED,r):this.once(G.cS.CONNECTED,r),this.once(G.cS.ERRORED,n),this.once(t8.MODAL_VISIBILITY,i)}))}initUIConfig(e){super.initUIConfig(e),this.options.uiConfig=B()(tk(e.whitelabel||{}),this.options.uiConfig||{}),this.options.uiConfig.defaultLanguage||(this.options.uiConfig.defaultLanguage=nj(this.options.uiConfig.defaultLanguage)),this.options.uiConfig.mode||(this.options.uiConfig.mode="light"),this.options.uiConfig=B()(e.loginModal||{},this.options.uiConfig,{arrayMerge:(e,t)=>t});let t=e.embeddedWalletAuth.filter(e=>e.isDefault).map(e=>e.authConnection),r=[...this.options.uiConfig.loginMethodsOrder||[],...t],n=[],i=new Set;for(let e of r)i.has(e)||(i.add(e),n.push(e));this.options.uiConfig.loginMethodsOrder=n}getInitializationTrackData(){var e,t,r,n,i,a,s,l,u,d,f,h,p,g,m,y,b;return(0,c.Z)((0,c.Z)({},super.getInitializationTrackData()),{},{modal_hide_wallet_discovery:null===(e=this.modalConfig)||void 0===e?void 0:e.hideWalletDiscovery,modal_connectors:Object.keys((null===(t=this.modalConfig)||void 0===t?void 0:t.connectors)||{}),modal_auth_connector_login_methods:Object.keys((null===(r=this.modalConfig)||void 0===r||null===(r=r.connectors)||void 0===r||null===(r=r[o.tp.AUTH])||void 0===r?void 0:r.loginMethods)||{}),ui_login_methods_order:null===(n=this.options.uiConfig)||void 0===n?void 0:n.loginMethodsOrder,ui_modal_z_index:null===(i=this.options.uiConfig)||void 0===i?void 0:i.modalZIndex,ui_display_errors_on_modal:null===(a=this.options.uiConfig)||void 0===a?void 0:a.displayErrorsOnModal,ui_login_grid_col:null===(s=this.options.uiConfig)||void 0===s?void 0:s.loginGridCol,ui_primary_button:null===(l=this.options.uiConfig)||void 0===l?void 0:l.primaryButton,ui_modal_widget_type:null===(u=this.options.uiConfig)||void 0===u?void 0:u.widgetType,ui_modal_target_id_used:!!(null===(d=this.options.uiConfig)||void 0===d?void 0:d.targetId),ui_modal_logo_alignment:null===(f=this.options.uiConfig)||void 0===f?void 0:f.logoAlignment,ui_modal_border_radius_type:null===(h=this.options.uiConfig)||void 0===h?void 0:h.borderRadiusType,ui_modal_button_radius_type:null===(p=this.options.uiConfig)||void 0===p?void 0:p.buttonRadiusType,ui_modal_sign_in_methods:null===(g=this.options.uiConfig)||void 0===g?void 0:g.signInMethods,ui_modal_add_previous_login_hint:null===(m=this.options.uiConfig)||void 0===m?void 0:m.addPreviousLoginHint,ui_modal_display_installed_external_wallets:null===(y=this.options.uiConfig)||void 0===y?void 0:y.displayInstalledExternalWallets,ui_modal_display_external_wallets_count:null===(b=this.options.uiConfig)||void 0===b?void 0:b.displayExternalWalletsCount})}filterWalletRegistry(e,t){let{disableAllRecommendedWallets:r,disableAllOtherWallets:n,disabledWallets:i}=t.externalWalletAuth||{},a=new Set(i||[]);r&&Object.keys(e.default).forEach(e=>a.add(e)),n&&Object.keys(e.others).forEach(e=>a.add(e)),a.delete(o.tp.METAMASK);let s=tk(e);return a.forEach(e=>{delete s.default[e],delete s.others[e]}),{disabledExternalWallets:a,filteredWalletRegistry:s}}async getProjectAndWalletConfig(){var e,t;let[r,n]=await Promise.allSettled([(0,H.pw)({clientId:this.options.clientId,web3AuthNetwork:this.options.web3AuthNetwork,aaProvider:null===(e=this.options.accountAbstractionConfig)||void 0===e?void 0:e.smartAccountType,authBuildEnv:this.options.authBuildEnv}),(0,H.gL)(U.TD)]);if("rejected"===r.status){let e=await (0,u.X)(r.reason);throw tP.c.error("Failed to fetch project configurations",e),tO.Ty.notReady("failed to fetch project configurations",e)}let i=r.value,o={others:{},default:{}};return i.externalWalletAuth&&!(null!==(t=this.modalConfig)&&void 0!==t&&t.hideWalletDiscovery)&&("fulfilled"===n.status?o=n.value:tP.c.error("Failed to fetch wallet registry",n.reason)),{projectConfig:i,walletRegistry:o}}async initConnectors({connectors:e,projectConfig:t,disabledExternalWallets:r}){let n=await this.filterConnectors({projectConfig:t,disabledExternalWallets:r}),{hasInAppConnectors:i,hasExternalConnectors:a}=await this.checkConnectorAvailability(n),s=e.filter(e=>n.includes(e.name));await this.initInAppAndCachedConnectors(s),a&&(i?(this.loginModal.initExternalWalletContainer(),this.initExternalConnectors(s.filter(e=>e.type===G.$Y.EXTERNAL&&e.name!==o.tp.WALLET_CONNECT_V2),{externalWalletsInitialized:!1,showExternalWalletsOnly:!1,externalWalletsVisibility:!1})):await this.initExternalConnectors(s.filter(e=>e.type===G.$Y.EXTERNAL),{externalWalletsInitialized:!0,showExternalWalletsOnly:!0,externalWalletsVisibility:!0})),this.status===G.Ak.NOT_READY&&(this.status=G.Ak.READY,this.emit(G.cS.READY))}async filterConnectors({projectConfig:e,disabledExternalWallets:t}){var r;let n={},i=new Map;for(let t of e.embeddedWalletAuth||[]){let{isDefault:e,authConnection:r,groupedAuthConnectionId:o,authConnectionId:a}=t;e&&(n[r]={name:t6[r],authConnection:r,authConnectionId:a,groupedAuthConnectionId:o,extraLoginOptions:t.jwtParameters,isDefault:!0,showOnModal:!0});let s=this.getCombinedConnectionId(a,o);i.set(s,t)}let a={[o.tp.AUTH]:{label:o.tp.AUTH,loginMethods:n}};null!==(r=this.modalConfig)&&void 0!==r&&null!==(r=r.connectors)&&void 0!==r&&r[o.tp.AUTH]&&!this.modalConfig.connectors[o.tp.AUTH].loginMethods&&(this.modalConfig.connectors[o.tp.AUTH].loginMethods={});let s=new Set(t3);return Object.keys(this.modalConfig.connectors[o.tp.AUTH].loginMethods).forEach(e=>{let t=this.modalConfig.connectors[o.tp.AUTH].loginMethods[e],{authConnectionId:r,groupedAuthConnectionId:n}=t;if(!s.has(e))throw tO.Ty.invalidParams(`Invalid auth connection: ${e}`);if(n||r){let a=this.getCombinedConnectionId(r,n);if(!i.has(a))throw tO.Ty.invalidParams(`Invalid auth connection config, authConnection: ${e}. Missing AuthConnectionConfig from the dashboard.`);let s=i.get(a);this.modalConfig.connectors[o.tp.AUTH].loginMethods[e]=(0,c.Z)((0,c.Z)({},t),{},{authConnection:s.authConnection,authConnectionId:s.authConnectionId,groupedAuthConnectionId:s.groupedAuthConnectionId,isDefault:s.isDefault||!1,extraLoginOptions:(0,c.Z)((0,c.Z)({},s.jwtParameters),t.extraLoginOptions)})}}),this.modalConfig.connectors=B()(a,tk(this.modalConfig.connectors||{})),[...new Set([...Object.keys(this.modalConfig.connectors||{}),...this.connectors.map(e=>e.name)])].map(r=>{var n,i,a,s;let l={label:o.AH[r]||r.split("-").map(t1).join(" "),showOnModal:!0};this.modalConfig.connectors[r]=(0,c.Z)((0,c.Z)({},l),(null===(n=this.modalConfig)||void 0===n||null===(n=n.connectors)||void 0===n?void 0:n[r])||{});let u=this.getConnector(r);tP.c.debug("connector config",r,null===(i=this.modalConfig.connectors)||void 0===i||null===(i=i[r])||void 0===i?void 0:i.showOnModal,u);let d=null===(a=this.modalConfig.connectors)||void 0===a?void 0:a[r];if(!u){if(d.showOnModal)throw tO.Ty.invalidParams(`Connector ${r} is not configured`);return}if(!d.showOnModal)return;let f=!!e.externalWalletAuth;if(!(u.type===G.$Y.EXTERNAL&&u.name!==o.tp.METAMASK&&(!f||t.has(r)))&&(r!==o.tp.WALLET_CONNECT_V2||f&&(null===(s=this.modalConfig)||void 0===s||!s.hideWalletDiscovery)))return this.modalConfig.connectors[r]=d,r}).filter(e=>void 0!==e)}async checkConnectorAvailability(e){let t=this.connectors.some(e=>{var t,r;return e.type===G.$Y.IN_APP&&(null===(t=this.modalConfig.connectors)||void 0===t||null===(t=t[e.name])||void 0===t?void 0:t.showOnModal)===!0&&!!(!(null!==(r=this.modalConfig.connectors)&&void 0!==r&&null!==(r=r[e.name])&&void 0!==r&&r.loginMethods)||Object.values(this.modalConfig.connectors[e.name].loginMethods).some(e=>e.showOnModal))});return tP.c.debug(t,this.connectors,e,"hasInAppWallets"),{hasInAppConnectors:t,hasExternalConnectors:e.some(e=>{var t,r;return e===o.tp.WALLET_CONNECT_V2||(null===(t=this.getConnector(e))||void 0===t?void 0:t.type)===G.$Y.EXTERNAL&&(null===(r=this.modalConfig.connectors)||void 0===r||null===(r=r[e])||void 0===r?void 0:r.showOnModal)})}}async initInAppAndCachedConnectors(e){await Promise.all(e.map(async e=>{let t=e.name;try{if(e.status!==G.Ak.NOT_READY||this.cachedConnector!==t&&e.type===G.$Y.EXTERNAL)return;this.subscribeToConnectorEvents(e);let a=this.getInitialChainIdForConnector(e),s=super.checkIfAutoConnect(e);if(await e.init({autoConnect:s,chainId:a.chainId,getIdentityToken:this.options.initialAuthenticationMode===G.Hd.CONNECT_AND_SIGN}),e.type===G.$Y.IN_APP){var r,n,i,o;tP.c.info("connectorInitResults",t);let e=(null===(r=this.modalConfig.connectors[t])||void 0===r?void 0:r.loginMethods)||{};this.loginModal.addSocialLogins(t,e,(null===(n=this.options.uiConfig)||void 0===n?void 0:n.loginMethodsOrder)||t3,(0,c.Z)((0,c.Z)({},this.options.uiConfig),{},{loginGridCol:(null===(i=this.options.uiConfig)||void 0===i?void 0:i.loginGridCol)||3,primaryButton:(null===(o=this.options.uiConfig)||void 0===o?void 0:o.primaryButton)||"socialLogin"}))}}catch(e){tP.c.error(e,"error while initializing connector ",t)}}))}async initExternalConnectors(e,t){let r={},n={};e.forEach(async e=>{let i=e.name;if(tP.c.debug("init external wallet",this.cachedConnector,i,e.status),n[i]||(n[i]=new Set),e.connectorNamespace===tC.$.MULTICHAIN?this.getChainNamespaces().forEach(e=>n[i].add(e)):n[i].add(e.connectorNamespace),e.status===G.Ak.NOT_READY&&this.cachedConnector!==i)try{this.subscribeToConnectorEvents(e);let t=this.getInitialChainIdForConnector(e);await e.init({autoConnect:this.cachedConnector===i,chainId:t.chainId,getIdentityToken:this.options.initialAuthenticationMode===G.Hd.CONNECT_AND_SIGN})}catch(e){tP.c.error(e,"error while initializing connector",i)}if([G.Ak.NOT_READY,G.Ak.READY,G.Ak.CONNECTING,G.Ak.CONNECTED,G.Ak.AUTHORIZING,G.Ak.AUTHORIZED].includes(e.status)){let o=this.modalConfig.connectors[i];r[i]=(0,c.Z)((0,c.Z)({},o),{},{isInjected:e.isInjected,icon:e.icon,chainNamespaces:Array.from(n[i])}),this.loginModal.addWalletLogins(r,{showExternalWalletsOnly:!!t.showExternalWalletsOnly,externalWalletsVisibility:!!t.externalWalletsVisibility,externalWalletsInitialized:!!t.externalWalletsInitialized})}})}getCombinedConnectionId(e,t){let r=e;return t&&(r=`${t}_${e}`),r}}let aD="web3auth_context";var aL=r(99420),aB=r.n(aL),aU=r(82957).Buffer;let aj=aB().lowlevel;function a$(e){let t;t="string"==typeof e?aU.from(e,"hex"):e;let r=new Uint8Array(64),n=[aj.gf(),aj.gf(),aj.gf(),aj.gf()],i=new Uint8Array([...new Uint8Array(t),...new Uint8Array(32)]),o=new Uint8Array(32);aj.crypto_hash(r,i,32),r[0]&=248,r[31]&=127,r[31]|=64,aj.scalarbase(n,r),aj.pack(o,n);for(let e=0;e<32;e+=1)i[e+32]=o[e];return{sk:aU.from(i),pk:aU.from(o)}}let aF={INITIALIZED:"initialized",ERRORED:"errored"};var az=r(99965),aq=r(57360),aG=r(80206),aH=r(36154),aV=r(64694),aW=r(51025),aZ=r(84997),aK=r(74766),aY=r(49850),aJ=r(40835),aX=r(47136),aQ=r(86247),a0=r(26311),a1=r(12786),a2=r(39590),a3=r(19387),a6=r(78191),a5=r(47653),a8=r(44727),a4=r(46794);let a9="https://gas-api.metaswap.codefi.network/networks/<chain_id>/gasPrices",a7="https://gas-api.metaswap.codefi.network/networks/<chain_id>/suggestedGasFees",se={LEGACY:"0x0",ACCESS_LIST:"0x1",FEE_MARKET:"0x2"},st={SENT_ETHER:"sentEther",CONTRACT_INTERACTION:"contractInteraction",DEPLOY_CONTRACT:"contractDeployment",STANDARD_TRANSACTION:"transaction"},sr={FEE_MARKET:"fee-market",LEGACY:"legacy",ETH_GASPRICE:"eth_gasPrice",NONE:"none"};var sn=r(74061),si=r(68651);let so=new si.O("1e18"),sa=new si.O("1e9"),ss=new si.O("1"),sc={hex:e=>"string"==typeof e?new si.O((0,sn.MTY)(e),16):new si.O(e,16),dec:e=>new si.O(e,10)},sl={WEI:e=>e.div(so),GWEI:e=>e.div(sa),ETH:e=>e.div(ss)},su={WEI:e=>e.times(so).dp(0,si.O.ROUND_HALF_UP),GWEI:e=>e.times(sa).dp(9,si.O.ROUND_HALF_UP),ETH:e=>e.times(ss).dp(9,si.O.ROUND_HALF_UP)},sd={hex:e=>e.toString(16),dec:e=>new si.O(e).toString(10)},sf=e=>{let{value:t,fromNumericBase:r,fromDenomination:n,toNumericBase:i,toDenomination:o,numberOfDecimals:a}=e,s=sc[r](t);return n&&(s=sl[n](s)),o&&(s=su[o](s)),a&&(s=s.dp(a,si.O.ROUND_HALF_DOWN)),i&&(s=sd[i](s)),s},sh=(e,{fromNumericBase:t="hex",toNumericBase:r,fromDenomination:n,toDenomination:i,numberOfDecimals:o})=>sf({fromNumericBase:t,toNumericBase:r,fromDenomination:n,toDenomination:i,numberOfDecimals:o,value:e||"0"});function sp(e){return sh(e,{fromNumericBase:"dec",toNumericBase:"hex",fromDenomination:"GWEI",toDenomination:"WEI"})}function sg(e){return sh(e,{fromNumericBase:"hex",toNumericBase:"dec",fromDenomination:"WEI",toDenomination:"GWEI"})}var sm=r(44373),sy=r.n(sm);function sb(e){return(0,sn.L_7)(e.toString(16))}function sw(e){return sy().isBN(e)?e:new(sy())((0,sn.MTY)(e),16)}function sv(e){return sg(sp(e)).toString()}async function sE(e){let t=await (0,eE.U2)(e);return(0,c.Z)((0,c.Z)({},t),{},{estimatedBaseFee:sv(t.estimatedBaseFee),low:(0,c.Z)((0,c.Z)({},t.low),{},{suggestedMaxPriorityFeePerGas:sv(t.low.suggestedMaxPriorityFeePerGas),suggestedMaxFeePerGas:sv(t.low.suggestedMaxFeePerGas)}),medium:(0,c.Z)((0,c.Z)({},t.medium),{},{suggestedMaxPriorityFeePerGas:sv(t.medium.suggestedMaxPriorityFeePerGas),suggestedMaxFeePerGas:sv(t.medium.suggestedMaxFeePerGas)}),high:(0,c.Z)((0,c.Z)({},t.high),{},{suggestedMaxPriorityFeePerGas:sv(t.high.suggestedMaxPriorityFeePerGas),suggestedMaxFeePerGas:sv(t.high.suggestedMaxFeePerGas)})})}async function sx(e){let t=await (0,eE.U2)(e,{referrer:e,referrerPolicy:"no-referrer-when-downgrade",method:"GET",mode:"cors"});return{low:t.SafeGasPrice,medium:t.ProposeGasPrice,high:t.FastGasPrice}}function sA(e,t){if(!e||"string"!=typeof e||!(0,sn.AtH)(e))throw Error(`Invalid "${t}" address: ${e} must be a valid string.`)}async function sS(e,t){let r;if(sA(e.from,"from"),!e.data||Array.isArray(e.data)||"object"!=typeof e.data&&"string"!=typeof e.data)throw Error('Invalid message "data": Must be a valid string or object.');if("object"==typeof e.data)r=e.data;else try{r=JSON.parse(e.data)}catch{throw Error("Data must be passed as a valid JSON string.")}if(!t)throw Error("Current chainId cannot be null or undefined.");let{chainId:n}=r.domain;if(n){"string"==typeof n&&(n=parseInt(n,n.startsWith("0x")?16:10));let e=parseInt(t,16);if(Number.isNaN(e))throw Error(`Cannot sign messages for chainId "${n}", because Web3Auth is switching networks.`);if(n!==e)throw Error(`Provided chainId "${n}" must match the active chainId "${e}"`)}}class s_{constructor({getProviderEngineProxy:e}){(0,l.Z)(this,"API_SUPPORTED_CHAINIDS",new Set(["0x1","0x5","0x13881","0xa4b1","0xa86a","0x2105","0x38","0xfa","0xa","0x89"])),(0,l.Z)(this,"chainConfig",null),(0,l.Z)(this,"getProviderEngineProxy",void 0),(0,l.Z)(this,"isEIP1559Compatible",!1),this.getProviderEngineProxy=e}get providerProxy(){return this.getProviderEngineProxy()}async init(){this.chainConfig=await this.providerProxy.request({method:"eth_provider_config"}),this.isEIP1559Compatible=await this.getEIP1559Compatibility()}async formatTransaction(e){if(!this.chainConfig)throw Error("Chain config not initialized");let t=(0,c.Z)({},e);if(void 0===t.nonce&&(t.nonce=await this.providerProxy.request({method:"eth_getTransactionCount",params:[e.from,"latest"]})),!this.isEIP1559Compatible&&t.gasPrice){if(t.maxFeePerGas&&delete t.maxFeePerGas,t.maxPriorityFeePerGas&&delete t.maxPriorityFeePerGas,!t.gasLimit){if(t.gas)t.gasLimit=(0,sn.L_7)(t.gas);else{let e=await this.getDefaultGasLimit(t);e&&(t.gasLimit=e)}}return t}if(!t.gasLimit){if(t.gas)t.gasLimit=(0,sn.L_7)(t.gas);else{let e=await this.getDefaultGasLimit(t);e&&(t.gasLimit=e)}}let{gasPrice:r,maxFeePerGas:n,maxPriorityFeePerGas:i}=await this.getDefaultGasFees(t);if(this.isEIP1559Compatible){if(!t.gasPrice||t.maxFeePerGas||t.maxPriorityFeePerGas)n&&!t.maxFeePerGas&&(t.maxFeePerGas=(0,sn.L_7)(n)),i&&!t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=(0,sn.L_7)(i)),r&&!t.maxFeePerGas&&(t.maxFeePerGas=(0,sn.L_7)(r)),t.maxFeePerGas&&!t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=t.maxFeePerGas);else{var o,a;t.maxFeePerGas=t.gasPrice,o="string"==typeof i?(0,sn.MTY)(i):i,a="string"==typeof t.gasPrice?(0,sn.MTY)(t.gasPrice):t.gasPrice.toString(),t.maxPriorityFeePerGas=(null==o||null==a?null:new si.O(o,10).lt(a,10))?(0,sn.L_7)(i):(0,sn.L_7)(t.gasPrice.toString())}delete t.gasPrice}else delete t.maxPriorityFeePerGas,delete t.maxFeePerGas;return!r||t.gasPrice||t.maxPriorityFeePerGas||t.maxFeePerGas||(t.gasPrice=r),t.type=Number.parseInt(this.isEIP1559Compatible?se.FEE_MARKET:se.LEGACY,16),t.chainId=this.chainConfig.chainId,t}async fetchEthGasPriceEstimate(){return{gasPrice:sg(await this.providerProxy.request({method:"eth_gasPrice",params:[]})).toString()}}async fetchGasEstimatesViaEthFeeHistory(){let e=await this.providerProxy.request({method:"eth_feeHistory",params:[10,"latest",[10,50,95]]}),t=e.baseFeePerGas[e.baseFeePerGas.length-1],r=e.reward.reduce((e,t)=>({slow:e.slow.plus(new si.O(t[0],16)),average:e.average.plus(new si.O(t[1],16)),fast:e.fast.plus(new si.O(t[2],16))}),{slow:new si.O(0),average:new si.O(0),fast:new si.O(0)});return{estimatedBaseFee:sg(t).toString(),high:{maxWaitTimeEstimate:3e4,minWaitTimeEstimate:15e3,suggestedMaxFeePerGas:sg(r.fast.plus(t).toString(16)).toString(),suggestedMaxPriorityFeePerGas:sg(r.fast.toString(16)).toString()},medium:{maxWaitTimeEstimate:45e3,minWaitTimeEstimate:15e3,suggestedMaxFeePerGas:sg(r.average.plus(t).toString(16)).toString(),suggestedMaxPriorityFeePerGas:sg(r.average.toString(16)).toString()},low:{maxWaitTimeEstimate:6e4,minWaitTimeEstimate:15e3,suggestedMaxFeePerGas:sg(r.slow.plus(t).toString(16)).toString(),suggestedMaxPriorityFeePerGas:sg(r.slow.toString(16)).toString()}}}async getEIP1559Compatibility(){let e=await this.providerProxy.request({method:"eth_getBlockByNumber",params:["latest",!1]});return!!(e&&void 0!==e.baseFeePerGas)}async fetchGasFeeEstimateData(){let e;if(!this.chainConfig)throw Error("Chain config not initialized");let t="0x1"===this.chainConfig.chainId,r=Number.parseInt(this.chainConfig.chainId,16);try{if(this.isEIP1559Compatible){let t;try{if(this.API_SUPPORTED_CHAINIDS.has(this.chainConfig.chainId))t=await sE(a7.replace("<chain_id>",`${r}`));else throw Error("Chain id not supported by api")}catch{t=await this.fetchGasEstimatesViaEthFeeHistory()}e={gasFeeEstimates:t,gasEstimateType:sr.FEE_MARKET}}else if(t)e={gasFeeEstimates:await sx(a9.replace("<chain_id>",`${r}`)),gasEstimateType:sr.LEGACY};else throw Error("Main gas fee/price estimation failed. Use fallback")}catch{try{e={gasFeeEstimates:await this.fetchEthGasPriceEstimate(),gasEstimateType:sr.ETH_GASPRICE}}catch(e){throw Error(`Gas fee/price estimation failed. Message: ${e.message}`)}}return e}async getDefaultGasFees(e){if(!this.isEIP1559Compatible&&e.gasPrice||this.isEIP1559Compatible&&e.maxFeePerGas&&e.maxPriorityFeePerGas)return{};try{let{gasFeeEstimates:e,gasEstimateType:t}=await this.fetchGasFeeEstimateData();if(this.isEIP1559Compatible&&t===sr.FEE_MARKET){let{medium:{suggestedMaxPriorityFeePerGas:t,suggestedMaxFeePerGas:r}={}}=e;if(t&&r)return{maxFeePerGas:(0,sn.L_7)(sp(r)),maxPriorityFeePerGas:(0,sn.L_7)(sp(t))}}else if(t===sr.LEGACY)return{gasPrice:(0,sn.L_7)(sp(e.medium))};else if(t===sr.ETH_GASPRICE)return{gasPrice:(0,sn.L_7)(sp(e.gasPrice))}}catch(e){tP.c.error(e)}let{gasPrice:t}=await this.fetchEthGasPriceEstimate();return{gasPrice:(0,sn.L_7)(sp(t))}}async estimateTxGas(e){let t=(0,c.Z)({},e);return delete t.gasPrice,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,await this.providerProxy.request({method:"eth_estimateGas",params:[t]})}async analyzeGasUsage(e){let t=await this.providerProxy.request({method:"eth_getBlockByNumber",params:["latest",!1]}),r=sb(function(e,t,r){let n=new(sy())(19),i=new(sy())(20);return e.mul(n).div(i)}(sw(t.gasLimit),0,0));try{r=await this.estimateTxGas(e)}catch(e){tP.c.warn(e)}return{blockGasLimit:t.gasLimit,estimatedGasHex:r}}addGasBuffer(e,t,r=1.5){let n=sw(e),i=sw(t).muln(.9),o=n.muln(r);return n.gt(i)?sb(n):o.lt(i)?sb(o):sb(i)}async determineTransactionCategory(e){let t;let{data:r,to:n}=e,i="";if(r&&!n)t=st.DEPLOY_CONTRACT;else{try{i=await this.providerProxy.request({method:"eth_getCode",params:[n,"latest"]})}catch(e){tP.c.warn(e)}t=i&&"0x"!==i&&"0x0"!==i?st.CONTRACT_INTERACTION:st.SENT_ETHER}return{transactionCategory:t,code:i}}async getDefaultGasLimit(e){let{transactionCategory:t}=await this.determineTransactionCategory((0,c.Z)({},e));if(e.gas)return(0,sn.L_7)(e.gas);if(e.to&&t===st.SENT_ETHER){if(e.data)throw Error("TxGasUtil - Trying to call a function on a non-contract address");return(0,sn.L_7)("5208")}let{blockGasLimit:r,estimatedGasHex:n}=await this.analyzeGasUsage(e);return this.addGasBuffer((0,sn.L_7)(n),r)}}let sI=((i={}).V1="V1",i.V3="V3",i.V4="V4",i);var sC=r(28890),sO=r(54726),sP=r(62408),sT=r(24531),sk=r(4500),sN=r(59179),sM=r(53866),sR=r(64024),sD=r(71616),sL=r(82957).Buffer;class sB{constructor(e){(0,l.Z)(this,"provider",void 0),this.provider=e}async requestAccounts(){return await this.provider.request({method:sD.ij.SOLANA_REQUEST_ACCOUNTS})}async getAccounts(){return await this.provider.request({method:sD.ij.GET_ACCOUNTS})}async signAndSendTransaction(e){return await this.provider.request({method:sD.ij.SEND_TRANSACTION,params:{message:this.serializeTransaction(e)}})}async signTransaction(e){return await this.provider.request({method:sD.ij.SIGN_TRANSACTION,params:{message:this.serializeTransaction(e)}})}async signAllTransactions(e){let t=e.map(e=>this.serializeTransaction(e));return await this.provider.request({method:sD.ij.SIGN_ALL_TRANSACTIONS,params:{message:t}})}async signMessage(e,t){return await this.provider.request({method:sD.ij.SIGN_MESSAGE,params:{data:e,from:t}})}async request(e){return await this.provider.request(e)}serializeTransaction(e){return e instanceof sR.GS?sL.from(e.serialize()).toString("base64"):sL.from(e.serialize({requireAllSignatures:!1})).toString("base64")}}},98600:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return o},modal:function(){return n},passwordless:function(){return i}});var n={"adapter-loader.message":"Verify your {{adapter}} account to continue","adapter-loader.message1":"Verify your {{adapter}}","adapter-loader.message2":"account to continue",allChains:"All Chains","connect-wallet.more-wallets":"More Wallets",connectYourWallet:"Connect your wallet","errors-invalid-email":"Invalid Email","errors-invalid-number":"Invalid Phone Number","errors-invalid-number-email":"Invalid Email or Phone Number","errors-required":"Required","external.all-wallets":"All Wallets","external.back":"Back","external.connect":"Continue with a wallet","external.connect-wallet":"Connect Wallet","external.continue":"Continue with external wallet","external.continue-custom":"Continue with {{wallet}}","external.dont-have":"Don't have","external.get":"Get","external.get-wallet":"Get Wallet","external.install-browser-extension":"Install {{browser}} extension","external.install-mobile-app":"Install {{os}} app","external.installed":"Installed","external.no-wallets-found":"No wallets found","external.qr-code-copied-to-clipboard":"URI copied to clipboard","external.search-subtext":"Try search instead","external.search-text":"Don't see your wallet?","external.search-wallet":"Search through {{count}} wallets...","external.select-chain":"Select Chain","external.select-chain-description":"This {{wallet}} wallet supports multiple chains. Select which chain you'd like to connect to","external.title":"External Wallet","external.walletconnect-connect":"Connect","external.walletconnect-copy":"Scan the QR code with WalletConnect supported wallet or click the QR code to copy link","external.walletconnect-subtitle":"Scan the QR code with a WalletConnect-compatible wallet","footer.and":"and","footer.by-signing-in":"By signing in, you agree to our","footer.message":"Self-custodial login by","footer.message-new":"Self-custody via","footer.policy":"Privacy Policy","footer.privacy-policy":"Privacy Policy","footer.terms":"Terms of Use","footer.terms-of-service":"Terms of Service","footer.terms-service":"Terms of Service","footer.version":"Version",getWallet:"Get Wallet","header-subtitle":"Select one of the following options to continue","header-subtitle-name":"Your {{appName}} wallet with one click","header-subtitle-new":"Your blockchain wallet with one click","header-title":"Sign in","header-tooltip-desc":"The wallet serves as an account to store and manage your digital assets on the blockchain.","header-tooltip-title":"Wallet","loader.authorizing-header":"Verify on {{connector}}","loader.authorizing-message":"Weve sent a request to your wallet. Verify on your wallet to confirm that you own this wallet.","loader.authorizing-verify-btn":" Click here to verify","network.add-request":"This site is requesting to add a network","network.cancel":"Cancel","network.from":"From","network.proceed":"Proceed","network.switch-request":"This site is requesting to switch networks","network.to":"To","otp.email-subtext":"Please enter the 6-digit verification code","otp.email-subtext-example":"that was sent to your email {{email}}","otp.email-title":"Email verification","otp.mobile-subtext":"Enter the OTP sent to","otp.mobile-title":"OTP verification","otp.success":"You are connected to your account!","passkey.add":"Add Passkey","passkey.haveExisting":"Have an existing passkey?","passkey.learn-more":"Learn more","passkey.or":"or","passkey.register-desc":"With passkeys, you can verify your identity through your face, fingerprint, or security keys.","passkey.register-title":"Register Passkey","passkey.use":"I have a passkey","passwordless.title":"Continue with {{title}}","popup.phone-body":"Your country code will be detected automatically, but if you're using a phone number from a different country, you'll need to enter the correct country code manually.","popup.phone-header":"Phone number and country code","post-loading.connected":"You are connected with your account","post-loading.something-wrong":"Something went wrong!",resendCode:"Resend Code",resendTimer:" Resend in {{timer}} seconds","social.continue":"Continue with","social.continueCustom":"Continue with {{adapter}}","social.email":"Email","social.email-continue":"Continue with Email","social.email-new":"name@example.com","social.passwordless-cta":"Continue","social.passwordless-login":"Login","social.passwordless-title":"Email/Phone","social.phone":"Phone","social.policy":"We do not store any data related to your social logins.","social.sign-in":"Sign in","social.sms":"Mobile","social.sms-continue":"Continue with Mobile","social.sms-invalid-number":"Invalid phone number","social.sms-placeholder-text":"E.g.:","social.view-less":"View less","social.view-less-socials":"View less socials","social.view-more":"View more","social.view-more-socials":"View more socials"},i={"error-invalid-link":"Invalid verification link or link expired","error-invalid-origin":"Something went wrong, error code: E002","error-invalid-otp":"Invalid OTP, please try again","error-invalid-params":"Missing or Invalid Parameters.","error-invalid-test-account":"Invalid test account","error-max-retry-limit-reached":"You have reached the limit for wrong attempts. Please restart the flow again to complete verification.","error-new-link-generated-heading":"New verification link generated","error-no-mail-generated":"No mail generated. Please initiate the passwordless flow first.","error-no-sms-generated":"No OTP generated. Please initiate the passwordless flow first.","error-otp-expired":"OTP Expired","error-plan-limit-reached":"E411. Limit Reached","error-recaptcha-verification-failed":"Captcha verification failed. Please try again.","error-sending-sms-failed":"There was an error sending an sms. Please try again.","something-wrong-error":"Something went wrong"},o={modal:n,passwordless:i}},16957:function(e,t,r){"use strict";r.d(t,{dW:function(){return eX},JO:function(){return eQ},Yz:function(){return e0},cp:function(){return eJ}});var n,i,o=r(31686),a=r(56127),s=r(5853),c=r(25566);function l(){return void 0!==c&&c.env?c.env:{}}var u=r(45481),d=r(75068);function f(e,t,r,n){var i,o=[e,t,r,n],a=(0,d.PO)(e)?e.event:e;if(!a||!(0,d.HD)(a))throw Error("Event missing");var s=(0,d.PO)(e)?null!==(i=e.properties)&&void 0!==i?i:{}:(0,d.PO)(t)?t:{},c={};return(0,d.mf)(r)||(c=null!=r?r:{}),(0,d.PO)(e)&&!(0,d.mf)(t)&&(c=null!=t?t:{}),[a,s,c,o.find(d.mf)]}function h(e,t,r,n,i){var o,a,s=null,c=null,l=[e,t,r,n,i],u=l.filter(d.HD);1===u.length?(c=(0,d.HD)(l[1])?l[1]:u[0],s=null):2===u.length&&("string"==typeof l[0]&&(s=l[0]),"string"==typeof l[1]&&(c=l[1]));var f=l.find(d.mf),h=l.filter(d.PO);return 1===h.length?(0,d.PO)(l[2])?(a={},o=l[2]):(0,d.PO)(l[3])?(o={},a=l[3]):(o=h[0],a={}):2===h.length&&(o=h[0],a=h[1]),[s,c,null!=o?o:o={},null!=a?a:a={},f]}var p=function(e){return function(){for(var t,r,n,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];for(var a={},s=["callback","options","traits","id"],c=0;c<i.length;c++){var l=i[c],u=s.pop();if("id"===u){if((0,d.HD)(l)||(0,d.hj)(l)){a.id=l.toString();continue}if(null==l)continue;u=s.pop()}if(("traits"===u||"options"===u)&&(null==l||(0,d.PO)(l))&&(a[u]=l),(0,d.mf)(l)){a.callback=l;break}}return[null!==(t=a.id)&&void 0!==t?t:e.id(),null!==(r=a.traits)&&void 0!==r?r:{},null!==(n=a.options)&&void 0!==n?n:{},a.callback]}};function g(e,t,r,n){(0,d.hj)(e)&&(e=e.toString()),(0,d.hj)(t)&&(t=t.toString());var i=[e,t,r,n],o=i.filter(d.HD),a=o[0],s=void 0===a?e:a,c=o[1],l=i.filter(d.PO)[0];return[s,void 0===c?null:c,void 0===l?{}:l,i.find(d.mf)]}var m=r(88775),y=r(52322),b=r(28554),w=r(9182),v=r(58590),E=function(e,t,r,n,i,o){return{__t:"bpc",c:t,p:n,u:e,s:r,t:i,r:o}},x=Object.keys(E("","","","","","")),A=function(e){var t=e.indexOf("#");return -1===t?e:e.slice(0,t)},S=function(e){try{return new URL(e).pathname}catch(t){return"/"===e[0]?e:"/"+e}},_=function(e){var t=e.c,r=e.p,n=e.s,i=e.u,o=e.r,a=e.t,s=t?S(t):r,c=t?t.indexOf("?")>-1?t:t+n:A(i);return{path:s,referrer:o,search:n,title:a,url:c}},I=function(){var e=document.querySelector("link[rel='canonical']");return E(location.href,e&&e.getAttribute("href")||void 0,location.search,location.pathname,document.title,document.referrer)},C=function(e,t){void 0===t&&(t=_(I()));var r,n,i,o=e.context;"page"===e.type&&(i=e.properties&&(r=e.properties,n=Object.keys(t),Object.assign.apply(Object,(0,s.ev)([{}],n.map(function(e){var t;if(r&&Object.prototype.hasOwnProperty.call(r,e))return(t={})[e]=r[e],t}),!1))),e.properties=(0,s.pi)((0,s.pi)((0,s.pi)({},t),e.properties),e.name?{name:e.name}:{})),o.page=(0,s.pi)((0,s.pi)((0,s.pi)({},t),i),o.page)},O=r(91938),P=function(e){function t(t,r){var n=e.call(this,"".concat(t," ").concat(r))||this;return n.field=t,n}return(0,s.ZT)(t,e),t}(Error),T="is not a string",k="is not an object",N=function(e){var t,r;this.settings=e,this.createMessageId=e.createMessageId,this.onEventMethodCall=null!==(t=e.onEventMethodCall)&&void 0!==t?t:function(){},this.onFinishedEvent=null!==(r=e.onFinishedEvent)&&void 0!==r?r:function(){}},M=function(e){function t(t){var r=e.call(this,{createMessageId:function(){return"ajs-next-".concat(Date.now(),"-").concat((0,v.v4)())},onEventMethodCall:function(e){var t=e.options;r.maybeUpdateAnonId(t)},onFinishedEvent:function(e){return r.addIdentity(e),e}})||this;return r.user=t,r}return(0,s.ZT)(t,e),t.prototype.maybeUpdateAnonId=function(e){(null==e?void 0:e.anonymousId)&&this.user.anonymousId(e.anonymousId)},t.prototype.addIdentity=function(e){this.user.id()&&(e.userId=this.user.id()),this.user.anonymousId()&&(e.anonymousId=this.user.anonymousId())},t.prototype.track=function(t,r,n,i,o){var a=e.prototype.track.call(this,t,r,n,i);return C(a,o),a},t.prototype.page=function(t,r,n,i,o,a){var s=e.prototype.page.call(this,t,r,n,i,o);return C(s,a),s},t.prototype.screen=function(t,r,n,i,o,a){var s=e.prototype.screen.call(this,t,r,n,i,o);return C(s,a),s},t.prototype.identify=function(t,r,n,i,o){var a=e.prototype.identify.call(this,t,r,n,i);return C(a,o),a},t.prototype.group=function(t,r,n,i,o){var a=e.prototype.group.call(this,t,r,n,i);return C(a,o),a},t.prototype.alias=function(t,r,n,i,o){var a=e.prototype.alias.call(this,t,r,n,i);return C(a,o),a},t}(function(){function e(e){this.settings=new N(e)}return e.prototype.track=function(e,t,r,n){return this.settings.onEventMethodCall({type:"track",options:r}),this.normalize((0,s.pi)((0,s.pi)({},this.baseEvent()),{event:e,type:"track",properties:null!=t?t:{},options:(0,s.pi)({},r),integrations:(0,s.pi)({},n)}))},e.prototype.page=function(e,t,r,n,i){this.settings.onEventMethodCall({type:"page",options:n});var o,a={type:"page",properties:(0,s.pi)({},r),options:(0,s.pi)({},n),integrations:(0,s.pi)({},i)};return null!==e&&(a.category=e,a.properties=null!==(o=a.properties)&&void 0!==o?o:{},a.properties.category=e),null!==t&&(a.name=t),this.normalize((0,s.pi)((0,s.pi)({},this.baseEvent()),a))},e.prototype.screen=function(e,t,r,n,i){this.settings.onEventMethodCall({type:"screen",options:n});var o={type:"screen",properties:(0,s.pi)({},r),options:(0,s.pi)({},n),integrations:(0,s.pi)({},i)};return null!==e&&(o.category=e),null!==t&&(o.name=t),this.normalize((0,s.pi)((0,s.pi)({},this.baseEvent()),o))},e.prototype.identify=function(e,t,r,n){return this.settings.onEventMethodCall({type:"identify",options:r}),this.normalize((0,s.pi)((0,s.pi)({},this.baseEvent()),{type:"identify",userId:e,traits:null!=t?t:{},options:(0,s.pi)({},r),integrations:n}))},e.prototype.group=function(e,t,r,n){return this.settings.onEventMethodCall({type:"group",options:r}),this.normalize((0,s.pi)((0,s.pi)({},this.baseEvent()),{type:"group",traits:null!=t?t:{},options:(0,s.pi)({},r),integrations:(0,s.pi)({},n),groupId:e}))},e.prototype.alias=function(e,t,r,n){this.settings.onEventMethodCall({type:"alias",options:r});var i={userId:e,type:"alias",options:(0,s.pi)({},r),integrations:(0,s.pi)({},n)};return(null!==t&&(i.previousId=t),void 0===e)?this.normalize((0,s.pi)((0,s.pi)({},i),this.baseEvent())):this.normalize((0,s.pi)((0,s.pi)({},this.baseEvent()),i))},e.prototype.baseEvent=function(){return{integrations:{},options:{}}},e.prototype.context=function(e){var t,r=["userId","anonymousId","timestamp","messageId"];delete e.integrations;var n=Object.keys(e),i=null!==(t=e.context)&&void 0!==t?t:{},o={};return n.forEach(function(t){"context"!==t&&(r.includes(t)?(0,O.N)(o,t,e[t]):(0,O.N)(i,t,e[t]))}),[i,o]},e.prototype.normalize=function(e){var t,r,n,i,o=Object.keys(null!==(n=e.integrations)&&void 0!==n?n:{}).reduce(function(t,r){var n,i;return(0,s.pi)((0,s.pi)({},t),((n={})[r]=!!(null===(i=e.integrations)||void 0===i?void 0:i[r]),n))},{});e.options=(t=e.options||{},r=function(e,t){return void 0!==t},Object.keys(t).filter(function(e){return r(e,t[e])}).reduce(function(e,r){return e[r]=t[r],e},{}));var a=(0,s.pi)((0,s.pi)({},o),null===(i=e.options)||void 0===i?void 0:i.integrations),c=e.options?this.context(e.options):[],l=c[0],u=c[1],f=e.options,h=(0,s._T)(e,["options"]),p=(0,s.pi)((0,s.pi)((0,s.pi)((0,s.pi)({timestamp:new Date},h),{context:l,integrations:a}),u),{messageId:f.messageId||this.settings.createMessageId()});return this.settings.onFinishedEvent(p),function(e){if(!(0,d.Gg)(e))throw new P("Event","is nil");if("object"!=typeof e)throw new P("Event",k)}(p),function(e){if(!(0,d.HD)(e.type))throw new P(".type",T)}(p),function(e){if(!(0,d.HD)(e.messageId))throw new P(".messageId",T)}(p),"track"===p.type&&(function(e){if(!(0,d.HD)(e.event))throw new P(".event",T)}(p),function(e){if(!(0,d.PO)(e.properties))throw new P(".properties",k)}(p)),["group","identify"].includes(p.type)&&function(e){if(!(0,d.PO)(e.traits))throw new P(".traits",k)}(p),p},e}()),R=function(e){return"addMiddleware"in e&&"destination"===e.type},D=r(14883),L=r(19203),B=r(23790),U=function(){var e,t,r=0;return{done:function(){return e},run:function(n){var i=n();return"object"==typeof i&&null!==i&&"then"in i&&"function"==typeof i.then&&(1==++r&&(e=new Promise(function(e){return t=e})),i.finally(function(){return 0==--r&&t()})),i}}},j=r(24147),$=function(e){function t(t){return e.call(this,"string"==typeof t?new D.$(4,t):t)||this}return(0,s.ZT)(t,e),t.prototype.flush=function(){return(0,s.mG)(this,void 0,void 0,function(){return(0,s.Jh)(this,function(t){return(0,m.s)()?[2,[]]:[2,e.prototype.flush.call(this)]})})},t}(function(e){function t(t){var r=e.call(this)||this;return r.criticalTasks=U(),r.plugins=[],r.failedInitializations=[],r.flushing=!1,r.queue=t,r.queue.on(L.M,function(){r.scheduleFlush(0)}),r}return(0,s.ZT)(t,e),t.prototype.register=function(e,t,r){return(0,s.mG)(this,void 0,void 0,function(){var n,i,o=this;return(0,s.Jh)(this,function(a){switch(a.label){case 0:if(this.plugins.push(t),n=function(r){o.failedInitializations.push(t.name),o.emit("initialization_failure",t),console.warn(t.name,r),e.log("warn","Failed to load destination",{plugin:t.name,error:r}),o.plugins=o.plugins.filter(function(e){return e!==t})},!("destination"===t.type&&"Segment.io"!==t.name))return[3,1];return t.load(e,r).catch(n),[3,4];case 1:return a.trys.push([1,3,,4]),[4,t.load(e,r)];case 2:return a.sent(),[3,4];case 3:return i=a.sent(),n(i),[3,4];case 4:return[2]}})})},t.prototype.deregister=function(e,t,r){return(0,s.mG)(this,void 0,void 0,function(){var n;return(0,s.Jh)(this,function(i){switch(i.label){case 0:if(i.trys.push([0,3,,4]),!t.unload)return[3,2];return[4,Promise.resolve(t.unload(e,r))];case 1:i.sent(),i.label=2;case 2:return this.plugins=this.plugins.filter(function(e){return e.name!==t.name}),[3,4];case 3:return n=i.sent(),e.log("warn","Failed to unload destination",{plugin:t.name,error:n}),[3,4];case 4:return[2]}})})},t.prototype.dispatch=function(e){return(0,s.mG)(this,void 0,void 0,function(){var t;return(0,s.Jh)(this,function(r){return e.log("debug","Dispatching"),e.stats.increment("message_dispatched"),this.queue.push(e),t=this.subscribeToDelivery(e),this.scheduleFlush(0),[2,t]})})},t.prototype.subscribeToDelivery=function(e){return(0,s.mG)(this,void 0,void 0,function(){var t=this;return(0,s.Jh)(this,function(r){return[2,new Promise(function(r){var n=function(i,o){i.isSame(e)&&(t.off("flush",n),r(i))};t.on("flush",n)})]})})},t.prototype.dispatchSingle=function(e){return(0,s.mG)(this,void 0,void 0,function(){var t=this;return(0,s.Jh)(this,function(r){return e.log("debug","Dispatching"),e.stats.increment("message_dispatched"),this.queue.updateAttempts(e),e.attempts=1,[2,this.deliver(e).catch(function(r){return t.enqueuRetry(r,e)?t.subscribeToDelivery(e):(e.setFailedDelivery({reason:r}),e)})]})})},t.prototype.isEmpty=function(){return 0===this.queue.length},t.prototype.scheduleFlush=function(e){var t=this;void 0===e&&(e=500),this.flushing||(this.flushing=!0,setTimeout(function(){t.flush().then(function(){setTimeout(function(){t.flushing=!1,t.queue.length&&t.scheduleFlush(0)},0)})},e))},t.prototype.deliver=function(e){return(0,s.mG)(this,void 0,void 0,function(){var t,r,n,i;return(0,s.Jh)(this,function(o){switch(o.label){case 0:return[4,this.criticalTasks.done()];case 1:o.sent(),t=Date.now(),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,this.flushOne(e)];case 3:return e=o.sent(),r=Date.now()-t,this.emit("delivery_success",e),e.stats.gauge("delivered",r),e.log("debug","Delivered",e.event),[2,e];case 4:throw i=n=o.sent(),e.log("error","Failed to deliver",i),this.emit("delivery_failure",e,i),e.stats.increment("delivery_failed"),n;case 5:return[2]}})})},t.prototype.enqueuRetry=function(e,t){return(!(e instanceof B.Y)||!!e.retry)&&this.queue.pushWithBackoff(t)},t.prototype.flush=function(){return(0,s.mG)(this,void 0,void 0,function(){var e,t;return(0,s.Jh)(this,function(r){switch(r.label){case 0:if(0===this.queue.length||!(e=this.queue.pop()))return[2,[]];e.attempts=this.queue.getAttempts(e),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.deliver(e)];case 2:return e=r.sent(),this.emit("flush",e,!0),[3,4];case 3:return t=r.sent(),this.enqueuRetry(t,e)||(e.setFailedDelivery({reason:t}),this.emit("flush",e,!1)),[2,[]];case 4:return[2,[e]]}})})},t.prototype.isReady=function(){return!0},t.prototype.availableExtensions=function(e){var t,r,n=(t="type",r={},this.plugins.filter(function(t){if("destination"!==t.type&&"Segment.io"!==t.name)return!0;var r,n,i,o=void 0;return null===(r=t.alternativeNames)||void 0===r||r.forEach(function(t){void 0!==e[t]&&(o=e[t])}),null!==(i=null!==(n=e[t.name])&&void 0!==n?n:o)&&void 0!==i?i:!1!==("Segment.io"===t.name||e.All)}).forEach(function(e){var n,i=void 0;if("string"==typeof t){var o=e[t];i="string"!=typeof o?JSON.stringify(o):o}else t instanceof Function&&(i=t(e));void 0!==i&&(r[i]=(0,s.ev)((0,s.ev)([],null!==(n=r[i])&&void 0!==n?n:[],!0),[e],!1))}),r),i=n.before,o=n.enrichment,a=n.destination,c=n.after;return{before:void 0===i?[]:i,enrichment:void 0===o?[]:o,destinations:void 0===a?[]:a,after:void 0===c?[]:c}},t.prototype.flushOne=function(e){var t,r;return(0,s.mG)(this,void 0,void 0,function(){var n,i,o,a,c,l,u,d,f,h,p,g,m;return(0,s.Jh)(this,function(s){switch(s.label){case 0:if(!this.isReady())throw Error("Not ready");e.attempts>1&&this.emit("delivery_retry",e),i=(n=this.availableExtensions(null!==(t=e.event.integrations)&&void 0!==t?t:{})).before,o=n.enrichment,a=0,c=i,s.label=1;case 1:if(!(a<c.length))return[3,4];return l=c[a],[4,(0,j.z)(e,l)];case 2:(u=s.sent())instanceof B._&&(e=u),this.emit("message_enriched",e,l),s.label=3;case 3:return a++,[3,1];case 4:d=0,f=o,s.label=5;case 5:if(!(d<f.length))return[3,8];return h=f[d],[4,(0,j.a)(e,h)];case 6:(u=s.sent())instanceof B._&&(e=u),this.emit("message_enriched",e,h),s.label=7;case 7:return d++,[3,5];case 8:return g=(p=this.availableExtensions(null!==(r=e.event.integrations)&&void 0!==r?r:{})).destinations,m=p.after,[4,new Promise(function(t,r){setTimeout(function(){Promise.all(g.map(function(t){return(0,j.a)(e,t)})).then(t).catch(r)},0)})];case 9:return s.sent(),e.stats.increment("message_delivered"),this.emit("message_delivered",e),[4,Promise.all(m.map(function(t){return(0,j.a)(e,t)}))];case 10:return s.sent(),[2,e]}})})},t}(w.Q));function F(e){for(var t=e.constructor.prototype,r=0,n=Object.getOwnPropertyNames(t);r<n.length;r++){var i=n[r];if("constructor"!==i){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);o&&"function"==typeof o.value&&(e[i]=e[i].bind(e))}}return e}var z={Cookie:"cookie",LocalStorage:"localStorage",Memory:"memory"},q=function(e,t,r,n){console.warn("".concat(e.constructor.name,": Can't ").concat(t,' key "').concat(r,'" | Err: ').concat(n))},G=function(){function e(e){this.stores=e}return e.prototype.get=function(e){for(var t=null,r=0,n=this.stores;r<n.length;r++){var i=n[r];try{if(null!=(t=i.get(e)))return t}catch(t){q(i,"get",e,t)}}return null},e.prototype.set=function(e,t){this.stores.forEach(function(r){try{r.set(e,t)}catch(t){q(r,"set",e,t)}})},e.prototype.clear=function(e){this.stores.forEach(function(t){try{t.remove(e)}catch(r){q(t,"remove",e,r)}})},e.prototype.getAndSync=function(e){var t=this.get(e),r="number"==typeof t?t.toString():t;return this.set(e,r),r},e}(),H=function(){function e(){this.cache={}}return e.prototype.get=function(e){var t;return null!==(t=this.cache[e])&&void 0!==t?t:null},e.prototype.set=function(e,t){this.cache[e]=t},e.prototype.remove=function(e){delete this.cache[e]},e}();function V(e){return e&&e.stores&&Array.isArray(e.stores)&&e.stores.every(function(e){return Object.values(z).includes(e)})}function W(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}var Z=function e(t,r){function n(e,n,i){if("undefined"!=typeof document){"number"==typeof(i=W({},r,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var a in i)i[a]&&(o+="; "+a,!0!==i[a]&&(o+="="+i[a].split(";")[0]));return document.cookie=e+"="+t.write(n,e)+o}}return Object.create({set:n,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var r=document.cookie?document.cookie.split("; "):[],n={},i=0;i<r.length;i++){var o=r[i].split("="),a=o.slice(1).join("=");try{var s=decodeURIComponent(o[0]);if(n[s]=t.read(a,s),e===s)break}catch(e){}}return e?n[e]:n}},remove:function(e,t){n(e,"",W({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,W({},this.attributes,t))},withConverter:function(t){return e(W({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});function K(e){var t=function(e){try{return new URL(e)}catch(e){return}}(e);if(t)for(var r=function(e){var t=e.hostname.split("."),r=t[t.length-1],n=[];if(4===t.length&&parseInt(r,10)>0||t.length<=1)return n;for(var i=t.length-2;i>=0;--i)n.push(t.slice(i).join("."));return n}(t),n=0;n<r.length;++n){var i="__tld__",o=r[n],a={domain:"."+o};try{if(Z.set(i,"1",a),Z.get(i))return Z.remove(i,a),o}catch(e){return}}}var Y=function(){function e(t){void 0===t&&(t=e.defaults),this.options=(0,s.pi)((0,s.pi)({},e.defaults),t)}return Object.defineProperty(e,"defaults",{get:function(){return{maxage:365,domain:K(window.location.href),path:"/",sameSite:"Lax"}},enumerable:!1,configurable:!0}),e.prototype.opts=function(){return{sameSite:this.options.sameSite,expires:this.options.maxage,domain:this.options.domain,path:this.options.path,secure:this.options.secure}},e.prototype.get=function(e){var t;try{var r=Z.get(e);if(null==r)return null;try{return null!==(t=JSON.parse(r))&&void 0!==t?t:null}catch(e){return null!=r?r:null}}catch(e){return null}},e.prototype.set=function(e,t){"string"==typeof t?Z.set(e,t,this.opts()):null===t?Z.remove(e,this.opts()):Z.set(e,JSON.stringify(t),this.opts())},e.prototype.remove=function(e){return Z.remove(e,this.opts())},e}(),J=function(){function e(){}return e.prototype.localStorageWarning=function(e,t){console.warn("Unable to access ".concat(e,", localStorage may be ").concat(t))},e.prototype.get=function(e){var t;try{var r=localStorage.getItem(e);if(null===r)return null;try{return null!==(t=JSON.parse(r))&&void 0!==t?t:null}catch(e){return null!=r?r:null}}catch(t){return this.localStorageWarning(e,"unavailable"),null}},e.prototype.set=function(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(t){this.localStorageWarning(e,"full")}},e.prototype.remove=function(e){try{return localStorage.removeItem(e)}catch(t){this.localStorageWarning(e,"unavailable")}},e}();function X(e){return e.map(function(e){var t,r;switch("object"==typeof e&&void 0!==e.name?(t=e.name,r=e.settings):t=e,t){case z.Cookie:return new Y(r);case z.LocalStorage:return new J;case z.Memory:return new H;default:throw Error("Unknown Store Type: ".concat(e))}})}function Q(e,t){return e.map(function(e){return t&&e===z.Cookie?{name:e,settings:t}:e})}var ee={persist:!0,cookie:{key:"ajs_user_id",oldKey:"ajs_user"},localStorage:{key:"ajs_user_traits"}},et=function(){function e(e,t){void 0===e&&(e=ee);var r,n,i,o,a=this;this.options={},this.id=function(e){if(a.options.disable)return null;var t=a.identityStore.getAndSync(a.idKey);void 0!==e&&(a.identityStore.set(a.idKey,e),e!==t&&null!==t&&null!==e&&a.anonymousId(null));var r=a.identityStore.getAndSync(a.idKey);if(r)return r;var n=a.legacyUserStore.get(ee.cookie.oldKey);return n?"object"==typeof n?n.id:n:null},this.anonymousId=function(e){var t,r;if(a.options.disable)return null;if(void 0===e){var n=null!==(t=a.identityStore.getAndSync(a.anonKey))&&void 0!==t?t:null===(r=a.legacySIO())||void 0===r?void 0:r[0];if(n)return n}return null===e?a.identityStore.set(a.anonKey,null):a.identityStore.set(a.anonKey,null!=e?e:(0,v.v4)()),a.identityStore.getAndSync(a.anonKey)},this.traits=function(e){var t;if(!a.options.disable)return null===e&&(e={}),e&&a.traitsStore.set(a.traitsKey,null!=e?e:{}),null!==(t=a.traitsStore.get(a.traitsKey))&&void 0!==t?t:{}},this.options=(0,s.pi)((0,s.pi)({},ee),e),this.cookieOptions=t,this.idKey=null!==(n=null===(r=e.cookie)||void 0===r?void 0:r.key)&&void 0!==n?n:ee.cookie.key,this.traitsKey=null!==(o=null===(i=e.localStorage)||void 0===i?void 0:i.key)&&void 0!==o?o:ee.localStorage.key,this.anonKey="ajs_anonymous_id",this.identityStore=this.createStorage(this.options,t),this.legacyUserStore=this.createStorage(this.options,t,function(e){return e===z.Cookie}),this.traitsStore=this.createStorage(this.options,t,function(e){return e!==z.Cookie});var c=this.legacyUserStore.get(ee.cookie.oldKey);c&&"object"==typeof c&&(c.id&&this.id(c.id),c.traits&&this.traits(c.traits)),F(this)}return e.prototype.legacySIO=function(){var e=this.legacyUserStore.get("_sio");if(!e)return null;var t=e.split("----");return[t[0],t[1]]},e.prototype.identify=function(e,t){if(!this.options.disable){t=null!=t?t:{};var r=this.id();(null===r||r===e)&&(t=(0,s.pi)((0,s.pi)({},this.traits()),t)),e&&this.id(e),this.traits(t)}},e.prototype.logout=function(){this.anonymousId(null),this.id(null),this.traits({})},e.prototype.reset=function(){this.logout(),this.identityStore.clear(this.idKey),this.identityStore.clear(this.anonKey),this.traitsStore.clear(this.traitsKey)},e.prototype.load=function(){return new e(this.options,this.cookieOptions)},e.prototype.save=function(){return!0},e.prototype.createStorage=function(e,t,r){var n=[z.LocalStorage,z.Cookie,z.Memory];return e.disable?new G([]):e.persist?(void 0!==e.storage&&null!==e.storage&&V(e.storage)&&(n=e.storage.stores),e.localStorageFallbackDisabled&&(n=n.filter(function(e){return e!==z.LocalStorage})),r&&(n=n.filter(r)),new G(X(Q(n,t)))):new G([new H])},e.defaults=ee,e}(),er={persist:!0,cookie:{key:"ajs_group_id"},localStorage:{key:"ajs_group_properties"}},en=function(e){function t(t,r){void 0===t&&(t=er);var n=e.call(this,(0,s.pi)((0,s.pi)({},er),t),r)||this;return n.anonymousId=function(e){},F(n),n}return(0,s.ZT)(t,e),t}(et),ei=r(78353),eo=r(30339),ea=r(97608),es=r(59400),ec=function(e,t,r){r.getAndRemove(e).forEach(function(e){em(t,e).catch(console.error)})},el=ec.bind(void 0,"on"),eu=ec.bind(void 0,"setAnonymousId"),ed=function(e,t){Object.keys(t.calls).forEach(function(r){t.getAndRemove(r).forEach(function(t){setTimeout(function(){em(e,t).catch(console.error)},0)})})},ef=function(e){if(eh(e))return _(e.pop())},eh=function(e){return function(e){if("object"!==Object.prototype.toString.call(e).slice(8,-1).toLowerCase()||"bpc"!==e.__t)return!1;for(var t in e)if(!x.includes(t))return!1;return!0}(e[e.length-1])},ep=function(e,t,r,n){void 0===r&&(r=function(){}),void 0===n&&(n=console.error),this.method=e,this.resolve=r,this.reject=n,this.called=!1,this.args=t},eg=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._callMap={},this.add.apply(this,e)}return Object.defineProperty(e.prototype,"calls",{get:function(){return this._pushSnippetWindowBuffer(),this._callMap},set:function(e){this._callMap=e},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t;return null!==(t=this.calls[e])&&void 0!==t?t:[]},e.prototype.getAndRemove=function(e){var t=this.get(e);return this.calls[e]=[],t},e.prototype.add=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];t.forEach(function(t){["track","screen","alias","group","page","identify"].includes(t.method)&&!eh(t.args)&&(t.args=(0,s.ev)((0,s.ev)([],t.args,!0),[I()],!1)),e.calls[t.method]?e.calls[t.method].push(t):e.calls[t.method]=[t]})},e.prototype.clear=function(){this._pushSnippetWindowBuffer(),this.calls={}},e.prototype.toArray=function(){var e;return(e=[]).concat.apply(e,Object.values(this.calls))},e.prototype._pushSnippetWindowBuffer=function(){if("npm"!==(0,es.B)()){var e=(0,ea.wI)();if(Array.isArray(e)){var t=e.splice(0,e.length).map(function(e){return new ep(e[0],e.slice(1))});this.add.apply(this,t)}}},e}();function em(e,t){return(0,s.mG)(this,void 0,void 0,function(){var r,n;return(0,s.Jh)(this,function(i){switch(i.label){case 0:var o;if(i.trys.push([0,3,,4]),t.called)return[2,void 0];if(t.called=!0,!("object"==typeof(o=r=e[t.method].apply(e,t.args))&&null!==o&&"then"in o&&"function"==typeof o.then))return[3,2];return[4,r];case 1:i.sent(),i.label=2;case 2:return t.resolve(r),[3,4];case 3:return n=i.sent(),t.reject(n),[3,4];case 4:return[2]}})})}var ey=function(){function e(e){var t=this;this.trackSubmit=this._createMethod("trackSubmit"),this.trackClick=this._createMethod("trackClick"),this.trackLink=this._createMethod("trackLink"),this.pageView=this._createMethod("pageview"),this.identify=this._createMethod("identify"),this.reset=this._createMethod("reset"),this.group=this._createMethod("group"),this.track=this._createMethod("track"),this.ready=this._createMethod("ready"),this.alias=this._createMethod("alias"),this.debug=this._createChainableMethod("debug"),this.page=this._createMethod("page"),this.once=this._createChainableMethod("once"),this.off=this._createChainableMethod("off"),this.on=this._createChainableMethod("on"),this.addSourceMiddleware=this._createMethod("addSourceMiddleware"),this.setAnonymousId=this._createMethod("setAnonymousId"),this.addDestinationMiddleware=this._createMethod("addDestinationMiddleware"),this.screen=this._createMethod("screen"),this.register=this._createMethod("register"),this.deregister=this._createMethod("deregister"),this.user=this._createMethod("user"),this.VERSION=ei.i,this._preInitBuffer=new eg,this._promise=e(this._preInitBuffer),this._promise.then(function(e){var r=e[0],n=e[1];t.instance=r,t.ctx=n}).catch(function(){})}return e.prototype.then=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return(e=this._promise).then.apply(e,t)},e.prototype.catch=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return(e=this._promise).catch.apply(e,t)},e.prototype.finally=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return(e=this._promise).finally.apply(e,t)},e.prototype._createMethod=function(e){var t=this;return function(){for(var r,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return t.instance?Promise.resolve((r=t.instance)[e].apply(r,n)):new Promise(function(r,i){t._preInitBuffer.add(new ep(e,n,r,i))})}},e.prototype._createChainableMethod=function(e){var t=this;return function(){for(var r,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return t.instance?(r=t.instance)[e].apply(r,n):t._preInitBuffer.add(new ep(e,n)),t}},e}(),eb=r(96526),ew=r(74683),ev=function(e){var t=!1;window.addEventListener("pagehide",function(){t||e(t=!0)}),document.addEventListener("visibilitychange",function(){if("hidden"==document.visibilityState){if(t)return;t=!0}else t=!1;e(t)})},eE=function(e){function t(t,r){var n=e.call(this,t)||this;return n.retryTimeout=r,n.name="RateLimitError",n}return(0,s.ZT)(t,e),t}(Error),ex=function(e){return(0,s.pi)({"Content-Type":"text/plain"},"function"==typeof e?e():e)};function eA(e){return(encodeURI(JSON.stringify(e)).split(/%..|./).length-1)/1024}var eS=r(4488);function e_(e,t,r,n){var i=this;e||setTimeout(function(){return(0,s.mG)(i,void 0,void 0,function(){var e,i;return(0,s.Jh)(this,function(o){switch(o.label){case 0:return e=!0,[4,function(e,t){return(0,s.mG)(this,void 0,void 0,function(){var r,n=this;return(0,s.Jh)(this,function(i){switch(i.label){case 0:if(r=[],(0,m.s)())return[2,t];return[4,(0,eS.x)(function(){return t.length>0&&!(0,m.s)()},function(){return(0,s.mG)(n,void 0,void 0,function(){var n;return(0,s.Jh)(this,function(i){switch(i.label){case 0:if(!(n=t.pop()))return[2];return[4,(0,j.a)(n,e)];case 1:return i.sent() instanceof y._||r.push(n),[2]}})})})];case 1:return i.sent(),r.map(function(e){return t.pushWithBackoff(e)}),[2,t]}})})}(r,t)];case 1:return i=o.sent(),e=!1,t.todo>0&&n(e,i,r,n),[2]}})})},5e3*Math.random())}var eI=r(23192),eC=function(e){return"Segment.io"===e.name},eO="This is being deprecated and will be not be available in future releases of Analytics JS",eP=(0,eo.R)(),eT=null==eP?void 0:eP.analytics,ek=function(){function e(e,t){var r;this.timeout=300,this._getSegmentPluginMetadata=function(){var e;return null===(e=t.plugins.find(eC))||void 0===e?void 0:e.metadata},this.writeKey=e.writeKey,this.cdnSettings=null!==(r=e.cdnSettings)&&void 0!==r?r:{integrations:{"Segment.io":{apiKey:""}}},this.cdnURL=e.cdnURL}return Object.defineProperty(e.prototype,"apiHost",{get:function(){var e,t;return null===(t=null===(e=this._getSegmentPluginMetadata)||void 0===e?void 0:e.call(this))||void 0===t?void 0:t.apiHost},enumerable:!1,configurable:!0}),e}();function eN(){console.warn(eO)}var eM=function(e){function t(t,r,n,i,o){var a,c,l,u,d,f,h=this;(h=e.call(this)||this)._debug=!1,h.initialized=!1,h.user=function(){return h._user},h.init=h.initialize.bind(h),h.log=eN,h.addIntegrationMiddleware=eN,h.listeners=eN,h.addEventListener=eN,h.removeAllListeners=eN,h.removeListener=eN,h.removeEventListener=eN,h.hasListeners=eN,h.add=eN,h.addIntegration=eN;var p=null==r?void 0:r.cookie,g=null!==(d=null==r?void 0:r.disableClientPersistence)&&void 0!==d&&d;h.queue=null!=n?n:(a="".concat(t.writeKey,":event-queue"),void 0===(c=null==r?void 0:r.retryQueue)&&(c=!1),void 0===(l=g)&&(l=!1),u=c?10:1,new $(l?new L.Z(u,[]):new D.$(u,a))),h.settings=new ek(t,h.queue);var m=null==r?void 0:r.storage;return h._universalStorage=h.createStore(g,m,p),h._user=null!=i?i:new et((0,s.pi)({persist:!g,storage:null==r?void 0:r.storage},null==r?void 0:r.user),p).load(),h._group=null!=o?o:new en((0,s.pi)({persist:!g,storage:null==r?void 0:r.storage},null==r?void 0:r.group),p).load(),h.eventFactory=new M(h._user),h.integrations=null!==(f=null==r?void 0:r.integrations)&&void 0!==f?f:{},h.options=null!=r?r:{},F(h),h}return(0,s.ZT)(t,e),t.prototype.createStore=function(e,t,r){return new G(e?[new H]:t&&V(t)?X(Q(t.stores,r)):X([z.LocalStorage,{name:z.Cookie,settings:r},z.Memory]))},Object.defineProperty(t.prototype,"storage",{get:function(){return this._universalStorage},enumerable:!1,configurable:!0}),t.prototype.track=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,s.mG)(this,void 0,void 0,function(){var t,r,n,i,o,a,c,l=this;return(0,s.Jh)(this,function(s){return t=ef(e),n=(r=f.apply(void 0,e))[0],i=r[1],o=r[2],a=r[3],c=this.eventFactory.track(n,i,o,this.integrations,t),[2,this._dispatch(c,a).then(function(e){return l.emit("track",n,e.event.properties,e.event.options),e})]})})},t.prototype.page=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,s.mG)(this,void 0,void 0,function(){var t,r,n,i,o,a,c,l,u=this;return(0,s.Jh)(this,function(s){return t=ef(e),n=(r=h.apply(void 0,e))[0],i=r[1],o=r[2],a=r[3],c=r[4],l=this.eventFactory.page(n,i,o,a,this.integrations,t),[2,this._dispatch(l,c).then(function(e){return u.emit("page",n,i,e.event.properties,e.event.options),e})]})})},t.prototype.identify=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,s.mG)(this,void 0,void 0,function(){var t,r,n,i,o,a,c,l=this;return(0,s.Jh)(this,function(s){return t=ef(e),n=(r=p(this._user).apply(void 0,e))[0],i=r[1],o=r[2],a=r[3],this._user.identify(n,i),c=this.eventFactory.identify(this._user.id(),this._user.traits(),o,this.integrations,t),[2,this._dispatch(c,a).then(function(e){return l.emit("identify",e.event.userId,e.event.traits,e.event.options),e})]})})},t.prototype.group=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=ef(t);if(0===t.length)return this._group;var i=p(this._group).apply(void 0,t),o=i[0],a=i[1],s=i[2],c=i[3];this._group.identify(o,a);var l=this._group.id(),u=this._group.traits(),d=this.eventFactory.group(l,u,s,this.integrations,n);return this._dispatch(d,c).then(function(t){return e.emit("group",t.event.groupId,t.event.traits,t.event.options),t})},t.prototype.alias=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,s.mG)(this,void 0,void 0,function(){var t,r,n,i,o,a,c,l=this;return(0,s.Jh)(this,function(s){return t=ef(e),n=(r=g.apply(void 0,e))[0],i=r[1],o=r[2],a=r[3],c=this.eventFactory.alias(n,i,o,this.integrations,t),[2,this._dispatch(c,a).then(function(e){return l.emit("alias",n,i,e.event.options),e})]})})},t.prototype.screen=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,s.mG)(this,void 0,void 0,function(){var t,r,n,i,o,a,c,l,u=this;return(0,s.Jh)(this,function(s){return t=ef(e),n=(r=h.apply(void 0,e))[0],i=r[1],o=r[2],a=r[3],c=r[4],l=this.eventFactory.screen(n,i,o,a,this.integrations,t),[2,this._dispatch(l,c).then(function(e){return u.emit("screen",n,i,e.event.properties,e.event.options),e})]})})},t.prototype.trackClick=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,s.mG)(this,void 0,void 0,function(){var t;return(0,s.Jh)(this,function(n){switch(n.label){case 0:return[4,r.e(8119).then(r.bind(r,86404))];case 1:return[2,(t=n.sent().link).call.apply(t,(0,s.ev)([this],e,!1))]}})})},t.prototype.trackLink=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,s.mG)(this,void 0,void 0,function(){var t;return(0,s.Jh)(this,function(n){switch(n.label){case 0:return[4,r.e(8119).then(r.bind(r,86404))];case 1:return[2,(t=n.sent().link).call.apply(t,(0,s.ev)([this],e,!1))]}})})},t.prototype.trackSubmit=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,s.mG)(this,void 0,void 0,function(){var t;return(0,s.Jh)(this,function(n){switch(n.label){case 0:return[4,r.e(8119).then(r.bind(r,86404))];case 1:return[2,(t=n.sent().form).call.apply(t,(0,s.ev)([this],e,!1))]}})})},t.prototype.trackForm=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,s.mG)(this,void 0,void 0,function(){var t;return(0,s.Jh)(this,function(n){switch(n.label){case 0:return[4,r.e(8119).then(r.bind(r,86404))];case 1:return[2,(t=n.sent().form).call.apply(t,(0,s.ev)([this],e,!1))]}})})},t.prototype.register=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,s.mG)(this,void 0,void 0,function(){var t,r=this;return(0,s.Jh)(this,function(n){switch(n.label){case 0:return t=y._.system(),[4,Promise.all(e.map(function(e){return r.queue.register(t,e,r)}))];case 1:return n.sent(),[2,t]}})})},t.prototype.deregister=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,s.mG)(this,void 0,void 0,function(){var t,r=this;return(0,s.Jh)(this,function(n){switch(n.label){case 0:return t=y._.system(),[4,Promise.all(e.map(function(e){var n=r.queue.plugins.find(function(t){return t.name===e});if(n)return r.queue.deregister(t,n,r);t.log("warn","plugin ".concat(e," not found"))}))];case 1:return n.sent(),[2,t]}})})},t.prototype.debug=function(e){return!1===e&&localStorage.getItem("debug")&&localStorage.removeItem("debug"),this._debug=e,this},t.prototype.reset=function(){this._user.reset(),this._group.reset(),this.emit("reset")},t.prototype.timeout=function(e){this.settings.timeout=e},t.prototype._dispatch=function(e,t){return(0,s.mG)(this,void 0,void 0,function(){var r;return(0,s.Jh)(this,function(n){return((r=new y._(e)).stats.increment("analytics_js.invoke",1,[e.type]),(0,m.s)()&&!this.options.retryQueue)?[2,r]:[2,function(e,t,r,n){return(0,s.mG)(this,void 0,void 0,function(){var i,o;return(0,s.Jh)(this,function(a){switch(a.label){case 0:if(r.emit("dispatch_start",e),i=Date.now(),!t.isEmpty())return[3,2];return[4,t.dispatchSingle(e)];case 1:return o=a.sent(),[3,4];case 2:return[4,t.dispatch(e)];case 3:o=a.sent(),a.label=4;case 4:var s,c;if(!(null==n?void 0:n.callback))return[3,6];return[4,(0,b.UI)(o,n.callback,(s=i,Math.max((null!=(c=n.timeout)?c:300)-(Date.now()-s),0)))];case 5:o=a.sent(),a.label=6;case 6:return(null==n?void 0:n.debug)&&o.flush(),[2,o]}})})}(r,this.queue,this,{callback:t,debug:this._debug,timeout:this.settings.timeout})]})})},t.prototype.addSourceMiddleware=function(e){return(0,s.mG)(this,void 0,void 0,function(){var t=this;return(0,s.Jh)(this,function(n){switch(n.label){case 0:return[4,this.queue.criticalTasks.run(function(){return(0,s.mG)(t,void 0,void 0,function(){var t,n,i;return(0,s.Jh)(this,function(o){switch(o.label){case 0:return[4,Promise.resolve().then(r.bind(r,55217))];case 1:return t=o.sent().sourceMiddlewarePlugin,n={},this.queue.plugins.forEach(function(e){if("destination"===e.type)return n[e.name]=!0}),i=t(e,n),[4,this.register(i)];case 2:return o.sent(),[2]}})})})];case 1:return n.sent(),[2,this]}})})},t.prototype.addDestinationMiddleware=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return this.queue.plugins.filter(R).forEach(function(r){("*"===e||r.name.toLowerCase()===e.toLowerCase())&&r.addMiddleware.apply(r,t)}),Promise.resolve(this)},t.prototype.setAnonymousId=function(e){return this._user.anonymousId(e)},t.prototype.queryString=function(e){return(0,s.mG)(this,void 0,void 0,function(){return(0,s.Jh)(this,function(t){switch(t.label){case 0:if(!1===this.options.useQueryString)return[2,[]];return[4,r.e(3096).then(r.bind(r,29164))];case 1:return[2,(0,t.sent().queryString)(this,e)]}})})},t.prototype.use=function(e){return e(this),this},t.prototype.ready=function(e){return void 0===e&&(e=function(e){return e}),(0,s.mG)(this,void 0,void 0,function(){return(0,s.Jh)(this,function(t){return[2,Promise.all(this.queue.plugins.map(function(e){return e.ready?e.ready():Promise.resolve()})).then(function(t){return e(t),t})]})})},t.prototype.noConflict=function(){return console.warn(eO),(0,ea.ql)(null!=eT?eT:this),this},t.prototype.normalize=function(e){return console.warn(eO),this.eventFactory.normalize(e)},Object.defineProperty(t.prototype,"failedInitializations",{get:function(){return console.warn(eO),this.queue.failedInitializations},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"VERSION",{get:function(){return ei.i},enumerable:!1,configurable:!0}),t.prototype.initialize=function(e,t){return(0,s.mG)(this,void 0,void 0,function(){return(0,s.Jh)(this,function(e){return console.warn(eO),[2,Promise.resolve(this)]})})},t.prototype.pageview=function(e){return(0,s.mG)(this,void 0,void 0,function(){return(0,s.Jh)(this,function(t){switch(t.label){case 0:return console.warn(eO),[4,this.page({path:e})];case 1:return t.sent(),[2,this]}})})},Object.defineProperty(t.prototype,"plugins",{get:function(){var e;return console.warn(eO),null!==(e=this._plugins)&&void 0!==e?e:{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Integrations",{get:function(){return console.warn(eO),this.queue.plugins.filter(function(e){return"destination"===e.type}).reduce(function(e,t){var r="".concat(t.name.toLowerCase().replace(".","").split(" ").join("-"),"Integration"),n=window[r];if(!n)return e;var i=n.Integration;return i?e[t.name]=i:e[t.name]=n,e},{})},enumerable:!1,configurable:!0}),t.prototype.push=function(e){var t=e.shift();(!t||this[t])&&this[t].apply(this,e)},t}(w.Q),eR=function(e){function t(){var t=e.call(this,{writeKey:""},{disableClientPersistence:!0})||this;return t.initialized=!0,t}return(0,s.ZT)(t,e),t}(eM),eD=r(70900),eL=r(94730),eB=r(43051),eU=function(e){try{var t=new URLSearchParams;return Object.entries(e).forEach(function(e){var r=e[0],n=e[1];Array.isArray(n)?n.forEach(function(e){return t.append(r,e)}):t.append(r,n)}),t.toString()}catch(e){return""}},ej=new function(){var e=this;this.name="Page Enrichment",this.type="before",this.version="0.1.0",this.isLoaded=function(){return!0},this.load=function(t,r){return(0,s.mG)(e,void 0,void 0,function(){var e;return(0,s.Jh)(this,function(t){switch(t.label){case 0:this.instance=r,t.label=1;case 1:return t.trys.push([1,3,,4]),e=this,[4,function(e){return(0,s.mG)(this,void 0,void 0,function(){var t;return(0,s.Jh)(this,function(r){return(t=navigator.userAgentData)?e?[2,t.getHighEntropyValues(e).catch(function(){return t.toJSON()})]:[2,t.toJSON()]:[2,void 0]})})}(this.instance.options.highEntropyValuesClientHints)];case 2:return e.userAgentData=t.sent(),[3,4];case 3:return t.sent(),[3,4];case 4:return[2,Promise.resolve()]}})})},this.enrich=function(t){var r,i,o,a,c,l,u,d=t.event.context,f=d.page.search||"",h="object"==typeof f?eU(f):f;d.userAgent=navigator.userAgent,d.userAgentData=e.userAgentData;var p=navigator.userLanguage||navigator.language;void 0===d.locale&&void 0!==p&&(d.locale=p),null!==(l=d.library)&&void 0!==l||(d.library={name:"analytics.js",version:"".concat("web"===(0,es.B)()?"next":"npm:next","-").concat(ei.i)}),h&&!d.campaign&&(d.campaign=((c=h).startsWith("?")&&(c=c.substring(1)),(c=c.replace(/\?/g,"&")).split("&").reduce(function(e,t){var r=t.split("="),n=r[0],i=r[1];if(n.includes("utm_")&&n.length>4){var o=n.slice(4);"campaign"===o&&(o="name"),e[o]=(0,eB.a)(void 0===i?"":i)}return e},{})));var g=function(){var e=Z.get("_ga");if(e&&e.startsWith("amp"))return e}();g&&(d.amp={id:g}),o=(i=new G(null!==(u=e.instance.options.disableClientPersistence)&&void 0!==u&&u?[]:[new Y(function(){if(n)return n;var e=K(window.location.href);return n={expires:31536e6,secure:!1,path:"/"},e&&(n.domain=e),n}())])).get("s:context.referrer"),(a=null!==(r=function(e){var t={btid:"dataxu",urid:"millennial-media"};e.startsWith("?")&&(e=e.substring(1));for(var r=(e=e.replace(/\?/g,"&")).split("&"),n=0;n<r.length;n++){var i=r[n].split("="),o=i[0],a=i[1];if(t[o])return{id:a,type:t[o]}}}(h))&&void 0!==r?r:o)&&(d&&(d.referrer=(0,s.pi)((0,s.pi)({},d.referrer),a)),i.set("s:context.referrer",a));try{d.timezone=Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){}return t},this.track=this.enrich,this.identify=this.enrich,this.page=this.enrich,this.group=this.enrich,this.alias=this.enrich,this.screen=this.enrich},e$=r(18140),eF=r(55217),ez=r(95329),eq=function(){function e(e,t){this.version="1.0.0",this.alternativeNames=[],this.loadPromise=(0,eL.d)(),this.middleware=[],this.alias=this._createMethod("alias"),this.group=this._createMethod("group"),this.identify=this._createMethod("identify"),this.page=this._createMethod("page"),this.screen=this._createMethod("screen"),this.track=this._createMethod("track"),this.action=t,this.name=e,this.type=t.type,this.alternativeNames.push(t.name)}return e.prototype.addMiddleware=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];"destination"===this.type&&(e=this.middleware).push.apply(e,t)},e.prototype.transform=function(e){return(0,s.mG)(this,void 0,void 0,function(){var t;return(0,s.Jh)(this,function(r){switch(r.label){case 0:return[4,(0,eF.applyDestinationMiddleware)(this.name,e.event,this.middleware)];case 1:return null===(t=r.sent())&&e.cancel(new B.Y({retry:!1,reason:"dropped by destination middleware"})),[2,new y._(t)]}})})},e.prototype._createMethod=function(e){var t=this;return function(r){return(0,s.mG)(t,void 0,void 0,function(){var t,n;return(0,s.Jh)(this,function(i){switch(i.label){case 0:if(!this.action[e])return[2,r];if(t=r,"destination"!==this.type)return[3,2];return[4,this.transform(r)];case 1:t=i.sent(),i.label=2;case 2:return i.trys.push([2,5,,6]),[4,this.ready()];case 3:if(!i.sent())throw Error("Something prevented the destination from getting ready");return(0,ez.z)(r,{integrationName:this.action.name,methodName:e,type:"action"}),[4,this.action[e](t)];case 4:return i.sent(),[3,6];case 5:throw n=i.sent(),(0,ez.z)(r,{integrationName:this.action.name,methodName:e,type:"action",didError:!0}),n;case 6:return[2,r]}})})}},e.prototype.isLoaded=function(){return this.action.isLoaded()},e.prototype.ready=function(){return(0,s.mG)(this,void 0,void 0,function(){return(0,s.Jh)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.loadPromise.promise];case 1:return e.sent(),[2,!0];case 2:return e.sent(),[2,!1];case 3:return[2]}})})},e.prototype.load=function(e,t){return(0,s.mG)(this,void 0,void 0,function(){var r,n,i,o;return(0,s.Jh)(this,function(a){switch(a.label){case 0:if(this.loadPromise.isSettled())return[2,this.loadPromise.promise];a.label=1;case 1:return a.trys.push([1,3,,4]),(0,ez.z)(e,{integrationName:this.action.name,methodName:"load",type:"action"}),r=this.action.load(e,t),i=(n=this.loadPromise).resolve,[4,r];case 2:return i.apply(n,[a.sent()]),[2,r];case 3:throw o=a.sent(),(0,ez.z)(e,{integrationName:this.action.name,methodName:"load",type:"action",didError:!0}),this.loadPromise.reject(o),o;case 4:return[2]}})})},e.prototype.unload=function(e,t){var r,n;return null===(n=(r=this.action).unload)||void 0===n?void 0:n.call(r,e,t)},e}(),eG=(0,eo.R)(),eH=null!==(i=eG.__SEGMENT_INSPECTOR__)&&void 0!==i?i:eG.__SEGMENT_INSPECTOR__={},eV=function(e){var t;return null===(t=eH.attach)||void 0===t?void 0:t.call(eH,e)},eW=r(95424),eZ=function(){var e,t,r=null!==(e=window.location.hash)&&void 0!==e?e:"",n=null!==(t=window.location.search)&&void 0!==t?t:"";return n.length?n:r.replace(/(?=#).*(?=\?)/,"")},eK=function(e){function t(){var t=this,n=(0,eL.d)(),i=n.promise,o=n.resolve;return(t=e.call(this,function(e){return i.then(function(t){return function(e,t,n){var i,o,a,c,d,f,h,p,g;return void 0===t&&(t={}),(0,s.mG)(this,void 0,void 0,function(){var b,w,v,E,x,A,S,_,I,C;return(0,s.Jh)(this,function(O){switch(O.label){case 0:if(!0===t.disable)return[2,[new eR,y._.system()]];if(t.globalAnalyticsKey&&(0,ea.jV)(t.globalAnalyticsKey),e.cdnURL&&(0,u.UH)(e.cdnURL),t.initialPageview&&n.add(new ep("page",[])),b=eZ(),w=null!==(i=e.cdnURL)&&void 0!==i?i:(0,u.Vl)(),!(null!==(o=e.cdnSettings)&&void 0!==o))return[3,1];return E=o,[3,3];case 1:var P,T;return[4,(P=e.writeKey,T=w,(0,ew.h)("".concat(T,"/v1/projects/").concat(P,"/settings")).then(function(e){return e.ok?e.json():e.text().then(function(e){throw Error(e)})}).catch(function(e){throw console.error(e.message),e}))];case 2:E=O.sent(),O.label=3;case 3:if(v=E,t.updateCDNSettings&&(v=t.updateCDNSettings(v)),"function"!=typeof t.disable)return[3,5];return[4,t.disable(v)];case 4:if(O.sent())return[2,[new eR,y._.system()]];O.label=5;case 5:return x=null===(c=null===(a=v.integrations["Segment.io"])||void 0===a?void 0:a.retryQueue)||void 0===c||c,t=(0,s.pi)({retryQueue:x},t),eV(A=new eM((0,s.pi)((0,s.pi)({},e),{cdnSettings:v,cdnURL:w}),t)),S=null!==(d=e.plugins)&&void 0!==d?d:[],_=null!==(f=e.classicIntegrations)&&void 0!==f?f:[],I=null===(h=t.integrations)||void 0===h?void 0:h["Segment.io"],eW.j.initRemoteMetrics((0,s.pi)((0,s.pi)({},v.metrics),{host:null!==(p=null==I?void 0:I.apiHost)&&void 0!==p?p:null===(g=v.metrics)||void 0===g?void 0:g.host,protocol:null==I?void 0:I.protocol})),[4,function(e,t,n,i,o,a,c){var d,f,h;return void 0===o&&(o=[]),(0,s.mG)(this,void 0,void 0,function(){var p,g,b,w,v,E,x,A,S,_,I,C,O,P,T=this;return(0,s.Jh)(this,function(k){var N,M,R;switch(k.label){case 0:if(eu(n,c),el(n,c),p=null==o?void 0:o.filter(function(e){return"object"==typeof e}),g=null==o?void 0:o.filter(function(e){return"function"==typeof e&&"string"==typeof e.pluginName}),"test"===l().NODE_ENV||!((null!==(R=null===(M=null===(N=t.middlewareSettings)||void 0===N?void 0:N.routingRules)||void 0===M?void 0:M.length)&&void 0!==R?R:0)>0))return[3,2];return[4,r.e(4604).then(r.bind(r,44027)).then(function(e){return e.tsubMiddleware(t.middlewareSettings.routingRules)})];case 1:return w=k.sent(),[3,3];case 2:w=void 0,k.label=3;case 3:if(b=w,("test"===l().NODE_ENV||!(Object.keys(t.integrations).length>1))&&!(a.length>0))return[3,5];return[4,r.e(9464).then(r.bind(r,60253)).then(function(r){return r.ajsDestinations(e,t,n.integrations,i,b,a)})];case 4:return E=k.sent(),[3,6];case 5:E=[],k.label=6;case 6:if(v=E,!t.legacyVideoPluginsEnabled)return[3,8];return[4,r.e(8150).then(r.bind(r,82730)).then(function(e){return e.loadLegacyVideoPlugins(n)})];case 7:k.sent(),k.label=8;case 8:if(!(null===(d=i.plan)||void 0===d?void 0:d.track))return[3,10];return[4,r.e(7493).then(r.bind(r,86398)).then(function(e){var r;return e.schemaFilter(null===(r=i.plan)||void 0===r?void 0:r.track,t)})];case 9:return A=k.sent(),[3,11];case 10:A=void 0,k.label=11;case 11:return x=A,S=(0,eD.o)(t,i),[4,(function(e,t,r,n,i,o){var a,c,l;return(0,s.mG)(this,void 0,void 0,function(){var d,f,h=this;return(0,s.Jh)(this,function(p){switch(p.label){case 0:return d=[],f=null!==(c=null===(a=e.middlewareSettings)||void 0===a?void 0:a.routingRules)&&void 0!==c?c:[],[4,Promise.all((null!==(l=e.remotePlugins)&&void 0!==l?l:[]).map(function(e){return(0,s.mG)(h,void 0,void 0,function(){var a,c,l,h,p,g;return(0,s.Jh)(this,function(m){switch(m.label){case 0:var y,b;if(y=t[e.creationName],b=t[e.name],!1===t.All&&!y&&!b||!1===y||!1===b)return[2];m.label=1;case 1:if(m.trys.push([1,6,,7]),c=null==o?void 0:o.find(function(t){return t.pluginName===e.name}))return[3,3];return[4,function(e,t){return(0,s.mG)(this,void 0,void 0,function(){var r,n,i,o,a,c;return(0,s.Jh)(this,function(s){switch(s.label){case 0:if(s.trys.push([0,9,,10]),r=RegExp("https://cdn.segment.(com|build)"),n=(0,u.Vl)(),!t)return[3,6];o=(i=e.url.split("/"))[i.length-2],a=e.url.replace(o,btoa(o).replace(/=/g,"")),s.label=1;case 1:return s.trys.push([1,3,,5]),[4,(0,e$.v)(a.replace(r,n))];case 2:case 4:return s.sent(),[3,5];case 3:return s.sent(),[4,(0,e$.v)(e.url.replace(r,n))];case 5:return[3,8];case 6:return[4,(0,e$.v)(e.url.replace(r,n))];case 7:s.sent(),s.label=8;case 8:if("function"==typeof window[e.libraryName])return[2,window[e.libraryName]];return[3,10];case 9:throw c=s.sent(),console.error("Failed to create PluginFactory",e),c;case 10:return[2]}})})}(e,null==n?void 0:n.obfuscate)];case 2:c=m.sent(),m.label=3;case 3:if(!(a=c))return[3,5];return l=r[e.name],[4,a((0,s.pi)((0,s.pi)({},e.settings),l))];case 4:(function(e){if(!Array.isArray(e))throw Error("Not a valid list of plugins");var t=["load","isLoaded","name","version","type"];e.forEach(function(e){t.forEach(function(t){var r;if(void 0===e[t])throw Error("Plugin: ".concat(null!==(r=e.name)&&void 0!==r?r:"unknown"," missing required function ").concat(t))})})})(p=Array.isArray(h=m.sent())?h:[h]),g=f.filter(function(t){return t.destinationName===e.creationName}),p.forEach(function(t){var r=new eq(e.creationName,t);g.length&&i&&r.addMiddleware(i),d.push(r)}),m.label=5;case 5:return[3,7];case 6:return console.warn("Failed to load Remote Plugin",m.sent()),[3,7];case 7:return[2]}})})}))];case 1:return p.sent(),[2,d.filter(Boolean)]}})})})(t,n.integrations,S,i,b,g).catch(function(){return[]})];case 12:if(_=k.sent(),I=(0,s.ev)((0,s.ev)([ej],v,!0),_,!0),x&&I.push(x),(null===(f=i.integrations)||void 0===f?void 0:f.All)===!1&&!i.integrations["Segment.io"]||i.integrations&&!1===i.integrations["Segment.io"])return[3,14];return O=(C=I).push,[4,function(e,t,r){window.addEventListener("pagehide",function(){l.push.apply(l,Array.from(u)),u.clear()});var n,i,o,a,c=null!==(i=null==t?void 0:t.apiKey)&&void 0!==i?i:"",l=e.options.disableClientPersistence?new L.Z(e.queue.queue.maxAttempts,[]):new D.$(e.queue.queue.maxAttempts,"".concat(c,":dest-Segment.io")),u=new Set,d=null!==(o=null==t?void 0:t.apiHost)&&void 0!==o?o:eI.U,f=null!==(a=null==t?void 0:t.protocol)&&void 0!==a?a:"https",h="".concat(f,"://").concat(d),p=null==t?void 0:t.deliveryStrategy,g=p&&"strategy"in p&&"batching"===p.strategy?function(e,t){var r,n,i,o=[],a=!1,c=null!==(r=null==t?void 0:t.size)&&void 0!==r?r:10,l=null!==(n=null==t?void 0:t.timeout)&&void 0!==n?n:5e3,u=0;function d(r){if(0!==r.length){var n,i=null===(n=r[0])||void 0===n?void 0:n.writeKey,o=r.map(function(e){return e.sentAt,(0,s._T)(e,["sentAt"])});return(0,ew.h)("https://".concat(e,"/b"),{credentials:null==t?void 0:t.credentials,keepalive:(null==t?void 0:t.keepalive)||a,headers:ex(null==t?void 0:t.headers),method:"post",body:JSON.stringify({writeKey:i,batch:o,sentAt:new Date().toISOString()}),priority:null==t?void 0:t.priority}).then(function(e){var t;if(e.status>=500)throw Error("Bad response from server: ".concat(e.status));if(429===e.status){var r=null===(t=e.headers)||void 0===t?void 0:t.get("x-ratelimit-reset"),n="string"==typeof r?1e3*parseInt(r):l;throw new eE("Rate limit exceeded: ".concat(e.status),n)}})}}function f(e){var r;return void 0===e&&(e=1),(0,s.mG)(this,void 0,void 0,function(){var n;return(0,s.Jh)(this,function(i){return o.length?(n=o,o=[],[2,null===(r=d(n))||void 0===r?void 0:r.catch(function(r){var i;y._.system().log("error","Error sending batch",r),e<=(null!==(i=null==t?void 0:t.maxRetries)&&void 0!==i?i:10)&&("RateLimitError"===r.name&&(u=r.retryTimeout),o.push.apply(o,n),o.map(function(t){"_metadata"in t&&(t._metadata=(0,s.pi)((0,s.pi)({},t._metadata),{retryCount:e}))}),h(e+1))})]):[2]})})}function h(e){void 0===e&&(e=1),i||(i=setTimeout(function(){i=void 0,f(e).catch(console.error)},u||l),u=0)}return ev(function(e){if((a=e)&&o.length){var t,r;Promise.all((t=[],r=0,o.forEach(function(e){eA(t[r])>=64&&r++,t[r]?t[r].push(e):t[r]=[e]}),t).map(d)).catch(console.error)}}),{dispatch:function(e,r){return(0,s.mG)(this,void 0,void 0,function(){return(0,s.Jh)(this,function(e){return o.push(r),[2,o.length>=c||eA(o)>=450||(null==t?void 0:t.keepalive)&&eA(o)>=54||a?f():h()]})})}}}(d,p.config):(n=null==p?void 0:p.config,{dispatch:function(e,t){return(0,ew.h)(e,{credentials:null==n?void 0:n.credentials,keepalive:null==n?void 0:n.keepalive,headers:ex(null==n?void 0:n.headers),method:"post",body:JSON.stringify(t),priority:null==n?void 0:n.priority}).then(function(e){var t;if(e.status>=500)throw Error("Bad response from server: ".concat(e.status));if(429===e.status){var r=null===(t=e.headers)||void 0===t?void 0:t.get("x-ratelimit-reset"),n=r?1e3*parseInt(r):5e3;throw new eE("Rate limit exceeded: ".concat(e.status),n)}})}});function b(n){return(0,s.mG)(this,void 0,void 0,function(){var i,o;return(0,s.Jh)(this,function(a){if((0,m.s)())return l.push(n),e_(!1,l,w,e_),[2,n];if(u.add(n),i=n.event.type.charAt(0),o=(0,eb.D)(n.event).json(),"track"===n.event.type&&delete o.traits,"alias"===n.event.type){var c,d,f,p,y,b;c=o,b=e.user(),c.previousId=null!==(p=null!==(f=null!==(d=c.previousId)&&void 0!==d?d:c.from)&&void 0!==f?f:b.id())&&void 0!==p?p:b.anonymousId(),c.userId=null!==(y=c.userId)&&void 0!==y?y:c.to,delete c.from,delete c.to,o=c}return l.getAttempts(n)>=l.maxAttempts?(u.delete(n),[2,n]):[2,g.dispatch("".concat(h,"/").concat(i),function(e,t,r,n,i){var o,a=e.user();delete t.options,t.writeKey=null==r?void 0:r.apiKey,t.userId=t.userId||a.id(),t.anonymousId=t.anonymousId||a.anonymousId(),t.sentAt=new Date;var c=e.queue.failedInitializations||[];c.length>0&&(t._metadata={failedInitializations:c}),null!=i&&(i.attempts>1&&(t._metadata=(0,s.pi)((0,s.pi)({},t._metadata),{retryCount:i.attempts})),i.attempts++);var l=[],u=[];for(var d in n){var f=n[d];"Segment.io"===d&&l.push(d),"bundled"===f.bundlingStatus&&l.push(d),"unbundled"===f.bundlingStatus&&u.push(d)}for(var h=0,p=(null==r?void 0:r.unbundledIntegrations)||[];h<p.length;h++){var g=p[h];u.includes(g)||u.push(g)}var m=null!==(o=null==r?void 0:r.maybeBundledConfigIds)&&void 0!==o?o:{},y=[];return l.sort().forEach(function(e){var t;(null!==(t=m[e])&&void 0!==t?t:[]).forEach(function(e){y.push(e)})}),(null==r?void 0:r.addBundledMetadata)!==!1&&(t._metadata=(0,s.pi)((0,s.pi)({},t._metadata),{bundled:l.sort(),unbundled:u.sort(),bundledIds:y})),t}(e,o,t,r,n)).then(function(){return n}).catch(function(e){if(n.log("error","Error sending event",e),"RateLimitError"===e.name){var t=e.retryTimeout;l.pushWithBackoff(n,t)}else l.pushWithBackoff(n);return e_(!1,l,w,e_),n}).finally(function(){u.delete(n)})]})})}var w={metadata:{writeKey:c,apiHost:d,protocol:f},name:"Segment.io",type:"destination",version:"0.1.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:b,identify:b,page:b,alias:b,group:b,screen:b};return l.todo&&e_(!1,l,w,e_),w}(n,S["Segment.io"],t.integrations)];case 13:O.apply(C,[k.sent()]),k.label=14;case 14:return[4,n.register.apply(n,(0,s.ev)((0,s.ev)([],I,!1),p,!1))];case 15:return P=k.sent(),[4,(0,s.mG)(void 0,void 0,void 0,function(){var e,t;return(0,s.Jh)(this,function(r){switch(r.label){case 0:e=0,t=c.getAndRemove("register"),r.label=1;case 1:if(!(e<t.length))return[3,4];return[4,em(n,t[e]).catch(console.error)];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})];case 16:if(k.sent(),!Object.entries(null!==(h=t.enabledMiddleware)&&void 0!==h?h:{}).some(function(e){return e[1]}))return[3,18];return[4,r.e(9214).then(r.bind(r,85735)).then(function(e){var r=e.remoteMiddlewares;return(0,s.mG)(T,void 0,void 0,function(){return(0,s.Jh)(this,function(e){switch(e.label){case 0:return[4,r(P,t,i.obfuscate)];case 1:return[2,Promise.all(e.sent().map(function(e){return n.addSourceMiddleware(e)}))]}})})})];case 17:k.sent(),k.label=18;case 18:return[4,(0,s.mG)(void 0,void 0,void 0,function(){var e,t;return(0,s.Jh)(this,function(r){switch(r.label){case 0:e=0,t=c.getAndRemove("addSourceMiddleware"),r.label=1;case 1:if(!(e<t.length))return[3,4];return[4,em(n,t[e]).catch(console.error)];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})];case 19:return k.sent(),[2,P]}})})}(e.writeKey,v,A,t,S,_,n)];case 6:return C=O.sent(),A.initialized=!0,A.emit("initialize",e,t),[4,function(e,t,r){return(0,s.mG)(this,void 0,void 0,function(){return(0,s.Jh)(this,function(n){switch(n.label){case 0:return[4,(0,s.mG)(void 0,void 0,void 0,function(){return(0,s.Jh)(this,function(r){switch(r.label){case 0:if(!t.includes("ajs_"))return[3,2];return[4,e.queryString(t).catch(console.error)];case 1:r.sent(),r.label=2;case 2:return[2]}})})];case 1:return n.sent(),ed(e,r),[2]}})})}(A,b,n)];case 7:return O.sent(),[2,[A,C]]}})})}(t[0],t[1],e)})})||this)._resolveLoadStart=function(e,t){return o([e,t])},t}return(0,s.ZT)(t,e),t.prototype.load=function(e,t){return void 0===t&&(t={}),this._resolveLoadStart(e,t),this},t.load=function(e,r){return void 0===r&&(r={}),new t().load(e,r)},t.standalone=function(e,r){return t.load({writeKey:e},r).then(function(e){return e[0]})},t}(ey),eY=r(17360);class eJ{constructor(){(0,a.Z)(this,"segment",void 0),(0,a.Z)(this,"globalProperties",{}),(0,a.Z)(this,"enabled",!0)}init(){if(!this.isSkipped()){if(this.segment)throw Error("Analytics already initialized");this.segment=new eK,this.segment.load({writeKey:"f6LbNqCeVRf512ggdME4b6CyflhF1tsX"},{user:{cookie:{key:"web3auth_ajs_user_id"},localStorage:{key:"web3auth_ajs_user_traits"}},globalAnalyticsKey:"web3auth_analytics"}).then(()=>(eY.c.debug("Analytics initialized"),!0)).catch(e=>{eY.c.error("Failed to initialize Analytics",e)})}}enable(){this.enabled=!0}disable(){this.enabled=!1}setGlobalProperties(e){this.globalProperties=(0,o.Z)((0,o.Z)({},this.globalProperties),e)}async identify(e,t){if(this.enabled&&!this.isSkipped())try{return this.getSegment().identify(e,(0,o.Z)({},t))}catch(t){eY.c.error(`Failed to identify user ${e} in analytics`,t)}}async track(e,t){if(this.enabled&&!this.isSkipped())try{return this.getSegment().track(e,(0,o.Z)((0,o.Z)({},t),this.globalProperties))}catch(t){eY.c.error(`Failed to track event ${e}`,t)}}getSegment(){if(!this.segment)throw eY.c.error("Analytics not initialized. Call Analytics.init() first."),Error("Analytics not initialized. Call Analytics.init() first.");return this.segment}isSkipped(){let e=window.location.origin;return!!(e.startsWith("http://")||e.includes("localhost"))}}let eX={SDK_INITIALIZATION_COMPLETED:"SDK Initialization Completed",SDK_INITIALIZATION_FAILED:"SDK Initialization Failed",CONNECTION_STARTED:"Connection Started",CONNECTION_COMPLETED:"Connection Completed",CONNECTION_FAILED:"Connection Failed",IDENTITY_TOKEN_STARTED:"Identity Token Started",IDENTITY_TOKEN_COMPLETED:"Identity Token Completed",IDENTITY_TOKEN_FAILED:"Identity Token Failed",MFA_ENABLEMENT_STARTED:"MFA Enablement Started",MFA_ENABLEMENT_COMPLETED:"MFA Enablement Completed",MFA_ENABLEMENT_FAILED:"MFA Enablement Failed",MFA_MANAGEMENT_SELECTED:"MFA Management Selected",MFA_MANAGEMENT_FAILED:"MFA Management Failed",LOGIN_MODAL_OPENED:"Login Modal Opened",LOGIN_MODAL_CLOSED:"Login Modal Closed",SOCIAL_LOGIN_SELECTED:"Social Login Selected",EXTERNAL_WALLET_SELECTED:"External Wallet Selected",EXTERNAL_WALLET_LIST_EXPANDED:"External Wallet List Expanded",WALLET_UI_CLICKED:"Wallet UI Clicked",WALLET_CONNECT_SCANNER_CLICKED:"Wallet Connect Scanner Clicked",WALLET_FUNDING_CLICKED:"Wallet Funding Clicked",WALLET_CHECKOUT_CLICKED:"Wallet Checkout Clicked",WALLET_RECEIVE_CLICKED:"Wallet Receive Clicked",WALLET_SWAP_CLICKED:"Wallet Swap Clicked"},eQ={REACT_HOOKS:"React Hooks",VUE_COMPOSABLES:"Vue Composables",NATIVE_SDK:"Native SDK"},e0={WEB_NO_MODAL:"Web NoModal",WEB_MODAL:"Web Modal"}},56344:function(e,t,r){"use strict";r.d(t,{$:function(){return n}});let n={EIP155:"eip155",SOLANA:"solana",CASPER:"casper",XRPL:"xrpl",MULTICHAIN:"multichain"}},65514:function(e,t,r){"use strict";r.d(t,{e:function(){return d}});var n=r(56127),i=r(60452),o=r(56344),a=r(20840),s=r(32454),c=r(57194),l=r(43280),u=r(95693);class d extends i.U{constructor(e){super(),(0,n.Z)(this,"connectorData",{}),(0,n.Z)(this,"isInjected",void 0),(0,n.Z)(this,"icon",void 0),(0,n.Z)(this,"coreOptions",void 0),(0,n.Z)(this,"rehydrated",!1),(0,n.Z)(this,"connectorNamespace",void 0),(0,n.Z)(this,"type",void 0),(0,n.Z)(this,"name",void 0),(0,n.Z)(this,"status",void 0),this.coreOptions=e.coreOptions}get connected(){return c.x.includes(this.status)}get canAuthorize(){return c.C.includes(this.status)}checkConnectionRequirements(){if((this.name!==s.tp.WALLET_CONNECT_V2||this.status!==l.Ak.CONNECTING)&&(this.name!==s.tp.METAMASK||this.isInjected||this.status!==l.Ak.CONNECTING)){if(this.status===l.Ak.CONNECTING)throw a.Ty.notReady("Already connecting");if(this.connected)throw a.RM.connectionError("Already connected");if(this.status!==l.Ak.READY)throw a.RM.connectionError("Wallet connector is not ready yet, Please wait for init function to resolve before calling connect/connectTo function")}}checkInitializationRequirements({chainConfig:e}){if(!this.coreOptions.clientId)throw a.Ty.invalidParams("Please initialize Web3Auth with a valid clientId in constructor");if(!e)throw a.Ty.invalidParams("chainConfig is required before initialization");if(!e.rpcTarget&&e.chainNamespace!==u.E.OTHER)throw a.Ty.invalidParams("rpcTarget is required in chainConfig");if(!e.chainId&&e.chainNamespace!==u.E.OTHER)throw a.Ty.invalidParams("chainID is required in chainConfig");if(this.connectorNamespace!==o.$.MULTICHAIN&&this.connectorNamespace!==e.chainNamespace)throw a.Ty.invalidParams("Connector doesn't support this chain namespace");if(this.status!==l.Ak.NOT_READY){if(this.connected)throw a.Ty.notReady("Already connected");if(this.status===l.Ak.READY)throw a.Ty.notReady("Connector is already initialized")}}checkDisconnectionRequirements(){if(!this.connected)throw a.RM.disconnectionError("Not connected with wallet")}checkSwitchChainRequirements(e,t=!1){if(!t&&!this.provider)throw a.RM.notConnectedError("Not connected with wallet.");if(!this.coreOptions.chains)throw a.Ty.invalidParams("chainConfigs is required");if(!this.coreOptions.chains.some(t=>t.chainId===e.chainId&&(t.chainNamespace===this.connectorNamespace||this.connectorNamespace===o.$.MULTICHAIN)))throw a.Ty.invalidParams("Invalid chainId")}updateConnectorData(e){this.connectorData=e,this.emit(l.cS.CONNECTOR_DATA_UPDATED,{connectorName:this.name,data:e})}}},57194:function(e,t,r){"use strict";r.d(t,{C:function(){return o},x:function(){return i}});var n=r(43280);let i=[n.Ak.CONNECTED,n.Ak.AUTHORIZED],o=[n.Ak.AUTHORIZING,n.Ak.AUTHORIZED,n.Ak.CONNECTED]},43280:function(e,t,r){"use strict";r.d(t,{$Y:function(){return a},Ak:function(){return i},Hd:function(){return s},cS:function(){return o}});var n=r(31686);let i={NOT_READY:"not_ready",READY:"ready",CONNECTING:"connecting",CONNECTED:"connected",DISCONNECTING:"disconnecting",DISCONNECTED:"disconnected",ERRORED:"errored",AUTHORIZED:"authorized",AUTHORIZING:"authorizing"},o=(0,n.Z)((0,n.Z)({},i),{},{CONNECTOR_DATA_UPDATED:"connector_data_updated",CACHE_CLEAR:"cache_clear",CONNECTORS_UPDATED:"connectors_updated",MFA_ENABLED:"mfa_enabled",REHYDRATION_ERROR:"rehydration_error"}),a={EXTERNAL:"external",IN_APP:"in_app"},s={CONNECT_ONLY:"connect-only",CONNECT_AND_SIGN:"connect-and-sign"}},35156:function(e,t,r){"use strict";r.d(t,{$E:function(){return o},qz:function(){return c},Cb:function(){return a},Fr:function(){return s},oZ:function(){return i}});class n extends Error{}function i(e){let t,r=!1,n=0;try{t=window[e],r=!0,n=t.length;let i="__storage_test__";return t.setItem(i,i),t.removeItem(i),!0}catch(e){return!!(e&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&r&&0!==n)}}n.prototype.name="InvalidTokenError";let o=e=>{let t=function(e,t){let r;if("string"!=typeof e)throw new n("Invalid token specified: must be a string");t||(t={});let i=!0===t.header?0:1,o=e.split(".")[i];if("string"!=typeof o)throw new n(`Invalid token specified: missing part #${i+1}`);try{r=function(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Error("base64 string is not of the correct length")}try{var r;return r=t,decodeURIComponent(atob(r).replace(/(.)/g,(e,t)=>{let r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}catch(e){return atob(t)}}(o)}catch(e){throw new n(`Invalid token specified: invalid base64 for part #${i+1} (${e.message})`)}try{return JSON.parse(r)}catch(e){throw new n(`Invalid token specified: invalid json for part #${i+1} (${e.message})`)}}(e);return!!(!t.exp||t.exp<Math.floor(Date.now()/1e3))},a=(e,t)=>i("localStorage")?localStorage.getItem(`${e.toLowerCase()}_${t}`):null,s=(e,t,r)=>i("localStorage")?localStorage.setItem(`${e.toLowerCase()}_${t}`,r):null,c=(e,t)=>i("localStorage")?localStorage.removeItem(`${e.toLowerCase()}_${t}`):null},1272:function(e,t,r){"use strict";r.d(t,{Lc:function(){return o},RU:function(){return n},TD:function(){return l},Wd:function(){return c},XI:function(){return s},bE:function(){return i},cJ:function(){return a}});let n={EMBEDDED:"embedded",ALL:"all"},i={SOCIAL:"social",PASSWORDLESS:"passwordless",EXTERNAL_WALLETS:"externalWallets"},o={MODAL:"modal",EMBED:"embed"},a="Web3Auth-state",s={MODAL:"modal",NO_MODAL:"no-modal"},c={"0x65":"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","0x66":"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","0x67":"EtWTRABZaYq6iMfeYKouRu166VU2xqa1"},l="https://assets.web3auth.io/v2/wallet-registry.json"},20840:function(e,t,r){"use strict";r.d(t,{RM:function(){return s},Ty:function(){return a},XM:function(){return c},up:function(){return o},w7:function(){return l}});var n=r(56127),i=r(15400);class o extends i.s{constructor(e,t,r){super(t),(0,n.Z)(this,"code",void 0),(0,n.Z)(this,"message",void 0),(0,n.Z)(this,"cause",void 0),this.code=e,this.message=t||"",this.cause=r,Object.defineProperty(this,"name",{value:"Web3AuthError"})}toJSON(){return{name:this.name,code:this.code,message:this.message,cause:this.cause}}toString(){return JSON.stringify(this.toJSON())}}class a extends o{constructor(e,t,r){super(e,t,r),Object.defineProperty(this,"name",{value:"WalletInitializationError"})}static fromCode(e,t="",r){return new a(e,`${a.messages[e]}, ${t}`,r)}static notFound(e="",t){return a.fromCode(5001,e,t)}static notInstalled(e="",t){return a.fromCode(5002,e,t)}static notReady(e="",t){return a.fromCode(5003,e,t)}static windowBlocked(e="",t){return a.fromCode(5004,e,t)}static windowClosed(e="",t){return a.fromCode(5005,e,t)}static incompatibleChainNameSpace(e="",t){return a.fromCode(5006,e,t)}static duplicateConnectorError(e="",t){return a.fromCode(5007,e,t)}static invalidProviderConfigError(e="",t){return a.fromCode(5008,e,t)}static providerNotReadyError(e="",t){return a.fromCode(5009,e,t)}static rpcConnectionError(e="",t){return a.fromCode(5010,e,t)}static invalidParams(e="",t){return a.fromCode(5011,e,t)}static invalidNetwork(e="",t){return a.fromCode(5013,e,t)}}(0,n.Z)(a,"messages",{5e3:"Custom",5001:"Wallet is not found",5002:"Wallet is not installed",5003:"Wallet is not ready yet",5004:"Wallet window is blocked",5005:"Wallet window has been closed by the user",5006:"Incompatible chain namespace provided",5007:"Connector has already been included",5008:"Invalid provider Config",5009:"Provider is not ready yet",5010:"Failed to connect with rpc url",5011:"Invalid params passed in",5013:"Invalid network provided"});class s extends o{constructor(e,t,r){super(e,t,r),Object.defineProperty(this,"name",{value:"WalletLoginError"})}static fromCode(e,t="",r){return new s(e,`${s.messages[e]}. ${t}`,r)}static connectionError(e="",t){return s.fromCode(5111,e,t)}static disconnectionError(e="",t){return s.fromCode(5112,e,t)}static notConnectedError(e="",t){return s.fromCode(5113,e,t)}static popupClosed(e="",t){return s.fromCode(5114,e,t)}static mfaEnabled(e="",t){return s.fromCode(5115,e,t)}static chainConfigNotAdded(e="",t){return s.fromCode(5116,e,t)}static unsupportedOperation(e="",t){return s.fromCode(5117,e,t)}static sfaKeyNotFound(e="",t){return s.fromCode(5118,e,t)}static userNotLoggedIn(e="",t){return s.fromCode(5119,e,t)}}(0,n.Z)(s,"messages",{5e3:"Custom",5111:"Failed to connect with wallet",5112:"Failed to disconnect from wallet",5113:"Wallet is not connected",5114:"Wallet popup has been closed by the user",5115:"User has already enabled mfa, please use the @web3auth/web3auth-web sdk for login with mfa",5116:"Chain config has not been added. Please add the chain config before calling switchChain",5117:"Unsupported operation",5118:"useSFAKey flag is enabled but SFA key is not available",5119:"User not logged in."});class c extends o{constructor(e,t,r){super(e,t,r),Object.defineProperty(this,"name",{value:"WalletOperationsError"})}static fromCode(e,t="",r){return new c(e,`${c.messages[e]}, ${t}`,r)}static chainIDNotAllowed(e="",t){return c.fromCode(5201,e,t)}static operationNotAllowed(e="",t){return c.fromCode(5202,e,t)}static chainNamespaceNotAllowed(e="",t){return c.fromCode(5203,e,t)}}(0,n.Z)(c,"messages",{5e3:"Custom",5201:"Provided chainId is not allowed",5202:"This operation is not allowed"});class l extends o{constructor(e,t,r){super(e,t,r),Object.defineProperty(this,"name",{value:"WalletProviderError"})}static fromCode(e,t="",r){return new c(e,`${l.messages[e]}, ${t}`,r)}static invalidRequestArgs(e="",t){return c.fromCode(5301,e,t)}static invalidRequestMethod(e="",t){return c.fromCode(5302,e,t)}static invalidRequestParams(e="",t){return c.fromCode(5303,e,t)}}(0,n.Z)(l,"messages",{5e3:"Custom",5301:"Expected a single, non-array, object argument.",5302:"'args.method' must be a non-empty string.",5303:"'args.params' must be an object or array if provided."})},17360:function(e,t,r){"use strict";r.d(t,{c:function(){return p}});var n=r(31686),i=r(56127);let o=Object.prototype.toString;function a(e,t){return o.call(e)===`[object ${t}]`}function s(e,t){try{return e instanceof t}catch{return!1}}let c=globalThis;function l(e){try{return"undefined"!=typeof Element&&s(e,Element)?function(e,t={}){if(!e)return"<unknown>";try{let r,n=e,i=[],o=0,s=0,l=Array.isArray(t)?t:t.keyAttrs,u=!Array.isArray(t)&&t.maxStringLength||80;for(;n&&o++<5&&(r=function(e,t){let r=[];if(!e?.tagName)return"";if(c.HTMLElement&&e instanceof HTMLElement&&e.dataset){if(e.dataset.sentryComponent)return e.dataset.sentryComponent;if(e.dataset.sentryElement)return e.dataset.sentryElement}r.push(e.tagName.toLowerCase());let n=t?.length?t.filter(t=>e.getAttribute(t)).map(t=>[t,e.getAttribute(t)]):null;if(n?.length)n.forEach(e=>{r.push(`[${e[0]}="${e[1]}"]`)});else{e.id&&r.push(`#${e.id}`);let t=e.className;if(t&&a(t,"String"))for(let e of t.split(/\s+/))r.push(`.${e}`)}for(let t of["aria-label","type","name","title","alt"]){let n=e.getAttribute(t);n&&r.push(`[${t}="${n}"]`)}return r.join("")}(n,l),"html"!==r&&(!(o>1)||!(s+3*i.length+r.length>=u)));)i.push(r),s+=r.length,n=n.parentNode;return i.reverse().join(" > ")}catch{return"<unknown>"}}(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function u(e){if("object"!=typeof e||null===e)return{};{let t={};for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}}let d="<anonymous>";class f{constructor(e){(0,i.Z)(this,"sentry",void 0),(0,i.Z)(this,"category",void 0),this.sentry=e,this.category="loglevel-sentry"}static async translateError(e){var t,r;let n;let i=e.findIndex(e=>e instanceof Error),o=e.findIndex(e=>"string"==typeof e),a=e.findIndex(e=>e&&"object"==typeof e&&"status"in e&&"type"in e),s=e.findIndex(e=>e&&"object"==typeof e&&"isAxiosError"in e&&!0===e.isAxiosError);if(-1!==a){let r=e[a],i=null===(t=r.headers)||void 0===t?void 0:t.get("content-type");if(i.includes("application/json")){let e=await r.json();n=Error((null==e?void 0:e.error)||(null==e?void 0:e.message)||JSON.stringify(e))}else n=i.includes("text/plain")?Error(await r.text()):Error(`${r.status} ${r.type.toString()} ${r.statusText}`)}else if(-1!==s){let t=e[s].response;if(t){let e=null===(r=t.headers)||void 0===r?void 0:r["content-type"];if(e.includes("application/json")){let e=t.data;n=Error("error"in e?e.error:"message"in e?e.message:JSON.stringify(e))}else n=e.includes("text/plain")?Error(t.data):Error(`${t.status} ${t.data.toString()}`)}else n=Error("Network error")}else n=-1!==i?e.splice(i,1)[0]:-1!==o?Error(e.splice(o,1)[0]):Error("Unknown error");return[n,e]}static translateArgs(e){let t=e.findIndex(e=>"string"==typeof e),r=-1!==t?e.splice(t,1)[0]:void 0;return r?{message:r,data:{arguments:e}}:{data:{arguments:e}}}static translateLevel(e){switch(e){case"info":return"info";case"warn":return"warning";default:return"debug"}}install(e){let t=e.methodFactory;e.methodFactory=(e,r,i)=>{i&&(this.category=i.toString());let c=t(e,r,i),h="undefined"!=typeof window,p=(...t)=>{var r,f,p;let g=null===(r=this.sentry)||void 0===r?void 0:r.getActiveSpan(),{traceId:m,spanId:y}=(null==g?void 0:g.spanContext())||{},b="error"===e&&t.length>=1&&t[0]instanceof Error;if(h){if(b){let e=t[0],r=[Error(m||y?`${e.message}: traceId: ${m} - spanId: ${y}`:e.message,{cause:e}),...t.slice(1)];c&&c(...r);return}c&&c(...t)}else{let r={timestamp:new Date,level:e.toUpperCase(),logger:i};if((m||y)&&(r=(0,n.Z)((0,n.Z)({},r),{},{traceId:m,spanId:y})),b){let e=t[0];r=(0,n.Z)((0,n.Z)({},r),{},{message:null!==(f=e.message)&&void 0!==f?f:"",stack:e.stack,extra:t.length>1?t.slice(1):void 0})}else r=(0,n.Z)((0,n.Z)({},r),{},{message:null!==(p=t[0])&&void 0!==p?p:"",extra:t.length>1?t.slice(1):void 0});c&&c(JSON.stringify(function(e,t=100,r=Infinity){try{return function e(t,r,n=Infinity,i=Infinity,c=function(){let e=new WeakSet;return[function(t){return!!e.has(t)||(e.add(t),!1)},function(t){e.delete(t)}]}()){let[f,h]=c;if(null==r||["boolean","string"].includes(typeof r)||"number"==typeof r&&Number.isFinite(r))return r;let p=function(e,t){try{if("domain"===e&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if("undefined"!=typeof global&&t===global)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if("object"==typeof t&&null!==t&&(t.__isVue||t._isVue))return"[VueViewModel]";if(a(t,"Object")&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t)return"[SyntheticEvent]";if("number"==typeof t&&!Number.isFinite(t))return`[${t}]`;if("function"==typeof t)return`[Function: ${function(e){try{if(!e||"function"!=typeof e)return d;return e.name||d}catch{return d}}(t)}]`;if("symbol"==typeof t)return`[${String(t)}]`;if("bigint"==typeof t)return`[BigInt: ${String(t)}]`;let r=function(e){let t=Object.getPrototypeOf(e);return t?.constructor?t.constructor.name:"null prototype"}(t);if(/^HTML(\w*)Element$/.test(r))return`[HTMLElement: ${r}]`;return`[object ${r}]`}catch(e){return`**non-serializable** (${e})`}}(t,r);if(!p.startsWith("[object "))return p;if(r.__sentry_skip_normalization__)return r;let g="number"==typeof r.__sentry_override_normalization_depth__?r.__sentry_override_normalization_depth__:n;if(0===g)return p.replace("object ","");if(f(r))return"[Circular ~]";if(r&&"function"==typeof r.toJSON)try{let t=r.toJSON();return e("",t,g-1,i,c)}catch{}let m=Array.isArray(r)?[]:{},y=0,b=function(e){if(function(e){switch(o.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return s(e,Error)}}(e))return{message:e.message,name:e.name,stack:e.stack,...u(e)};if(!("undefined"!=typeof Event&&s(e,Event)))return e;{let t={type:e.type,target:l(e.target),currentTarget:l(e.currentTarget),...u(e)};return"undefined"!=typeof CustomEvent&&s(e,CustomEvent)&&(t.detail=e.detail),t}}(r);for(let t in b){if(!Object.prototype.hasOwnProperty.call(b,t))continue;if(y>=i){m[t]="[MaxProperties ~]";break}let r=b[t];m[t]=e(t,r,g-1,i,c),y++}return h(r),m}("",e,t,r)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}(r)))}};return"error"===e?async(...e)=>{let{stack:t}=e.find(e=>e instanceof Error)||Error(),[r,n]=await f.translateError(e);r.stack=t,this.error(r,...n),p(r,...n)}:(...t)=>{this.log(f.translateLevel(e),...t),p(...t)}},e.setLevel(e.getLevel())}setEnabled(e){if(this.sentry){let t=this.sentry.getClient().getOptions();t&&(t.enabled=e)}}isEnabled(){if(this.sentry){var e;let t=this.sentry.getClient().getOptions();return null!==(e=null==t?void 0:t.enabled)&&void 0!==e&&e}return!1}log(e,...t){this.sentry&&this.sentry.addBreadcrumb((0,n.Z)((0,n.Z)({},f.translateArgs(t)),{},{category:this.category,level:e,timestamp:Date.now()}))}trace(...e){this.log("debug",...e)}error(e,...t){if(this.sentry){let r={data:{logger:"loglevel-sentry","logger.name":this.category,arguments:t}};this.sentry.captureException(e,r)}}}var h=r(86005);let p=r.n(h)().getLogger("web3auth-logger");new f().install(p)},6827:function(e,t,r){"use strict";r.d(t,{Fo:function(){return A},H2:function(){return l},Kj:function(){return g},Um:function(){return y},Vj:function(){return p},Vn:function(){return v},Xj:function(){return b},cN:function(){return S},dl:function(){return w},eX:function(){return x},gL:function(){return f},jU:function(){return m},lB:function(){return E},pw:function(){return d},rB:function(){return h},tC:function(){return u}});var n=r(95693),i=r(53727),o=r(70091),a=r(1272),s=r(20840),c=r(18957);let l=e=>("string"==typeof e||"number"==typeof e)&&/^(-)?0x[0-9a-f]*$/i.test(e),u=(e=c.K2.SAPPHIRE_MAINNET)=>i.e9[e],d=async({clientId:e,web3AuthNetwork:t,aaProvider:r,authBuildEnv:n})=>{let i=new URL(`${u(t)}/api/v2/configuration`);return i.searchParams.append("project_id",e),i.searchParams.append("network",t),n&&i.searchParams.append("build_env",n),r&&i.searchParams.append("aa_provider",r),await (0,o.U2)(i.href)},f=async e=>await (0,o.U2)(e||a.TD),h=e=>{let t=e.toLowerCase();return(t=(t=(t=(t=t.split("|")[0]).replace(/-/g," ")).replace(/\s+/g," ")).replace(/wallet$/i,"").trim()).replace(/\s/g,"-")},p=e=>{var t,r;return{chainNamespace:n.E.EIP155,chainId:`0x${e.id.toString(16)}`,rpcTarget:e.rpcUrls.default.http[0],displayName:e.name,blockExplorerUrl:(null===(t=e.blockExplorers)||void 0===t?void 0:t.default.url)||"",ticker:e.nativeCurrency.symbol,tickerName:e.nativeCurrency.name,logo:"",decimals:e.nativeCurrency.decimals,isTestnet:e.testnet,wsTarget:null===(r=e.rpcUrls.default.webSocket)||void 0===r?void 0:r[0]}};function g(e,t,r){return t?t.aborted?Promise.reject(new DOMException("Aborted","AbortError")):new Promise((n,i)=>{let o=()=>{null==r||r(),i(new DOMException("Aborted","AbortError"))};return t.addEventListener("abort",o),Promise.resolve().then(()=>e()).then(n,i).finally(()=>{t.removeEventListener("abort",o)})}):e()}let m=()=>"undefined"!=typeof window&&"undefined"!=typeof document,y=p,b=e=>{var t,r;return{whitelabel_app_name:null==e?void 0:e.appName,whitelabel_app_url:null==e?void 0:e.appUrl,whitelabel_logo_light_enabled:!!(null==e?void 0:e.logoLight),whitelabel_logo_dark_enabled:!!(null==e?void 0:e.logoDark),whitelabel_default_language:null==e?void 0:e.defaultLanguage,whitelabel_theme_mode:null==e?void 0:e.mode,whitelabel_use_logo_loader:null==e?void 0:e.useLogoLoader,whitelabel_theme_primary:null==e||null===(t=e.theme)||void 0===t?void 0:t.primary,whitelabel_theme_on_primary:null==e||null===(r=e.theme)||void 0===r?void 0:r.onPrimary,whitelabel_tnc_link_enabled:!!(null==e?void 0:e.tncLink),whitelabel_privacy_policy_enabled:!!(null==e?void 0:e.privacyPolicy)}},w=e=>{var t,r,i,o,a;let s=Array.from(new Set(null==e||null===(t=e.chains)||void 0===t?void 0:t.map(e=>{var t;return A(null===(t=e.bundlerConfig)||void 0===t?void 0:t.url)}).filter(Boolean))),c=Array.from(new Set(null==e||null===(r=e.chains)||void 0===r?void 0:r.map(e=>{var t;return A(null===(t=e.paymasterConfig)||void 0===t?void 0:t.url)}).filter(Boolean)));return{aa_smart_account_type:null==e?void 0:e.smartAccountType,aa_chain_ids:null==e||null===(i=e.chains)||void 0===i?void 0:i.map(e=>S({chainId:e.chainId,chainNamespace:n.E.EIP155})),aa_bundler_urls:s,aa_paymaster_urls:c,aa_paymaster_enabled:c.length>0,aa_paymaster_context_enabled:null==e||null===(o=e.chains)||void 0===o?void 0:o.some(e=>{var t;return null===(t=e.bundlerConfig)||void 0===t?void 0:t.paymasterContext}),aa_erc20_paymaster_enabled:null==e||null===(a=e.chains)||void 0===a?void 0:a.some(e=>{var t;return null===(t=e.bundlerConfig)||void 0===t||null===(t=t.paymasterContext)||void 0===t?void 0:t.token})}},v=e=>{var t,r,n,i,o,a,s,c,l,u,d,f;return{ws_confirmation_strategy:null==e?void 0:e.confirmationStrategy,ws_enable_key_export:null==e?void 0:e.enableKeyExport,ws_show_widget_button:null==e||null===(t=e.whiteLabel)||void 0===t?void 0:t.showWidgetButton,ws_button_position:null==e||null===(r=e.whiteLabel)||void 0===r?void 0:r.buttonPosition,ws_hide_nft_display:null==e||null===(n=e.whiteLabel)||void 0===n?void 0:n.hideNftDisplay,ws_hide_token_display:null==e||null===(i=e.whiteLabel)||void 0===i?void 0:i.hideTokenDisplay,ws_hide_transfers:null==e||null===(o=e.whiteLabel)||void 0===o?void 0:o.hideTransfers,ws_hide_topup:null==e||null===(a=e.whiteLabel)||void 0===a?void 0:a.hideTopup,ws_hide_receive:null==e||null===(s=e.whiteLabel)||void 0===s?void 0:s.hideReceive,ws_hide_swap:null==e||null===(c=e.whiteLabel)||void 0===c?void 0:c.hideSwap,ws_hide_show_all_tokens:null==e||null===(l=e.whiteLabel)||void 0===l?void 0:l.hideShowAllTokens,ws_hide_wallet_connect:null==e||null===(u=e.whiteLabel)||void 0===u?void 0:u.hideWalletConnect,ws_hide_defi_positions_display:null==e||null===(d=e.whiteLabel)||void 0===d?void 0:d.hideDefiPositionsDisplay,ws_default_portfolio:null==e||null===(f=e.whiteLabel)||void 0===f?void 0:f.defaultPortfolio}},E="10.13.0",x=e=>{try{let t=e instanceof s.up?e.code:null==e?void 0:e.code;return{error_message:e instanceof Error?e.message:(null==e?void 0:e.message)||(null==e?void 0:e.toString()),error_code:t}}catch{return{error_message:"Unknown error",error_code:void 0}}},A=e=>{try{return new URL(e).hostname}catch{return""}},S=e=>e.chainNamespace===n.E.EIP155?`${e.chainNamespace}:${parseInt(e.chainId,16)}`:e.chainNamespace===n.E.SOLANA?`${e.chainNamespace}:${a.Wd[e.chainId]}`:`${e.chainNamespace}:${e.chainId}`},32454:function(e,t,r){"use strict";r.d(t,{AH:function(){return c},CD:function(){return o},Nt:function(){return a},Tl:function(){return i},tp:function(){return s}});var n=r(31686);let i={AUTH:"auth",WALLET_CONNECT_V2:"wallet-connect-v2",METAMASK:"metamask"},o=(0,n.Z)({},i),a=(0,n.Z)({COINBASE:"coinbase"},i),s=(0,n.Z)((0,n.Z)({},a),o),c={[i.AUTH]:"Auth",[i.WALLET_CONNECT_V2]:"Wallet Connect v2",[a.COINBASE]:"Coinbase Smart Wallet",[a.METAMASK]:"MetaMask"}},44015:function(e,t,r){"use strict";r.d(t,{C:function(){return u}});var n=r(15221),i=r(71616),o=r(35156),a=r(65514),s=r(20840),c=r(43280),l=r(82957).Buffer;class u extends a.e{async init(e){}async getIdentityToken(){if(!this.provider||!this.canAuthorize)throw s.RM.notConnectedError();if(!this.coreOptions)throw s.Ty.invalidParams("Please initialize Web3Auth with valid options");this.status=c.Ak.AUTHORIZING,this.emit(c.cS.AUTHORIZING,{connector:this.name});let e=await this.provider.request({method:i.QZ.GET_ACCOUNTS});if(e&&e.length>0){let t=(0,o.Cb)(e[0],this.name);if(t&&!(0,o.$E)(t))return this.status=c.Ak.AUTHORIZED,this.emit(c.cS.AUTHORIZED,{connector:this.name,identityTokenInfo:{idToken:t}}),{idToken:t};let r=await this.provider.request({method:"eth_chainId"}),a=this.coreOptions.chains.find(e=>e.chainId===r);if(!a)throw s.Ty.invalidParams("chainConfig is required before authentication");let{chainNamespace:u}=a,d={domain:window.location.origin,uri:window.location.href,address:e[0],chainId:parseInt(r,16),version:"1",nonce:Math.random().toString(36).slice(2),issuedAt:new Date().toISOString()},f=await (0,n.tV)(d,u),h=`0x${l.from(f,"utf8").toString("hex")}`,p=await this.provider.request({method:i.QZ.PERSONAL_SIGN,params:[h,e[0]]}),g=await (0,n.rn)(u,p,f,this.name,this.coreOptions.sessionTime,this.coreOptions.clientId,this.coreOptions.web3AuthNetwork);return(0,o.Fr)(e[0],this.name,g),this.status=c.Ak.AUTHORIZED,this.emit(c.cS.AUTHORIZED,{connector:this.name,identityTokenInfo:{idToken:g}}),{idToken:g}}throw s.RM.notConnectedError("Not connected with wallet, Please login/connect first")}async disconnectSession(){super.checkDisconnectionRequirements();let e=await this.provider.request({method:"eth_accounts"});e&&e.length>0&&(0,o.qz)(e[0],this.name)}async disconnect(){this.rehydrated=!1,this.emit(c.cS.DISCONNECTED)}}},99965:function(e,t,r){"use strict";r.d(t,{p:function(){return l}});var n=r(15221),i=r(71616),o=r(65514),a=r(20840),s=r(43280),c=r(35156);class l extends o.e{async init(e){}async getIdentityToken(){if(!this.provider||!this.canAuthorize)throw a.RM.notConnectedError();if(!this.coreOptions)throw a.Ty.invalidParams("Please initialize Web3Auth with a valid options");this.status=s.Ak.AUTHORIZING,this.emit(s.cS.AUTHORIZING,{connector:this.name});let e=await this.provider.request({method:i.ij.GET_ACCOUNTS});if(e&&e.length>0){let t=(0,c.Cb)(e[0],this.name);if(t&&!(0,c.$E)(t))return this.status=s.Ak.AUTHORIZED,this.emit(s.cS.AUTHORIZED,{connector:this.name,identityTokenInfo:{idToken:t}}),{idToken:t};let r=await this.provider.request({method:"solana_chainId"}),o=this.coreOptions.chains.find(e=>e.chainId===r);if(!o)throw a.Ty.invalidParams("chainConfig is required before authentication");let{chainNamespace:l}=o,u={domain:window.location.origin,uri:window.location.href,address:e[0],chainId:parseInt(r,16),version:"1",nonce:Math.random().toString(36).slice(2),issuedAt:new Date().toISOString()},d=await (0,n.tV)(u,l),f=await this.provider.request({method:i.ij.SIGN_MESSAGE,params:{data:d,display:"utf8"}}),h=await (0,n.rn)(l,f,d,this.name,this.coreOptions.sessionTime,this.coreOptions.clientId,this.coreOptions.web3AuthNetwork);return(0,c.Fr)(e[0],this.name,h),this.status=s.Ak.AUTHORIZED,this.emit(s.cS.AUTHORIZED,{connector:this.name,identityTokenInfo:{idToken:h}}),{idToken:h}}throw a.RM.notConnectedError("Not connected with wallet, Please login/connect first")}async disconnectSession(){super.checkDisconnectionRequirements();let e=await this.provider.request({method:i.ij.GET_ACCOUNTS});e&&e.length>0&&(0,c.qz)(e[0],this.name)}async disconnect(){this.rehydrated=!1,this.emit(s.cS.DISCONNECTED)}}},57360:function(e,t,r){"use strict";r.d(t,{z:function(){return f}});var n=r(56127),i=r(6827),o=r(44015),a=r(56344),s=r(95693),c=r(43280),l=r(17360),u=r(20840);class d extends o.C{constructor(e){super(e),(0,n.Z)(this,"connectorNamespace",a.$.EIP155),(0,n.Z)(this,"currentChainNamespace",s.E.EIP155),(0,n.Z)(this,"type",c.$Y.EXTERNAL),(0,n.Z)(this,"name",void 0),(0,n.Z)(this,"isInjected",!0),(0,n.Z)(this,"status",c.Ak.NOT_READY),(0,n.Z)(this,"injectedProvider",null),this.name=e.name,this.injectedProvider=e.provider,this.icon=e.icon}get provider(){return this.status!==c.Ak.NOT_READY&&this.injectedProvider?this.injectedProvider:null}set provider(e){throw Error("Not implemented")}async init(e){await super.init(e);let t=this.coreOptions.chains.find(t=>t.chainId===e.chainId);super.checkInitializationRequirements({chainConfig:t}),this.status=c.Ak.READY,this.emit(c.cS.READY,this.name);try{if(l.c.debug(`initializing ${this.name} injected connector`),e.autoConnect&&(this.rehydrated=!0,!await this.connect({chainId:e.chainId,getIdentityToken:e.getIdentityToken})))throw this.rehydrated=!1,u.RM.connectionError("Failed to rehydrate.")}catch(e){this.emit(c.cS.REHYDRATION_ERROR,e)}}async connect({chainId:e,getIdentityToken:t}){if(super.checkConnectionRequirements(),!this.injectedProvider)throw u.RM.connectionError("Injected provider is not available");let r=this.coreOptions.chains.find(t=>t.chainId===e);if(!r)throw u.RM.connectionError("Chain config is not available");this.status=c.Ak.CONNECTING,this.emit(c.cS.CONNECTING,{connector:this.name});try{let e;if(await this.injectedProvider.request({method:"eth_requestAccounts"}),this.injectedProvider.chainId!==r.chainId)try{await this.switchChain(r,!0)}catch{await this.addChain(r,!0),await this.switchChain(r,!0)}this.status=c.Ak.CONNECTED;let n=e=>{if(0===e.length){var t;this.disconnect(),null!==(t=this.injectedProvider)&&void 0!==t&&t.removeListener&&this.injectedProvider.removeListener("accountsChanged",n)}};return this.injectedProvider.on("accountsChanged",n),this.emit(c.cS.CONNECTED,{connector:this.name,reconnected:this.rehydrated,provider:this.injectedProvider,identityTokenInfo:e}),t&&(e=await this.getIdentityToken()),this.injectedProvider}catch(e){if(this.status=c.Ak.READY,this.rehydrated||this.emit(c.cS.ERRORED,e),this.rehydrated=!1,e instanceof u.up)throw e;throw u.RM.connectionError(`Failed to login with ${this.name} injected wallet`)}}async disconnect(e={cleanup:!1}){if(!this.injectedProvider)throw u.RM.connectionError("Injected provider is not available");await super.disconnectSession(),void 0!==this.injectedProvider.removeAllListeners&&this.injectedProvider.removeAllListeners();try{await this.injectedProvider.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]})}catch{}e.cleanup?(this.status=c.Ak.NOT_READY,this.injectedProvider=null):this.status=c.Ak.READY,await super.disconnect()}async getUserInfo(){if(!this.canAuthorize)throw u.RM.notConnectedError("Not connected with wallet, Please login/connect first");return{}}async addChain(e,t=!1){if(!this.injectedProvider)throw u.RM.connectionError("Injected provider is not available");await this.injectedProvider.request({method:"wallet_addEthereumChain",params:[{chainId:e.chainId,chainName:e.displayName,rpcUrls:[e.rpcTarget],blockExplorerUrls:[e.blockExplorerUrl],nativeCurrency:{name:e.tickerName,symbol:e.ticker,decimals:e.decimals||18},iconUrls:[e.logo]}]})}async switchChain(e,t=!1){if(!this.injectedProvider)throw u.RM.connectionError("Injected provider is not available");super.checkSwitchChainRequirements(e,t),await this.injectedProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:e.chainId}]})}async enableMFA(){throw Error("Method Not implemented")}async manageMFA(){throw Error("Method Not implemented")}}let f=e=>({coreOptions:t})=>new d({name:(0,i.rB)(e.info.name),provider:e.provider,icon:e.info.icon,coreOptions:t})},64694:function(e,t,r){"use strict";r.d(t,{createSolanaMipd:function(){return a.M},hasSolanaWalletStandardFeatures:function(){return l},walletStandardConnector:function(){return c.H}});var n=r(34402),i=r(10282),o=r(77684),a=r(36154),s=r(59186),c=r(51025);let l=e=>{let{chains:t,features:r}=e;return t.some(e=>e.startsWith("solana"))?!![s.V,n.g,i.R,o.G].every(e=>Object.keys(r).includes(e)):void 0}},51025:function(e,t,r){"use strict";r.d(t,{H:function(){return g}});var n=r(56127),i=r(59186),o=r(99965),a=r(4500),s=r(24531),c=r(6827),l=r(56344),u=r(95693),d=r(43280),f=r(17360),h=r(20840);class p extends o.p{constructor(e){super(e),(0,n.Z)(this,"name",void 0),(0,n.Z)(this,"connectorNamespace",l.$.SOLANA),(0,n.Z)(this,"currentChainNamespace",u.E.SOLANA),(0,n.Z)(this,"type",d.$Y.EXTERNAL),(0,n.Z)(this,"isInjected",!0),(0,n.Z)(this,"status",d.Ak.NOT_READY),(0,n.Z)(this,"wallet",null),(0,n.Z)(this,"injectedProvider",null),this.name=e.name,this.icon=e.wallet.icon,this.wallet=["gate","solflare"].includes(this.name)?Object.freeze(e.wallet):e.wallet}get provider(){return this.status!==d.Ak.NOT_READY&&this.injectedProvider?this.injectedProvider:null}get isWalletConnected(){return!!(this.connected&&this.wallet.accounts.length>0)}async init(e){await super.init(e);let t=this.coreOptions.chains.find(t=>t.chainId===e.chainId);super.checkInitializationRequirements({chainConfig:t}),this.injectedProvider=new a.O({config:{chain:t,chains:this.coreOptions.chains}}),await this.injectedProvider.setupProvider(this.wallet,e.chainId),this.status=d.Ak.READY,this.emit(d.cS.READY,this.name);try{if(f.c.debug("initializing solana injected connector"),e.autoConnect&&(this.rehydrated=!0,!await this.connect({chainId:e.chainId,getIdentityToken:e.getIdentityToken})))throw this.rehydrated=!1,h.RM.connectionError("Failed to rehydrate.")}catch(e){this.emit(d.cS.REHYDRATION_ERROR,e)}}async connect({chainId:e,getIdentityToken:t}){try{let r;super.checkConnectionRequirements();let n=this.coreOptions.chains.find(t=>t.chainId===e);if(!n)throw h.RM.connectionError("Chain config is not available");this.status=d.Ak.CONNECTING,this.emit(d.cS.CONNECTING,{connector:this.name});let o=(0,s.Q)(n);if(!this.wallet.chains.find(e=>e===o))throw h.RM.connectionError(`Chain ${o} not supported. Supported chains are ${this.wallet.chains.join(", ")}`);if(this.isWalletConnected||await this.wallet.features[i.V].connect(),0===this.wallet.accounts.length)throw h.RM.connectionError();return this.status=d.Ak.CONNECTED,this.emit(d.cS.CONNECTED,{connector:this.name,reconnected:this.rehydrated,provider:this.provider,identityTokenInfo:r}),t&&(r=await this.getIdentityToken()),this.provider}catch(e){throw this.status=d.Ak.READY,this.rehydrated||this.emit(d.cS.ERRORED,e),this.rehydrated=!1,e}}async disconnect(e={cleanup:!1}){await super.disconnectSession();try{var t;await (null===(t=this.wallet.features["standard:disconnect"])||void 0===t?void 0:t.disconnect()),e.cleanup?(this.status=d.Ak.NOT_READY,this.injectedProvider=null):this.status=d.Ak.READY,await super.disconnect()}catch(e){this.emit(d.cS.ERRORED,h.RM.disconnectionError(null==e?void 0:e.message))}}async getUserInfo(){if(!this.canAuthorize)throw h.RM.notConnectedError("Not connected with wallet, Please login/connect first");return{}}async switchChain(e,t=!1){var r;super.checkSwitchChainRequirements(e,t),await (null===(r=this.injectedProvider)||void 0===r?void 0:r.switchChain(e))}async enableMFA(){throw Error("Method not implemented.")}async manageMFA(){throw Error("Method Not implemented")}}let g=e=>({coreOptions:t})=>new p({name:(0,c.rB)(e.name),wallet:e,coreOptions:t})},24689:function(e,t,r){"use strict";r.d(t,{hA:function(){return i},he:function(){return s},ze:function(){return a}});var n=r(31905);let i=e=>{let{document:t}=e,r=t.querySelector('head > meta[property="og:site_name"]');if(r)return r.content;let n=t.querySelector('head > meta[name="title"]');return n?n.content:t.title&&t.title.length>0?t.title:e.location.hostname};function o(e){return new Promise((t,r)=>{try{let r=document.createElement("img");r.onload=()=>t(!0),r.onerror=()=>t(!1),r.src=e}catch(e){r(e)}})}async function a(e){let{document:t}=e,r=t.querySelector('head > link[rel="shortcut icon"]');if(r&&await o(r.href)||(r=Array.from(t.querySelectorAll('head > link[rel="icon"]')).find(e=>!!e.href)||null)&&await o(r.href))return r.href}function s(e){let[t,r]=e.split(".");return{header:JSON.parse((0,n.sX)(t)),payload:JSON.parse((0,n.sX)(r))}}},49850:function(e,t,r){"use strict";r.d(t,{G:function(){return I}});var n=r(31686),i=r(56127),o=r(36807),a=r(87614),s=r(10994);let c=e=>{if("number"==typeof e)return`0x${e.toString(16)}`;if("string"==typeof e)return e.startsWith("0x")?e:`0x${parseInt(e,10).toString(16)}`;throw Error(`Invalid chainId: ${e}`)};var l=r(14452),u=r(71616),d=r(20840),f=r(1272),h=r(82957).Buffer;async function p(e){if(e.session.length){let t=e.session.keys.length-1;return e.session.get(e.session.keys[t])}return null}async function g(e,t,r,i){let o=await p(e);if(!o)throw a.g.disconnected();return"undefined"!=typeof window&&/Mobi|Android|iPhone|iPad|iPod|Opera Mini|IEMobile|WPDesktop/i.test(window.navigator.userAgent)&&o.peer.metadata.redirect&&o.peer.metadata.redirect.native&&window.open(o.peer.metadata.redirect.native,"_blank"),e.request({topic:o.topic,chainId:t,request:{method:r,params:t.startsWith("solana:")?(0,n.Z)((0,n.Z)({},i),{},{pubkey:o.self.publicKey}):i}})}async function m(e){let t=await p(e);if(!t)throw a.g.disconnected();let r=(0,o.guN)(t.namespaces);if(r&&r.length)return[...new Set(r.map(e=>(0,o.cwA)(e).address))];throw d.RM.connectionError("Failed to get accounts")}async function y({connector:e,chainId:t,newChainId:r}){await g(e,`eip155:${t}`,"wallet_switchEthereumChain",[{chainId:r}])}async function b({connector:e,chainId:t,chainConfig:r}){if(!r)throw a.g.custom({message:"Chain config is required",code:4902});let i=c(r.chainId),o=(0,n.Z)((0,n.Z)({},r),{},{chainId:i});await g(e,`eip155:${t}`,"wallet_addEthereumChain",[o])}var w=r(28890),v=r(54726),E=r(53866),x=r(59179),A=r(18108),S=r(95693),_=r(17360);class I extends A.Z{constructor({config:e,state:t,connector:r}){super({config:{chain:e.chain,chains:e.chains,skipLookupNetwork:!!e.skipLookupNetwork},state:(0,n.Z)((0,n.Z)({},t||{}),{},{chainId:"loading",accounts:[]})}),(0,i.Z)(this,"connector",null),this.connector=r||null}async enable(){if(!this.connector)throw a.g.custom({message:"Connector is not initialized, pass wallet connect connector in constructor",code:4902});return await this.setupProvider(this.connector),this._providerEngineProxy.request({method:"eth_accounts"})}async setupProvider(e){this.onConnectorStateUpdate(e),await this.setupEngine(e,this.config.chain.chainId)}async switchChain({chainId:e}){if(!this.connector)throw a.g.custom({message:"Connector is not initialized, pass wallet connect connector in constructor",code:4902});if(!this.getChain(e))throw d.RM.connectionError("Chain config is not available");let t=parseInt(this.getCurrentChainId(),16);await y({connector:this.connector,chainId:t,newChainId:e}),await this.setupEngine(this.connector,e),this.lookupNetwork(this.connector,e),this.update({chainId:e})}async addChain(e){if(!this.connector)throw a.g.custom({message:"Connector is not initialized, pass wallet connect connector in constructor",code:4902});let t=parseInt(this.getCurrentChainId(),16);await b({connector:this.connector,chainId:t,chainConfig:e})}async lookupNetwork(e,t){return t}async setupEngine(e,t){let r=this.getChain(t);if(r.chainNamespace===S.E.EIP155)await this.setupEthEngine(e,t);else if(r.chainNamespace===S.E.SOLANA)await this.setupSolEngine(e,t);else throw Error(`Unsupported chainNamespace: ${r.chainNamespace}`);this.emit("chainChanged",t),this.emit("connect",{chainId:t}),this.update({chainId:t})}async setupEthEngine(e,t){let r=this.getChain(t),n=function({connector:e,chainId:t}){return{getPrivateKey:async()=>{throw a.P.methodNotSupported()},getPublicKey:async()=>{throw a.P.methodNotSupported()},getAccounts:async t=>m(e),processTransaction:async(r,n)=>await g(e,`eip155:${t}`,u.QZ.ETH_TRANSACTION,[r]),processSignTransaction:async(r,n)=>await g(e,`eip155:${t}`,"eth_signTransaction",[r]),processEthSignMessage:async(r,n)=>await g(e,`eip155:${t}`,u.QZ.ETH_SIGN,[r.from,r.data]),processPersonalMessage:async(r,n)=>await g(e,`eip155:${t}`,u.QZ.PERSONAL_SIGN,[r.data,r.from]),processTypedMessageV4:async r=>await g(e,`eip155:${t}`,u.QZ.ETH_SIGN_TYPED_DATA_V4,[r.from,r.data])}}({connector:e,chainId:parseInt(t,16)}),i=await m(e);this.update({accounts:i||[]});let o=(0,w.K)(n),c=this.getEthChainSwitchMiddleware(),l=new s.eI,{networkMiddleware:d}=(0,v.M6)(r);l.push(o),l.push(c),l.push(d);let f=(0,s.Xj)(l);this.updateProviderEngineProxy(f)}async setupSolEngine(e,t){let r=this.getChain(t),n=function({connector:e,chainId:t}){return{requestAccounts:async t=>m(e),getPrivateKey:async()=>{throw a.P.methodNotSupported()},getSecretKey:async()=>{throw a.P.methodNotSupported()},getPublicKey:async()=>{throw a.P.methodNotSupported()},getAccounts:async t=>m(e),signAllTransactions:async e=>{throw a.P.methodNotSupported()},signAndSendTransaction:async e=>{throw a.P.methodNotSupported()},signMessage:async r=>(await g(e,`solana:${f.Wd[t]}`,u.ij.SIGN_MESSAGE,{message:l.U.encode(h.from(r.params.data,"utf-8"))})).signature,signTransaction:async r=>{if(0===(await m(e)).length)throw a.g.disconnected();return(await g(e,`solana:${f.Wd[t]}`,u.ij.SIGN_TRANSACTION,{transaction:r.params.message})).signature}}}({connector:e,chainId:t}),i=await m(e);this.update({accounts:i||[]});let o=(0,E.jY)(n),c=new s.eI,{networkMiddleware:d}=(0,x.ci)(r);c.push(o),c.push(d);let p=(0,s.Xj)(c);this.updateProviderEngineProxy(p)}getEthChainSwitchMiddleware(){return(0,w.N)({switchChain:async e=>{let{chainId:t}=e;await this.switchChain({chainId:t})},addChain:async e=>{await this.addChain(e)}})}connectedTopic(){var e,t;if(!this.connector)throw d.RM.notConnectedError("Wallet connect connector is not connected");if(null!==(e=this.connector)&&void 0!==e&&null!==(e=e.session)&&void 0!==e&&e.length){let e=this.connector.session.keys.length-1;return null===(t=this.connector.session.get(this.connector.session.keys[e]))||void 0===t?void 0:t.topic}}checkIfAccountAllowed(e){if(!this.connector||!this.connectedTopic())return!1;let t=this.connector.session.get(this.connectedTopic()),r=(0,o.guN)(t.namespaces),n=!1;for(let t of r){var i;if((null===(i=(0,o.cwA)(t).address)||void 0===i?void 0:i.toLowerCase())===(null==e?void 0:e.toLowerCase())){n=!0;break}}return n}async onConnectorStateUpdate(e){e.events.on("session_event",async t=>{if(_.c.debug("session_event data",t),!this.provider)throw d.RM.notConnectedError("Wallet connect connector is not connected");let{event:r}=t.params,{name:n,data:i}=r||{};if("accountsChanged"===n&&null!=i&&i.length&&this.state.accounts[0]!==i[0]&&this.checkIfAccountAllowed(i[0])&&(this.update({accounts:i}),this.emit("accountsChanged",i)),"chainChanged"===r.name){if(!i)return;let t=c(i),{currentChain:r}=this;t&&r.chainId!==t&&await this.setupEngine(e,t)}})}getCurrentChainId(){let e=this.state.chainId;return e&&"loading"!==e?e:this.config.chains[0].chainId}}(0,i.Z)(I,"getProviderInstance",async e=>{let t=new I({config:{chain:e.chain,chains:e.chains,skipLookupNetwork:e.skipLookupNetwork}});return await t.setupProvider(e.connector),t})},84997:function(e,t,r){"use strict";r.d(t,{AB:function(){return g},BZ:function(){return b},HZ:function(){return f},Kq:function(){return y},Pw:function(){return d},U2:function(){return m},q:function(){return u},t6:function(){return h},w7:function(){return w}});var n,i,o,a,s=r(24689),c=r(1272),l=r(95693);let u=((n={}).ETH_SEND_TRANSACTION="eth_sendTransaction",n.ETH_SIGN_TRANSACTION="eth_signTransaction",n.ETH_SIGN="eth_sign",n.PERSONAL_SIGN="personal_sign",n.ETH_SIGN_TYPED_DATA="eth_signTypedData",n.ETH_SIGN_TYPED_DATA_V3="eth_signTypedData_v3",n.ETH_SIGN_TYPED_DATA_V4="eth_signTypedData_v4",n.ADD_ETHEREUM_CHAIN="wallet_addEthereumChain",n.SWITCH_ETHEREUM_CHAIN="wallet_switchEthereumChain",n),d=((i={}).SIGN_TRANSACTION="solana_signTransaction",i.SIGN_MESSAGE="solana_signMessage",i),f=((o={}).ETH_CHAIN_CHANGED="chainChanged",o.ETH_ACCOUNTS_CHANGED="accountsChanged",o),h=((a={}).SOL_CHAIN_CHANGED="chainChanged",a.SOL_ACCOUNTS_CHANGED="accountsChanged",a),p=async()=>({name:(0,s.hA)(window),icon:await (0,s.ze)(window)}),g=e=>{let t=[];return e.forEach(e=>{let[r]=e.split(":");t.includes(r)||t.push(r)}),t},m=e=>{switch(e){case l.E.EIP155:return Object.values(u);case l.E.SOLANA:return Object.values(d);default:throw Error(`No default methods for namespace: ${e}`)}},y=e=>{switch(e){case l.E.EIP155:return Object.values(f);case l.E.SOLANA:return Object.values(h);default:throw Error(`No default events for namespace: ${e}`)}},b=e=>Object.fromEntries(g(e).map(t=>[t,{methods:m(t),chains:e.filter(e=>e.startsWith(t)),events:y(t)}])),w=async(e,t)=>{let r=await p();return{connectorSettings:{walletConnectInitOptions:{projectId:t,relayUrl:"wss://relay.walletconnect.com",metadata:{name:r.name,description:r.name,url:window.location.origin,icons:[r.icon||""]}}},loginSettings:{optionalNamespaces:b(e.map(e=>{if(e.chainNamespace===l.E.SOLANA)return`${e.chainNamespace}:${c.Wd[e.chainId]}`;if(e.chainNamespace===l.E.EIP155)return`${e.chainNamespace}:${parseInt(e.chainId,16)}`;throw Error(`Unsupported chain namespace: ${e.chainNamespace}`)}))}}}},74766:function(e,t,r){"use strict";let n;r.d(t,{K:function(){return i_}});var i=r(31686),o=r(56127),a=r(95693),s=r(26639),c=r(15221),l=r(55445),u=r(40537);class d{}class f extends d{constructor(e){super()}}let h=u.FIVE_SECONDS,p="heartbeat_pulse";class g extends f{constructor(e){super(e),this.events=new l.EventEmitter,this.interval=h,this.interval=e?.interval||h}static async init(e){let t=new g(e);return await t.init(),t}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),(0,u.toMiliseconds)(this.interval))}pulse(){this.events.emit(p)}}let m=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,y=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,b=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function w(e,t){if("__proto__"===e||"constructor"===e&&t&&"object"==typeof t&&"prototype"in t){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`);return}return t}function v(e,t={}){if("string"!=typeof e)return e;if('"'===e[0]&&'"'===e[e.length-1]&&-1===e.indexOf("\\"))return e.slice(1,-1);let r=e.trim();if(r.length<=9)switch(r.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!b.test(e)){if(t.strict)throw SyntaxError("[destr] Invalid JSON");return e}try{if(m.test(e)||y.test(e)){if(t.strict)throw Error("[destr] Possible prototype pollution");return JSON.parse(e,w)}return JSON.parse(e)}catch(r){if(t.strict)throw r;return e}}var E=r(82957).Buffer;function x(e,...t){try{var r;return(r=e(...t))&&"function"==typeof r.then?r:Promise.resolve(r)}catch(e){return Promise.reject(e)}}function A(e){if(function(e){let t=typeof e;return null===e||"object"!==t&&"function"!==t}(e))return String(e);if(function(e){let t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}(e)||Array.isArray(e))return JSON.stringify(e);if("function"==typeof e.toJSON)return A(e.toJSON());throw Error("[unstorage] Cannot stringify value!")}let S="base64:";function _(e){return e&&e.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function I(e){return(e=_(e))?e+":":""}let C=()=>{let e=new Map;return{name:"memory",getInstance:()=>e,hasItem:t=>e.has(t),getItem:t=>e.get(t)??null,getItemRaw:t=>e.get(t)??null,setItem(t,r){e.set(t,r)},setItemRaw(t,r){e.set(t,r)},removeItem(t){e.delete(t)},getKeys:()=>[...e.keys()],clear(){e.clear()},dispose(){e.clear()}}};function O(e,t,r){return e.watch?e.watch((e,n)=>t(e,r+n)):()=>{}}async function P(e){"function"==typeof e.dispose&&await x(e.dispose)}function T(e){return new Promise((t,r)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>r(e.error)})}function k(e,t){let r;let n=()=>{if(r)return r;let n=indexedDB.open(e);return n.onupgradeneeded=()=>n.result.createObjectStore(t),(r=T(n)).then(e=>{e.onclose=()=>r=void 0},()=>{}),r};return(e,r)=>n().then(n=>r(n.transaction(t,e).objectStore(t)))}function N(){return n||(n=k("keyval-store","keyval")),n}function M(e,t=N()){return t("readonly",t=>T(t.get(e)))}var R=r(80577),D=(e={})=>{let t;let r=e.base&&e.base.length>0?`${e.base}:`:"",n=e=>r+e;return e.dbName&&e.storeName&&(t=k(e.dbName,e.storeName)),{name:"idb-keyval",options:e,hasItem:async e=>!(typeof await M(n(e),t)>"u"),getItem:async e=>await M(n(e),t)??null,setItem:(e,r)=>(function(e,t,r=N()){return r("readwrite",r=>(r.put(t,e),T(r.transaction)))})(n(e),r,t),removeItem:e=>(function(e,t=N()){return t("readwrite",t=>(t.delete(e),T(t.transaction)))})(n(e),t),getKeys:()=>(function(e=N()){return e("readonly",e=>{var t;if(e.getAllKeys)return T(e.getAllKeys());let r=[];return(t=e=>r.push(e.key),e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},T(e.transaction)).then(()=>r)})})(t),clear:()=>(function(e=N()){return e("readwrite",e=>(e.clear(),T(e.transaction)))})(t)}};class L{constructor(){this.indexedDb=function(e={}){let t={mounts:{"":e.driver||C()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=e=>{for(let r of t.mountpoints)if(e.startsWith(r))return{base:r,relativeKey:e.slice(r.length),driver:t.mounts[r]};return{base:"",relativeKey:e,driver:t.mounts[""]}},n=(e,r)=>t.mountpoints.filter(t=>t.startsWith(e)||r&&e.startsWith(t)).map(r=>({relativeBase:e.length>r.length?e.slice(r.length):void 0,mountpoint:r,driver:t.mounts[r]})),i=(e,r)=>{if(t.watching)for(let n of(r=_(r),t.watchListeners))n(e,r)},o=async()=>{if(!t.watching)for(let e in t.watching=!0,t.mounts)t.unwatch[e]=await O(t.mounts[e],i,e)},a=async()=>{if(t.watching){for(let e in t.unwatch)await t.unwatch[e]();t.unwatch={},t.watching=!1}},s=(e,t,n)=>{let i=new Map,o=e=>{let t=i.get(e.base);return t||(t={driver:e.driver,base:e.base,items:[]},i.set(e.base,t)),t};for(let n of e){let e="string"==typeof n,i=_(e?n:n.key),a=e?void 0:n.value,s=e||!n.options?t:{...t,...n.options},c=r(i);o(c).items.push({key:i,value:a,relativeKey:c.relativeKey,options:s})}return Promise.all([...i.values()].map(e=>n(e))).then(e=>e.flat())},c={hasItem(e,t={}){let{relativeKey:n,driver:i}=r(e=_(e));return x(i.hasItem,n,t)},getItem(e,t={}){let{relativeKey:n,driver:i}=r(e=_(e));return x(i.getItem,n,t).then(e=>v(e))},getItems:(e,t={})=>s(e,t,e=>e.driver.getItems?x(e.driver.getItems,e.items.map(e=>({key:e.relativeKey,options:e.options})),t).then(t=>t.map(t=>({key:function(...e){return _(e.join(":"))}(e.base,t.key),value:v(t.value)}))):Promise.all(e.items.map(t=>x(e.driver.getItem,t.relativeKey,t.options).then(e=>({key:t.key,value:v(e)}))))),getItemRaw(e,t={}){let{relativeKey:n,driver:i}=r(e=_(e));return i.getItemRaw?x(i.getItemRaw,n,t):x(i.getItem,n,t).then(e=>{var t;return"string"==typeof e&&e.startsWith(S)?(t=e.slice(S.length),globalThis.Buffer?E.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))):e})},async setItem(e,t,n={}){if(void 0===t)return c.removeItem(e);let{relativeKey:o,driver:a}=r(e=_(e));a.setItem&&(await x(a.setItem,o,A(t),n),a.watch||i("update",e))},async setItems(e,t){await s(e,t,async e=>{if(e.driver.setItems)return x(e.driver.setItems,e.items.map(e=>({key:e.relativeKey,value:A(e.value),options:e.options})),t);e.driver.setItem&&await Promise.all(e.items.map(t=>x(e.driver.setItem,t.relativeKey,A(t.value),t.options)))})},async setItemRaw(e,t,n={}){if(void 0===t)return c.removeItem(e,n);let{relativeKey:o,driver:a}=r(e=_(e));if(a.setItemRaw)await x(a.setItemRaw,o,t,n);else{if(!a.setItem)return;await x(a.setItem,o,"string"==typeof t?t:S+(globalThis.Buffer?E.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))),n)}a.watch||i("update",e)},async removeItem(e,t={}){"boolean"==typeof t&&(t={removeMeta:t});let{relativeKey:n,driver:o}=r(e=_(e));o.removeItem&&(await x(o.removeItem,n,t),(t.removeMeta||t.removeMata)&&await x(o.removeItem,n+"$",t),o.watch||i("remove",e))},async getMeta(e,t={}){"boolean"==typeof t&&(t={nativeOnly:t});let{relativeKey:n,driver:i}=r(e=_(e)),o=Object.create(null);if(i.getMeta&&Object.assign(o,await x(i.getMeta,n,t)),!t.nativeOnly){let e=await x(i.getItem,n+"$",t).then(e=>v(e));e&&"object"==typeof e&&("string"==typeof e.atime&&(e.atime=new Date(e.atime)),"string"==typeof e.mtime&&(e.mtime=new Date(e.mtime)),Object.assign(o,e))}return o},setMeta(e,t,r={}){return this.setItem(e+"$",t,r)},removeMeta(e,t={}){return this.removeItem(e+"$",t)},async getKeys(e,t={}){let r=n(e=I(e),!0),i=[],o=[],a=!0;for(let e of r){for(let r of(e.driver.flags?.maxDepth||(a=!1),await x(e.driver.getKeys,e.relativeBase,t))){let t=e.mountpoint+_(r);i.some(e=>t.startsWith(e))||o.push(t)}i=[e.mountpoint,...i.filter(t=>!t.startsWith(e.mountpoint))]}let s=void 0!==t.maxDepth&&!a;return o.filter(r=>{var n;return(!s||function(e,t){if(void 0===t)return!0;let r=0,n=e.indexOf(":");for(;n>-1;)r++,n=e.indexOf(":",n+1);return r<=t}(r,t.maxDepth))&&((n=e)?r.startsWith(n)&&"$"!==r[r.length-1]:"$"!==r[r.length-1])})},async clear(e,t={}){e=I(e),await Promise.all(n(e,!1).map(async e=>e.driver.clear?x(e.driver.clear,e.relativeBase,t):e.driver.removeItem?Promise.all((await e.driver.getKeys(e.relativeBase||"",t)).map(r=>e.driver.removeItem(r,t))):void 0))},async dispose(){await Promise.all(Object.values(t.mounts).map(e=>P(e)))},watch:async e=>(await o(),t.watchListeners.push(e),async()=>{t.watchListeners=t.watchListeners.filter(t=>t!==e),0===t.watchListeners.length&&await a()}),async unwatch(){t.watchListeners=[],await a()},mount(e,r){if((e=I(e))&&t.mounts[e])throw Error(`already mounted at ${e}`);return e&&(t.mountpoints.push(e),t.mountpoints.sort((e,t)=>t.length-e.length)),t.mounts[e]=r,t.watching&&Promise.resolve(O(r,i,e)).then(r=>{t.unwatch[e]=r}).catch(console.error),c},async unmount(e,r=!0){(e=I(e))&&t.mounts[e]&&(t.watching&&e in t.unwatch&&(t.unwatch[e]?.(),delete t.unwatch[e]),r&&await P(t.mounts[e]),t.mountpoints=t.mountpoints.filter(t=>t!==e),delete t.mounts[e])},getMount(e=""){let t=r(e=_(e)+":");return{driver:t.driver,base:t.base}},getMounts:(e="",t={})=>n(e=_(e),t.parents).map(e=>({driver:e.driver,base:e.mountpoint})),keys:(e,t={})=>c.getKeys(e,t),get:(e,t={})=>c.getItem(e,t),set:(e,t,r={})=>c.setItem(e,t,r),has:(e,t={})=>c.hasItem(e,t),del:(e,t={})=>c.removeItem(e,t),remove:(e,t={})=>c.removeItem(e,t)};return c}({driver:D({dbName:"WALLET_CONNECT_V2_INDEXED_DB",storeName:"keyvaluestorage"})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){let t=await this.indexedDb.getItem(e);if(null!==t)return t}async setItem(e,t){await this.indexedDb.setItem(e,(0,R.u)(t))}async removeItem(e){await this.indexedDb.removeItem(e)}}var B="u">typeof globalThis?globalThis:"u">typeof window?window:"u">typeof r.g?r.g:"u">typeof self?self:{},U={exports:{}};function j(e){var t;return[e[0],(0,R.D)(null!=(t=e[1])?t:"")]}!function(){function e(){}e.prototype.getItem=function(e){return this.hasOwnProperty(e)?String(this[e]):null},e.prototype.setItem=function(e,t){this[e]=String(t)},e.prototype.removeItem=function(e){delete this[e]},e.prototype.clear=function(){let e=this;Object.keys(e).forEach(function(t){e[t]=void 0,delete e[t]})},e.prototype.key=function(e){return e=e||0,Object.keys(this)[e]},e.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),"u">typeof B&&B.localStorage?U.exports=B.localStorage:"u">typeof window&&window.localStorage?U.exports=window.localStorage:U.exports=new e}();class ${constructor(){this.localStorage=U.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(j)}async getItem(e){let t=this.localStorage.getItem(e);if(null!==t)return(0,R.D)(t)}async setItem(e,t){this.localStorage.setItem(e,(0,R.u)(t))}async removeItem(e){this.localStorage.removeItem(e)}}let F=async(e,t,r)=>{let n="wc_storage_version",i=await t.getItem(n);if(i&&i>=1){r(t);return}let o=await e.getKeys();if(!o.length){r(t);return}let a=[];for(;o.length;){let r=o.shift();if(!r)continue;let n=r.toLowerCase();if(n.includes("wc@")||n.includes("walletconnect")||n.includes("wc_")||n.includes("wallet_connect")){let n=await e.getItem(r);await t.setItem(r,n),a.push(r)}}await t.setItem(n,1),r(t),z(e,a)},z=async(e,t)=>{t.length&&t.forEach(async t=>{await e.removeItem(t)})};class q{constructor(){this.initialized=!1,this.setInitialized=e=>{this.storage=e,this.initialized=!0};let e=new $;this.storage=e;try{let t=new L;F(e,t,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,t){return await this.initialize(),this.storage.setItem(e,t)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{let t=setInterval(()=>{this.initialized&&(clearInterval(t),e())},20)})}}var G=r(15133),H=Object.defineProperty,V=(e,t,r)=>t in e?H(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,W=(e,t,r)=>V(e,"symbol"!=typeof t?t+"":t,r);class Z extends d{constructor(e){super(),this.opts=e,W(this,"protocol","wc"),W(this,"version",2)}}var K=Object.defineProperty,Y=(e,t,r)=>t in e?K(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,J=(e,t,r)=>Y(e,"symbol"!=typeof t?t+"":t,r);class X extends d{constructor(e,t){super(),this.core=e,this.logger=t,J(this,"records",new Map)}}class Q{constructor(e,t){this.logger=e,this.core=t}}class ee extends d{constructor(e,t){super(),this.relayer=e,this.logger=t}}class et extends d{constructor(e){super()}}class er{constructor(e,t,r,n){this.core=e,this.logger=t,this.name=r}}class en extends d{constructor(e,t){super(),this.relayer=e,this.logger=t}}class ei extends d{constructor(e,t){super(),this.core=e,this.logger=t}}class eo{constructor(e,t,r){this.core=e,this.logger=t,this.store=r}}class ea{constructor(e,t){this.projectId=e,this.logger=t}}class es{constructor(e,t,r){this.core=e,this.logger=t,this.telemetryEnabled=r}}var ec=Object.defineProperty,el=(e,t,r)=>t in e?ec(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,eu=(e,t,r)=>el(e,"symbol"!=typeof t?t+"":t,r);class ed{constructor(e){this.opts=e,eu(this,"protocol","wc"),eu(this,"version",2)}}class ef{constructor(e){this.client=e}}var eh=r(46633),ep=r(36807),eg=r(98862);let em="INTERNAL_ERROR",ey="SERVER_ERROR",eb=[-32700,-32600,-32601,-32602,-32603],ew={PARSE_ERROR:{code:-32700,message:"Parse error"},INVALID_REQUEST:{code:-32600,message:"Invalid Request"},METHOD_NOT_FOUND:{code:-32601,message:"Method not found"},INVALID_PARAMS:{code:-32602,message:"Invalid params"},[em]:{code:-32603,message:"Internal error"},[ey]:{code:-32e3,message:"Server error"}};function ev(e){return Object.keys(ew).includes(e)?ew[e]:ew[ey]}var eE=r(13303);function ex(e=3){return Date.now()*Math.pow(10,e)+Math.floor(Math.random()*Math.pow(10,e))}function eA(e=6){return BigInt(ex(e))}function eS(e,t,r){return{id:r||ex(),jsonrpc:"2.0",method:e,params:t}}function e_(e,t){return{id:e,jsonrpc:"2.0",result:t}}function eI(e,t,r){var n,i,o;return{id:e,jsonrpc:"2.0",error:void 0===(n=t)?ev(em):("string"==typeof n&&(n=Object.assign(Object.assign({},ev(ey)),{message:n})),void 0!==r&&(n.data=r),i=n.code,eb.includes(i)&&(o=n.code,n=Object.values(ew).find(e=>e.code===o)||ew[ey]),n)}}class eC{}class eO extends eC{constructor(){super()}}class eP extends eO{constructor(e){super()}}function eT(e){return function(e,t){let r=function(e){let t=e.match(RegExp(/^\w+:/,"gi"));if(t&&t.length)return t[0]}(e);return void 0!==r&&new RegExp(t).test(r)}(e,"^wss?:")}function ek(e){return"object"==typeof e&&"id"in e&&"jsonrpc"in e&&"2.0"===e.jsonrpc}function eN(e){return ek(e)&&"method"in e}function eM(e){return ek(e)&&(eR(e)||eD(e))}function eR(e){return"result"in e}function eD(e){return"error"in e}class eL extends eP{constructor(e){super(e),this.events=new l.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async request(e,t){return this.requestStrict(eS(e.method,e.params||[],e.id||eA().toString()),t)}async requestStrict(e,t){return new Promise(async(r,n)=>{if(!this.connection.connected)try{await this.open()}catch(e){n(e)}this.events.on(`${e.id}`,e=>{eD(e)?n(e.error):r(e.result)});try{await this.connection.send(e,t)}catch(e){n(e)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),eM(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&3e3===e.code&&this.events.emit("error",Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),"string"==typeof e&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}}let eB=()=>"u">typeof WebSocket||"u">typeof r.g&&"u">typeof r.g.WebSocket||"u">typeof window&&"u">typeof window.WebSocket||"u">typeof self&&"u">typeof self.WebSocket,eU=e=>e.split("?")[0],ej="u">typeof WebSocket?WebSocket:"u">typeof r.g&&"u">typeof r.g.WebSocket?r.g.WebSocket:"u">typeof window&&"u">typeof window.WebSocket?window.WebSocket:"u">typeof self&&"u">typeof self.WebSocket?self.WebSocket:r(16854);class e${constructor(e){if(this.url=e,this.events=new l.EventEmitter,this.registering=!1,!eT(e))throw Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return"u">typeof this.socket}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,t)=>{if(typeof this.socket>"u"){t(Error("Connection already closed"));return}this.socket.onclose=t=>{this.onClose(t),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send((0,R.u)(e))}catch(t){this.onError(e.id,t)}}register(e=this.url){if(!eT(e))throw Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){let e=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=e||this.events.listenerCount("open")>=e)&&this.events.setMaxListeners(e+1),new Promise((e,t)=>{this.events.once("register_error",e=>{this.resetMaxListeners(),t(e)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return t(Error("WebSocket connection is missing or invalid"));e(this.socket)})})}return this.url=e,this.registering=!0,new Promise((t,r)=>{let n=(0,eE.isReactNative)()?void 0:{rejectUnauthorized:!RegExp("wss?://localhost(:d{2,5})?").test(e)},i=new ej(e,[],n);eB()?i.onerror=e=>{r(this.emitError(e.error))}:i.on("error",e=>{r(this.emitError(e))}),i.onopen=()=>{this.onOpen(i),t(i)}})}onOpen(e){e.onmessage=e=>this.onPayload(e),e.onclose=e=>this.onClose(e),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;let t="string"==typeof e.data?(0,R.D)(e.data):e.data;this.events.emit("payload",t)}onError(e,t){let r=this.parseError(t),n=eI(e,r.message||r.toString());this.events.emit("payload",n)}parseError(e,t=this.url){var r;return r=eU(t),e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?Error(`Unavailable WS RPC url at ${r}`):e}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}emitError(e){let t=this.parseError(Error(e?.message||`WebSocket connection failed for host: ${eU(this.url)}`));return this.events.emit("register_error",t),t}}var eF=r(76454),ez=r(82957).Buffer,eq=r(25566);let eG="core",eH=`wc@2:${eG}:`,eV={logger:"error"},eW={database:":memory:"},eZ="client_ed25519_seed",eK=u.ONE_DAY,eY=u.SIX_HOURS,eJ="wss://relay.walletconnect.org",eX={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",publish:"relayer_publish"},eQ={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},e0="2.23.4",e1={link_mode:"link_mode",relay:"relay"},e2={inbound:"inbound",outbound:"outbound"},e3="WALLETCONNECT_LINK_MODE_APPS",e6={created:"subscription_created",deleted:"subscription_deleted",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},e5=(u.FIVE_SECONDS,{wc_pairingDelete:{req:{ttl:u.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:u.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:u.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:u.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:u.ONE_DAY,prompt:!1,tag:0},res:{ttl:u.ONE_DAY,prompt:!1,tag:0}}}),e8={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},e4={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},e9={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},e7="https://verify.walletconnect.org",te=`${e7}/v3`,tt=["https://verify.walletconnect.com",e7],tr={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal"},tn={no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_listener_not_found:"proposal_listener_not_found"},ti={session_approve_started:"session_approve_started",session_namespaces_validation_success:"session_namespaces_validation_success",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",session_request_response_started:"session_request_response_started",session_request_response_validation_success:"session_request_response_validation_success",session_request_response_publish_started:"session_request_response_publish_started"},to={no_internet_connection:"no_internet_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found",session_request_response_validation_failure:"session_request_response_validation_failure",session_request_response_publish_failure:"session_request_response_publish_failure"},ta={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},ts={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"};var tc=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),a=o.charCodeAt(0);if(255!==r[a])throw TypeError(o+" is ambiguous");r[a]=i}var s=e.length,c=e.charAt(0),l=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function d(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var n=0,i=0;e[t]===c;)n++,t++;for(var o=(e.length-t)*l+1>>>0,a=new Uint8Array(o);e[t];){var u=r[e.charCodeAt(t)];if(255===u)return;for(var d=0,f=o-1;(0!==u||d<i)&&-1!==f;f--,d++)u+=s*a[f]>>>0,a[f]=u%256>>>0,u=u/256>>>0;if(0!==u)throw Error("Non-zero carry");i=d,t++}if(" "!==e[t]){for(var h=o-i;h!==o&&0===a[h];)h++;for(var p=new Uint8Array(n+(o-h)),g=n;h!==o;)p[g++]=a[h++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var a=(o-i)*u+1>>>0,l=new Uint8Array(a);i!==o;){for(var d=t[i],f=0,h=a-1;(0!==d||f<n)&&-1!==h;h--,f++)d+=256*l[h]>>>0,l[h]=d%s>>>0,d=d/s>>>0;if(0!==d)throw Error("Non-zero carry");n=f,i++}for(var p=a-n;p!==a&&0===l[p];)p++;for(var g=c.repeat(r);p<a;++p)g+=e.charAt(l[p]);return g},decodeUnsafe:d,decode:function(e){var r=d(e);if(r)return r;throw Error(`Non-${t} character`)}}};let tl=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")},tu=e=>new TextEncoder().encode(e),td=e=>new TextDecoder().decode(e);class tf{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class th{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return tg(this,e)}}class tp{constructor(e){this.decoders=e}or(e){return tg(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let tg=(e,t)=>new tp({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class tm{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new tf(e,t,r),this.decoder=new th(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let ty=({name:e,prefix:t,encode:r,decode:n})=>new tm(e,t,r,n),tb=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=tc(r,t);return ty({prefix:e,name:t,encode:n,decode:e=>tl(i(e))})},tw=(e,t,r,n)=>{let i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let o=e.length;for(;"="===e[o-1];)--o;let a=new Uint8Array(o*r/8|0),s=0,c=0,l=0;for(let t=0;t<o;++t){let o=i[e[t]];if(void 0===o)throw SyntaxError(`Non-${n} character`);c=c<<r|o,(s+=r)>=8&&(s-=8,a[l++]=255&c>>s)}if(s>=r||255&c<<8-s)throw SyntaxError("Unexpected end of data");return a},tv=(e,t,r)=>{let n="="===t[t.length-1],i=(1<<r)-1,o="",a=0,s=0;for(let n=0;n<e.length;++n)for(s=s<<8|e[n],a+=8;a>r;)a-=r,o+=t[i&s>>a];if(a&&(o+=t[i&s<<r-a]),n)for(;o.length*r&7;)o+="=";return o},tE=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>ty({prefix:t,name:e,encode:e=>tv(e,n,r),decode:t=>tw(t,n,r,e)});var tx=Object.freeze({__proto__:null,identity:ty({prefix:"\0",name:"identity",encode:e=>td(e),decode:e=>tu(e)})}),tA=Object.freeze({__proto__:null,base2:tE({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})}),tS=Object.freeze({__proto__:null,base8:tE({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})}),t_=Object.freeze({__proto__:null,base10:tb({prefix:"9",name:"base10",alphabet:"0123456789"})}),tI=Object.freeze({__proto__:null,base16:tE({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper:tE({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})});let tC=tE({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),tO=tE({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),tP=tE({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),tT=tE({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),tk=tE({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),tN=tE({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});var tM=Object.freeze({__proto__:null,base32:tC,base32upper:tO,base32pad:tP,base32padupper:tT,base32hex:tk,base32hexupper:tN,base32hexpad:tE({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper:tE({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z:tE({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})}),tR=Object.freeze({__proto__:null,base36:tb({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper:tb({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})}),tD=Object.freeze({__proto__:null,base58btc:tb({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr:tb({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});let tL=tE({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6});var tB=Object.freeze({__proto__:null,base64:tL,base64pad:tE({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url:tE({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad:tE({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});let tU=Array.from("\uD83D\uDE80\uD83E\uDE90\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B\uD83E\uDD19\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81\uD83C\uDF1E\uD83C\uDF88\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74\uD83D\uDC8E\uD83D\uDCB8\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),tj=tU.reduce((e,t,r)=>(e[r]=t,e),[]),t$=tU.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);var tF=Object.freeze({__proto__:null,base256emoji:ty({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=tj[t],"")},decode:function(e){let t=[];for(let r of e){let e=t$[r.codePointAt(0)];if(void 0===e)throw Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}})});function tz(e,t){var r,n=0,t=t||0,i=0,o=t,a=e.length;do{if(o>=a)throw tz.bytes=0,RangeError("Could not decode varint");r=e[o++],n+=i<28?(127&r)<<i:(127&r)*Math.pow(2,i),i+=7}while(r>=128);return tz.bytes=o-t,n}var tq=function e(t,r,n){r=r||[],n=n||0;for(var i=n;t>=2147483648;)r[n++]=255&t|128,t/=128;for(;-128&t;)r[n++]=255&t|128,t>>>=7;return r[n]=0|t,e.bytes=n-i+1,r};let tG=(e,t,r=0)=>(tq(e,t,r),t),tH=e=>e<128?1:e<16384?2:e<2097152?3:e<268435456?4:e<34359738368?5:e<4398046511104?6:e<562949953421312?7:e<72057594037927940?8:e<0x7fffffffffffffff?9:10,tV=(e,t)=>{let r=t.byteLength,n=tH(e),i=n+tH(r),o=new Uint8Array(i+r);return tG(e,o,0),tG(r,o,n),o.set(t,i),new tW(e,r,t,o)};class tW{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}let tZ=({name:e,code:t,encode:r})=>new tK(e,t,r);class tK{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?tV(this.code,t):t.then(e=>tV(this.code,e))}throw Error("Unknown type, must be binary type")}}let tY=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t));var tJ=Object.freeze({__proto__:null,sha256:tZ({name:"sha2-256",code:18,encode:tY("SHA-256")}),sha512:tZ({name:"sha2-512",code:19,encode:tY("SHA-512")})}),tX=Object.freeze({__proto__:null,identity:{code:0,name:"identity",encode:tl,digest:e=>tV(0,tl(e))}});new TextEncoder,new TextDecoder;let tQ={...tx,...tA,...tS,...t_,...tI,...tM,...tR,...tD,...tB,...tF};function t0(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function t1(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}({...tJ,...tX});let t2=t1("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),t3=t1("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{let t=function(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?t0(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),t6={utf8:t2,"utf-8":t2,hex:tQ.base16,latin1:t3,ascii:t3,binary:t3,...tQ};var t5=Object.defineProperty,t8=(e,t,r)=>t in e?t5(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,t4=(e,t,r)=>t8(e,"symbol"!=typeof t?t+"":t,r);class t9{constructor(e,t){this.core=e,this.logger=t,t4(this,"keychain",new Map),t4(this,"name","keychain"),t4(this,"version","0.3"),t4(this,"initialized",!1),t4(this,"storagePrefix",eH),t4(this,"init",async()=>{if(!this.initialized){let e=await this.getKeyChain();"u">typeof e&&(this.keychain=e),this.initialized=!0}}),t4(this,"has",e=>(this.isInitialized(),this.keychain.has(e))),t4(this,"set",async(e,t)=>{this.isInitialized(),this.keychain.set(e,t),await this.persist()}),t4(this,"get",e=>{this.isInitialized();let t=this.keychain.get(e);if(typeof t>"u"){let{message:t}=(0,ep.kCb)("NO_MATCHING_KEY",`${this.name}: ${e}`);throw Error(t)}return t}),t4(this,"del",async e=>{this.isInitialized(),this.keychain.delete(e),await this.persist()}),this.core=e,this.logger=(0,G.Ep)(t,this.name)}get context(){return(0,G.Fd)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,(0,ep.KCv)(e))}async getKeyChain(){let e=await this.core.storage.getItem(this.storageKey);return"u">typeof e?(0,ep.IPd)(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){let{message:e}=(0,ep.kCb)("NOT_INITIALIZED",this.name);throw Error(e)}}}var t7=Object.defineProperty,re=(e,t,r)=>t in e?t7(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,rt=(e,t,r)=>re(e,"symbol"!=typeof t?t+"":t,r);class rr{constructor(e,t,r){this.core=e,this.logger=t,rt(this,"name","crypto"),rt(this,"keychain"),rt(this,"randomSessionIdentifier",(0,ep.jdp)()),rt(this,"initialized",!1),rt(this,"clientId"),rt(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),rt(this,"hasKeys",e=>(this.isInitialized(),this.keychain.has(e))),rt(this,"getClientId",async()=>{if(this.isInitialized(),this.clientId)return this.clientId;let e=await this.getClientSeed(),t=eh.Au(e),r=eh.bG(t.publicKey);return this.clientId=r,r}),rt(this,"generateKeyPair",()=>{this.isInitialized();let e=(0,ep.Au2)();return this.setPrivateKey(e.publicKey,e.privateKey)}),rt(this,"signJWT",async e=>{this.isInitialized();let t=await this.getClientSeed(),r=eh.Au(t),n=this.randomSessionIdentifier;return await eh.vf(n,e,eK,r)}),rt(this,"generateSharedKey",(e,t,r)=>{this.isInitialized();let n=this.getPrivateKey(e),i=(0,ep.m$A)(n,t);return this.setSymKey(i,r)}),rt(this,"setSymKey",async(e,t)=>{this.isInitialized();let r=t||(0,ep.YmJ)(e);return await this.keychain.set(r,e),r}),rt(this,"deleteKeyPair",async e=>{this.isInitialized(),await this.keychain.del(e)}),rt(this,"deleteSymKey",async e=>{this.isInitialized(),await this.keychain.del(e)}),rt(this,"encode",async(e,t,r)=>{this.isInitialized();let n=(0,ep.ENt)(r),i=(0,R.u)(t);if((0,ep.Hs$)(n))return(0,ep.Spz)(i,r?.encoding);if((0,ep.Q8x)(n)){let t=n.senderPublicKey,r=n.receiverPublicKey;e=await this.generateSharedKey(t,r)}let o=this.getSymKey(e),{type:a,senderPublicKey:s}=n;return(0,ep.HIp)({type:a,symKey:o,message:i,senderPublicKey:s,encoding:r?.encoding})}),rt(this,"decode",async(e,t,r)=>{this.isInitialized();let n=(0,ep.Llj)(t,r);if((0,ep.Hs$)(n)){let e=(0,ep.xQU)(t,r?.encoding);return(0,R.D)(e)}if((0,ep.Q8x)(n)){let t=n.receiverPublicKey,r=n.senderPublicKey;e=await this.generateSharedKey(t,r)}try{let n=this.getSymKey(e),i=(0,ep.peR)({symKey:n,encoded:t,encoding:r?.encoding});return(0,R.D)(i)}catch(t){this.logger.error(`Failed to decode message from topic: '${e}', clientId: '${await this.getClientId()}'`),this.logger.error(t)}}),rt(this,"getPayloadType",(e,t=ep.$dT)=>{let r=(0,ep.vBi)({encoded:e,encoding:t});return(0,ep.WGe)(r.type)}),rt(this,"getPayloadSenderPublicKey",(e,t=ep.$dT)=>{let r=(0,ep.vBi)({encoded:e,encoding:t});return r.senderPublicKey?(0,eg.BB)(r.senderPublicKey,ep.AWt):void 0}),this.core=e,this.logger=(0,G.Ep)(t,this.name),this.keychain=r||new t9(this.core,this.logger)}get context(){return(0,G.Fd)(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(eZ)}catch{e=(0,ep.jdp)(),await this.keychain.set(eZ,e)}return function(e,t="utf8"){let r=t6[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?t0(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){let{message:e}=(0,ep.kCb)("NOT_INITIALIZED",this.name);throw Error(e)}}}var rn=Object.defineProperty,ri=Object.defineProperties,ro=Object.getOwnPropertyDescriptors,ra=Object.getOwnPropertySymbols,rs=Object.prototype.hasOwnProperty,rc=Object.prototype.propertyIsEnumerable,rl=(e,t,r)=>t in e?rn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ru=(e,t)=>{for(var r in t||(t={}))rs.call(t,r)&&rl(e,r,t[r]);if(ra)for(var r of ra(t))rc.call(t,r)&&rl(e,r,t[r]);return e},rd=(e,t)=>ri(e,ro(t)),rf=(e,t,r)=>rl(e,"symbol"!=typeof t?t+"":t,r);class rh extends Q{constructor(e,t){super(e,t),this.logger=e,this.core=t,rf(this,"messages",new Map),rf(this,"messagesWithoutClientAck",new Map),rf(this,"name","messages"),rf(this,"version","0.3"),rf(this,"initialized",!1),rf(this,"storagePrefix",eH),rf(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{let e=await this.getRelayerMessages();"u">typeof e&&(this.messages=e);let t=await this.getRelayerMessagesWithoutClientAck();"u">typeof t&&(this.messagesWithoutClientAck=t),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}finally{this.initialized=!0}}}),rf(this,"set",async(e,t,r)=>{this.isInitialized();let n=(0,ep.rjm)(t),i=this.messages.get(e);if(typeof i>"u"&&(i={}),"u">typeof i[n])return n;if(i[n]=t,this.messages.set(e,i),r===e2.inbound){let r=this.messagesWithoutClientAck.get(e)||{};this.messagesWithoutClientAck.set(e,rd(ru({},r),{[n]:t}))}return await this.persist(),n}),rf(this,"get",e=>{this.isInitialized();let t=this.messages.get(e);return typeof t>"u"&&(t={}),t}),rf(this,"getWithoutAck",e=>{this.isInitialized();let t={};for(let r of e){let e=this.messagesWithoutClientAck.get(r)||{};t[r]=Object.values(e)}return t}),rf(this,"has",(e,t)=>(this.isInitialized(),"u">typeof this.get(e)[(0,ep.rjm)(t)])),rf(this,"ack",async(e,t)=>{this.isInitialized();let r=this.messagesWithoutClientAck.get(e);if(typeof r>"u")return;let n=(0,ep.rjm)(t);delete r[n],0===Object.keys(r).length?this.messagesWithoutClientAck.delete(e):this.messagesWithoutClientAck.set(e,r),await this.persist()}),rf(this,"del",async e=>{this.isInitialized(),this.messages.delete(e),this.messagesWithoutClientAck.delete(e),await this.persist()}),this.logger=(0,G.Ep)(e,this.name),this.core=t}get context(){return(0,G.Fd)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,(0,ep.KCv)(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,(0,ep.KCv)(e))}async getRelayerMessages(){let e=await this.core.storage.getItem(this.storageKey);return"u">typeof e?(0,ep.IPd)(e):void 0}async getRelayerMessagesWithoutClientAck(){let e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return"u">typeof e?(0,ep.IPd)(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){let{message:e}=(0,ep.kCb)("NOT_INITIALIZED",this.name);throw Error(e)}}}var rp=Object.defineProperty,rg=Object.defineProperties,rm=Object.getOwnPropertyDescriptors,ry=Object.getOwnPropertySymbols,rb=Object.prototype.hasOwnProperty,rw=Object.prototype.propertyIsEnumerable,rv=(e,t,r)=>t in e?rp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,rE=(e,t)=>{for(var r in t||(t={}))rb.call(t,r)&&rv(e,r,t[r]);if(ry)for(var r of ry(t))rw.call(t,r)&&rv(e,r,t[r]);return e},rx=(e,t)=>rg(e,rm(t)),rA=(e,t,r)=>rv(e,"symbol"!=typeof t?t+"":t,r);class rS extends ee{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,rA(this,"events",new l.EventEmitter),rA(this,"name","publisher"),rA(this,"queue",new Map),rA(this,"publishTimeout",(0,u.toMiliseconds)(u.ONE_MINUTE)),rA(this,"initialPublishTimeout",(0,u.toMiliseconds)(15*u.ONE_SECOND)),rA(this,"needsTransportRestart",!1),rA(this,"publish",async(e,t,r)=>{var n,i,o,a,s;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:e,message:t,opts:r}});let c=r?.ttl||eY,l=r?.prompt||!1,u=r?.tag||0,d=r?.id||eA().toString(),f=(0,ep.cOS)((0,ep._HE)().protocol),h={id:d,method:r?.publishMethod||f.publish,params:rE({topic:e,message:t,ttl:c,prompt:l,tag:u,attestation:r?.attestation},r?.tvf)},p=`Failed to publish payload, please try again. id:${d} tag:${u}`;try{(0,ep.o8e)(null==(n=h.params)?void 0:n.prompt)&&(null==(i=h.params)||delete i.prompt),(0,ep.o8e)(null==(o=h.params)?void 0:o.tag)&&(null==(a=h.params)||delete a.tag);let s=new Promise(async e=>{let t=({id:r})=>{var n;(null==(n=h.id)?void 0:n.toString())===r.toString()&&(this.removeRequestFromQueue(r),this.relayer.events.removeListener(eX.publish,t),e())};this.relayer.events.on(eX.publish,t);let n=(0,ep.hFY)(new Promise((e,t)=>{this.rpcPublish(h,r).then(e).catch(e=>{this.logger.warn(e,e?.message),t(e)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${d} tag:${u}`);try{await n,this.events.removeListener(eX.publish,t)}catch(e){this.queue.set(d,{request:h,opts:r,attempt:1}),this.logger.warn(e,e?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:d,topic:e,message:t,opts:r}}),await (0,ep.hFY)(s,this.publishTimeout,p)}catch(e){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(e),null!=(s=r?.internal)&&s.throwOnFailedPublish)throw e}finally{this.queue.delete(d)}}),rA(this,"publishCustom",async e=>{var t,r,n,i,o;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:e});let{payload:a,opts:s={}}=e,{attestation:c,tvf:l,publishMethod:d,prompt:f,tag:h,ttl:p=u.FIVE_MINUTES}=s,g=s.id||eA().toString(),m=(0,ep.cOS)((0,ep._HE)().protocol),y=d||m.publish,b={id:g,method:y,params:rE(rx(rE({},a),{ttl:p,prompt:f,tag:h,attestation:c}),l)},w=`Failed to publish custom payload, please try again. id:${g} tag:${h}`;try{(0,ep.o8e)(null==(t=b.params)?void 0:t.prompt)&&(null==(r=b.params)||delete r.prompt),(0,ep.o8e)(null==(n=b.params)?void 0:n.tag)&&(null==(i=b.params)||delete i.tag);let e=new Promise(async e=>{let t=({id:r})=>{var n;(null==(n=b.id)?void 0:n.toString())===r.toString()&&(this.removeRequestFromQueue(r),this.relayer.events.removeListener(eX.publish,t),e())};this.relayer.events.on(eX.publish,t);let r=(0,ep.hFY)(new Promise((e,t)=>{this.rpcPublish(b,s).then(e).catch(e=>{this.logger.warn(e,e?.message),t(e)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${y} id:${g} tag:${h}`);try{await r,this.events.removeListener(eX.publish,t)}catch(e){this.queue.set(g,{request:b,opts:s,attempt:1}),this.logger.warn(e,e?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:g,payload:a,opts:s}}),await (0,ep.hFY)(e,this.publishTimeout,w)}catch(e){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(e),null!=(o=s?.internal)&&o.throwOnFailedPublish)throw e}finally{this.queue.delete(g)}}),rA(this,"on",(e,t)=>{this.events.on(e,t)}),rA(this,"once",(e,t)=>{this.events.once(e,t)}),rA(this,"off",(e,t)=>{this.events.off(e,t)}),rA(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),this.relayer=e,this.logger=(0,G.Ep)(t,this.name),this.registerEventListeners()}get context(){return(0,G.Fd)(this.logger)}async rpcPublish(e,t){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:e});let r=await this.relayer.request(e);return this.relayer.events.emit(eX.publish,rE(rE({},e),t)),this.logger.debug("Successfully Published Payload"),r}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,t)=>{var r;let n=e.attempt+1;this.queue.set(t,rx(rE({},e),{attempt:n})),this.logger.warn({},`Publisher: queue->publishing: ${e.request.id}, tag: ${null==(r=e.request.params)?void 0:r.tag}, attempt: ${n}`),await this.rpcPublish(e.request,e.opts),this.logger.warn({},`Publisher: queue->published: ${e.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(p,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(eX.connection_stalled);return}this.checkQueue()}),this.relayer.on(eX.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var r_=Object.defineProperty,rI=(e,t,r)=>t in e?r_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,rC=(e,t,r)=>rI(e,"symbol"!=typeof t?t+"":t,r);class rO{constructor(){rC(this,"map",new Map),rC(this,"set",(e,t)=>{let r=this.get(e);this.exists(e,t)||this.map.set(e,[...r,t])}),rC(this,"get",e=>this.map.get(e)||[]),rC(this,"exists",(e,t)=>this.get(e).includes(t)),rC(this,"delete",(e,t)=>{if(typeof t>"u"){this.map.delete(e);return}if(!this.map.has(e))return;let r=this.get(e);if(!this.exists(e,t))return;let n=r.filter(e=>e!==t);if(!n.length){this.map.delete(e);return}this.map.set(e,n)}),rC(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var rP=Object.defineProperty,rT=Object.defineProperties,rk=Object.getOwnPropertyDescriptors,rN=Object.getOwnPropertySymbols,rM=Object.prototype.hasOwnProperty,rR=Object.prototype.propertyIsEnumerable,rD=(e,t,r)=>t in e?rP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,rL=(e,t)=>{for(var r in t||(t={}))rM.call(t,r)&&rD(e,r,t[r]);if(rN)for(var r of rN(t))rR.call(t,r)&&rD(e,r,t[r]);return e},rB=(e,t)=>rT(e,rk(t)),rU=(e,t,r)=>rD(e,"symbol"!=typeof t?t+"":t,r);class rj extends en{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,rU(this,"subscriptions",new Map),rU(this,"topicMap",new rO),rU(this,"events",new l.EventEmitter),rU(this,"name","subscription"),rU(this,"version","0.3"),rU(this,"pending",new Map),rU(this,"cached",[]),rU(this,"initialized",!1),rU(this,"storagePrefix",eH),rU(this,"subscribeTimeout",(0,u.toMiliseconds)(u.ONE_MINUTE)),rU(this,"initialSubscribeTimeout",(0,u.toMiliseconds)(15*u.ONE_SECOND)),rU(this,"clientId"),rU(this,"batchSubscribeTopicsLimit",500),rU(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),rU(this,"subscribe",async(e,t)=>{var r;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:e,opts:t}});try{let n=(0,ep._HE)(t),i={topic:e,relay:n,transportType:t?.transportType};null!=(r=t?.internal)&&r.skipSubscribe||this.pending.set(e,i);let o=await this.rpcSubscribe(e,n,t);return"string"==typeof o&&(this.onSubscribe(o,i),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:e,opts:t}})),o}catch(e){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(e),e}}),rU(this,"unsubscribe",async(e,t)=>{this.isInitialized(),"u">typeof t?.id?await this.unsubscribeById(e,t.id,t):await this.unsubscribeByTopic(e,t)}),rU(this,"isSubscribed",e=>new Promise(t=>{t(this.topicMap.topics.includes(e))})),rU(this,"isKnownTopic",e=>new Promise(t=>{t(this.topicMap.topics.includes(e)||this.pending.has(e)||this.cached.some(t=>t.topic===e))})),rU(this,"on",(e,t)=>{this.events.on(e,t)}),rU(this,"once",(e,t)=>{this.events.once(e,t)}),rU(this,"off",(e,t)=>{this.events.off(e,t)}),rU(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),rU(this,"start",async()=>{await this.onConnect()}),rU(this,"stop",async()=>{await this.onDisconnect()}),rU(this,"restart",async()=>{await this.restore(),await this.onRestart()}),rU(this,"checkPending",async()=>{if(0===this.pending.size&&(!this.initialized||!this.relayer.connected))return;let e=[];this.pending.forEach(t=>{e.push(t)}),await this.batchSubscribe(e)}),rU(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(p,async()=>{await this.checkPending()}),this.events.on(e6.created,async e=>{let t=e6.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()}),this.events.on(e6.deleted,async e=>{let t=e6.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()})}),this.relayer=e,this.logger=(0,G.Ep)(t,this.name),this.clientId=""}get context(){return(0,G.Fd)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,t){let r=!1;try{r=this.getSubscription(e).topic===t}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,t){let r=this.topicMap.get(e);await Promise.all(r.map(async r=>await this.unsubscribeById(e,r,t)))}async unsubscribeById(e,t,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:r}});try{let n=(0,ep._HE)(r);await this.restartToComplete({topic:e,id:t,relay:n}),await this.rpcUnsubscribe(e,t,n);let i=(0,ep.D6H)("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,t,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:r}})}catch(e){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(e),e}}async rpcSubscribe(e,t,r){var n,i;let o=await this.getSubscriptionId(e);if(null!=(n=r?.internal)&&n.skipSubscribe)return o;r&&r?.transportType!==e1.relay||await this.restartToComplete({topic:e,id:e,relay:t});let a={method:(0,ep.cOS)(t.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:a});let s=null==(i=r?.internal)?void 0:i.throwOnFailedPublish;try{if(r?.transportType===e1.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(a).catch(e=>this.logger.warn(e))},(0,u.toMiliseconds)(u.ONE_SECOND)),o;let t=new Promise(async t=>{let r=n=>{n.topic===e&&(this.events.removeListener(e6.created,r),t(n.id))};this.events.on(e6.created,r);try{let n=await (0,ep.hFY)(new Promise((e,t)=>{this.relayer.request(a).catch(e=>{this.logger.warn(e,e?.message),t(e)}).then(e)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(e6.created,r),t(n)}catch{}}),n=await (0,ep.hFY)(t,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!n&&s)throw Error(`Subscribing to ${e} failed, please try again`);return n?o:null}catch(e){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(eX.connection_stalled),s)throw e}return null}async rpcBatchSubscribe(e){if(!e.length)return;let t=e[0].relay,r={method:(0,ep.cOS)(t.protocol).batchSubscribe,params:{topics:e.map(e=>e.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await (0,ep.hFY)(new Promise(e=>{this.relayer.request(r).catch(e=>this.logger.warn(e)).then(e)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(eX.connection_stalled)}}async rpcBatchFetchMessages(e){let t;if(!e.length)return;let r=e[0].relay,n={method:(0,ep.cOS)(r.protocol).batchFetchMessages,params:{topics:e.map(e=>e.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{t=await await (0,ep.hFY)(new Promise((e,t)=>{this.relayer.request(n).catch(e=>{this.logger.warn(e),t(e)}).then(e)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(eX.connection_stalled)}return t}rpcUnsubscribe(e,t,r){let n={method:(0,ep.cOS)(r.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n}),this.relayer.request(n)}onSubscribe(e,t){this.setSubscription(e,rB(rL({},t),{id:e})),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach(e=>{this.setSubscription(e.id,rL({},e)),this.pending.delete(e.topic)})}async onUnsubscribe(e,t,r){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t)}addSubscription(e,t){this.subscriptions.set(e,rL({},t)),this.topicMap.set(t.topic,e),this.events.emit(e6.created,t)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});let t=this.subscriptions.get(e);if(!t){let{message:t}=(0,ep.kCb)("NO_MATCHING_KEY",`${this.name}: ${e}`);throw Error(t)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});let r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(e6.deleted,rB(rL({},r),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(e6.sync)}async onRestart(){if(this.cached.length){let e=[...this.cached],t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<t;r++){let t=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(t)}}this.events.emit(e6.resubscribed)}async restore(){try{let e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size&&!e.every(e=>{var t;return e.topic===(null==(t=this.subscriptions.get(e.id))?void 0:t.topic)})){let{message:e}=(0,ep.kCb)("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),Error(e)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async e=>rB(rL({},e),{id:await this.getSubscriptionId(e.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);let t=await this.rpcBatchFetchMessages(e);t&&t.messages&&(await (0,ep._vH)((0,u.toMiliseconds)(u.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(t.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){let{message:e}=(0,ep.kCb)("NOT_INITIALIZED",this.name);throw Error(e)}}async restartToComplete(e){this.relayer.connected||this.relayer.connecting||(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return(0,ep.rjm)(e+await this.getClientId())}}var r$=Object.defineProperty,rF=Object.getOwnPropertySymbols,rz=Object.prototype.hasOwnProperty,rq=Object.prototype.propertyIsEnumerable,rG=(e,t,r)=>t in e?r$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,rH=(e,t)=>{for(var r in t||(t={}))rz.call(t,r)&&rG(e,r,t[r]);if(rF)for(var r of rF(t))rq.call(t,r)&&rG(e,r,t[r]);return e},rV=(e,t,r)=>rG(e,"symbol"!=typeof t?t+"":t,r);class rW extends et{constructor(e){var t;super(e),rV(this,"protocol","wc"),rV(this,"version",2),rV(this,"core"),rV(this,"logger"),rV(this,"events",new l.EventEmitter),rV(this,"provider"),rV(this,"messages"),rV(this,"subscriber"),rV(this,"publisher"),rV(this,"name","relayer"),rV(this,"transportExplicitlyClosed",!1),rV(this,"initialized",!1),rV(this,"connectionAttemptInProgress",!1),rV(this,"relayUrl"),rV(this,"projectId"),rV(this,"packageName"),rV(this,"bundleId"),rV(this,"hasExperiencedNetworkDisruption",!1),rV(this,"pingTimeout"),rV(this,"heartBeatTimeout",(0,u.toMiliseconds)(u.THIRTY_SECONDS+u.FIVE_SECONDS)),rV(this,"reconnectTimeout"),rV(this,"connectPromise"),rV(this,"reconnectInProgress",!1),rV(this,"requestsInFlight",[]),rV(this,"connectTimeout",(0,u.toMiliseconds)(15*u.ONE_SECOND)),rV(this,"request",async e=>{var t,r;this.logger.debug("Publishing Request Payload");let n=e.id||eA().toString();await this.toEstablishConnection();try{this.logger.trace({id:n,method:e.method,topic:null==(t=e.params)?void 0:t.topic},"relayer.request - publishing...");let i=`${n}:${(null==(r=e.params)?void 0:r.tag)||""}`;this.requestsInFlight.push(i);let o=await this.provider.request(e);return this.requestsInFlight=this.requestsInFlight.filter(e=>e!==i),o}catch(e){throw this.logger.debug(`Failed to Publish Request: ${n}`),e}}),rV(this,"resetPingTimeout",()=>{(0,ep.UGU)()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var e,t,r,n;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),null==(n=null==(r=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:r.terminate)||n.call(r)}catch(e){this.logger.warn(e,e?.message)}},this.heartBeatTimeout))}),rV(this,"onPayloadHandler",e=>{this.onProviderPayload(e),this.resetPingTimeout()}),rV(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected \uD83D\uDEDC"),this.startPingTimeout(),this.events.emit(eX.connect)}),rV(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected \uD83D\uDED1"),this.requestsInFlight=[],this.onProviderDisconnect()}),rV(this,"onProviderErrorHandler",e=>{this.logger.fatal(`Fatal socket error: ${e.message}`),this.events.emit(eX.error,e),this.logger.fatal("Fatal socket error received, closing transport"),this.transportExplicitlyClosed=!0,clearTimeout(this.reconnectTimeout),this.reconnectTimeout=void 0,this.reconnectInProgress=!1,this.transportClose().catch(e=>this.logger.warn(e))}),rV(this,"registerProviderListeners",()=>{this.provider.on(eQ.payload,this.onPayloadHandler),this.provider.on(eQ.connect,this.onConnectHandler),this.provider.on(eQ.disconnect,this.onDisconnectHandler),this.provider.on(eQ.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=(0,ep.hu8)({logger:null!=(t=e.logger)?t:"error",name:this.name}),this.messages=new rh(this.logger,e.core),this.subscriber=new rj(this,this.logger),this.publisher=new rS(this,this.logger),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||eJ,(0,ep.DtP)()?this.packageName=(0,ep.rhL)():(0,ep.sa_)()&&(this.bundleId=(0,ep.rhL)()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e?.message))}get context(){return(0,G.Fd)(this.logger)}get connected(){var e,t,r;return(null==(r=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:r.readyState)===1}get connecting(){var e,t,r;return(null==(r=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:r.readyState)===0||void 0!==this.connectPromise}async publish(e,t,r){this.isInitialized(),await this.publisher.publish(e,t,r),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now(),transportType:e1.relay},e2.outbound)}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,t){var r,n,i;this.isInitialized(),null!=t&&t.transportType&&t?.transportType!=="relay"||await this.toEstablishConnection();let o=typeof(null==(r=t?.internal)?void 0:r.throwOnFailedPublish)>"u"||(null==(n=t?.internal)?void 0:n.throwOnFailedPublish),a=(null==(i=this.subscriber.topicMap.get(e))?void 0:i[0])||"",s,c=t=>{t.topic===e&&(this.subscriber.off(e6.created,c),s())};return await Promise.all([new Promise(e=>{s=e,this.subscriber.on(e6.created,c)}),new Promise(async(r,n)=>{a=await this.subscriber.subscribe(e,rH({internal:{throwOnFailedPublish:o}},t)).catch(e=>{o&&n(e)})||a,r()})]),a}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await (0,ep.hFY)(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,clearTimeout(this.reconnectTimeout),this.reconnectTimeout=void 0,this.reconnectInProgress=!1,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(t,r)=>{await this.connect(e).then(t).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),this.connectionAttemptInProgress||(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await (0,ep.Ggh)())throw Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(e?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}let t=e.sort((e,t)=>e.publishedAt-t.publishedAt);for(let e of(this.logger.debug(`Batch of ${t.length} message events sorted`),t))try{await this.onMessageEvent(e)}catch(e){this.logger.warn(e,"Error while processing batch message event: "+e?.message)}this.logger.trace(`Batch of ${t.length} message events processed`)}async onLinkMessageEvent(e,t){let{topic:r}=e;if(!t.sessionExists){let e=(0,ep.gn4)(u.FIVE_MINUTES);await this.core.pairing.pairings.set(r,{topic:r,expiry:e,relay:{protocol:"irn"},active:!1})}this.events.emit(eX.message,e),await this.recordMessageEvent(e,e2.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let t=1;for(;t<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${t}...`),await this.createProvider(),await new Promise(async(e,t)=>{let r=()=>{t(Error("Connection interrupted while trying to connect"))};this.provider.once(eQ.disconnect,r),await (0,ep.hFY)(new Promise((e,t)=>{this.provider.connect().then(e).catch(t)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(e=>{t(e)}).finally(()=>{this.provider.off(eQ.disconnect,r),clearTimeout(this.reconnectTimeout)}),await new Promise(async(e,r)=>{let n=()=>{t(Error("Connection interrupted while trying to subscribe"))};this.provider.once(eQ.disconnect,n),await this.subscriber.start().then(e).catch(r).finally(()=>{this.provider.off(eQ.disconnect,n)})}),this.hasExperiencedNetworkDisruption=!1,e()})}catch(e){await this.subscriber.stop(),this.logger.warn({},e.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${t}`);break}await new Promise(e=>setTimeout(e,(0,u.toMiliseconds)(1*t))),t++}}startPingTimeout(){var e,t,r,n,i;if((0,ep.UGU)())try{null!=(t=null==(e=this.provider)?void 0:e.connection)&&t.socket&&(null==(i=null==(n=null==(r=this.provider)?void 0:r.connection)?void 0:n.socket)||i.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(e){this.logger.warn(e,e?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();let e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new eL(new e$((0,ep.$0m)({sdkVersion:e0,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,t){let{topic:r,message:n}=e;await this.messages.set(r,n,t)}async shouldIgnoreMessageEvent(e){let{topic:t,message:r}=e;if(!r||0===r.length)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(t))return this.logger.warn(`Ignoring message for unknown topic ${t}`),!0;let n=this.messages.has(t,r);return n&&this.logger.warn(`Ignoring duplicate message: ${r}`),n}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),eN(e)){if(!e.method.endsWith("_subscription"))return;let t=e.params,{topic:r,message:n,publishedAt:i,attestation:o}=t.data,a={topic:r,message:n,publishedAt:i,transportType:e1.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(rH({type:"event",event:t.id},a)),this.events.emit(t.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else eM(e)&&this.events.emit(eX.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,e2.inbound),this.events.emit(eX.message,e))}async acknowledgePayload(e){let t=e_(e.id,!0);await this.provider.connection.send(t)}unregisterProviderListeners(){this.provider.off(eQ.payload,this.onPayloadHandler),this.provider.off(eQ.connect,this.onConnectHandler),this.provider.off(eQ.disconnect,this.onDisconnectHandler),this.provider.off(eQ.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await (0,ep.Ggh)();(0,ep.uwg)(async t=>{e!==t&&(e=t,t?await this.transportOpen().catch(e=>this.logger.error(e,e?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(p,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&(0,ep.YTu)())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(e){this.logger.warn(e,e?.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(eX.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},(0,u.toMiliseconds)(.1)))))}isInitialized(){if(!this.initialized){let{message:e}=(0,ep.kCb)("NOT_INITIALIZED",this.name);throw Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function rZ(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function rK(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}let rY="[object Arguments]",rJ="[object Object]";function rX(e){if(!e||"object"!=typeof e)return!1;let t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&"[object Object]"===Object.prototype.toString.call(e)}function rQ(){}var r0=Object.defineProperty,r1=Object.getOwnPropertySymbols,r2=Object.prototype.hasOwnProperty,r3=Object.prototype.propertyIsEnumerable,r6=(e,t,r)=>t in e?r0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,r5=(e,t)=>{for(var r in t||(t={}))r2.call(t,r)&&r6(e,r,t[r]);if(r1)for(var r of r1(t))r3.call(t,r)&&r6(e,r,t[r]);return e},r8=(e,t,r)=>r6(e,"symbol"!=typeof t?t+"":t,r);class r4 extends er{constructor(e,t,r,n=eH,i){super(e,t,r,n),this.core=e,this.logger=t,this.name=r,r8(this,"map",new Map),r8(this,"version","0.3"),r8(this,"cached",[]),r8(this,"initialized",!1),r8(this,"getKey"),r8(this,"storagePrefix",eH),r8(this,"recentlyDeleted",[]),r8(this,"recentlyDeletedLimit",200),r8(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>{this.getKey&&null!==e&&!(0,ep.o8e)(e)?this.map.set(this.getKey(e),e):(0,ep.xWS)(e)?this.map.set(e.id,e):(0,ep.h1R)(e)&&this.map.set(e.topic,e)}),this.cached=[],this.initialized=!0)}),r8(this,"set",async(e,t)=>{this.isInitialized(),this.map.has(e)?await this.update(e,t):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:e,value:t}),this.map.set(e,t),await this.persist())}),r8(this,"get",e=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:e}),this.getData(e))),r8(this,"getAll",e=>(this.isInitialized(),e?this.values.filter(t=>Object.keys(e).every(r=>(function e(t,r,n,i,o,a,s){let c=s(t,r,n,i,o,a);if(void 0!==c)return c;if(typeof t==typeof r)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":case"function":return t===r;case"number":return t===r||Object.is(t,r)}return function t(r,n,i,o){if(Object.is(r,n))return!0;let a=rK(r),s=rK(n);if(a===rY&&(a=rJ),s===rY&&(s=rJ),a!==s)return!1;switch(a){case"[object String]":return r.toString()===n.toString();case"[object Number]":{let e=r.valueOf(),t=n.valueOf();return e===t||Number.isNaN(e)&&Number.isNaN(t)}case"[object Boolean]":case"[object Date]":case"[object Symbol]":return Object.is(r.valueOf(),n.valueOf());case"[object RegExp]":return r.source===n.source&&r.flags===n.flags;case"[object Function]":return r===n}let c=(i=i??new Map).get(r),l=i.get(n);if(null!=c&&null!=l)return c===n;i.set(r,n),i.set(n,r);try{switch(a){case"[object Map]":if(r.size!==n.size)return!1;for(let[t,a]of r.entries())if(!n.has(t)||!e(a,n.get(t),t,r,n,i,o))return!1;return!0;case"[object Set]":{if(r.size!==n.size)return!1;let t=Array.from(r.values()),a=Array.from(n.values());for(let s=0;s<t.length;s++){let c=t[s],l=a.findIndex(t=>e(c,t,void 0,r,n,i,o));if(-1===l)return!1;a.splice(l,1)}return!0}case"[object Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":case"[object BigUint64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object BigInt64Array]":case"[object Float32Array]":case"[object Float64Array]":if("u">typeof ez&&ez.isBuffer(r)!==ez.isBuffer(n)||r.length!==n.length)return!1;for(let t=0;t<r.length;t++)if(!e(r[t],n[t],t,r,n,i,o))return!1;return!0;case"[object ArrayBuffer]":return r.byteLength===n.byteLength&&t(new Uint8Array(r),new Uint8Array(n),i,o);case"[object DataView]":return r.byteLength===n.byteLength&&r.byteOffset===n.byteOffset&&t(new Uint8Array(r),new Uint8Array(n),i,o);case"[object Error]":return r.name===n.name&&r.message===n.message;case rJ:{if(!(t(r.constructor,n.constructor,i,o)||rX(r)&&rX(n)))return!1;let a=[...Object.keys(r),...rZ(r)],s=[...Object.keys(n),...rZ(n)];if(a.length!==s.length)return!1;for(let t=0;t<a.length;t++){let s=a[t],c=r[s];if(!Object.hasOwn(n,s))return!1;let l=n[s];if(!e(c,l,s,r,n,i,o))return!1}return!0}default:return!1}}finally{i.delete(r),i.delete(n)}}(t,r,a,s)})(t[r],e[r],void 0,void 0,void 0,void 0,rQ))):this.values)),r8(this,"update",async(e,t)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:e,update:t});let r=r5(r5({},this.getData(e)),t);this.map.set(e,r),await this.persist()}),r8(this,"delete",async(e,t)=>{this.isInitialized(),this.map.has(e)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:e,reason:t}),this.map.delete(e),this.addToRecentlyDeleted(e),await this.persist())}),this.logger=(0,G.Ep)(t,this.name),this.storagePrefix=n,this.getKey=i}get context(){return(0,G.Fd)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){let t=this.map.get(e);if(!t){if(this.recentlyDeleted.includes(e)){let{message:t}=(0,ep.kCb)("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(t),Error(t)}let{message:t}=(0,ep.kCb)("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(t),Error(t)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{let e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){let{message:e}=(0,ep.kCb)("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),Error(e)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){let{message:e}=(0,ep.kCb)("NOT_INITIALIZED",this.name);throw Error(e)}}}var r9=Object.defineProperty,r7=(e,t,r)=>t in e?r9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ne=(e,t,r)=>r7(e,"symbol"!=typeof t?t+"":t,r);class nt{constructor(e,t){this.core=e,this.logger=t,ne(this,"name","pairing"),ne(this,"version","0.3"),ne(this,"events",new l),ne(this,"pairings"),ne(this,"initialized",!1),ne(this,"storagePrefix",eH),ne(this,"ignoredPayloadTypes",[ep.rVF]),ne(this,"registeredMethods",[]),ne(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),ne(this,"register",({methods:e})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...e])]}),ne(this,"create",async e=>{this.isInitialized();let t=(0,ep.jdp)(),r=await this.core.crypto.setSymKey(t),n=(0,ep.gn4)(u.FIVE_MINUTES),i={protocol:"irn"},o={topic:r,expiry:n,relay:i,active:!1,methods:e?.methods},a=(0,ep.Bvr)({protocol:this.core.protocol,version:this.core.version,topic:r,symKey:t,relay:i,expiryTimestamp:n,methods:e?.methods});return this.events.emit(e8.create,o),this.core.expirer.set(r,n),await this.pairings.set(r,o),await this.core.relayer.subscribe(r,{transportType:e?.transportType,internal:e?.internal}),{topic:r,uri:a}}),ne(this,"pair",async e=>{let t;this.isInitialized();let r=this.core.eventClient.createEvent({properties:{topic:e?.uri,trace:[tr.pairing_started]}});this.isValidPair(e,r);let{topic:n,symKey:i,relay:o,expiryTimestamp:a,methods:s}=(0,ep.heJ)(e.uri);if(r.props.properties.topic=n,r.addTrace(tr.pairing_uri_validation_success),r.addTrace(tr.pairing_uri_not_expired),this.pairings.keys.includes(n)){if(t=this.pairings.get(n),r.addTrace(tr.existing_pairing),t.active)throw r.setError(tn.active_pairing_already_exists),Error(`Pairing already exists: ${n}. Please try again with a new connection URI.`);r.addTrace(tr.pairing_not_expired)}let c=a||(0,ep.gn4)(u.FIVE_MINUTES),l={topic:n,relay:o,expiry:c,active:!1,methods:s};this.core.expirer.set(n,c),await this.pairings.set(n,l),r.addTrace(tr.store_new_pairing),e.activatePairing&&await this.activate({topic:n}),this.events.emit(e8.create,l),r.addTrace(tr.emit_inactive_pairing),this.core.crypto.keychain.has(n)||await this.core.crypto.setSymKey(i,n),r.addTrace(tr.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{r.setError(tn.no_internet_connection)}try{await this.core.relayer.subscribe(n,{relay:o})}catch(e){throw r.setError(tn.subscribe_pairing_topic_failure),e}return r.addTrace(tr.subscribe_pairing_topic_success),l}),ne(this,"activate",async({topic:e})=>{this.isInitialized();let t=(0,ep.gn4)(u.FIVE_MINUTES);this.core.expirer.set(e,t),await this.pairings.update(e,{active:!0,expiry:t})}),ne(this,"ping",async e=>{this.isInitialized(),await this.isValidPing(e),this.logger.warn("ping() is deprecated and will be removed in the next major release.");let{topic:t}=e;if(this.pairings.keys.includes(t)){let e=await this.sendRequest(t,"wc_pairingPing",{}),{done:r,resolve:n,reject:i}=(0,ep.H1S)();this.events.once((0,ep.E0T)("pairing_ping",e),({error:e})=>{e?i(e):n()}),await r()}}),ne(this,"updateExpiry",async({topic:e,expiry:t})=>{this.isInitialized(),await this.pairings.update(e,{expiry:t})}),ne(this,"updateMetadata",async({topic:e,metadata:t})=>{this.isInitialized(),await this.pairings.update(e,{peerMetadata:t})}),ne(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),ne(this,"disconnect",async e=>{this.isInitialized(),await this.isValidDisconnect(e);let{topic:t}=e;this.pairings.keys.includes(t)&&(await this.sendRequest(t,"wc_pairingDelete",(0,ep.D6H)("USER_DISCONNECTED")),await this.deletePairing(t))}),ne(this,"formatUriFromPairing",e=>{this.isInitialized();let{topic:t,relay:r,expiry:n,methods:i}=e,o=this.core.crypto.keychain.get(t);return(0,ep.Bvr)({protocol:this.core.protocol,version:this.core.version,topic:t,symKey:o,relay:r,expiryTimestamp:n,methods:i})}),ne(this,"sendRequest",async(e,t,r)=>{let n=eS(t,r),i=await this.core.crypto.encode(e,n),o=e5[t].req;return this.core.history.set(e,n),this.core.relayer.publish(e,i,o),n.id}),ne(this,"sendResult",async(e,t,r)=>{let n=e_(e,r),i=await this.core.crypto.encode(t,n),o=e5[(await this.core.history.get(t,e)).request.method].res;await this.core.relayer.publish(t,i,o),await this.core.history.resolve(n)}),ne(this,"sendError",async(e,t,r)=>{let n=eI(e,r),i=await this.core.crypto.encode(t,n),o=(await this.core.history.get(t,e)).request.method,a=e5[o]?e5[o].res:e5.unregistered_method.res;await this.core.relayer.publish(t,i,a),await this.core.history.resolve(n)}),ne(this,"deletePairing",async(e,t)=>{await this.core.relayer.unsubscribe(e),await Promise.all([this.pairings.delete(e,(0,ep.D6H)("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(e),t?Promise.resolve():this.core.expirer.del(e)])}),ne(this,"cleanup",async()=>{let e=this.pairings.getAll().filter(e=>(0,ep.BwD)(e.expiry));await Promise.all(e.map(e=>this.deletePairing(e.topic)))}),ne(this,"onRelayEventRequest",async e=>{let{topic:t,payload:r}=e;switch(r.method){case"wc_pairingPing":return await this.onPairingPingRequest(t,r);case"wc_pairingDelete":return await this.onPairingDeleteRequest(t,r);default:return await this.onUnknownRpcMethodRequest(t,r)}}),ne(this,"onRelayEventResponse",async e=>{let{topic:t,payload:r}=e,n=(await this.core.history.get(t,r.id)).request.method;return"wc_pairingPing"===n?this.onPairingPingResponse(t,r):this.onUnknownRpcMethodResponse(n)}),ne(this,"onPairingPingRequest",async(e,t)=>{let{id:r}=t;try{this.isValidPing({topic:e}),await this.sendResult(r,e,!0),this.events.emit(e8.ping,{id:r,topic:e})}catch(t){await this.sendError(r,e,t),this.logger.error(t)}}),ne(this,"onPairingPingResponse",(e,t)=>{let{id:r}=t;setTimeout(()=>{eR(t)?this.events.emit((0,ep.E0T)("pairing_ping",r),{}):eD(t)&&this.events.emit((0,ep.E0T)("pairing_ping",r),{error:t.error})},500)}),ne(this,"onPairingDeleteRequest",async(e,t)=>{let{id:r}=t;try{this.isValidDisconnect({topic:e}),await this.deletePairing(e),this.events.emit(e8.delete,{id:r,topic:e})}catch(t){await this.sendError(r,e,t),this.logger.error(t)}}),ne(this,"onUnknownRpcMethodRequest",async(e,t)=>{let{id:r,method:n}=t;try{if(this.registeredMethods.includes(n))return;let t=(0,ep.D6H)("WC_METHOD_UNSUPPORTED",n);await this.sendError(r,e,t),this.logger.error(t)}catch(t){await this.sendError(r,e,t),this.logger.error(t)}}),ne(this,"onUnknownRpcMethodResponse",e=>{this.registeredMethods.includes(e)||this.logger.error((0,ep.D6H)("WC_METHOD_UNSUPPORTED",e))}),ne(this,"isValidPair",(e,t)=>{var r;if(!(0,ep.EJd)(e)){let{message:r}=(0,ep.kCb)("MISSING_OR_INVALID",`pair() params: ${e}`);throw t.setError(tn.malformed_pairing_uri),Error(r)}if(!(0,ep.jvJ)(e.uri)){let{message:r}=(0,ep.kCb)("MISSING_OR_INVALID",`pair() uri: ${e.uri}`);throw t.setError(tn.malformed_pairing_uri),Error(r)}let n=(0,ep.heJ)(e?.uri);if(!(null!=(r=n?.relay)&&r.protocol)){let{message:e}=(0,ep.kCb)("MISSING_OR_INVALID","pair() uri#relay-protocol");throw t.setError(tn.malformed_pairing_uri),Error(e)}if(!(null!=n&&n.symKey)){let{message:e}=(0,ep.kCb)("MISSING_OR_INVALID","pair() uri#symKey");throw t.setError(tn.malformed_pairing_uri),Error(e)}if(null!=n&&n.expiryTimestamp&&(0,u.toMiliseconds)(n?.expiryTimestamp)<Date.now()){t.setError(tn.pairing_expired);let{message:e}=(0,ep.kCb)("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw Error(e)}}),ne(this,"isValidPing",async e=>{if(!(0,ep.EJd)(e)){let{message:t}=(0,ep.kCb)("MISSING_OR_INVALID",`ping() params: ${e}`);throw Error(t)}let{topic:t}=e;await this.isValidPairingTopic(t)}),ne(this,"isValidDisconnect",async e=>{if(!(0,ep.EJd)(e)){let{message:t}=(0,ep.kCb)("MISSING_OR_INVALID",`disconnect() params: ${e}`);throw Error(t)}let{topic:t}=e;await this.isValidPairingTopic(t)}),ne(this,"isValidPairingTopic",async e=>{if(!(0,ep.M_r)(e,!1)){let{message:t}=(0,ep.kCb)("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw Error(t)}if(!this.pairings.keys.includes(e)){let{message:t}=(0,ep.kCb)("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw Error(t)}if((0,ep.BwD)(this.pairings.get(e).expiry)){await this.deletePairing(e);let{message:t}=(0,ep.kCb)("EXPIRED",`pairing topic: ${e}`);throw Error(t)}}),this.core=e,this.logger=(0,G.Ep)(t,this.name),this.pairings=new r4(this.core,this.logger,this.name,this.storagePrefix)}get context(){return(0,G.Fd)(this.logger)}isInitialized(){if(!this.initialized){let{message:e}=(0,ep.kCb)("NOT_INITIALIZED",this.name);throw Error(e)}}registerRelayerEvents(){this.core.relayer.on(eX.message,async e=>{let{topic:t,message:r,transportType:n}=e;if(this.pairings.keys.includes(t)&&n!==e1.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{let e=await this.core.crypto.decode(t,r);eN(e)?(this.core.history.set(t,e),await this.onRelayEventRequest({topic:t,payload:e})):eM(e)&&(await this.core.history.resolve(e),await this.onRelayEventResponse({topic:t,payload:e}),this.core.history.delete(t,e.id)),await this.core.relayer.messages.ack(t,r)}catch(e){this.logger.error(e)}})}registerExpirerEvents(){this.core.expirer.on(e9.expired,async e=>{let{topic:t}=(0,ep.iPz)(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit(e8.expire,{topic:t}))})}}var nr=Object.defineProperty,nn=(e,t,r)=>t in e?nr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ni=(e,t,r)=>nn(e,"symbol"!=typeof t?t+"":t,r);class no extends X{constructor(e,t){super(e,t),this.core=e,this.logger=t,ni(this,"records",new Map),ni(this,"events",new l.EventEmitter),ni(this,"name","history"),ni(this,"version","0.3"),ni(this,"cached",[]),ni(this,"initialized",!1),ni(this,"storagePrefix",eH),ni(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>this.records.set(e.id,e)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),ni(this,"set",(e,t,r)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:e,request:t,chainId:r}),this.records.has(t.id))return;let n={id:t.id,topic:e,request:{method:t.method,params:t.params||null},chainId:r,expiry:(0,ep.gn4)(u.THIRTY_DAYS)};this.records.set(n.id,n),this.persist(),this.events.emit(e4.created,n)}),ni(this,"resolve",async e=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:e}),!this.records.has(e.id))return;let t=await this.getRecord(e.id);typeof t.response>"u"&&(t.response=eD(e)?{error:e.error}:{result:e.result},this.records.set(t.id,t),this.persist(),this.events.emit(e4.updated,t))}),ni(this,"get",async(e,t)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:e,id:t}),await this.getRecord(t))),ni(this,"delete",(e,t)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:t}),this.values.forEach(r=>{r.topic!==e||"u">typeof t&&r.id!==t||(this.records.delete(r.id),this.events.emit(e4.deleted,r))}),this.persist()}),ni(this,"exists",async(e,t)=>(this.isInitialized(),!!this.records.has(t)&&(await this.getRecord(t)).topic===e)),ni(this,"on",(e,t)=>{this.events.on(e,t)}),ni(this,"once",(e,t)=>{this.events.once(e,t)}),ni(this,"off",(e,t)=>{this.events.off(e,t)}),ni(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),this.logger=(0,G.Ep)(t,this.name)}get context(){return(0,G.Fd)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){let e=[];return this.values.forEach(t=>{if("u">typeof t.response)return;let r={topic:t.topic,request:eS(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();let t=this.records.get(e);if(!t){let{message:t}=(0,ep.kCb)("NO_MATCHING_KEY",`${this.name}: ${e}`);throw Error(t)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(e4.sync)}async restore(){try{let e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){let{message:e}=(0,ep.kCb)("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),Error(e)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(e4.created,e=>{let t=e4.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.events.on(e4.updated,e=>{let t=e4.updated;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.events.on(e4.deleted,e=>{let t=e4.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.core.heartbeat.on(p,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(t=>{(0,u.toMiliseconds)(t.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${t.id}`),this.records.delete(t.id),this.events.emit(e4.deleted,t,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){let{message:e}=(0,ep.kCb)("NOT_INITIALIZED",this.name);throw Error(e)}}}var na=Object.defineProperty,ns=(e,t,r)=>t in e?na(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,nc=(e,t,r)=>ns(e,"symbol"!=typeof t?t+"":t,r);class nl extends ei{constructor(e,t){super(e,t),this.core=e,this.logger=t,nc(this,"expirations",new Map),nc(this,"events",new l.EventEmitter),nc(this,"name","expirer"),nc(this,"version","0.3"),nc(this,"cached",[]),nc(this,"initialized",!1),nc(this,"storagePrefix",eH),nc(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>this.expirations.set(e.target,e)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),nc(this,"has",e=>{try{let t=this.formatTarget(e);return"u">typeof this.getExpiration(t)}catch{return!1}}),nc(this,"set",(e,t)=>{this.isInitialized();let r=this.formatTarget(e),n={target:r,expiry:t};this.expirations.set(r,n),this.checkExpiry(r,n),this.events.emit(e9.created,{target:r,expiration:n})}),nc(this,"get",e=>{this.isInitialized();let t=this.formatTarget(e);return this.getExpiration(t)}),nc(this,"del",e=>{if(this.isInitialized(),this.has(e)){let t=this.formatTarget(e),r=this.getExpiration(t);this.expirations.delete(t),this.events.emit(e9.deleted,{target:t,expiration:r})}}),nc(this,"on",(e,t)=>{this.events.on(e,t)}),nc(this,"once",(e,t)=>{this.events.once(e,t)}),nc(this,"off",(e,t)=>{this.events.off(e,t)}),nc(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),this.logger=(0,G.Ep)(t,this.name)}get context(){return(0,G.Fd)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if("string"==typeof e)return(0,ep.Z42)(e);if("number"==typeof e)return(0,ep.GqV)(e);let{message:t}=(0,ep.kCb)("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(e9.sync)}async restore(){try{let e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){let{message:e}=(0,ep.kCb)("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),Error(e)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){let t=this.expirations.get(e);if(!t){let{message:t}=(0,ep.kCb)("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(t),Error(t)}return t}checkExpiry(e,t){let{expiry:r}=t;(0,u.toMiliseconds)(r)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(e9.expired,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,t)=>this.checkExpiry(t,e))}registerEventListeners(){this.core.heartbeat.on(p,()=>this.checkExpirations()),this.events.on(e9.created,e=>{let t=e9.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(e9.expired,e=>{let t=e9.expired;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(e9.deleted,e=>{let t=e9.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=(0,ep.kCb)("NOT_INITIALIZED",this.name);throw Error(e)}}}var nu=Object.defineProperty,nd=(e,t,r)=>t in e?nu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,nf=(e,t,r)=>nd(e,"symbol"!=typeof t?t+"":t,r);class nh extends eo{constructor(e,t,r){super(e,t,r),this.core=e,this.logger=t,this.store=r,nf(this,"name","verify-api"),nf(this,"abortController"),nf(this,"isDevEnv"),nf(this,"verifyUrlV3",te),nf(this,"storagePrefix",eH),nf(this,"version",2),nf(this,"publicKey"),nf(this,"fetchPromise"),nf(this,"init",async()=>{var e;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&(0,u.toMiliseconds)(null==(e=this.publicKey)?void 0:e.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),nf(this,"register",async e=>{if(!(0,ep.jUY)()||this.isDevEnv)return;let t=window.location.origin,{id:r,decryptedId:n}=e,i=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${t}&id=${r}&decryptedId=${n}`;try{let e=(0,eF.getDocument)(),t=this.startAbortTimer(5*u.ONE_SECOND),n=await new Promise((n,o)=>{let a=()=>{window.removeEventListener("message",c),e.body.removeChild(s),o("attestation aborted")};this.abortController.signal.addEventListener("abort",a);let s=e.createElement("iframe");s.src=i,s.style.display="none",s.addEventListener("error",a,{signal:this.abortController.signal});let c=i=>{if(i.data&&"string"==typeof i.data)try{let o=JSON.parse(i.data);if("verify_attestation"===o.type){if((0,eh.xp)(o.attestation).payload.id!==r)return;clearInterval(t),e.body.removeChild(s),this.abortController.signal.removeEventListener("abort",a),window.removeEventListener("message",c),n(null===o.attestation?"":o.attestation)}}catch(e){this.logger.warn(e)}};e.body.appendChild(s),window.addEventListener("message",c,{signal:this.abortController.signal})});return this.logger.debug(n,"jwt attestation"),n}catch(e){this.logger.warn(e)}return""}),nf(this,"resolve",async e=>{if(this.isDevEnv)return"";let{attestationId:t,hash:r,encryptedId:n}=e;if(""===t){this.logger.debug("resolve: attestationId is empty, skipping");return}if(t){if((0,eh.xp)(t).payload.id!==n)return;let e=await this.isValidJwtAttestation(t);if(e){if(!e.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return e}}if(!r)return;let i=this.getVerifyUrl(e?.verifyUrl);return this.fetchAttestation(r,i)}),nf(this,"fetchAttestation",async(e,t)=>{this.logger.debug(`resolving attestation: ${e} from url: ${t}`);let r=this.startAbortTimer(5*u.ONE_SECOND),n=await fetch(`${t}/attestation/${e}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(r),200===n.status?await n.json():void 0}),nf(this,"getVerifyUrl",e=>{let t=e||e7;return tt.includes(t)||(this.logger.info(`verify url: ${t}, not included in trusted list, assigning default: ${e7}`),t=e7),t}),nf(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);let e=this.startAbortTimer(u.FIVE_SECONDS),t=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(e),await t.json()}catch(e){this.logger.warn(e)}}),nf(this,"persistPublicKey",async e=>{this.logger.debug(e,"persisting public key to local storage"),await this.store.setItem(this.storeKey,e),this.publicKey=e}),nf(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),nf(this,"isValidJwtAttestation",async e=>{let t=await this.getPublicKey();try{if(t)return this.validateAttestation(e,t)}catch(e){this.logger.error(e),this.logger.warn("error validating attestation")}let r=await this.fetchAndPersistPublicKey();try{if(r)return this.validateAttestation(e,r)}catch(e){this.logger.error(e),this.logger.warn("error validating attestation")}}),nf(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),nf(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async e=>{let t=await this.fetchPublicKey();t&&(await this.persistPublicKey(t),e(t))});let e=await this.fetchPromise;return this.fetchPromise=void 0,e}),nf(this,"validateAttestation",(e,t)=>{let r=(0,ep.NbI)(e,t.publicKey),n={hasExpired:(0,u.toMiliseconds)(r.exp)<Date.now(),payload:r};if(n.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),Error("JWT attestation expired");return{origin:n.payload.origin,isScam:n.payload.isScam,isVerified:n.payload.isVerified}}),this.logger=(0,G.Ep)(t,this.name),this.abortController=new AbortController,this.isDevEnv=(0,ep.h9F)(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return(0,G.Fd)(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),(0,u.toMiliseconds)(e))}}var np=Object.defineProperty,ng=(e,t,r)=>t in e?np(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,nm=(e,t,r)=>ng(e,"symbol"!=typeof t?t+"":t,r);class ny extends ea{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,nm(this,"context","echo"),nm(this,"registerDeviceToken",async e=>{let{clientId:t,token:r,notificationType:n,enableEncrypted:i=!1}=e,o=`https://echo.walletconnect.com/${this.projectId}/clients`;await fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:t,type:n,token:r,always_raw:i})})}),this.logger=(0,G.Ep)(t,this.context)}}var nb=Object.defineProperty,nw=Object.getOwnPropertySymbols,nv=Object.prototype.hasOwnProperty,nE=Object.prototype.propertyIsEnumerable,nx=(e,t,r)=>t in e?nb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,nA=(e,t)=>{for(var r in t||(t={}))nv.call(t,r)&&nx(e,r,t[r]);if(nw)for(var r of nw(t))nE.call(t,r)&&nx(e,r,t[r]);return e},nS=(e,t,r)=>nx(e,"symbol"!=typeof t?t+"":t,r);class n_ extends es{constructor(e,t,r=!0){super(e,t,r),this.core=e,this.logger=t,nS(this,"context","event-client"),nS(this,"storagePrefix",eH),nS(this,"storageVersion",.1),nS(this,"events",new Map),nS(this,"shouldPersist",!1),nS(this,"init",async()=>{if(!(0,ep.h9F)())try{let e={eventId:(0,ep.k$y)(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:(0,ep.oIp)(this.core.relayer.protocol,this.core.relayer.version,e0)}}};await this.sendEvent([e])}catch(e){this.logger.warn(e)}}),nS(this,"createEvent",e=>{let{event:t="ERROR",type:r="",properties:{topic:n,trace:i}}=e,o=(0,ep.k$y)(),a=this.core.projectId||"",s=nA({eventId:o,timestamp:Date.now(),props:{event:t,type:r,properties:{topic:n,trace:i}},bundleId:a,domain:this.getAppDomain()},this.setMethods(o));return this.telemetryEnabled&&(this.events.set(o,s),this.shouldPersist=!0),s}),nS(this,"getEvent",e=>{let{eventId:t,topic:r}=e;if(t)return this.events.get(t);let n=Array.from(this.events.values()).find(e=>e.props.properties.topic===r);if(n)return nA(nA({},n),this.setMethods(n.eventId))}),nS(this,"deleteEvent",e=>{let{eventId:t}=e;this.events.delete(t),this.shouldPersist=!0}),nS(this,"setEventListeners",()=>{this.core.heartbeat.on(p,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(e=>{(0,u.fromMiliseconds)(Date.now())-(0,u.fromMiliseconds)(e.timestamp)>86400&&(this.events.delete(e.eventId),this.shouldPersist=!0)})})}),nS(this,"setMethods",e=>({addTrace:t=>this.addTrace(e,t),setError:t=>this.setError(e,t)})),nS(this,"addTrace",(e,t)=>{let r=this.events.get(e);r&&(r.props.properties.trace.push(t),this.events.set(e,r),this.shouldPersist=!0)}),nS(this,"setError",(e,t)=>{let r=this.events.get(e);r&&(r.props.type=t,r.timestamp=Date.now(),this.events.set(e,r),this.shouldPersist=!0)}),nS(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),nS(this,"restore",async()=>{try{let e=await this.core.storage.getItem(this.storageKey)||[];if(!e.length)return;e.forEach(e=>{this.events.set(e.eventId,nA(nA({},e),this.setMethods(e.eventId)))})}catch(e){this.logger.warn(e)}}),nS(this,"submit",async()=>{if(!this.telemetryEnabled||0===this.events.size)return;let e=[];for(let[t,r]of this.events)r.props.type&&e.push(r);if(0!==e.length)try{if((await this.sendEvent(e)).ok)for(let t of e)this.events.delete(t.eventId),this.shouldPersist=!0}catch(e){this.logger.warn(e)}}),nS(this,"sendEvent",async e=>{let t=this.getAppDomain()?"":"&sp=desktop";return await fetch(`https://pulse.walletconnect.org/batch?projectId=${this.core.projectId}&st=events_sdk&sv=js-${e0}${t}`,{method:"POST",body:JSON.stringify(e)})}),nS(this,"getAppDomain",()=>(0,ep.DaH)().url),this.logger=(0,G.Ep)(t,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var nI=Object.defineProperty,nC=Object.getOwnPropertySymbols,nO=Object.prototype.hasOwnProperty,nP=Object.prototype.propertyIsEnumerable,nT=(e,t,r)=>t in e?nI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,nk=(e,t)=>{for(var r in t||(t={}))nO.call(t,r)&&nT(e,r,t[r]);if(nC)for(var r of nC(t))nP.call(t,r)&&nT(e,r,t[r]);return e},nN=(e,t,r)=>nT(e,"symbol"!=typeof t?t+"":t,r);class nM extends Z{constructor(e){var t;super(e),nN(this,"protocol","wc"),nN(this,"version",2),nN(this,"name",eG),nN(this,"relayUrl"),nN(this,"projectId"),nN(this,"customStoragePrefix"),nN(this,"events",new l.EventEmitter),nN(this,"logger"),nN(this,"heartbeat"),nN(this,"relayer"),nN(this,"crypto"),nN(this,"storage"),nN(this,"history"),nN(this,"expirer"),nN(this,"pairing"),nN(this,"verify"),nN(this,"echoClient"),nN(this,"linkModeSupportedApps"),nN(this,"eventClient"),nN(this,"initialized",!1),nN(this,"logChunkController"),nN(this,"on",(e,t)=>this.events.on(e,t)),nN(this,"once",(e,t)=>this.events.once(e,t)),nN(this,"off",(e,t)=>this.events.off(e,t)),nN(this,"removeListener",(e,t)=>this.events.removeListener(e,t)),nN(this,"dispatchEnvelope",({topic:e,message:t,sessionExists:r})=>{if(!e||!t)return;let n={topic:e,message:t,publishedAt:Date.now(),transportType:e1.link_mode};this.relayer.onLinkMessageEvent(n,{sessionExists:r})});let r=this.getGlobalCore(e?.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(e){console.warn("Failed to copy global core",e)}this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||eJ,this.customStoragePrefix=null!=e&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";let n=(0,G.jI)({level:"string"==typeof e?.logger&&e.logger?e.logger:eV.logger,name:eG}),{logger:i,chunkLoggerController:o}=(0,G.Rt)({opts:n,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=o,null!=(t=this.logChunkController)&&t.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var e,t;null!=(e=this.logChunkController)&&e.downloadLogsBlobInBrowser&&(null==(t=this.logChunkController)||t.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=(0,G.Ep)(i,this.name),this.heartbeat=new g,this.crypto=new rr(this,this.logger,e?.keychain),this.history=new no(this,this.logger),this.expirer=new nl(this,this.logger),this.storage=null!=e&&e.storage?e.storage:new q(nk(nk({},eW),e?.storageOptions)),this.relayer=new rW({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new nt(this,this.logger),this.verify=new nh(this,this.logger,this.storage),this.echoClient=new ny(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new n_(this,this.logger,e?.telemetryEnabled),this.setGlobalCore(this)}static async init(e){let t=new nM(e);await t.initialize();let r=await t.crypto.getClientId();return await t.storage.setItem("WALLETCONNECT_CLIENT_ID",r),t}get context(){return(0,G.Fd)(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return null==(e=this.logChunkController)?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(e3,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(e3)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(e,`Core Initialization Failure at epoch ${Date.now()}`),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;let t=`_walletConnectCore_${e}`,r=`${t}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[t]}catch(e){console.warn("Failed to get global WalletConnect core",e);return}}setGlobalCore(e){var t;try{if(this.isGlobalCoreDisabled())return;let r=`_walletConnectCore_${(null==(t=e.opts)?void 0:t.customStoragePrefix)||""}`;globalThis[r]=e}catch(e){console.warn("Failed to set global WalletConnect core",e)}}isGlobalCoreDisabled(){try{return"u">typeof eq&&"true"===eq.env.DISABLE_GLOBAL_CORE}catch{return!0}}}let nR="client",nD=`wc@2:${nR}:`,nL={name:nR,logger:"error"},nB="WALLETCONNECT_DEEPLINK_CHOICE",nU="Proposal expired",nj=u.SEVEN_DAYS,n$={wc_sessionPropose:{req:{ttl:u.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:u.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:u.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:u.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:u.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:u.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:u.ONE_DAY,prompt:!1,tag:1104},res:{ttl:u.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:u.ONE_DAY,prompt:!1,tag:1106},res:{ttl:u.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:u.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:u.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:u.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:u.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:u.ONE_DAY,prompt:!1,tag:1112},res:{ttl:u.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:u.ONE_DAY,prompt:!1,tag:1114},res:{ttl:u.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:u.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:u.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:u.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:u.FIVE_MINUTES,prompt:!1,tag:1119}}},nF={min:u.FIVE_MINUTES,max:u.SEVEN_DAYS},nz={idle:"IDLE",active:"ACTIVE"},nq={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},nG=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],nH="wc@1.5:auth:",nV=`${nH}:PUB_KEY`;var nW=Object.defineProperty,nZ=Object.defineProperties,nK=Object.getOwnPropertyDescriptors,nY=Object.getOwnPropertySymbols,nJ=Object.prototype.hasOwnProperty,nX=Object.prototype.propertyIsEnumerable,nQ=(e,t,r)=>t in e?nW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,n0=(e,t)=>{for(var r in t||(t={}))nJ.call(t,r)&&nQ(e,r,t[r]);if(nY)for(var r of nY(t))nX.call(t,r)&&nQ(e,r,t[r]);return e},n1=(e,t)=>nZ(e,nK(t)),n2=(e,t,r)=>nQ(e,"symbol"!=typeof t?t+"":t,r);class n3 extends ef{constructor(e){super(e),n2(this,"name","engine"),n2(this,"events",new l),n2(this,"initialized",!1),n2(this,"requestQueue",{state:nz.idle,queue:[]}),n2(this,"sessionRequestQueue",{state:nz.idle,queue:[]}),n2(this,"emittedSessionRequests",new ep._xQ({limit:500})),n2(this,"requestQueueDelay",u.ONE_SECOND),n2(this,"expectedPairingMethodMap",new Map),n2(this,"recentlyDeletedMap",new Map),n2(this,"recentlyDeletedLimit",200),n2(this,"relayMessageCache",[]),n2(this,"pendingSessions",new Map),n2(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(n$)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},(0,u.toMiliseconds)(this.requestQueueDelay)))}),n2(this,"connect",async e=>{var t;this.isInitialized(),await this.confirmOnlineStateOrThrow();let r=n1(n0({},e),{requiredNamespaces:e.requiredNamespaces||{},optionalNamespaces:e.optionalNamespaces||{}});await this.isValidConnect(r),r.optionalNamespaces=(0,ep.wrP)(r.requiredNamespaces,r.optionalNamespaces),r.requiredNamespaces={};let{pairingTopic:n,requiredNamespaces:i,optionalNamespaces:o,sessionProperties:a,scopedProperties:s,relays:c,authentication:l,walletPay:d}=r,f=(null==(t=l?.[0])?void 0:t.ttl)||n$.wc_sessionPropose.req.ttl||u.FIVE_MINUTES;this.validateRequestExpiry(f);let h=n,p,g=!1;try{if(h){let e=this.client.core.pairing.pairings.get(h);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),g=e.active}}catch(e){throw this.client.logger.error(`connect() -> pairing.get(${h}) failed`),e}if(!h||!g){let{topic:e,uri:t}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});h=e,p=t}if(!h){let{message:e}=(0,ep.kCb)("NO_MATCHING_KEY",`connect() pairing topic: ${h}`);throw Error(e)}let m=await this.client.core.crypto.generateKeyPair(),y=(0,ep.gn4)(f),b=n0(n1(n0(n0({requiredNamespaces:i,optionalNamespaces:o,relays:c??[{protocol:"irn"}],proposer:{publicKey:m,metadata:this.client.metadata},expiryTimestamp:y,pairingTopic:h},a&&{sessionProperties:a}),s&&{scopedProperties:s}),{id:ex()}),(l||d)&&{requests:{authentication:l?.map(e=>{let{domain:t,chains:r,nonce:n,uri:i,exp:o,nbf:a,type:s,statement:c,requestId:l,resources:u,signatureTypes:d}=e;return{domain:t,chains:r,nonce:n,type:s??"caip122",aud:i,version:"1",iat:new Date().toISOString(),exp:o,nbf:a,statement:c,requestId:l,resources:u,signatureTypes:d}}),walletPay:d}}),w=(0,ep.E0T)("session_connect",b.id),{reject:v,resolve:E,done:x}=(0,ep.H1S)(f,nU),A=({id:e})=>{e===b.id&&(this.client.events.off("proposal_expire",A),this.pendingSessions.delete(b.id),this.events.emit(w,{error:{message:nU,code:0}}))};return this.client.events.on("proposal_expire",A),this.events.once(w,({error:e,session:t})=>{this.client.events.off("proposal_expire",A),e?v(e):t&&E(t)}),await this.setProposal(b.id,b),await this.sendProposeSession({proposal:b,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:b.id}}}).catch(e=>{throw this.deleteProposal(b.id),e}),{uri:p,approval:x}}),n2(this,"pair",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(e)}catch(e){throw this.client.logger.error("pair() failed"),e}}),n2(this,"approve",async e=>{var t,r,n;let i=this.client.core.eventClient.createEvent({properties:{topic:null==(t=e?.id)?void 0:t.toString(),trace:[ti.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(e){throw i.setError(to.no_internet_connection),e}try{await this.isValidProposalId(e?.id)}catch(t){throw this.client.logger.error(`approve() -> proposal.get(${e?.id}) failed`),i.setError(to.proposal_not_found),t}try{await this.isValidApprove(e)}catch(e){throw this.client.logger.error("approve() -> isValidApprove() failed"),i.setError(to.session_approve_namespace_validation_failure),e}let{id:o,relayProtocol:a,namespaces:s,sessionProperties:c,scopedProperties:l,sessionConfig:u,proposalRequestsResponses:d}=e,f=this.client.proposal.get(o);this.client.core.eventClient.deleteEvent({eventId:i.eventId});let{pairingTopic:h,proposer:p,requiredNamespaces:g,optionalNamespaces:m}=f,y=null==(r=this.client.core.eventClient)?void 0:r.getEvent({topic:h});y||(y=null==(n=this.client.core.eventClient)?void 0:n.createEvent({type:ti.session_approve_started,properties:{topic:h,trace:[ti.session_approve_started,ti.session_namespaces_validation_success]}}));let b=await this.client.core.crypto.generateKeyPair(),w=p.publicKey,v=await this.client.core.crypto.generateSharedKey(b,w),E=n1(n0(n0(n0({relay:{protocol:a??"irn"},namespaces:s,controller:{publicKey:b,metadata:this.client.metadata},expiry:(0,ep.gn4)(nj)},c&&{sessionProperties:c}),l&&{scopedProperties:l}),u&&{sessionConfig:u}),{proposalRequestsResponses:d}),x=e1.relay;y.addTrace(ti.subscribing_session_topic);try{await this.client.core.relayer.subscribe(v,{transportType:x,internal:{skipSubscribe:!0}})}catch(e){throw y.setError(to.subscribe_session_topic_failure),e}y.addTrace(ti.subscribe_session_topic_success);let A=n1(n0({},E),{topic:v,requiredNamespaces:g,optionalNamespaces:m,pairingTopic:h,acknowledged:!1,self:E.controller,peer:{publicKey:p.publicKey,metadata:p.metadata},controller:b,transportType:e1.relay,authentication:d?.authentication,walletPayResult:d?.walletPay});await this.client.session.set(v,A),y.addTrace(ti.store_session);try{await this.sendApproveSession({sessionTopic:v,proposal:f,pairingProposalResponse:{relay:{protocol:a??"irn"},responderPublicKey:b},sessionSettleRequest:E,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:n0({correlationId:o},this.getTVFApproveParams(A))}}),y.addTrace(ti.session_approve_publish_success)}catch(e){throw this.client.logger.error(e),this.client.session.delete(v,(0,ep.D6H)("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(v),e}return this.client.core.eventClient.deleteEvent({eventId:y.eventId}),await this.client.core.pairing.updateMetadata({topic:h,metadata:p.metadata}),await this.deleteProposal(o),await this.client.core.pairing.activate({topic:h}),await this.setExpiry(v,(0,ep.gn4)(nj)),{topic:v,acknowledged:()=>Promise.resolve(this.client.session.get(v))}}),n2(this,"reject",async e=>{let t;this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(e)}catch(e){throw this.client.logger.error("reject() -> isValidReject() failed"),e}let{id:r,reason:n}=e;try{t=this.client.proposal.get(r).pairingTopic}catch(e){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),e}t&&await this.sendError({id:r,topic:t,error:n,rpcOpts:n$.wc_sessionPropose.reject}),await this.deleteProposal(r)}),n2(this,"update",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(e)}catch(e){throw this.client.logger.error("update() -> isValidUpdate() failed"),e}let{topic:t,namespaces:r}=e,{done:n,resolve:i,reject:o}=(0,ep.H1S)(u.FIVE_MINUTES,"Session update request expired without receiving any acknowledgement"),a=ex(),s=eA().toString(),c=this.client.session.get(t).namespaces;return this.events.once((0,ep.E0T)("session_update",a),({error:e})=>{e?o(e):i()}),await this.client.session.update(t,{namespaces:r}),await this.sendRequest({topic:t,method:"wc_sessionUpdate",params:{namespaces:r},throwOnFailedPublish:!0,clientRpcId:a,relayRpcId:s}).catch(e=>{this.client.logger.error(e),this.client.session.update(t,{namespaces:c}),o(e)}),{acknowledged:n}}),n2(this,"extend",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(e)}catch(e){throw this.client.logger.error("extend() -> isValidExtend() failed"),e}let{topic:t}=e,r=ex(),{done:n,resolve:i,reject:o}=(0,ep.H1S)(u.FIVE_MINUTES,"Session extend request expired without receiving any acknowledgement");return this.events.once((0,ep.E0T)("session_extend",r),({error:e})=>{e?o(e):i()}),await this.setExpiry(t,(0,ep.gn4)(nj)),this.sendRequest({topic:t,method:"wc_sessionExtend",params:{},clientRpcId:r,throwOnFailedPublish:!0}).catch(e=>{o(e)}),{acknowledged:n}}),n2(this,"request",async e=>{this.isInitialized();try{await this.isValidRequest(e)}catch(e){throw this.client.logger.error("request() -> isValidRequest() failed"),e}let{chainId:t,request:r,topic:n,expiry:i=n$.wc_sessionRequest.req.ttl}=e,o=this.client.session.get(n);o?.transportType===e1.relay&&await this.confirmOnlineStateOrThrow();let a=ex(),s=eA().toString(),{done:c,resolve:l,reject:u}=(0,ep.H1S)(i,"Request expired. Please try again.");this.events.once((0,ep.E0T)("session_request",a),({error:e,result:t})=>{e?u(e):l(t)});let d="wc_sessionRequest",f=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);if(f)return await this.sendRequest({clientRpcId:a,relayRpcId:s,topic:n,method:d,params:{request:n1(n0({},r),{expiryTimestamp:(0,ep.gn4)(i)}),chainId:t},expiry:i,throwOnFailedPublish:!0,appLink:f}).catch(e=>u(e)),this.client.events.emit("session_request_sent",{topic:n,request:r,chainId:t,id:a}),await c();let h={request:n1(n0({},r),{expiryTimestamp:(0,ep.gn4)(i)}),chainId:t};return await Promise.all([new Promise(async e=>{await this.sendRequest({clientRpcId:a,relayRpcId:s,topic:n,method:d,params:h,expiry:i,throwOnFailedPublish:!0,tvf:this.getTVFParams(a,h)}).catch(e=>u(e)),this.client.events.emit("session_request_sent",{topic:n,request:r,chainId:t,id:a}),e()}),new Promise(async e=>{var t;if(!(null!=(t=o.sessionConfig)&&t.disableDeepLink)){let e=await (0,ep.bW6)(this.client.core.storage,nB);await (0,ep.HhN)({id:a,topic:n,wcDeepLink:e})}e()}),c()]).then(e=>e[2])}),n2(this,"respond",async e=>{var t,r;this.isInitialized();let n=this.client.core.eventClient.createEvent({properties:{topic:e?.topic||(null==(r=null==(t=e?.response)?void 0:t.id)?void 0:r.toString()),trace:[ti.session_request_response_started]}});try{await this.isValidRespond(e)}catch(e){throw n.addTrace(e?.message),n.setError(to.session_request_response_validation_failure),e}n.addTrace(ti.session_request_response_validation_success);let{topic:i,response:o}=e,{id:a}=o,s=this.client.session.get(i);s.transportType===e1.relay&&await this.confirmOnlineStateOrThrow();let c=this.getAppLinkIfEnabled(s.peer.metadata,s.transportType);try{n.addTrace(ti.session_request_response_publish_started),eR(o)?await this.sendResult({id:a,topic:i,result:o.result,throwOnFailedPublish:!0,appLink:c}):eD(o)&&await this.sendError({id:a,topic:i,error:o.error,appLink:c}),this.cleanupAfterResponse(e)}catch(e){throw n.addTrace(e?.message),n.setError(to.session_request_response_publish_failure),e}}),n2(this,"ping",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(e)}catch(e){throw this.client.logger.error("ping() -> isValidPing() failed"),e}let{topic:t}=e;if(this.client.session.keys.includes(t)){let e=ex(),r=eA().toString(),{done:n,resolve:i,reject:o}=(0,ep.H1S)(u.FIVE_MINUTES,"Ping request expired without receiving any acknowledgement");this.events.once((0,ep.E0T)("session_ping",e),({error:e})=>{e?o(e):i()}),await Promise.all([this.sendRequest({topic:t,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:e,relayRpcId:r}),n()])}else this.client.core.pairing.pairings.keys.includes(t)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:t}))}),n2(this,"emit",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(e);let{topic:t,event:r,chainId:n}=e,i=eA().toString(),o=ex();await this.sendRequest({topic:t,method:"wc_sessionEvent",params:{event:r,chainId:n},throwOnFailedPublish:!0,relayRpcId:i,clientRpcId:o})}),n2(this,"disconnect",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(e);let{topic:t}=e;if(this.client.session.keys.includes(t))await this.sendRequest({topic:t,method:"wc_sessionDelete",params:(0,ep.D6H)("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:t,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(t))await this.client.core.pairing.disconnect({topic:t});else{let{message:e}=(0,ep.kCb)("MISMATCHED_TOPIC",`Session or pairing topic not found: ${t}`);throw Error(e)}}),n2(this,"find",e=>(this.isInitialized(),this.client.session.getAll().filter(t=>(0,ep.Ih8)(t,e)))),n2(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),n2(this,"authenticate",async(e,t)=>{var r;let n;this.isInitialized(),this.isValidAuthenticate(e);let i=t&&this.client.core.linkModeSupportedApps.includes(t)&&(null==(r=this.client.metadata.redirect)?void 0:r.linkMode),o=i?e1.link_mode:e1.relay;o===e1.relay&&await this.confirmOnlineStateOrThrow();let{chains:a,statement:s="",uri:c,domain:l,nonce:u,type:d,exp:f,nbf:h,methods:p=[],expiry:g}=e,m=[...e.resources||[]],{topic:y,uri:b}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:y,uri:b}});let w=await this.client.core.crypto.generateKeyPair(),v=(0,ep.YmJ)(w);if(await Promise.all([this.client.auth.authKeys.set(nV,{responseTopic:v,publicKey:w}),this.client.auth.pairingTopics.set(v,{topic:v,pairingTopic:y})]),await this.client.core.relayer.subscribe(v,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${y}`),p.length>0){let{namespace:e}=(0,ep.DQe)(a[0]),t=(0,ep.IkP)(e,"request",p);(0,ep.hA9)(m)&&(t=(0,ep.qJM)(t,m.pop())),m.push(t)}let E=g&&g>n$.wc_sessionAuthenticate.req.ttl?g:n$.wc_sessionAuthenticate.req.ttl,x={authPayload:{type:d??"caip122",chains:a,statement:s,aud:c,domain:l,version:"1",nonce:u,iat:new Date().toISOString(),exp:f,nbf:h,resources:m},requester:{publicKey:w,metadata:this.client.metadata},expiryTimestamp:(0,ep.gn4)(E)},A={requiredNamespaces:{},optionalNamespaces:{eip155:{chains:a,methods:[...new Set(["personal_sign",...p])],events:["chainChanged","accountsChanged"]}},relays:[{protocol:"irn"}],pairingTopic:y,proposer:{publicKey:w,metadata:this.client.metadata},expiryTimestamp:(0,ep.gn4)(n$.wc_sessionPropose.req.ttl),id:ex()},{done:S,resolve:_,reject:I}=(0,ep.H1S)(E,"Request expired"),C=ex(),O=(0,ep.E0T)("session_connect",A.id),P=(0,ep.E0T)("session_request",C),T=async({error:e,session:t})=>{this.events.off(P,k),e?I(e):t&&_({session:t})},k=async e=>{var r,n,i;let a;if(await this.deletePendingAuthRequest(C,{message:"fulfilled",code:0}),e.error){let t=(0,ep.D6H)("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return e.error.code===t.code?void 0:(this.events.off(O,T),I(e.error.message))}await this.deleteProposal(A.id),this.events.off(O,T);let{cacaos:s,responder:c}=e.result,l=[],u=[];for(let e of s){await (0,ep.c4l)({cacao:e,projectId:this.client.core.projectId})||(this.client.logger.error(e,"Signature verification failed"),I((0,ep.D6H)("SESSION_SETTLEMENT_FAILED","Signature verification failed")));let{p:t}=e,r=(0,ep.hA9)(t.resources),n=[(0,ep.DJo)(t.iss)],i=(0,ep.NmC)(t.iss);if(r){let e=(0,ep.Y31)(r),t=(0,ep.ouN)(r);l.push(...e),n.push(...t)}for(let e of n)u.push(`${e}:${i}`)}let d=await this.client.core.crypto.generateSharedKey(w,c.publicKey);l.length>0&&(a={topic:d,acknowledged:!0,self:{publicKey:w,metadata:this.client.metadata},peer:c,controller:c.publicKey,expiry:(0,ep.gn4)(nj),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:y,namespaces:(0,ep.E12)([...new Set(l)],[...new Set(u)]),transportType:o},await this.client.core.relayer.subscribe(d,{transportType:o}),await this.client.session.set(d,a),y&&await this.client.core.pairing.updateMetadata({topic:y,metadata:c.metadata}),a=this.client.session.get(d)),null!=(r=this.client.metadata.redirect)&&r.linkMode&&null!=(n=c.metadata.redirect)&&n.linkMode&&null!=(i=c.metadata.redirect)&&i.universal&&t&&(this.client.core.addLinkModeSupportedApp(c.metadata.redirect.universal),this.client.session.update(d,{transportType:e1.link_mode})),_({auths:s,session:a})};this.events.once(O,T),this.events.once(P,k);try{if(i){let e=eS("wc_sessionAuthenticate",x,C);this.client.core.history.set(y,e);let r=await this.client.core.crypto.encode("",e,{type:ep.FpL,encoding:ep.zl_});n=(0,ep.L9d)(t,y,r)}else await Promise.all([this.sendRequest({topic:y,method:"wc_sessionAuthenticate",params:x,expiry:e.expiry,throwOnFailedPublish:!0,clientRpcId:C}),this.sendRequest({topic:y,method:"wc_sessionPropose",params:A,expiry:n$.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:A.id})])}catch(e){throw this.events.off(O,T),this.events.off(P,k),e}return await this.setProposal(A.id,A),await this.setAuthRequest(C,{request:n1(n0({},x),{verifyContext:{}}),pairingTopic:y,transportType:o}),{uri:n??b,response:S}}),n2(this,"approveSessionAuthenticate",async e=>{let t;let{id:r,auths:n}=e,i=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[ta.authenticated_session_approve_started]}});try{this.isInitialized()}catch(e){throw i.setError(ts.no_internet_connection),e}let o=this.getPendingAuthRequest(r);if(!o)throw i.setError(ts.authenticated_session_pending_request_not_found),Error(`Could not find pending auth request with id ${r}`);let a=o.transportType||e1.relay;a===e1.relay&&await this.confirmOnlineStateOrThrow();let s=o.requester.publicKey,c=await this.client.core.crypto.generateKeyPair(),l=(0,ep.YmJ)(s),u={type:ep.rVF,receiverPublicKey:s,senderPublicKey:c},d=[],f=[];for(let e of n){if(!await (0,ep.c4l)({cacao:e,projectId:this.client.core.projectId})){i.setError(ts.invalid_cacao);let e=(0,ep.D6H)("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:l,error:e,encodeOpts:u}),Error(e.message)}i.addTrace(ta.cacaos_verified);let{p:t}=e,n=(0,ep.hA9)(t.resources),o=[(0,ep.DJo)(t.iss)],a=(0,ep.NmC)(t.iss);if(n){let e=(0,ep.Y31)(n),t=(0,ep.ouN)(n);d.push(...e),o.push(...t)}for(let e of o)f.push(`${e}:${a}`)}let h=await this.client.core.crypto.generateSharedKey(c,s);if(i.addTrace(ta.create_authenticated_session_topic),d?.length>0){t={topic:h,acknowledged:!0,self:{publicKey:c,metadata:this.client.metadata},peer:{publicKey:s,metadata:o.requester.metadata},controller:s,expiry:(0,ep.gn4)(nj),authentication:n,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:(0,ep.E12)([...new Set(d)],[...new Set(f)]),transportType:a},i.addTrace(ta.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(h,{transportType:a})}catch(e){throw i.setError(ts.subscribe_authenticated_session_topic_failure),e}i.addTrace(ta.subscribe_authenticated_session_topic_success),await this.client.session.set(h,t),i.addTrace(ta.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}i.addTrace(ta.publishing_authenticated_session_approve);try{await this.sendResult({topic:l,id:r,result:{cacaos:n,responder:{publicKey:c,metadata:this.client.metadata}},encodeOpts:u,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(e){throw i.setError(ts.authenticated_session_approve_publish_failure),e}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:i.eventId}),{session:t}}),n2(this,"rejectSessionAuthenticate",async e=>{this.isInitialized();let{id:t,reason:r}=e,n=this.getPendingAuthRequest(t);if(!n)throw Error(`Could not find pending auth request with id ${t}`);n.transportType===e1.relay&&await this.confirmOnlineStateOrThrow();let i=n.requester.publicKey,o=await this.client.core.crypto.generateKeyPair(),a=(0,ep.YmJ)(i),s={type:ep.rVF,receiverPublicKey:i,senderPublicKey:o};await this.sendError({id:t,topic:a,error:r,encodeOpts:s,rpcOpts:n$.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(n.requester.metadata,n.transportType)}),await this.client.auth.requests.delete(t,{message:"rejected",code:0}),await this.deleteProposal(t)}),n2(this,"formatAuthMessage",e=>{this.isInitialized();let{request:t,iss:r}=e;return(0,ep.wvx)(t,r)}),n2(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(0!==this.relayMessageCache.length)for(;this.relayMessageCache.length>0;)try{let e=this.relayMessageCache.shift();e&&await this.onRelayMessage(e)}catch(e){this.client.logger.error(e)}},50)}),n2(this,"cleanupDuplicatePairings",async e=>{if(e.pairingTopic)try{let t=this.client.core.pairing.pairings.get(e.pairingTopic),r=this.client.core.pairing.pairings.getAll().filter(r=>{var n,i;return(null==(n=r.peerMetadata)?void 0:n.url)&&(null==(i=r.peerMetadata)?void 0:i.url)===e.peer.metadata.url&&r.topic&&r.topic!==t.topic});if(0===r.length)return;this.client.logger.info(`Cleaning up ${r.length} duplicate pairing(s)`),await Promise.all(r.map(e=>this.client.core.pairing.disconnect({topic:e.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(e){this.client.logger.error(e)}}),n2(this,"deleteSession",async e=>{var t;let{topic:r,expirerHasDeleted:n=!1,emitEvent:i=!0,id:o=0}=e,{self:a}=this.client.session.get(r);await this.client.core.relayer.unsubscribe(r),await this.client.session.delete(r,(0,ep.D6H)("USER_DISCONNECTED")),this.addToRecentlyDeleted(r,"session"),this.client.core.crypto.keychain.has(a.publicKey)&&await this.client.core.crypto.deleteKeyPair(a.publicKey),this.client.core.crypto.keychain.has(r)&&await this.client.core.crypto.deleteSymKey(r),n||this.client.core.expirer.del(r),this.client.core.storage.removeItem(nB).catch(e=>this.client.logger.warn(e)),r===(null==(t=this.sessionRequestQueue.queue[0])?void 0:t.topic)&&(this.sessionRequestQueue.state=nz.idle),await Promise.all(this.getPendingSessionRequests().filter(e=>e.topic===r).map(e=>this.deletePendingSessionRequest(e.id,(0,ep.D6H)("USER_DISCONNECTED")))),i&&this.client.events.emit("session_delete",{id:o,topic:r})}),n2(this,"deleteProposal",async(e,t)=>{if(t)try{let t=this.client.proposal.get(e),r=this.client.core.eventClient.getEvent({topic:t.pairingTopic});r?.setError(to.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(e,(0,ep.D6H)("USER_DISCONNECTED")),t?Promise.resolve():this.client.core.expirer.del(e)]),this.addToRecentlyDeleted(e,"proposal")}),n2(this,"deletePendingSessionRequest",async(e,t,r=!1)=>{await Promise.all([this.client.pendingRequest.delete(e,t),r?Promise.resolve():this.client.core.expirer.del(e)]),this.addToRecentlyDeleted(e,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(t=>t.id!==e),r&&(this.sessionRequestQueue.state=nz.idle,this.client.events.emit("session_request_expire",{id:e}))}),n2(this,"deletePendingAuthRequest",async(e,t,r=!1)=>{await Promise.all([this.client.auth.requests.delete(e,t),r?Promise.resolve():this.client.core.expirer.del(e)])}),n2(this,"setExpiry",async(e,t)=>{this.client.session.keys.includes(e)&&(this.client.core.expirer.set(e,t),await this.client.session.update(e,{expiry:t}))}),n2(this,"setProposal",async(e,t)=>{this.client.core.expirer.set(e,(0,ep.gn4)(n$.wc_sessionPropose.req.ttl)),await this.client.proposal.set(e,t)}),n2(this,"setAuthRequest",async(e,t)=>{let{request:r,pairingTopic:n,transportType:i=e1.relay}=t;this.client.core.expirer.set(e,r.expiryTimestamp),await this.client.auth.requests.set(e,{authPayload:r.authPayload,requester:r.requester,expiryTimestamp:r.expiryTimestamp,id:e,pairingTopic:n,verifyContext:r.verifyContext,transportType:i})}),n2(this,"setPendingSessionRequest",async e=>{let{id:t,topic:r,params:n,verifyContext:i}=e,o=n.request.expiryTimestamp||(0,ep.gn4)(n$.wc_sessionRequest.req.ttl);this.client.core.expirer.set(t,o),await this.client.pendingRequest.set(t,{id:t,topic:r,params:n,verifyContext:i})}),n2(this,"sendRequest",async e=>{let t,r;let{topic:n,method:i,params:o,expiry:a,relayRpcId:s,clientRpcId:c,throwOnFailedPublish:l,appLink:u,tvf:d,publishOpts:f={}}=e,h=eS(i,o,c),p=!!u;try{let e=p?ep.zl_:ep.$dT;t=await this.client.core.crypto.encode(n,h,{encoding:e})}catch(e){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${n} failed`),e}if(nG.includes(i)){let e=(0,ep.rjm)(JSON.stringify(h)),n=(0,ep.rjm)(t);r=await this.client.core.verify.register({id:n,decryptedId:e})}let g=n0(n0({},n$[i].req),f);if(g.attestation=r,a&&(g.ttl=a),s&&(g.id=s),this.client.core.history.set(n,h),p){let e=(0,ep.L9d)(u,n,t);await global.Linking.openURL(e,this.client.name)}else g.tvf=n1(n0({},d),{correlationId:h.id}),l?(g.internal=n1(n0({},g.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,t,g)):this.client.core.relayer.publish(n,t,g).catch(e=>this.client.logger.error(e));return h.id}),n2(this,"sendProposeSession",async e=>{let{proposal:t,publishOpts:r}=e,n=eS("wc_sessionPropose",t,t.id);this.client.core.history.set(t.pairingTopic,n);let i=await this.client.core.crypto.encode(t.pairingTopic,n,{encoding:ep.$dT}),o=(0,ep.rjm)(JSON.stringify(n)),a=(0,ep.rjm)(i),s=await this.client.core.verify.register({id:a,decryptedId:o});await this.client.core.relayer.publishCustom({payload:{pairingTopic:t.pairingTopic,sessionProposal:i},opts:n1(n0({},r),{publishMethod:"wc_proposeSession",attestation:s})})}),n2(this,"sendApproveSession",async e=>{let{sessionTopic:t,pairingProposalResponse:r,proposal:n,sessionSettleRequest:i,publishOpts:o}=e,a=e_(n.id,r),s=await this.client.core.crypto.encode(n.pairingTopic,a,{encoding:ep.$dT}),c=eS("wc_sessionSettle",i,o?.id),l=await this.client.core.crypto.encode(t,c,{encoding:ep.$dT});this.client.core.history.set(t,c),await this.client.core.relayer.publishCustom({payload:{sessionTopic:t,pairingTopic:n.pairingTopic,sessionProposalResponse:s,sessionSettlementRequest:l},opts:n1(n0({},o),{publishMethod:"wc_approveSession"})})}),n2(this,"sendResult",async e=>{let t,r,n;let{id:i,topic:o,result:a,throwOnFailedPublish:s,encodeOpts:c,appLink:l}=e,u=e_(i,a),d=l&&"u">typeof(null==global?void 0:global.Linking);try{let e=d?ep.zl_:ep.$dT;t=await this.client.core.crypto.encode(o,u,n1(n0({},c||{}),{encoding:e}))}catch(e){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${o} failed`),e}try{let e=(r=await this.client.core.history.get(o,i)).request;try{n=this.getTVFParams(i,e.params,a)}catch(e){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${e?.message}`)}}catch(e){throw this.client.logger.error(`sendResult() -> history.get(${o}, ${i}) failed`),e}if(d){let e=(0,ep.L9d)(l,o,t);await global.Linking.openURL(e,this.client.name)}else{let e=n$[r.request.method].res;e.tvf=n1(n0({},n),{correlationId:i}),s?(e.internal=n1(n0({},e.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(o,t,e)):this.client.core.relayer.publish(o,t,e).catch(e=>this.client.logger.error(e))}await this.client.core.history.resolve(u)}),n2(this,"sendError",async e=>{let t,r;let{id:n,topic:i,error:o,encodeOpts:a,rpcOpts:s,appLink:c}=e,l=eI(n,o),u=c&&"u">typeof(null==global?void 0:global.Linking);try{let e=u?ep.zl_:ep.$dT;t=await this.client.core.crypto.encode(i,l,n1(n0({},a||{}),{encoding:e}))}catch(e){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),e}try{r=await this.client.core.history.get(i,n)}catch(e){throw this.client.logger.error(`sendError() -> history.get(${i}, ${n}) failed`),e}if(u){let e=(0,ep.L9d)(c,i,t);await global.Linking.openURL(e,this.client.name)}else{let e=r.request.method,n=s||n$[e].res;this.client.core.relayer.publish(i,t,n)}await this.client.core.history.resolve(l)}),n2(this,"cleanup",async()=>{let e=[],t=[];this.client.session.getAll().forEach(t=>{let r=!1;(0,ep.BwD)(t.expiry)&&(r=!0),this.client.core.crypto.keychain.has(t.topic)||(r=!0),r&&e.push(t.topic)}),this.client.proposal.getAll().forEach(e=>{(0,ep.BwD)(e.expiryTimestamp)&&t.push(e.id)}),await Promise.all([...e.map(e=>this.deleteSession({topic:e})),...t.map(e=>this.deleteProposal(e))])}),n2(this,"onProviderMessageEvent",async e=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(e):await this.onRelayMessage(e)}),n2(this,"onRelayEventRequest",async e=>{this.requestQueue.queue.push(e),await this.processRequestsQueue()}),n2(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===nz.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=nz.active;let e=this.requestQueue.queue.shift();if(e)try{await this.processRequest(e)}catch(e){this.client.logger.warn(e)}}this.requestQueue.state=nz.idle}),n2(this,"processRequest",async e=>{let{topic:t,payload:r,attestation:n,transportType:i,encryptedId:o}=e,a=r.method;if(!this.shouldIgnorePairingRequest({topic:t,requestMethod:a}))switch(a){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:t,payload:r,attestation:n,encryptedId:o});case"wc_sessionSettle":return await this.onSessionSettleRequest(t,r);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(t,r);case"wc_sessionExtend":return await this.onSessionExtendRequest(t,r);case"wc_sessionPing":return await this.onSessionPingRequest(t,r);case"wc_sessionDelete":return await this.onSessionDeleteRequest(t,r);case"wc_sessionRequest":return await this.onSessionRequest({topic:t,payload:r,attestation:n,encryptedId:o,transportType:i});case"wc_sessionEvent":return await this.onSessionEventRequest(t,r);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:t,payload:r,attestation:n,encryptedId:o,transportType:i});default:return this.client.logger.info(`Unsupported request method ${a}`)}}),n2(this,"onRelayEventResponse",async e=>{let{topic:t,payload:r,transportType:n}=e,i=(await this.client.core.history.get(t,r.id)).request.method;switch(i){case"wc_sessionPropose":return this.onSessionProposeResponse(t,r,n);case"wc_sessionSettle":return this.onSessionSettleResponse(t,r);case"wc_sessionUpdate":return this.onSessionUpdateResponse(t,r);case"wc_sessionExtend":return this.onSessionExtendResponse(t,r);case"wc_sessionPing":return this.onSessionPingResponse(t,r);case"wc_sessionRequest":return this.onSessionRequestResponse(t,r);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(t,r);default:return this.client.logger.info(`Unsupported response method ${i}`)}}),n2(this,"onRelayEventUnknownPayload",e=>{let{topic:t}=e,{message:r}=(0,ep.kCb)("MISSING_OR_INVALID",`Decoded payload on topic ${t} is not identifiable as a JSON-RPC request or a response.`);throw Error(r)}),n2(this,"shouldIgnorePairingRequest",e=>{let{topic:t,requestMethod:r}=e,n=this.expectedPairingMethodMap.get(t);return!(!n||n.includes(r))&&!!(n.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),n2(this,"onSessionProposeRequest",async e=>{let{topic:t,payload:r,attestation:n,encryptedId:i}=e,{params:o,id:a}=r;try{let e=this.client.core.eventClient.getEvent({topic:t});0===this.client.events.listenerCount("session_proposal")&&(console.warn("No listener for session_proposal event"),e?.setError(tn.proposal_listener_not_found)),this.isValidConnect(n0({},r.params));let s=o.expiryTimestamp||(0,ep.gn4)(n$.wc_sessionPropose.req.ttl),c=n0({id:a,pairingTopic:t,expiryTimestamp:s,attestation:n,encryptedId:i},o);await this.setProposal(a,c);let l=await this.getVerifyContext({attestationId:n,hash:(0,ep.rjm)(JSON.stringify(r)),encryptedId:i,metadata:c.proposer.metadata});e?.addTrace(tr.emit_session_proposal),this.client.events.emit("session_proposal",{id:a,params:c,verifyContext:l})}catch(e){await this.sendError({id:a,topic:t,error:e,rpcOpts:n$.wc_sessionPropose.autoReject}),this.client.logger.error(e)}}),n2(this,"onSessionProposeResponse",async(e,t,r)=>{let{id:n}=t;if(eR(t)){let{result:i}=t;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:i});let o=this.client.proposal.get(n);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:o});let a=o.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:a});let s=i.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:s});let c=await this.client.core.crypto.generateSharedKey(a,s);this.pendingSessions.set(n,{sessionTopic:c,pairingTopic:e,proposalId:n,publicKey:a});let l=await this.client.core.relayer.subscribe(c,{transportType:r});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:l}),await this.client.core.pairing.activate({topic:e})}else if(eD(t)){await this.deleteProposal(n);let e=(0,ep.E0T)("session_connect",n);if(0===this.events.listenerCount(e))throw Error(`emitting ${e} without any listeners, 954`);this.events.emit(e,{error:t.error})}}),n2(this,"onSessionSettleRequest",async(e,t)=>{let{id:r,params:n}=t;try{this.isValidSessionSettleRequest(n);let{relay:r,controller:i,expiry:o,namespaces:a,sessionProperties:s,scopedProperties:c,sessionConfig:l,proposalRequestsResponses:u}=t.params,d=[...this.pendingSessions.values()].find(t=>t.sessionTopic===e);if(!d)return this.client.logger.error(`Pending session not found for topic ${e}`);let f=this.client.proposal.get(d.proposalId),h=n1(n0(n0(n0({topic:e,relay:r,expiry:o,namespaces:a,acknowledged:!0,pairingTopic:d.pairingTopic,requiredNamespaces:f.requiredNamespaces,optionalNamespaces:f.optionalNamespaces,controller:i.publicKey,self:{publicKey:d.publicKey,metadata:this.client.metadata},peer:{publicKey:i.publicKey,metadata:i.metadata}},s&&{sessionProperties:s}),c&&{scopedProperties:c}),l&&{sessionConfig:l}),{transportType:e1.relay,authentication:u?.authentication,walletPayResult:u?.walletPay});await this.client.session.set(h.topic,h),await this.setExpiry(h.topic,h.expiry),await this.client.core.pairing.updateMetadata({topic:d.pairingTopic,metadata:h.peer.metadata}),this.pendingSessions.delete(d.proposalId),this.deleteProposal(d.proposalId,!1),this.cleanupDuplicatePairings(h),await this.sendResult({id:t.id,topic:e,throwOnFailedPublish:!0,result:!0}),this.client.events.emit("session_connect",{session:h}),this.events.emit((0,ep.E0T)("session_connect",d.proposalId),{session:h})}catch(t){await this.sendError({id:r,topic:e,error:t}),this.client.logger.error(t)}}),n2(this,"onSessionSettleResponse",async(e,t)=>{let{id:r}=t;eR(t)?(await this.client.session.update(e,{acknowledged:!0}),this.events.emit((0,ep.E0T)("session_approve",r),{})):eD(t)&&(await this.client.session.delete(e,(0,ep.D6H)("USER_DISCONNECTED")),this.events.emit((0,ep.E0T)("session_approve",r),{error:t.error}))}),n2(this,"onSessionUpdateRequest",async(e,t)=>{let{params:r,id:n}=t;try{let t=`${e}_session_update`,i=ep.O6B.get(t);if(i&&this.isRequestOutOfSync(i,n)){this.client.logger.warn(`Discarding out of sync request - ${n}`),this.sendError({id:n,topic:e,error:(0,ep.D6H)("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(n0({topic:e},r));try{ep.O6B.set(t,n),await this.client.session.update(e,{namespaces:r.namespaces}),await this.sendResult({id:n,topic:e,result:!0})}catch(e){throw ep.O6B.delete(t),e}this.client.events.emit("session_update",{id:n,topic:e,params:r})}catch(t){await this.sendError({id:n,topic:e,error:t}),this.client.logger.error(t)}}),n2(this,"isRequestOutOfSync",(e,t)=>t.toString().slice(0,-3)<e.toString().slice(0,-3)),n2(this,"onSessionUpdateResponse",(e,t)=>{let{id:r}=t,n=(0,ep.E0T)("session_update",r);if(0===this.events.listenerCount(n))throw Error(`emitting ${n} without any listeners`);eR(t)?this.events.emit((0,ep.E0T)("session_update",r),{}):eD(t)&&this.events.emit((0,ep.E0T)("session_update",r),{error:t.error})}),n2(this,"onSessionExtendRequest",async(e,t)=>{let{id:r}=t;try{this.isValidExtend({topic:e}),await this.setExpiry(e,(0,ep.gn4)(nj)),await this.sendResult({id:r,topic:e,result:!0}),this.client.events.emit("session_extend",{id:r,topic:e})}catch(t){await this.sendError({id:r,topic:e,error:t}),this.client.logger.error(t)}}),n2(this,"onSessionExtendResponse",(e,t)=>{let{id:r}=t,n=(0,ep.E0T)("session_extend",r);if(0===this.events.listenerCount(n))throw Error(`emitting ${n} without any listeners`);eR(t)?this.events.emit((0,ep.E0T)("session_extend",r),{}):eD(t)&&this.events.emit((0,ep.E0T)("session_extend",r),{error:t.error})}),n2(this,"onSessionPingRequest",async(e,t)=>{let{id:r}=t;try{this.isValidPing({topic:e}),await this.sendResult({id:r,topic:e,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:r,topic:e})}catch(t){await this.sendError({id:r,topic:e,error:t}),this.client.logger.error(t)}}),n2(this,"onSessionPingResponse",(e,t)=>{let{id:r}=t,n=(0,ep.E0T)("session_ping",r);setTimeout(()=>{if(0===this.events.listenerCount(n))throw Error(`emitting ${n} without any listeners 2176`);eR(t)?this.events.emit((0,ep.E0T)("session_ping",r),{}):eD(t)&&this.events.emit((0,ep.E0T)("session_ping",r),{error:t.error})},500)}),n2(this,"onSessionDeleteRequest",async(e,t)=>{let{id:r}=t;try{await this.isValidDisconnect({topic:e,reason:t.params}),this.cleanupPendingSentRequestsForTopic({topic:e,error:(0,ep.D6H)("USER_DISCONNECTED")}),await this.deleteSession({topic:e,id:r})}catch(e){this.client.logger.error(e)}}),n2(this,"onSessionRequest",async e=>{var t,r,n;let{topic:i,payload:o,attestation:a,encryptedId:s,transportType:c}=e,{id:l,params:u}=o;try{await this.isValidRequest(n0({topic:i},u));let e=this.client.session.get(i),o=await this.getVerifyContext({attestationId:a,hash:(0,ep.rjm)(JSON.stringify(eS("wc_sessionRequest",u,l))),encryptedId:s,metadata:e.peer.metadata,transportType:c}),d={id:l,topic:i,params:u,verifyContext:o};await this.setPendingSessionRequest(d),c===e1.link_mode&&null!=(t=e.peer.metadata.redirect)&&t.universal&&this.client.core.addLinkModeSupportedApp(null==(r=e.peer.metadata.redirect)?void 0:r.universal),null!=(n=this.client.signConfig)&&n.disableRequestQueue?this.emitSessionRequest(d):(this.addSessionRequestToSessionRequestQueue(d),this.processSessionRequestQueue())}catch(e){await this.sendError({id:l,topic:i,error:e}),this.client.logger.error(e)}}),n2(this,"onSessionRequestResponse",(e,t)=>{let{id:r}=t,n=(0,ep.E0T)("session_request",r);if(0===this.events.listenerCount(n))throw Error(`emitting ${n} without any listeners`);eR(t)?this.events.emit((0,ep.E0T)("session_request",r),{result:t.result}):eD(t)&&this.events.emit((0,ep.E0T)("session_request",r),{error:t.error})}),n2(this,"onSessionEventRequest",async(e,t)=>{let{id:r,params:n}=t;try{let t=`${e}_session_event_${n.event.name}`,i=ep.O6B.get(t);if(i&&this.isRequestOutOfSync(i,r)){this.client.logger.info(`Discarding out of sync request - ${r}`);return}this.isValidEmit(n0({topic:e},n)),this.client.events.emit("session_event",{id:r,topic:e,params:n}),ep.O6B.set(t,r)}catch(t){await this.sendError({id:r,topic:e,error:t}),this.client.logger.error(t)}}),n2(this,"onSessionAuthenticateResponse",(e,t)=>{let{id:r}=t;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:e,payload:t}),eR(t)?this.events.emit((0,ep.E0T)("session_request",r),{result:t.result}):eD(t)&&this.events.emit((0,ep.E0T)("session_request",r),{error:t.error})}),n2(this,"onSessionAuthenticateRequest",async e=>{var t;let{topic:r,payload:n,attestation:i,encryptedId:o,transportType:a}=e;try{let{requester:e,authPayload:s,expiryTimestamp:c}=n.params,l=await this.getVerifyContext({attestationId:i,hash:(0,ep.rjm)(JSON.stringify(n)),encryptedId:o,metadata:e.metadata,transportType:a}),u={requester:e,pairingTopic:r,id:n.id,authPayload:s,verifyContext:l,expiryTimestamp:c};await this.setAuthRequest(n.id,{request:u,pairingTopic:r,transportType:a}),a===e1.link_mode&&null!=(t=e.metadata.redirect)&&t.universal&&this.client.core.addLinkModeSupportedApp(e.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:r,params:n.params,id:n.id,verifyContext:l})}catch(s){this.client.logger.error(s);let e=n.params.requester.publicKey,t=await this.client.core.crypto.generateKeyPair(),i=this.getAppLinkIfEnabled(n.params.requester.metadata,a),o={type:ep.rVF,receiverPublicKey:e,senderPublicKey:t};await this.sendError({id:n.id,topic:r,error:s,encodeOpts:o,rpcOpts:n$.wc_sessionAuthenticate.autoReject,appLink:i})}}),n2(this,"addSessionRequestToSessionRequestQueue",e=>{this.sessionRequestQueue.queue.push(e)}),n2(this,"cleanupAfterResponse",e=>{this.deletePendingSessionRequest(e.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=nz.idle,this.processSessionRequestQueue()},(0,u.toMiliseconds)(this.requestQueueDelay))}),n2(this,"cleanupPendingSentRequestsForTopic",({topic:e,error:t})=>{let r=this.client.core.history.pending;r.length>0&&r.filter(t=>t.topic===e&&"wc_sessionRequest"===t.request.method).forEach(e=>{this.events.emit((0,ep.E0T)("session_request",e.request.id),{error:t})})}),n2(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===nz.active){this.client.logger.info("session request queue is already active.");return}let e=this.sessionRequestQueue.queue[0];if(!e){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(e)}catch(e){this.client.logger.error(e)}}),n2(this,"emitSessionRequest",e=>{if(this.emittedSessionRequests.has(e.id)){this.client.logger.warn({id:e.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${e.id}`);return}this.sessionRequestQueue.state=nz.active,this.emittedSessionRequests.add(e.id),this.client.events.emit("session_request",e)}),n2(this,"onPairingCreated",e=>{if(e.methods&&this.expectedPairingMethodMap.set(e.topic,e.methods),e.active)return;let t=this.client.proposal.getAll().find(t=>t.pairingTopic===e.topic);t&&this.onSessionProposeRequest({topic:e.topic,payload:eS("wc_sessionPropose",n1(n0({},t),{requiredNamespaces:t.requiredNamespaces,optionalNamespaces:t.optionalNamespaces,relays:t.relays,proposer:t.proposer,sessionProperties:t.sessionProperties,scopedProperties:t.scopedProperties}),t.id),attestation:t.attestation,encryptedId:t.encryptedId})}),n2(this,"isValidConnect",async e=>{if(!(0,ep.EJd)(e)){let{message:t}=(0,ep.kCb)("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(e)}`);throw Error(t)}let{pairingTopic:t,requiredNamespaces:r,optionalNamespaces:n,sessionProperties:i,scopedProperties:o,relays:a}=e;if((0,ep.o8e)(t)||await this.isValidPairingTopic(t),!(0,ep.PMr)(a,!0)){let{message:e}=(0,ep.kCb)("MISSING_OR_INVALID",`connect() relays: ${a}`);throw Error(e)}if(r&&!(0,ep.o8e)(r)&&0!==(0,ep.L5o)(r)){let e="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(e):this.client.logger.warn(e),this.validateNamespaces(r,"requiredNamespaces")}if(n&&!(0,ep.o8e)(n)&&0!==(0,ep.L5o)(n)&&this.validateNamespaces(n,"optionalNamespaces"),i&&!(0,ep.o8e)(i)&&this.validateSessionProps(i,"sessionProperties"),o&&!(0,ep.o8e)(o)){this.validateSessionProps(o,"scopedProperties");let e=Object.keys(r||{}).concat(Object.keys(n||{}));if(!Object.keys(o).every(t=>e.includes(t.split(":")[0])))throw Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(o)}, required/optional namespaces: ${JSON.stringify(e)}`)}}),n2(this,"validateNamespaces",(e,t)=>{let r=(0,ep.naP)(e,"connect()",t);if(r)throw Error(r.message)}),n2(this,"isValidApprove",async e=>{if(!(0,ep.EJd)(e))throw Error((0,ep.kCb)("MISSING_OR_INVALID",`approve() params: ${e}`).message);let{id:t,namespaces:r,relayProtocol:n,sessionProperties:i,scopedProperties:o}=e;this.checkRecentlyDeleted(t),await this.isValidProposalId(t);let a=this.client.proposal.get(t),s=(0,ep.ing)(r,"approve()");if(s)throw Error(s.message);let c=(0,ep.rFo)(a.requiredNamespaces,r,"approve()");if(c)throw Error(c.message);if(!(0,ep.M_r)(n,!0)){let{message:e}=(0,ep.kCb)("MISSING_OR_INVALID",`approve() relayProtocol: ${n}`);throw Error(e)}if(i&&!(0,ep.o8e)(i)&&this.validateSessionProps(i,"sessionProperties"),o&&!(0,ep.o8e)(o)){this.validateSessionProps(o,"scopedProperties");let e=new Set(Object.keys(r));if(!Object.keys(o).every(t=>e.has(t.split(":")[0])))throw Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(o)}, approved namespaces: ${Array.from(e).join(", ")}`)}}),n2(this,"isValidReject",async e=>{if(!(0,ep.EJd)(e)){let{message:t}=(0,ep.kCb)("MISSING_OR_INVALID",`reject() params: ${e}`);throw Error(t)}let{id:t,reason:r}=e;if(this.checkRecentlyDeleted(t),await this.isValidProposalId(t),!(0,ep.H4H)(r)){let{message:e}=(0,ep.kCb)("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(r)}`);throw Error(e)}}),n2(this,"isValidSessionSettleRequest",e=>{if(!(0,ep.EJd)(e)){let{message:t}=(0,ep.kCb)("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${e}`);throw Error(t)}let{relay:t,controller:r,namespaces:n,expiry:i}=e;if(!(0,ep.Z26)(t)){let{message:e}=(0,ep.kCb)("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw Error(e)}let o=(0,ep.DdM)(r,"onSessionSettleRequest()");if(o)throw Error(o.message);let a=(0,ep.ing)(n,"onSessionSettleRequest()");if(a)throw Error(a.message);if((0,ep.BwD)(i)){let{message:e}=(0,ep.kCb)("EXPIRED","onSessionSettleRequest()");throw Error(e)}}),n2(this,"isValidUpdate",async e=>{if(!(0,ep.EJd)(e)){let{message:t}=(0,ep.kCb)("MISSING_OR_INVALID",`update() params: ${e}`);throw Error(t)}let{topic:t,namespaces:r}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t);let n=this.client.session.get(t),i=(0,ep.ing)(r,"update()");if(i)throw Error(i.message);let o=(0,ep.rFo)(n.requiredNamespaces,r,"update()");if(o)throw Error(o.message)}),n2(this,"isValidExtend",async e=>{if(!(0,ep.EJd)(e)){let{message:t}=(0,ep.kCb)("MISSING_OR_INVALID",`extend() params: ${e}`);throw Error(t)}let{topic:t}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t)}),n2(this,"isValidRequest",async e=>{if(!(0,ep.EJd)(e)){let{message:t}=(0,ep.kCb)("MISSING_OR_INVALID",`request() params: ${e}`);throw Error(t)}let{topic:t,request:r,chainId:n,expiry:i}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t);let{namespaces:o}=this.client.session.get(t);if(!(0,ep.p8o)(o,n)){let{message:e}=(0,ep.kCb)("MISSING_OR_INVALID",`request() chainId: ${n}`);throw Error(e)}if(!(0,ep.hHR)(r)){let{message:e}=(0,ep.kCb)("MISSING_OR_INVALID",`request() ${JSON.stringify(r)}`);throw Error(e)}if(!(0,ep.alS)(o,n,r.method)){let{message:e}=(0,ep.kCb)("MISSING_OR_INVALID",`request() method: ${r.method}`);throw Error(e)}this.validateRequestExpiry(i)}),n2(this,"isValidRespond",async e=>{var t;if(!(0,ep.EJd)(e)){let{message:t}=(0,ep.kCb)("MISSING_OR_INVALID",`respond() params: ${e}`);throw Error(t)}let{topic:r,response:n}=e;try{await this.isValidSessionTopic(r)}catch(r){throw null!=(t=e?.response)&&t.id&&this.cleanupAfterResponse(e),r}if(!(0,ep.JTI)(n)){let{message:e}=(0,ep.kCb)("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(n)}`);throw Error(e)}let i=this.client.pendingRequest.get(n.id);if(i.topic!==r){let{message:e}=(0,ep.kCb)("MISMATCHED_TOPIC",`Request response topic mismatch. reqId: ${n.id}, expected topic: ${i.topic}, received topic: ${r}`);throw Error(e)}}),n2(this,"isValidPing",async e=>{if(!(0,ep.EJd)(e)){let{message:t}=(0,ep.kCb)("MISSING_OR_INVALID",`ping() params: ${e}`);throw Error(t)}let{topic:t}=e;await this.isValidSessionOrPairingTopic(t)}),n2(this,"isValidEmit",async e=>{if(!(0,ep.EJd)(e)){let{message:t}=(0,ep.kCb)("MISSING_OR_INVALID",`emit() params: ${e}`);throw Error(t)}let{topic:t,event:r,chainId:n}=e;await this.isValidSessionTopic(t);let{namespaces:i}=this.client.session.get(t);if(!(0,ep.p8o)(i,n)){let{message:e}=(0,ep.kCb)("MISSING_OR_INVALID",`emit() chainId: ${n}`);throw Error(e)}if(!(0,ep.nfW)(r)){let{message:e}=(0,ep.kCb)("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(r)}`);throw Error(e)}if(!(0,ep.B95)(i,n,r.name)){let{message:e}=(0,ep.kCb)("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(r)}`);throw Error(e)}}),n2(this,"isValidDisconnect",async e=>{if(!(0,ep.EJd)(e)){let{message:t}=(0,ep.kCb)("MISSING_OR_INVALID",`disconnect() params: ${e}`);throw Error(t)}let{topic:t}=e;await this.isValidSessionOrPairingTopic(t)}),n2(this,"isValidAuthenticate",e=>{let{chains:t,uri:r,domain:n,nonce:i}=e;if(!Array.isArray(t)||0===t.length)throw Error("chains is required and must be a non-empty array");if(!(0,ep.M_r)(r,!1))throw Error("uri is required parameter");if(!(0,ep.M_r)(n,!1))throw Error("domain is required parameter");if(!(0,ep.M_r)(i,!1))throw Error("nonce is required parameter");if([...new Set(t.map(e=>(0,ep.DQe)(e).namespace))].length>1)throw Error("Multi-namespace requests are not supported. Please request single namespace only.");let{namespace:o}=(0,ep.DQe)(t[0]);if("eip155"!==o)throw Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),n2(this,"getVerifyContext",async e=>{let{attestationId:t,hash:r,encryptedId:n,metadata:i,transportType:o}=e,a={verified:{verifyUrl:i.verifyUrl||e7,validation:"UNKNOWN",origin:i.url||""}};try{if(o===e1.link_mode){let e=this.getAppLinkIfEnabled(i,o);return a.verified.validation=e&&new URL(e).origin===new URL(i.url).origin?"VALID":"INVALID",a}let e=await this.client.core.verify.resolve({attestationId:t,hash:r,encryptedId:n,verifyUrl:i.verifyUrl});e&&(a.verified.origin=e.origin,a.verified.isScam=e.isScam,a.verified.validation=e.origin===new URL(i.url).origin?"VALID":"INVALID")}catch(e){this.client.logger.warn(e)}return this.client.logger.debug(`Verify context: ${JSON.stringify(a)}`),a}),n2(this,"validateSessionProps",(e,t)=>{Object.values(e).forEach((r,n)=>{if(null==r){let{message:i}=(0,ep.kCb)("MISSING_OR_INVALID",`${t} must contain an existing value for each key. Received: ${r} for key ${Object.keys(e)[n]}`);throw Error(i)}})}),n2(this,"getPendingAuthRequest",e=>{let t=this.client.auth.requests.get(e);return"object"==typeof t?t:void 0}),n2(this,"addToRecentlyDeleted",(e,t)=>{if(this.recentlyDeletedMap.set(e,t),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let e=0,t=this.recentlyDeletedLimit/2;for(let r of this.recentlyDeletedMap.keys()){if(e++>=t)break;this.recentlyDeletedMap.delete(r)}}}),n2(this,"checkRecentlyDeleted",e=>{let t=this.recentlyDeletedMap.get(e);if(t){let{message:r}=(0,ep.kCb)("MISSING_OR_INVALID",`Record was recently deleted - ${t}: ${e}`);throw Error(r)}}),n2(this,"isLinkModeEnabled",(e,t)=>{var r,n,i,o,a,s,c,l,u;return!!e&&t===e1.link_mode&&(null==(n=null==(r=this.client.metadata)?void 0:r.redirect)?void 0:n.linkMode)===!0&&(null==(o=null==(i=this.client.metadata)?void 0:i.redirect)?void 0:o.universal)!==void 0&&(null==(s=null==(a=this.client.metadata)?void 0:a.redirect)?void 0:s.universal)!==""&&(null==(c=e?.redirect)?void 0:c.universal)!==void 0&&(null==(l=e?.redirect)?void 0:l.universal)!==""&&(null==(u=e?.redirect)?void 0:u.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(e.redirect.universal)&&"u">typeof(null==global?void 0:global.Linking)}),n2(this,"getAppLinkIfEnabled",(e,t)=>{var r;return this.isLinkModeEnabled(e,t)?null==(r=e?.redirect)?void 0:r.universal:void 0}),n2(this,"handleLinkModeMessage",({url:e})=>{if(!e||!e.includes("wc_ev")||!e.includes("topic"))return;let t=(0,ep.waw)(e,"topic")||"",r=decodeURIComponent((0,ep.waw)(e,"wc_ev")||""),n=this.client.session.keys.includes(t);n&&this.client.session.update(t,{transportType:e1.link_mode}),this.client.core.dispatchEnvelope({topic:t,message:r,sessionExists:n})}),n2(this,"registerLinkModeListeners",async()=>{var e;if((0,ep.h9F)()||(0,ep.b$m)()&&null!=(e=this.client.metadata.redirect)&&e.linkMode){let e=null==global?void 0:global.Linking;if("u">typeof e){e.addEventListener("url",this.handleLinkModeMessage,this.client.name);let t=await e.getInitialURL();t&&setTimeout(()=>{this.handleLinkModeMessage({url:t})},50)}}}),n2(this,"getTVFApproveParams",e=>{try{let t=(0,ep.i5x)(e.namespaces),r=(0,ep._fD)(e.namespaces),n=(0,ep.OOD)(e.namespaces),i=e.sessionProperties,o=e.scopedProperties;return{approvedChains:t,approvedMethods:r,approvedEvents:n,sessionProperties:i,scopedProperties:o}}catch(e){return this.client.logger.warn(e,"Error getting TVF approve params"),{}}}),n2(this,"getTVFParams",(e,t,r)=>{var n,i,o;if(!(null!=(n=t.request)&&n.method))return{};let a={correlationId:e,rpcMethods:[t.request.method],chainId:t.chainId};try{let e=this.extractTxHashesFromResult(t.request,r);a.txHashes=e,a.contractAddresses=this.isValidContractData(t.request.params)?[null==(o=null==(i=t.request.params)?void 0:i[0])?void 0:o.to]:[]}catch(e){this.client.logger.warn(e,"Error getting TVF params")}return a}),n2(this,"isValidContractData",e=>{var t;if(!e)return!1;try{let r=e?.data||(null==(t=e?.[0])?void 0:t.data);if(!r.startsWith("0x"))return!1;let n=r.slice(2);return!!/^[0-9a-fA-F]*$/.test(n)&&n.length%2==0}catch{}return!1}),n2(this,"extractTxHashesFromResult",(e,t)=>{var r;try{if(!t)return[];let n=e.method,i=nq[n];if("sui_signTransaction"===n)return[(0,ep.O4P)(t.transactionBytes)];if("near_signTransaction"===n)return[(0,ep.Gpr)(t)];if("near_signTransactions"===n)return t.map(e=>(0,ep.Gpr)(e));if("xrpl_signTransactionFor"===n||"xrpl_signTransaction"===n)return[null==(r=t.tx_json)?void 0:r.hash];if("polkadot_signTransaction"===n)return[(0,ep.ukW)({transaction:e.params.transactionPayload,signature:t.signature})];if("algo_signTxn"===n)return(0,ep.qt8)(t)?t.map(e=>(0,ep.iGn)(e)):[(0,ep.iGn)(t)];if("cosmos_signDirect"===n)return[(0,ep.xjP)(t)];if("wallet_sendCalls"===n)return(0,ep.TiP)(t);if("string"==typeof t)return[t];let o=t[i.key];if((0,ep.qt8)(o))return"solana_signAllTransactions"===n?o.map(e=>(0,ep.P56)(e)):o;if("string"==typeof o)return[o]}catch(e){this.client.logger.warn(e,"Error extracting tx hashes from result")}return[]})}async processPendingMessageEvents(){try{let e=this.client.session.keys,t=this.client.core.relayer.messages.getWithoutAck(e);for(let[e,r]of Object.entries(t))for(let t of r)try{await this.onProviderMessageEvent({topic:e,message:t,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${e}, message: ${t}`)}}catch(e){this.client.logger.warn(e,"processPendingMessageEvents failed")}}isInitialized(){if(!this.initialized){let{message:e}=(0,ep.kCb)("NOT_INITIALIZED",this.name);throw Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(eX.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){let{topic:t,message:r,attestation:n,transportType:i}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(nV)?this.client.auth.authKeys.get(nV):{responseTopic:void 0,publicKey:void 0};try{let e=await this.client.core.crypto.decode(t,r,{receiverPublicKey:o,encoding:i===e1.link_mode?ep.zl_:ep.$dT});eN(e)?(this.client.core.history.set(t,e),await this.onRelayEventRequest({topic:t,payload:e,attestation:n,transportType:i,encryptedId:(0,ep.rjm)(r)})):eM(e)?(await this.client.core.history.resolve(e),await this.onRelayEventResponse({topic:t,payload:e,transportType:i}),this.client.core.history.delete(t,e.id)):(this.client.logger.error(`onRelayMessage() -> unknown payload: ${JSON.stringify(e)}`),await this.onRelayEventUnknownPayload({topic:t,payload:e,transportType:i})),await this.client.core.relayer.messages.ack(t,r)}catch(e){this.client.logger.error(`onRelayMessage() -> failed to process an inbound message: ${r}`),this.client.logger.error(e)}}registerExpirerEvents(){this.client.core.expirer.on(e9.expired,async e=>{let{topic:t,id:r}=(0,ep.iPz)(e.target);return r&&this.client.pendingRequest.keys.includes(r)?await this.deletePendingSessionRequest(r,(0,ep.kCb)("EXPIRED"),!0):r&&this.client.auth.requests.keys.includes(r)?await this.deletePendingAuthRequest(r,(0,ep.kCb)("EXPIRED"),!0):void(t?this.client.session.keys.includes(t)&&(await this.deleteSession({topic:t,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:t})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r})))})}registerPairingEvents(){this.client.core.pairing.events.on(e8.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(e8.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!(0,ep.M_r)(e,!1)){let{message:t}=(0,ep.kCb)("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){let{message:t}=(0,ep.kCb)("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw Error(t)}if((0,ep.BwD)(this.client.core.pairing.pairings.get(e).expiry)){let{message:t}=(0,ep.kCb)("EXPIRED",`pairing topic: ${e}`);throw Error(t)}}async isValidSessionTopic(e){if(!(0,ep.M_r)(e,!1)){let{message:t}=(0,ep.kCb)("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw Error(t)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){let{message:t}=(0,ep.kCb)("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw Error(t)}if((0,ep.BwD)(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});let{message:t}=(0,ep.kCb)("EXPIRED",`session topic: ${e}`);throw Error(t)}if(!this.client.core.crypto.keychain.has(e)){let{message:t}=(0,ep.kCb)("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),Error(t)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if((0,ep.M_r)(e,!1)){let{message:t}=(0,ep.kCb)("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw Error(t)}else{let{message:t}=(0,ep.kCb)("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw Error(t)}}async isValidProposalId(e){if(!(0,ep.Q01)(e)){let{message:t}=(0,ep.kCb)("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw Error(t)}if(!this.client.proposal.keys.includes(e)){let{message:t}=(0,ep.kCb)("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw Error(t)}if((0,ep.BwD)(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);let{message:t}=(0,ep.kCb)("EXPIRED",`proposal id: ${e}`);throw Error(t)}}validateRequestExpiry(e){if(e&&!(0,ep.ONw)(e,nF)){let{message:t}=(0,ep.kCb)("MISSING_OR_INVALID",`request() expiry: ${e}. Expiry must be a number (in seconds) between ${nF.min} and ${nF.max}`);throw Error(t)}}}class n6 extends r4{constructor(e,t){super(e,t,"proposal",nD),this.core=e,this.logger=t}}class n5 extends r4{constructor(e,t){super(e,t,"session",nD),this.core=e,this.logger=t}}class n8 extends r4{constructor(e,t){super(e,t,"request",nD,e=>e.id),this.core=e,this.logger=t}}class n4 extends r4{constructor(e,t){super(e,t,"authKeys",nH,()=>nV),this.core=e,this.logger=t}}class n9 extends r4{constructor(e,t){super(e,t,"pairingTopics",nH),this.core=e,this.logger=t}}class n7 extends r4{constructor(e,t){super(e,t,"requests",nH,e=>e.id),this.core=e,this.logger=t}}var ie=Object.defineProperty,it=(e,t,r)=>t in e?ie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ir=(e,t,r)=>it(e,"symbol"!=typeof t?t+"":t,r);class ii{constructor(e,t){this.core=e,this.logger=t,ir(this,"authKeys"),ir(this,"pairingTopics"),ir(this,"requests"),this.authKeys=new n4(this.core,this.logger),this.pairingTopics=new n9(this.core,this.logger),this.requests=new n7(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var io=Object.defineProperty,ia=(e,t,r)=>t in e?io(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,is=(e,t,r)=>ia(e,"symbol"!=typeof t?t+"":t,r);class ic extends ed{constructor(e){super(e),is(this,"protocol","wc"),is(this,"version",2),is(this,"name",nL.name),is(this,"metadata"),is(this,"core"),is(this,"logger"),is(this,"events",new l.EventEmitter),is(this,"engine"),is(this,"session"),is(this,"proposal"),is(this,"pendingRequest"),is(this,"auth"),is(this,"signConfig"),is(this,"on",(e,t)=>this.events.on(e,t)),is(this,"once",(e,t)=>this.events.once(e,t)),is(this,"off",(e,t)=>this.events.off(e,t)),is(this,"removeListener",(e,t)=>this.events.removeListener(e,t)),is(this,"removeAllListeners",e=>this.events.removeAllListeners(e)),is(this,"connect",async e=>{try{return await this.engine.connect(e)}catch(e){throw this.logger.error(e.message),e}}),is(this,"pair",async e=>{try{return await this.engine.pair(e)}catch(e){throw this.logger.error(e.message),e}}),is(this,"approve",async e=>{try{return await this.engine.approve(e)}catch(e){throw this.logger.error(e.message),e}}),is(this,"reject",async e=>{try{return await this.engine.reject(e)}catch(e){throw this.logger.error(e.message),e}}),is(this,"update",async e=>{try{return await this.engine.update(e)}catch(e){throw this.logger.error(e.message),e}}),is(this,"extend",async e=>{try{return await this.engine.extend(e)}catch(e){throw this.logger.error(e.message),e}}),is(this,"request",async e=>{try{return await this.engine.request(e)}catch(e){throw this.logger.error(e.message),e}}),is(this,"respond",async e=>{try{return await this.engine.respond(e)}catch(e){throw this.logger.error(e.message),e}}),is(this,"ping",async e=>{try{return await this.engine.ping(e)}catch(e){throw this.logger.error(e.message),e}}),is(this,"emit",async e=>{try{return await this.engine.emit(e)}catch(e){throw this.logger.error(e.message),e}}),is(this,"disconnect",async e=>{try{return await this.engine.disconnect(e)}catch(e){throw this.logger.error(e.message),e}}),is(this,"find",e=>{try{return this.engine.find(e)}catch(e){throw this.logger.error(e.message),e}}),is(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(e){throw this.logger.error(e.message),e}}),is(this,"authenticate",async(e,t)=>{try{return await this.engine.authenticate(e,t)}catch(e){throw this.logger.error(e.message),e}}),is(this,"formatAuthMessage",e=>{try{return this.engine.formatAuthMessage(e)}catch(e){throw this.logger.error(e.message),e}}),is(this,"approveSessionAuthenticate",async e=>{try{return await this.engine.approveSessionAuthenticate(e)}catch(e){throw this.logger.error(e.message),e}}),is(this,"rejectSessionAuthenticate",async e=>{try{return await this.engine.rejectSessionAuthenticate(e)}catch(e){throw this.logger.error(e.message),e}}),this.name=e?.name||nL.name,this.metadata=(0,ep.WPw)(e?.metadata),this.signConfig=e?.signConfig;let t=(0,ep.hu8)({logger:e?.logger||nL.logger,name:this.name});this.logger=t,this.core=e?.core||new nM(e),this.session=new n5(this.core,this.logger),this.proposal=new n6(this.core,this.logger),this.pendingRequest=new n8(this.core,this.logger),this.engine=new n3(this),this.auth=new ii(this.core,this.logger)}static async init(e){let t=new ic(e);return await t.initialize(),t}get context(){return(0,G.Fd)(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}}var il=r(71616),iu=r(51567),id=r.n(iu),ih=r(84997),ip=r(49850),ig=r(65514),im=r(32454),iy=r(56344),ib=r(43280),iw=r(20840),iv=r(17360),iE=r(6827),ix=r(16957),iA=r(35156);class iS extends ig.e{constructor(e){var t,r,n,s,c;super(e),(0,o.Z)(this,"name",im.tp.WALLET_CONNECT_V2),(0,o.Z)(this,"connectorNamespace",iy.$.MULTICHAIN),(0,o.Z)(this,"currentChainNamespace",a.E.OTHER),(0,o.Z)(this,"type",ib.$Y.EXTERNAL),(0,o.Z)(this,"connectorOptions",void 0),(0,o.Z)(this,"status",ib.Ak.NOT_READY),(0,o.Z)(this,"connectorData",{uri:""}),(0,o.Z)(this,"connector",null),(0,o.Z)(this,"activeSession",null),(0,o.Z)(this,"wcProvider",null),(0,o.Z)(this,"analytics",void 0),this.connectorOptions=(0,i.Z)({},e);let{qrcodeModal:l,walletConnectInitOptions:u}=(null==e?void 0:e.connectorSettings)||{};this.connectorOptions=(0,i.Z)((0,i.Z)({},this.connectorOptions),{},{connectorSettings:null!==(t=null===(r=this.connectorOptions)||void 0===r?void 0:r.connectorSettings)&&void 0!==t?t:{},loginSettings:null!==(n=null===(s=this.connectorOptions)||void 0===s?void 0:s.loginSettings)&&void 0!==n?n:{}}),this.analytics=e.analytics,l&&(this.connectorOptions.connectorSettings.qrcodeModal=l),u&&(this.connectorOptions.connectorSettings.walletConnectInitOptions=(0,i.Z)((0,i.Z)({},null!==(c=this.connectorOptions.connectorSettings.walletConnectInitOptions)&&void 0!==c?c:{}),u));let{loginSettings:d}=e;d&&(this.connectorOptions.loginSettings=(0,i.Z)((0,i.Z)({},this.connectorOptions.loginSettings||{}),d))}get connected(){return!!this.activeSession}get provider(){return this.status!==ib.Ak.NOT_READY&&this.wcProvider?this.wcProvider:null}set provider(e){throw Error("Not implemented")}async init(e){var t;let r=this.coreOptions.chains.find(t=>t.chainId===e.chainId);super.checkInitializationRequirements({chainConfig:r});let n=null===(t=this.connectorOptions.connectorSettings)||void 0===t||null===(t=t.walletConnectInitOptions)||void 0===t?void 0:t.projectId,i=this.coreOptions.chains.filter(e=>e.chainNamespace===a.E.EIP155||e.chainNamespace===a.E.SOLANA);if(0===i.length)throw iw.Ty.invalidParams("No supported chains found");let o=await (0,ih.w7)(i,n);this.connectorOptions.loginSettings&&0!==Object.keys(this.connectorOptions.loginSettings).length||(this.connectorOptions.loginSettings=o.loginSettings),this.connectorOptions.connectorSettings=id()(o.connectorSettings||{},this.connectorOptions.connectorSettings||{});let{connectorSettings:s}=this.connectorOptions;if(this.connector=await ic.init(null==s?void 0:s.walletConnectInitOptions),this.wcProvider=new ip.G({config:{chain:r,chains:this.coreOptions.chains},connector:this.connector}),this.emit(ib.cS.READY,im.tp.WALLET_CONNECT_V2),this.status=ib.Ak.READY,iv.c.debug("initializing wallet connect v2 connector"),e.autoConnect){if(await this.checkForPersistedSession(),this.connected){this.rehydrated=!0;try{await this.onConnectHandler({chain:r,getIdentityToken:e.getIdentityToken})}catch(e){iv.c.error("wallet auto connect",e),this.emit(ib.cS.REHYDRATION_ERROR,e)}}else this.status=ib.Ak.NOT_READY,this.emit(ib.cS.CACHE_CLEAR)}}async connect({chainId:e,getIdentityToken:t}){super.checkConnectionRequirements();let r=this.coreOptions.chains.find(t=>t.chainId===e);if(!r)throw iw.RM.connectionError("Chain config is not available");if(!this.connector)throw iw.Ty.notReady("Wallet connector is not ready yet");let n=!this.connected&&!this.rehydrated,o=Date.now(),a={connector:this.name,connector_type:this.type,is_injected:this.isInjected,is_wallet_connect:!0,chain_id:(0,iE.cN)(r),chain_name:null==r?void 0:r.displayName,chain_namespace:null==r?void 0:r.chainNamespace};try{if(this.connected)return await this.onConnectHandler({chain:r,getIdentityToken:t}),this.provider;return this.status!==ib.Ak.CONNECTING&&await this.createNewSession({chainConfig:r,trackCompletionEvents:()=>{if(n){var e,t,r;let{name:n,url:s,redirect:c}=(null===(e=this.activeSession)||void 0===e||null===(e=e.peer)||void 0===e?void 0:e.metadata)||{},{native:l,universal:u,linkMode:d}=c||{};a=(0,i.Z)((0,i.Z)({},a),{},{connector:n||this.name,wallet_url:s,redirect_native:l,redirect_universal:u,redirect_link_mode_enabled:d}),null===(t=this.analytics)||void 0===t||t.track(ix.dW.CONNECTION_STARTED,a),null===(r=this.analytics)||void 0===r||r.track(ix.dW.CONNECTION_COMPLETED,(0,i.Z)((0,i.Z)({},a),{},{duration:Date.now()-o}))}},getIdentityToken:t}),this.provider}catch(e){if(iv.c.error("Wallet connect v2 connector error while connecting",e),this.status=ib.Ak.READY,this.rehydrated=!0,this.emit(ib.cS.ERRORED,e),n){var c,l;null===(c=this.analytics)||void 0===c||c.track(ix.dW.CONNECTION_STARTED,a),null===(l=this.analytics)||void 0===l||l.track(ix.dW.CONNECTION_FAILED,(0,i.Z)((0,i.Z)((0,i.Z)({},a),(0,s.eX)(e)),{},{duration:Date.now()-o}))}throw e instanceof iw.up?e:iw.RM.connectionError(`Failed to login with wallet connect: ${(null==e?void 0:e.message)||""}`,e)}}async switchChain(e,t=!1){if(super.checkSwitchChainRequirements(e,t),!this.wcProvider)throw iw.Ty.notReady("Wallet Connect provider is not ready yet");try{await this.wcProvider.switchChain({chainId:e.chainId})}catch(e){throw iv.c.error("error while switching chain",e),e}}async getUserInfo(){if(!this.canAuthorize)throw iw.RM.notConnectedError("Not connected with wallet, Please login/connect first");return{}}async disconnect(e={cleanup:!1,sessionRemovedByWallet:!1}){var t,r;let{cleanup:n}=e;if(!this.connector||!this.connected||!(null!==(t=this.activeSession)&&void 0!==t&&t.topic))throw iw.RM.notConnectedError("Not connected with wallet");e.sessionRemovedByWallet||await this.connector.disconnect({topic:null===(r=this.activeSession)||void 0===r?void 0:r.topic,reason:(0,ep.D6H)("USER_DISCONNECTED")}),this.rehydrated=!1,n?(this.connector=null,this.status=ib.Ak.NOT_READY,this.wcProvider=null):this.status=ib.Ak.READY,this.activeSession=null,this.emit(ib.cS.DISCONNECTED)}async getIdentityToken(){if(!this.provider||!this.canAuthorize)throw iw.RM.notConnectedError();this.status=ib.Ak.AUTHORIZING,this.emit(ib.cS.AUTHORIZING,{connector:im.tp.WALLET_CONNECT_V2});let{chainId:e}=this.provider,t=this.coreOptions.chains.find(t=>t.chainId===e);if(!t)throw iw.RM.connectionError("Chain config is not available");let{chainNamespace:r}=t,n=await this.provider.request({method:r===a.E.EIP155?il.QZ.GET_ACCOUNTS:il.ij.GET_ACCOUNTS});if(n&&n.length>0){let t=(0,iA.Cb)(n[0],this.name);if(t&&!(0,iA.$E)(t))return this.status=ib.Ak.AUTHORIZED,this.emit(ib.cS.AUTHORIZED,{connector:im.tp.WALLET_CONNECT_V2,identityTokenInfo:{idToken:t}}),{idToken:t};let i={domain:window.location.origin,uri:window.location.href,address:n[0],chainId:parseInt(e,16),version:"1",nonce:Math.random().toString(36).slice(2),issuedAt:new Date().toISOString()},o=await (0,c.tV)(i,r),a=await this._getSignedMessage(o,n,r),s=await (0,c.rn)(r,a,o,this.name,this.coreOptions.sessionTime,this.coreOptions.clientId,this.coreOptions.web3AuthNetwork);return(0,iA.Fr)(n[0],this.name,s),this.status=ib.Ak.AUTHORIZED,this.emit(ib.cS.AUTHORIZED,{connector:im.tp.WALLET_CONNECT_V2,identityTokenInfo:{idToken:s}}),{idToken:s}}throw iw.RM.notConnectedError("Not connected with wallet, Please login/connect first")}async enableMFA(){throw Error("Method Not implemented")}async manageMFA(){throw Error("Method Not implemented")}cleanupPendingPairings(){if(!this.connector)throw iw.Ty.notReady("Wallet connector is not ready yet");let e=this.connector.pairing.getAll({active:!1});(0,ep.qt8)(e)&&e.forEach(e=>{this.connector&&this.connector.pairing.delete(e.topic,(0,ep.D6H)("USER_DISCONNECTED"))})}async checkForPersistedSession(){if(!this.connector)throw iw.Ty.notReady("Wallet connector is not ready yet");if(this.connector.session.length){let e=this.connector.session.keys.length-1;this.activeSession=this.connector.session.get(this.connector.session.keys[e])}return this.activeSession}async createNewSession({forceNewSession:e=!1,chainConfig:t,trackCompletionEvents:r,getIdentityToken:n}){var i,o,a,s;try{if(!this.connector)throw iw.Ty.notReady("Wallet connector is not ready yet");if(!this.connectorOptions.loginSettings||0===Object.keys(this.connectorOptions.loginSettings).length)throw iw.Ty.notReady("login settings are not set yet");this.status=ib.Ak.CONNECTING,this.emit(ib.cS.CONNECTING,{connector:im.tp.WALLET_CONNECT_V2}),e&&null!==(i=this.activeSession)&&void 0!==i&&i.topic&&await this.connector.disconnect({topic:null===(a=this.activeSession)||void 0===a?void 0:a.topic,reason:(0,ep.D6H)("USER_DISCONNECTED")});let{uri:s,approval:c}=await this.connector.connect(this.connectorOptions.loginSettings),l=null===(o=this.connectorOptions)||void 0===o||null===(o=o.connectorSettings)||void 0===o?void 0:o.qrcodeModal;if(s){if(l)try{await l.openModal({uri:s}),iv.c.debug("EVENT","QR Code Modal closed"),this.status=ib.Ak.READY,this.emit(ib.cS.READY,im.tp.WALLET_CONNECT_V2)}catch(e){iv.c.error("unable to open qr code modal",e)}else this.updateConnectorData({uri:s})}iv.c.info("awaiting session approval from wallet");let u=await c();this.activeSession=u,await this.onConnectHandler({chain:t,trackCompletionEvents:r,getIdentityToken:n}),l&&l.closeModal()}catch(e){if(null!==(s=e.message)&&void 0!==s&&s.toLowerCase().includes("proposal expired")){if(iv.c.info("current connector status: ",this.status),this.status===ib.Ak.CONNECTING)return iv.c.info("retrying to create new wallet connect session since proposal expired"),this.createNewSession({forceNewSession:!0,chainConfig:t,getIdentityToken:n});if(this.status===ib.Ak.READY){iv.c.info("ignoring proposal expired error since some other connector is connected");return}}throw iv.c.error("error while creating new wallet connect session",e),this.emit(ib.cS.ERRORED,e),e}}async onConnectHandler({chain:e,trackCompletionEvents:t,getIdentityToken:r}){var n;let i;if(!this.connector||!this.wcProvider)throw iw.Ty.notReady("Wallet connect connector is not ready yet");this.subscribeEvents(),null!==(n=this.connectorOptions.connectorSettings)&&void 0!==n&&n.qrcodeModal&&(this.wcProvider=new ip.G({config:{chain:e,chains:this.coreOptions.chains,skipLookupNetwork:!0},connector:this.connector})),await this.wcProvider.setupProvider(this.connector),this.cleanupPendingPairings(),this.status=ib.Ak.CONNECTED,t&&t(),this.emit(ib.cS.CONNECTED,{connector:im.tp.WALLET_CONNECT_V2,reconnected:this.rehydrated,provider:this.provider,identityTokenInfo:i}),r&&(i=await this.getIdentityToken())}subscribeEvents(){if(!this.connector)throw iw.Ty.notReady("Wallet connector is not ready yet");this.connector.events.on("session_update",({topic:e,params:t})=>{if(!this.connector)return;let{namespaces:r}=t,n=this.connector.session.get(e),o=(0,i.Z)((0,i.Z)({},n),{},{namespaces:r});this.activeSession=o}),this.connector.events.on("session_delete",()=>{this.disconnect({sessionRemovedByWallet:!0})}),this.connector.events.on("session_expire",({topic:e})=>{var t;iv.c.info("Session expired event received for topic:",e),(null===(t=this.activeSession)||void 0===t?void 0:t.topic)===e&&this.disconnect({sessionRemovedByWallet:!0}).catch(e=>{iv.c.error("Failed to disconnect expired session",e)})})}async _getSignedMessage(e,t,r){return await this.provider.request({method:r===a.E.EIP155?il.QZ.PERSONAL_SIGN:il.ij.SIGN_MESSAGE,params:r===a.E.EIP155?[e,t[0]]:{data:e}})}}let i_=e=>({coreOptions:t,projectConfig:r,analytics:n})=>{var o;let a=(null==e||null===(o=e.walletConnectInitOptions)||void 0===o?void 0:o.projectId)||(null==r?void 0:r.walletConnectProjectId);return new iS({connectorSettings:(0,i.Z)((0,i.Z)({},e),{},{walletConnectInitOptions:(0,i.Z)((0,i.Z)({},null==e?void 0:e.walletConnectInitOptions),{},{projectId:a})}),coreOptions:t,analytics:n})}},47136:function(e,t,r){"use strict";r.d(t,{j$:function(){return r3},NE:function(){return r6}});var n=r(31686),i=r(56127),o=r(19387),a=r(87614),s=r(10994),c=r(82538),l=r(98158),u=r(65436),d=r(17283),f=r(93627),h=r(36826),p=r(59455),g=r(81544),m=r(20010);function y(e){if(!(e instanceof g.G))return!1;let t=e.walk(e=>e instanceof m.Lu);return t instanceof m.Lu&&(t.data?.errorName==="HttpError"||t.data?.errorName==="ResolverError"||t.data?.errorName==="ResolverNotContract"||t.data?.errorName==="ResolverNotFound"||t.data?.errorName==="ReverseAddressMismatch"||t.data?.errorName==="UnsupportedResolverProfile")}var b=r(7143),w=r(89256),v=r(44659),E=r(34763),x=r(93610);function A(e){if(66!==e.length||0!==e.indexOf("[")||65!==e.indexOf("]"))return null;let t=`0x${e.slice(1,65)}`;return(0,x.v)(t)?t:null}function S(e){let t=new Uint8Array(32).fill(0);if(!e)return(0,p.ci)(t);let r=e.split(".");for(let e=r.length-1;e>=0;e-=1){let n=A(r[e]),i=n?(0,v.O0)(n):(0,E.w)((0,v.qX)(r[e]),"bytes");t=(0,E.w)((0,w.zo)([t,i]),"bytes")}return(0,p.ci)(t)}function _(e){let t=e.replace(/^\.|\.$/gm,"");if(0===t.length)return new Uint8Array(1);let r=new Uint8Array((0,v.qX)(t).byteLength+2),n=0,i=t.split(".");for(let e=0;e<i.length;e++){let t=(0,v.qX)(i[e]);if(t.byteLength>255){var o;t=(0,v.qX)((o=function(e){let t=new Uint8Array(32).fill(0);return e?A(e)||(0,E.w)((0,v.qX)(e)):(0,p.ci)(t)}(i[e]),`[${o.slice(2)}]`))}r[n]=t.length,r.set(t,n+1),n+=t.length+1}return r.byteLength!==n+1?r.slice(0,n+1):r}var I=r(82645),C=r(28766);async function O(e,t){let{blockNumber:r,blockTag:n,coinType:i,name:o,gatewayUrls:a,strict:s}=t,{chain:c}=e,g=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw Error("client chain not configured. universalResolverAddress is required.");return(0,f.L)({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})(),m=c?.ensTlds;if(m&&!m.some(e=>o.endsWith(e)))return null;let w=null!=i?[S(o),BigInt(i)]:[S(o)];try{let t=(0,d.R)({abi:l.X$,functionName:"addr",args:w}),i={address:g,abi:l.k3,functionName:"resolveWithGateways",args:[(0,p.NC)(_(o)),t,a??[b.M]],blockNumber:r,blockTag:n},s=(0,I.s)(e,C.L,"readContract"),c=await s(i);if("0x"===c[0])return null;let f=(0,u.k)({abi:l.X$,args:w,functionName:"addr",data:c[0]});if("0x"===f||"0x00"===(0,h.f)(f))return null;return f}catch(e){if(s)throw e;if(y(e))return null;throw e}}class P extends g.G{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class T extends g.G{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class k extends g.G{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class N extends g.G{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}let M=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,R=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,D=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,L=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function B(e){try{let t=await fetch(e,{method:"HEAD"});if(200===t.status){let e=t.headers.get("content-type");return e?.startsWith("image/")}return!1}catch(t){if("object"==typeof t&&void 0!==t.response||!Object.hasOwn(globalThis,"Image"))return!1;return new Promise(t=>{let r=new Image;r.onload=()=>{t(!0)},r.onerror=()=>{t(!1)},r.src=e})}}function U(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function j({uri:e,gatewayUrls:t}){let r=D.test(e);if(r)return{uri:e,isOnChain:!0,isEncoded:r};let n=U(t?.ipfs,"https://ipfs.io"),i=U(t?.arweave,"https://arweave.net"),o=e.match(M),{protocol:a,subpath:s,target:c,subtarget:l=""}=o?.groups||{},u="ipns:/"===a||"ipns/"===s,d="ipfs:/"===a||"ipfs/"===s||R.test(e);if(e.startsWith("http")&&!u&&!d){let r=e;return t?.arweave&&(r=e.replace(/https:\/\/arweave.net/g,t?.arweave)),{uri:r,isOnChain:!1,isEncoded:!1}}if((u||d)&&c)return{uri:`${n}/${u?"ipns":"ipfs"}/${c}${l}`,isOnChain:!1,isEncoded:!1};if("ar:/"===a&&c)return{uri:`${i}/${c}${l||""}`,isOnChain:!1,isEncoded:!1};let f=e.replace(L,"");if(f.startsWith("<svg")&&(f=`data:image/svg+xml;base64,${btoa(f)}`),f.startsWith("data:")||f.startsWith("{"))return{uri:f,isOnChain:!0,isEncoded:!1};throw new k({uri:e})}function $(e){if("object"!=typeof e||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new P({data:e});return e.image||e.image_url||e.image_data}async function F({gatewayUrls:e,uri:t}){try{let r=await fetch(t).then(e=>e.json());return await z({gatewayUrls:e,uri:$(r)})}catch{throw new k({uri:t})}}async function z({gatewayUrls:e,uri:t}){let{uri:r,isOnChain:n}=j({uri:t,gatewayUrls:e});if(n||await B(r))return r;throw new k({uri:t})}async function q(e,{nft:t}){if("erc721"===t.namespace)return(0,C.L)(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if("erc1155"===t.namespace)return(0,C.L)(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new N({namespace:t.namespace})}async function G(e,{gatewayUrls:t,record:r}){return/eip155:/i.test(r)?H(e,{gatewayUrls:t,record:r}):z({uri:r,gatewayUrls:t})}async function H(e,{gatewayUrls:t,record:r}){let n=function(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));let[r,n,i]=t.split("/"),[o,a]=r.split(":"),[s,c]=n.split(":");if(!o||"eip155"!==o.toLowerCase())throw new T({reason:"Only EIP-155 supported"});if(!a)throw new T({reason:"Chain ID not found"});if(!c)throw new T({reason:"Contract address not found"});if(!i)throw new T({reason:"Token ID not found"});if(!s)throw new T({reason:"ERC namespace not found"});return{chainID:Number.parseInt(a,10),namespace:s.toLowerCase(),contractAddress:c,tokenID:i}}(r),{uri:i,isOnChain:o,isEncoded:a}=j({uri:await q(e,{nft:n}),gatewayUrls:t});if(o&&(i.includes("data:application/json;base64,")||i.startsWith("{")))return z({uri:$(JSON.parse(a?atob(i.replace("data:application/json;base64,","")):i)),gatewayUrls:t});let s=n.tokenID;return"erc1155"===n.namespace&&(s=s.replace("0x","").padStart(64,"0")),F({gatewayUrls:t,uri:i.replace(/(?:0x)?{id}/,s)})}async function V(e,t){let{blockNumber:r,blockTag:n,key:i,name:o,gatewayUrls:a,strict:s}=t,{chain:c}=e,h=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw Error("client chain not configured. universalResolverAddress is required.");return(0,f.L)({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})(),g=c?.ensTlds;if(g&&!g.some(e=>o.endsWith(e)))return null;try{let t={address:h,abi:l.k3,args:[(0,p.NC)(_(o)),(0,d.R)({abi:l.nZ,functionName:"text",args:[S(o),i]}),a??[b.M]],functionName:"resolveWithGateways",blockNumber:r,blockTag:n},s=(0,I.s)(e,C.L,"readContract"),c=await s(t);if("0x"===c[0])return null;let f=(0,u.k)({abi:l.nZ,functionName:"text",data:c[0]});return""===f?null:f}catch(e){if(s)throw e;if(y(e))return null;throw e}}async function W(e,{blockNumber:t,blockTag:r,assetGatewayUrls:n,name:i,gatewayUrls:o,strict:a,universalResolverAddress:s}){let c=await (0,I.s)(e,V,"getEnsText")({blockNumber:t,blockTag:r,key:"avatar",name:i,universalResolverAddress:s,gatewayUrls:o,strict:a});if(!c)return null;try{return await G(e,{record:c,gatewayUrls:n})}catch{return null}}async function Z(e,t){let{address:r,blockNumber:n,blockTag:i,coinType:o=60n,gatewayUrls:a,strict:s}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw Error("client chain not configured. universalResolverAddress is required.");return(0,f.L)({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})();try{let t={address:u,abi:l.du,args:[r,o,a??[b.M]],functionName:"reverseWithGateways",blockNumber:n,blockTag:i},s=(0,I.s)(e,C.L,"readContract"),[c]=await s(t);return c||null}catch(e){if(s)throw e;if(y(e))return null;throw e}}async function K(e,t){let{blockNumber:r,blockTag:n,name:i}=t,{chain:o}=e,a=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!o)throw Error("client chain not configured. universalResolverAddress is required.");return(0,f.L)({blockNumber:r,chain:o,contract:"ensUniversalResolver"})})(),s=o?.ensTlds;if(s&&!s.some(e=>i.endsWith(e)))throw Error(`${i} is not a valid ENS TLD (${s?.join(", ")}) for chain "${o.name}" (id: ${o.id}).`);let[c]=await (0,I.s)(e,C.L,"readContract")({address:a,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[(0,p.NC)(_(i))],blockNumber:r,blockTag:n});return c}var Y=r(50550),J=r(19775),X=r(14015),Q=r(70878),ee=r(92614),et=r(54605);async function er(e,t){let{account:r=e.account,blockNumber:n,blockTag:i="latest",blobs:o,data:a,gas:s,gasPrice:c,maxFeePerBlobGas:l,maxFeePerGas:u,maxPriorityFeePerGas:d,to:f,value:h,...g}=t,m=r?(0,J.T)(r):void 0;try{(0,et.F)(t);let r="bigint"==typeof n?(0,p.eC)(n):void 0,y=e.chain?.formatters?.transactionRequest?.format,b=(y||ee.tG)({...(0,Q.K)(g,{format:y}),account:m,blobs:o,data:a,gas:s,gasPrice:c,maxFeePerBlobGas:l,maxFeePerGas:u,maxPriorityFeePerGas:d,to:f,value:h},"createAccessList"),w=await e.request({method:"eth_createAccessList",params:[b,r||i]});return{accessList:w.accessList,gasUsed:BigInt(w.gasUsed)}}catch(r){throw(0,X.P)(r,{...t,account:m,chain:e.chain})}}function en(e,{method:t}){let r={};return"fallback"===e.transport.type&&e.transport.onResponse?.(({method:e,response:n,status:i,transport:o})=>{"success"===i&&t===e&&(r[n]=o.request)}),t=>r[t]||e.request}async function ei(e){let t=en(e,{method:"eth_newBlockFilter"}),r=await e.request({method:"eth_newBlockFilter"});return{id:r,request:t(r),type:"block"}}var eo=r(65531);class ea extends g.G{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}var es=r(45392),ec=r(30056),el=r(7275),eu=r(64043);let ed="/docs/contract/encodeEventTopics";function ef(e){let{abi:t,eventName:r,args:n}=e,i=t[0];if(r){let e=(0,eu.mE)({abi:t,name:r});if(!e)throw new eo.mv(r,{docsPath:ed});i=e}if("event"!==i.type)throw new eo.mv(void 0,{docsPath:ed});let o=(0,el.t)(i),a=(0,es.n)(o),s=[];if(n&&"inputs"in i){let e=i.inputs?.filter(e=>"indexed"in e&&e.indexed),t=Array.isArray(n)?n:Object.values(n).length>0?e?.map(e=>n[e.name])??[]:[];t.length>0&&(s=e?.map((e,r)=>Array.isArray(t[r])?t[r].map((n,i)=>eh({param:e,value:t[r][i]})):void 0!==t[r]&&null!==t[r]?eh({param:e,value:t[r]}):null)??[])}return[a,...s]}function eh({param:e,value:t}){if("string"===e.type||"bytes"===e.type)return(0,E.w)((0,v.O0)(t));if("tuple"===e.type||e.type.match(/^(.*)\[(\d+)?\]$/))throw new ea(e.type);return(0,ec.E)([e],[t])}async function ep(e,t){let{address:r,abi:n,args:i,eventName:o,fromBlock:a,strict:s,toBlock:c}=t,l=en(e,{method:"eth_newFilter"}),u=o?ef({abi:n,args:i,eventName:o}):void 0,d=await e.request({method:"eth_newFilter",params:[{address:r,fromBlock:"bigint"==typeof a?(0,p.eC)(a):a,toBlock:"bigint"==typeof c?(0,p.eC)(c):c,topics:u}]});return{abi:n,args:i,eventName:o,id:d,request:l(d),strict:!!s,type:"event"}}async function eg(e,{address:t,args:r,event:n,events:i,fromBlock:o,strict:a,toBlock:s}={}){let c=i??(n?[n]:void 0),l=en(e,{method:"eth_newFilter"}),u=[];c&&(u=[c.flatMap(e=>ef({abi:[e],eventName:e.name,args:r}))],n&&(u=u[0]));let d=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:"bigint"==typeof o?(0,p.eC)(o):o,toBlock:"bigint"==typeof s?(0,p.eC)(s):s,...u.length?{topics:u}:{}}]});return{abi:c,args:r,eventName:n?n.name:void 0,fromBlock:o,id:d,request:l(d),strict:!!a,toBlock:s,type:"event"}}async function em(e){let t=en(e,{method:"eth_newPendingTransactionFilter"}),r=await e.request({method:"eth_newPendingTransactionFilter"});return{id:r,request:t(r),type:"transaction"}}var ey=r(34180),eb=r(8741);async function ew(e,t){let{abi:r,address:n,args:i,functionName:o,dataSuffix:a,...s}=t,c=(0,d.R)({abi:r,args:i,functionName:o});try{return await (0,I.s)(e,eb.Q,"estimateGas")({data:`${c}${a?a.replace("0x",""):""}`,to:n,...s})}catch(t){let e=s.account?(0,J.T)(s.account):void 0;throw(0,ey.S)(t,{abi:r,address:n,args:i,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:e?.address})}}var ev=r(6458),eE=r(96174),ex=r(332);async function eA(e,{address:t,blockNumber:r,blockTag:n=e.experimental_blockTag??"latest"}){let i="bigint"==typeof r?(0,p.eC)(r):void 0;return BigInt(await e.request({method:"eth_getBalance",params:[t,i||n]}))}async function eS(e){return BigInt(await e.request({method:"eth_blobBaseFee"}))}var e_=r(74587),eI=r(13708),eC=r(72932);async function eO(e,{blockHash:t,blockNumber:r,blockTag:n="latest"}={}){let i;let o=void 0!==r?(0,p.eC)(r):void 0;return i=t?await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):await e.request({method:"eth_getBlockTransactionCountByNumber",params:[o||n]},{dedupe:!!o}),(0,eC.ly)(i)}var eP=r(12363),eT=r(56570),ek=r(93637),eN=r(33630),eM=r(20556),eR=r(2742);let eD="/docs/contract/decodeEventLog";function eL(e){let{abi:t,data:r,strict:n,topics:i}=e,o=n??!0,[a,...s]=i;if(!a)throw new eo.FM({docsPath:eD});let c=t.find(e=>"event"===e.type&&a===(0,es.n)((0,el.t)(e)));if(!(c&&"name"in c)||"event"!==c.type)throw new eo.lC(a,{docsPath:eD});let{name:l,inputs:u}=c,d=u?.some(e=>!("name"in e&&e.name)),f=d?[]:{},h=u.map((e,t)=>[e,t]).filter(([e])=>"indexed"in e&&e.indexed),p=[];for(let e=0;e<h.length;e++){let[t,r]=h[e],n=s[e];if(!n){if(o)throw new eo.Gy({abiItem:c,param:t});p.push([t,r]);continue}f[d?r:t.name||r]=function({param:e,value:t}){return"string"===e.type||"bytes"===e.type||"tuple"===e.type||e.type.match(/^(.*)\[(\d+)?\]$/)?t:((0,eR.r)([e],t)||[])[0]}({param:t,value:n})}let g=u.filter(e=>!("indexed"in e&&e.indexed)),m=o?g:[...p.map(([e])=>e),...g];if(m.length>0){if(r&&"0x"!==r)try{let e=(0,eR.r)(m,r);if(e){let t=0;if(!o)for(let[r,n]of p)f[d?n:r.name||n]=e[t++];if(d)for(let r=0;r<u.length;r++)void 0===f[r]&&t<e.length&&(f[r]=e[t++]);else for(let r=0;r<g.length;r++)f[g[r].name]=e[t++]}}catch(e){if(o){if(e instanceof eo.xB||e instanceof eN.lQ)throw new eo.SM({abiItem:c,data:r,params:m,size:(0,eM.d)(r)});throw e}}else if(o)throw new eo.SM({abiItem:c,data:"0x",params:m,size:0})}return{eventName:l,args:Object.values(f).length>0?f:void 0}}function eB(e){let{abi:t,args:r,logs:n,strict:i=!0}=e,o=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return n.map(e=>{let n,a;let s=t.filter(t=>"event"===t.type&&e.topics[0]===(0,es.n)(t));if(0===s.length)return null;for(let t of s)try{n=eL({...e,abi:[t],strict:!0}),a=t;break}catch{}if(!n&&!i){a=s[0];try{n=eL({...e,abi:[a],strict:!1})}catch{let t=a.inputs?.some(e=>!("name"in e&&e.name));return{...e,args:t?[]:{},eventName:a.name}}}return n&&a&&(!o||o.includes(n.eventName))&&function(e){let{args:t,inputs:r,matchArgs:n}=e;if(!n)return!0;if(!t)return!1;function i(e,t,r){try{if("address"===e.type)return(0,ek.E)(t,r);if("string"===e.type||"bytes"===e.type)return(0,E.w)((0,v.O0)(t))===r;return t===r}catch{return!1}}return Array.isArray(t)&&Array.isArray(n)?n.every((e,n)=>{if(null==e)return!0;let o=r[n];return!!o&&(Array.isArray(e)?e:[e]).some(e=>i(o,e,t[n]))}):!("object"!=typeof t||Array.isArray(t)||"object"!=typeof n||Array.isArray(n))&&Object.entries(n).every(([e,n])=>{if(null==n)return!0;let o=r.find(t=>t.name===e);return!!o&&(Array.isArray(n)?n:[n]).some(r=>i(o,r,t[e]))})}({args:n.args,inputs:a.inputs,matchArgs:r})?{...n,...e}:null}).filter(Boolean)}var eU=r(55668);async function ej(e,{address:t,blockHash:r,fromBlock:n,toBlock:i,event:o,events:a,args:s,strict:c}={}){let l=a??(o?[o]:void 0),u=[];l&&(u=[l.flatMap(e=>ef({abi:[e],eventName:e.name,args:a?void 0:s}))],o&&(u=u[0]));let d=(r?await e.request({method:"eth_getLogs",params:[{address:t,topics:u,blockHash:r}]}):await e.request({method:"eth_getLogs",params:[{address:t,topics:u,fromBlock:"bigint"==typeof n?(0,p.eC)(n):n,toBlock:"bigint"==typeof i?(0,p.eC)(i):i}]})).map(e=>(0,eU.U)(e));return l?eB({abi:l,args:s,logs:d,strict:c??!1}):d}async function e$(e,t){let{abi:r,address:n,args:i,blockHash:o,eventName:a,fromBlock:s,toBlock:c,strict:l}=t,u=a?(0,eu.mE)({abi:r,name:a}):void 0,d=u?void 0:r.filter(e=>"event"===e.type);return(0,I.s)(e,ej,"getLogs")({address:n,args:i,blockHash:o,event:u,events:d,fromBlock:s,toBlock:c,strict:l})}class eF extends g.G{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function ez(e,t){let{address:r,factory:n,factoryData:i}=t;try{let[t,o,a,s,c,l,u]=await (0,I.s)(e,C.L,"readContract")({abi:eq,address:r,functionName:"eip712Domain",factory:n,factoryData:i});return{domain:{name:o,version:a,chainId:Number(s),verifyingContract:c,salt:l},extensions:u,fields:t}}catch(e){if("ContractFunctionExecutionError"===e.name&&"ContractFunctionZeroDataError"===e.cause.name)throw new eF({address:r});throw e}}let eq=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];async function eG(e,{blockCount:t,blockNumber:r,blockTag:n="latest",rewardPercentiles:i}){var o;let a="bigint"==typeof r?(0,p.eC)(r):void 0;return{baseFeePerGas:(o=await e.request({method:"eth_feeHistory",params:[(0,p.eC)(t),a||n,i]},{dedupe:!!a})).baseFeePerGas.map(e=>BigInt(e)),gasUsedRatio:o.gasUsedRatio,oldestBlock:BigInt(o.oldestBlock),reward:o.reward?.map(e=>e.map(e=>BigInt(e)))}}async function eH(e,{filter:t}){let r="strict"in t&&t.strict,n=await t.request({method:"eth_getFilterChanges",params:[t.id]});if("string"==typeof n[0])return n;let i=n.map(e=>(0,eU.U)(e));return"abi"in t&&t.abi?eB({abi:t.abi,logs:i,strict:r}):i}async function eV(e,{filter:t}){let r=t.strict??!1,n=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(e=>(0,eU.U)(e));return t.abi?eB({abi:t.abi,logs:n,strict:r}):n}var eW=r(25283);async function eZ(e,{address:t,blockNumber:r,blockTag:n,storageKeys:i}){var o;let a=void 0!==r?(0,p.eC)(r):void 0;return{...o=await e.request({method:"eth_getProof",params:[t,i,a||(n??"latest")]}),balance:o.balance?BigInt(o.balance):void 0,nonce:o.nonce?(0,eC.ly)(o.nonce):void 0,storageProof:o.storageProof?o.storageProof.map(e=>({...e,value:BigInt(e.value)})):void 0}}async function eK(e,{address:t,blockNumber:r,blockTag:n="latest",slot:i}){let o=void 0!==r?(0,p.eC)(r):void 0;return await e.request({method:"eth_getStorageAt",params:[t,i,o||n]})}var eY=r(39277);async function eJ(e,{hash:t,transactionReceipt:r}){let[n,i]=await Promise.all([(0,I.s)(e,eI.z,"getBlockNumber")({}),t?(0,I.s)(e,eY.f,"getTransaction")({hash:t}):void 0]),o=r?.blockNumber||i?.blockNumber;return o?n-o+1n:0n}var eX=r(16689),eQ=r(78526),e0=r(45434);async function e1(e,t){let{account:r,authorizationList:n,allowFailure:i=!0,blockNumber:o,blockOverrides:a,blockTag:s,stateOverride:c}=t,h=t.contracts,{batchSize:p=t.batchSize??1024,deployless:y=t.deployless??!1}="object"==typeof e.batch?.multicall?e.batch.multicall:{},b=(()=>{if(t.multicallAddress)return t.multicallAddress;if(y)return null;if(e.chain)return(0,f.L)({blockNumber:o,chain:e.chain,contract:"multicall3"});throw Error("client chain not configured. multicallAddress is required.")})(),w=[[]],v=0,E=0;for(let e=0;e<h.length;e++){let{abi:t,address:n,args:o,functionName:a}=h[e];try{let e=(0,d.R)({abi:t,args:o,functionName:a});E+=(e.length-2)/2,p>0&&E>p&&w[v].length>0&&(v++,E=(e.length-2)/2,w[v]=[]),w[v]=[...w[v],{allowFailure:!0,callData:e,target:n}]}catch(s){let e=(0,ey.S)(s,{abi:t,address:n,args:o,docsPath:"/docs/contract/multicall",functionName:a,sender:r});if(!i)throw e;w[v]=[...w[v],{allowFailure:!0,callData:"0x",target:n}]}}let x=await Promise.allSettled(w.map(t=>(0,I.s)(e,C.L,"readContract")({...null===b?{code:e0.xd}:{address:b},abi:l.F8,account:r,args:[t],authorizationList:n,blockNumber:o,blockOverrides:a,blockTag:s,functionName:"aggregate3",stateOverride:c}))),A=[];for(let e=0;e<x.length;e++){let t=x[e];if("rejected"===t.status){if(!i)throw t.reason;for(let r=0;r<w[e].length;r++)A.push({status:"failure",error:t.reason,result:void 0});continue}let r=t.value;for(let t=0;t<r.length;t++){let{returnData:n,success:o}=r[t],{callData:a}=w[e][t],{abi:s,address:c,functionName:l,args:d}=h[A.length];try{if("0x"===a)throw new eo.wb;if(!o)throw new m.VQ({data:n});let e=(0,u.k)({abi:s,args:d,data:n,functionName:l});A.push(i?{result:e,status:"success"}:e)}catch(t){let e=(0,ey.S)(t,{abi:s,address:c,args:d,docsPath:"/docs/contract/multicall",functionName:l});if(!i)throw e;A.push({error:e,result:void 0,status:"failure"})}}}if(A.length!==h.length)throw new g.G("multicall results mismatch");return A}var e2=r(59921),e3=r(78125),e6=r(18856),e5=r(59069),e8=r(77911);async function e4(e,t){let{blockNumber:r,blockTag:n=e.experimental_blockTag??"latest",blocks:i,returnFullTransactions:o,traceTransfers:a,validation:s}=t;try{let t=[];for(let e of i){let r=e.blockOverrides?e2.toRpc(e.blockOverrides):void 0,n=e.calls.map(e=>{let t=e.account?(0,J.T)(e.account):void 0,r=e.abi?(0,d.R)(e):e.data,n={...e,account:t,data:e.dataSuffix?(0,w.zo)([r||"0x",e.dataSuffix]):r,from:e.from??t?.address};return(0,et.F)(n),(0,ee.tG)(n)}),i=e.stateOverrides?(0,e8.mF)(e.stateOverrides):void 0;t.push({blockOverrides:r,calls:n,stateOverrides:i})}let c="bigint"==typeof r?(0,p.eC)(r):void 0;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:t,returnFullTransactions:o,traceTransfers:a,validation:s},c||n]})).map((e,t)=>({...(0,e5.Z)(e),calls:e.calls.map((e,r)=>{let{abi:n,args:o,functionName:a,to:s}=i[t].calls[r],c=e.error?.data??e.returnData,l=BigInt(e.gasUsed),d=e.logs?.map(e=>eU.U(e)),f="0x1"===e.status?"success":"failure",h=n&&"success"===f&&"0x"!==c?(0,u.k)({abi:n,data:c,functionName:a}):null,p=(()=>{let t;if("success"!==f&&(e.error?.data==="0x"?t=new eo.wb:e.error&&(t=new m.VQ(e.error)),t))return(0,ey.S)(t,{abi:n??[],address:s??"0x",args:o,functionName:a??"<unknown>"})})();return{data:c,gasUsed:l,logs:d,status:f,..."success"===f?{result:h}:{error:p}}})}))}catch(t){let e=(0,e6.k)(t,{});if(e instanceof e3.cj)throw t;throw e}}var e9=r(6390),e7=r(69768),te=r(74409);async function tt(e,t){let{blockNumber:r,blockTag:n,calls:i,stateOverrides:o,traceAssetChanges:a,traceTransfers:s,validation:c}=t,l=t.account?(0,J.T)(t.account):void 0;if(a&&!l)throw new g.G("`account` is required when `traceAssetChanges` is true");let u=l?e9.encode(e9.from("constructor(bytes, bytes)"),{bytecode:e0.NO,args:["0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033",e7.encodeData(e7.from("function getBalance(address)"),[l.address])]}):void 0,f=a?await Promise.all(t.calls.map(async t=>{if(!t.data&&!t.abi)return;let{accessList:r}=await er(e,{account:l.address,...t,data:t.abi?(0,d.R)(t):t.data});return r.map(({address:e,storageKeys:t})=>t.length>0?e:null)})).then(e=>e.flat().filter(Boolean)):[],h=await e4(e,{blockNumber:r,blockTag:n,blocks:[...a?[{calls:[{data:u}],stateOverrides:o},{calls:f.map((e,t)=>({abi:[e7.from("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[l.address],to:e,from:te.D,nonce:t})),stateOverrides:[{address:te.D,nonce:0}]}]:[],{calls:[...i,{}].map(e=>({...e,from:l?.address})),stateOverrides:o},...a?[{calls:[{data:u}]},{calls:f.map((e,t)=>({abi:[e7.from("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[l.address],to:e,from:te.D,nonce:t})),stateOverrides:[{address:te.D,nonce:0}]},{calls:f.map((e,t)=>({to:e,abi:[e7.from("function decimals() returns (uint256)")],functionName:"decimals",from:te.D,nonce:t})),stateOverrides:[{address:te.D,nonce:0}]},{calls:f.map((e,t)=>({to:e,abi:[e7.from("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:te.D,nonce:t})),stateOverrides:[{address:te.D,nonce:0}]},{calls:f.map((e,t)=>({to:e,abi:[e7.from("function symbol() returns (string)")],functionName:"symbol",from:te.D,nonce:t})),stateOverrides:[{address:te.D,nonce:0}]}]:[]],traceTransfers:s,validation:c}),p=a?h[2]:h[0],[m,y,,b,w,v,E,x]=a?h:[],{calls:A,...S}=p,_=A.slice(0,-1)??[],I=[...m?.calls??[],...y?.calls??[]].map(e=>"success"===e.status?(0,eC.y_)(e.data):null),C=[...b?.calls??[],...w?.calls??[]].map(e=>"success"===e.status?(0,eC.y_)(e.data):null),O=(v?.calls??[]).map(e=>"success"===e.status?e.result:null),P=(x?.calls??[]).map(e=>"success"===e.status?e.result:null),T=(E?.calls??[]).map(e=>"success"===e.status?e.result:null),k=[];for(let[e,t]of C.entries()){let r=I[e];if("bigint"!=typeof t||"bigint"!=typeof r)continue;let n=O[e-1],i=P[e-1],o=T[e-1],a=0===e?{address:te.j,decimals:18,symbol:"ETH"}:{address:f[e-1],decimals:o||n?Number(n??1):void 0,symbol:i??void 0};k.some(e=>e.token.address===a.address)||k.push({token:a,value:{pre:r,post:t,diff:t-r}})}return{assetChanges:k,block:S,results:_}}var tr=r(21541);async function tn(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}var ti=r(1733),to=r(71725),ta=r(19586);let ts="0x6492649264926492649264926492649264926492649264926492649264926492";class tc extends to.BaseError{constructor(e){super(`Value \`${e}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}var tl=r(25506),tu=r(92876);let td=ti.from("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function tf(e){if("string"==typeof e){if("0x8010801080108010801080108010801080108010801080108010801080108010"!==ta.slice(e,-32))throw new th(e)}else tu.assert(e.authorization)}class th extends to.BaseError{constructor(e){super(`Value \`${e}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}}var tp=r(23010),tg=r(31669),tm=r(55834);async function ty({address:e,authorization:t,signature:r}){return(0,ek.E)((0,tg.K)(e),await (0,tm.z)({authorization:t,signature:r}))}var tb=r(69021),tw=r(10846);async function tv(e,t){let{address:r,chain:n=e.chain,hash:i,erc6492VerifierAddress:o=t.universalSignatureVerifierAddress??n?.contracts?.erc6492Verifier?.address,multicallAddress:a=t.multicallAddress??n?.contracts?.multicall3?.address}=t;if(n?.verifyHash)return await n.verifyHash(e,t);let s=(()=>{let e=t.signature;return(0,x.v)(e)?e:"object"==typeof e&&"r"in e&&"s"in e?function({r:e,s:t,to:r="hex",v:n,yParity:i}){let o=(()=>{if(0===i||1===i)return i;if(n&&(27n===n||28n===n||n>=35n))return n%2n===0n?1:0;throw Error("Invalid `v` or `yParity` value")})(),a=`0x${new tw.secp256k1.Signature((0,eC.y_)(e),(0,eC.y_)(t)).toCompactHex()}${0===o?"1b":"1c"}`;return"hex"===r?a:(0,v.nr)(a)}(e):(0,p.ci)(e)})();try{if(function(e){try{return tf(e),!0}catch{return!1}}(s))return await tE(e,{...t,multicallAddress:a,signature:s});return await tx(e,{...t,verifierAddress:o,signature:s})}catch(e){try{if((0,ek.E)((0,tg.K)(r),await (0,tb.R)({hash:i,signature:s})))return!0}catch{}if(e instanceof tS)return!1;throw e}}async function tE(e,t){let{address:r,blockNumber:n,blockTag:i,hash:o,multicallAddress:a}=t,{authorization:s,data:c,signature:u,to:f}=function(e){tf(e);let t=ta.toNumber(ta.slice(e,-64,-32)),r=ta.slice(e,-t-64,-64),n=ta.slice(e,0,-t-64),[i,o,a]=ti.decode(td,r);return{authorization:tl.from({address:i.delegation,chainId:Number(i.chainId),nonce:i.nonce,yParity:i.yParity,r:i.r,s:i.s}),signature:n,...a&&"0x"!==a?{data:a,to:o}:{}}}(t.signature);if(await (0,eT.C)(e,{address:r,blockNumber:n,blockTag:i})===(0,w.SM)(["0xef0100",s.address]))return await tA(e,{address:r,blockNumber:n,blockTag:i,hash:o,signature:u});let h={address:s.address,chainId:Number(s.chainId),nonce:Number(s.nonce),r:(0,p.eC)(s.r,{size:32}),s:(0,p.eC)(s.s,{size:32}),yParity:s.yParity};if(!await ty({address:r,authorization:h}))throw new tS;let g=await (0,I.s)(e,C.L,"readContract")({...a?{address:a}:{code:e0.xd},authorizationList:[h],abi:l.F8,blockNumber:n,blockTag:"pending",functionName:"aggregate3",args:[[...c?[{allowFailure:!0,target:f??r,callData:c}]:[],{allowFailure:!0,target:r,callData:(0,d.R)({abi:l._A,functionName:"isValidSignature",args:[o,u]})}]]}),m=g[g.length-1]?.returnData;if(m?.startsWith("0x1626ba7e"))return!0;throw new tS}async function tx(e,t){let{address:r,factory:n,factoryData:i,hash:o,signature:a,verifierAddress:s,...c}=t,u=await (async()=>!n&&!i||function(e){try{return!function(e){if(ta.slice(e,-32)!==ts)throw new tc(e)}(e),!0}catch{return!1}}(a)?a:function(e){let{data:t,signature:r,to:n}=e;return ta.concat(ti.encode(ti.from("address, bytes, bytes"),[n,t,r]),ts)}({data:i,signature:a,to:n}))(),f=s?{to:s,data:(0,d.R)({abi:l.MR,functionName:"isValidSig",args:[r,o,u]}),...c}:{data:(0,tp.w)({abi:l.MR,args:[r,o,u],bytecode:e0.de}),...c},{data:h}=await (0,I.s)(e,Y.R,"call")(f).catch(e=>{if(e instanceof m.cg)throw new tS;throw e});if((0,eC.XA)(h??"0x0"))return!0;throw new tS}async function tA(e,t){let{address:r,blockNumber:n,blockTag:i,hash:o,signature:a}=t;if((await (0,I.s)(e,C.L,"readContract")({address:r,abi:l._A,args:[o,a],blockNumber:n,blockTag:i,functionName:"isValidSignature"}).catch(e=>{if(e instanceof m.uq)throw new tS;throw e})).startsWith("0x1626ba7e"))return!0;throw new tS}class tS extends Error{}var t_=r(15566);async function tI(e,{address:t,message:r,factory:n,factoryData:i,signature:o,...a}){let s=(0,t_.r)(r);return(0,I.s)(e,tv,"verifyHash")({address:t,factory:n,factoryData:i,hash:s,signature:o,...a})}var tC=r(42727);async function tO(e,t){let{address:r,factory:n,factoryData:i,signature:o,message:a,primaryType:s,types:c,domain:l,...u}=t,d=(0,tC.Jv)({message:a,primaryType:s,types:c,domain:l});return(0,I.s)(e,tv,"verifyHash")({address:r,factory:n,factoryData:i,hash:d,signature:o,...u})}var tP=r(67348),tT=r(2228),tk=r(36478),tN=r(41495),tM=r(31853),tR=r(77014);let tD=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,tL=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;var tB=r(4012);async function tU(e,t){let{address:r,domain:n,message:i,nonce:o,scheme:a,signature:s,time:c=new Date,...l}=t,u=function(e){let{scheme:t,statement:r,...n}=e.match(tD)?.groups??{},{chainId:i,expirationTime:o,issuedAt:a,notBefore:s,requestId:c,...l}=e.match(tL)?.groups??{},u=e.split("Resources:")[1]?.split("\n- ").slice(1);return{...n,...l,...i?{chainId:Number(i)}:{},...o?{expirationTime:new Date(o)}:{},...a?{issuedAt:new Date(a)}:{},...s?{notBefore:new Date(s)}:{},...c?{requestId:c}:{},...u?{resources:u}:{},...t?{scheme:t}:{},...r?{statement:r}:{}}}(i);if(!u.address||!function(e){let{address:t,domain:r,message:n,nonce:i,scheme:o,time:a=new Date}=e;if(r&&n.domain!==r||i&&n.nonce!==i||o&&n.scheme!==o||n.expirationTime&&a>=n.expirationTime||n.notBefore&&a<n.notBefore)return!1;try{if(!n.address||!(0,tB.U)(n.address,{strict:!1})||t&&!(0,ek.E)(n.address,t))return!1}catch{return!1}return!0}({address:r,domain:n,message:u,nonce:o,scheme:a,time:c}))return!1;let d=(0,t_.r)(i);return tv(e,{address:u.address,hash:d,signature:s,...l})}var tj=r(15687),t$=r(9769),tF=r(85631);function tz(e){return{call:t=>(0,Y.R)(e,t),createAccessList:t=>er(e,t),createBlockFilter:()=>ei(e),createContractEventFilter:t=>ep(e,t),createEventFilter:t=>eg(e,t),createPendingTransactionFilter:()=>em(e),estimateContractGas:t=>ew(e,t),estimateGas:t=>(0,eb.Q)(e,t),getBalance:t=>eA(e,t),getBlobBaseFee:()=>eS(e),getBlock:t=>(0,e_.Q)(e,t),getBlockNumber:t=>(0,eI.z)(e,t),getBlockTransactionCount:t=>eO(e,t),getBytecode:t=>(0,eT.C)(e,t),getChainId:()=>(0,eP.L)(e),getCode:t=>(0,eT.C)(e,t),getContractEvents:t=>e$(e,t),getEip712Domain:t=>ez(e,t),getEnsAddress:t=>O(e,t),getEnsAvatar:t=>W(e,t),getEnsName:t=>Z(e,t),getEnsResolver:t=>K(e,t),getEnsText:t=>V(e,t),getFeeHistory:t=>eG(e,t),estimateFeesPerGas:t=>(0,ev.X)(e,t),getFilterChanges:t=>eH(e,t),getFilterLogs:t=>eV(e,t),getGasPrice:()=>(0,eW.o)(e),getLogs:t=>ej(e,t),getProof:t=>eZ(e,t),estimateMaxPriorityFeePerGas:t=>(0,eE._)(e,t),fillTransaction:t=>(0,ex.b)(e,t),getStorageAt:t=>eK(e,t),getTransaction:t=>(0,eY.f)(e,t),getTransactionConfirmations:t=>eJ(e,t),getTransactionCount:t=>(0,eX.K)(e,t),getTransactionReceipt:t=>(0,eQ.a)(e,t),multicall:t=>e1(e,t),prepareTransactionRequest:t=>(0,tj.ZE)(e,t),readContract:t=>(0,C.L)(e,t),sendRawTransaction:t=>(0,t$.p)(e,t),sendRawTransactionSync:t=>(0,tF.s)(e,t),simulate:t=>e4(e,t),simulateBlocks:t=>e4(e,t),simulateCalls:t=>tt(e,t),simulateContract:t=>(0,tr.a)(e,t),verifyHash:t=>tv(e,t),verifyMessage:t=>tI(e,t),verifySiweMessage:t=>tU(e,t),verifyTypedData:t=>tO(e,t),uninstallFilter:t=>tn(e,t),waitForTransactionReceipt:t=>(0,tP.e)(e,t),watchBlocks:t=>(function(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:r=!1,emitOnBegin:n=!1,onBlock:i,onError:o,includeTransactions:a,poll:s,pollingInterval:c=e.pollingInterval}){let l,u,d,f;let h=void 0!==s?s:"webSocket"!==e.transport.type&&"ipc"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type&&"ipc"!==e.transport.transports[0].config.type),p=a??!1;return h?(()=>{let a=(0,tM.P)(["watchBlocks",e.uid,t,r,n,p,c]);return(0,tk.N7)(a,{onBlock:i,onError:o},i=>(0,tN.$)(async()=>{try{let n=await (0,I.s)(e,e_.Q,"getBlock")({blockTag:t,includeTransactions:p});if(null!==n.number&&l?.number!=null){if(n.number===l.number)return;if(n.number-l.number>1&&r)for(let t=l?.number+1n;t<n.number;t++){let r=await (0,I.s)(e,e_.Q,"getBlock")({blockNumber:t,includeTransactions:p});i.onBlock(r,l),l=r}}(l?.number==null||"pending"===t&&n?.number==null||null!==n.number&&n.number>l.number)&&(i.onBlock(n,l),l=n)}catch(e){i.onError?.(e)}},{emitOnBegin:n,interval:c}))})():(u=!0,d=!0,f=()=>u=!1,(async()=>{try{n&&(0,I.s)(e,e_.Q,"getBlock")({blockTag:t,includeTransactions:p}).then(e=>{u&&d&&(i(e,void 0),d=!1)}).catch(o);let r=(()=>{if("fallback"===e.transport.type){let t=e.transport.transports.find(e=>"webSocket"===e.config.type||"ipc"===e.config.type);return t?t.value:e.transport}return e.transport})(),{unsubscribe:a}=await r.subscribe({params:["newHeads"],async onData(t){if(!u)return;let r=await (0,I.s)(e,e_.Q,"getBlock")({blockNumber:t.result?.number,includeTransactions:p}).catch(()=>{});u&&(i(r,l),d=!1,l=r)},onError(e){o?.(e)}});f=a,u||f()}catch(e){o?.(e)}})(),()=>f())})(e,t),watchBlockNumber:t=>(0,tT.q)(e,t),watchContractEvent:t=>(function(e,t){let{abi:r,address:n,args:i,batch:o=!0,eventName:a,fromBlock:s,onError:c,onLogs:l,poll:u,pollingInterval:d=e.pollingInterval,strict:f}=t;return(void 0!==u?u:"bigint"==typeof s||"webSocket"!==e.transport.type&&"ipc"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type&&"ipc"!==e.transport.transports[0].config.type))?(()=>{let t=f??!1,u=(0,tM.P)(["watchContractEvent",n,i,o,e.uid,a,d,t,s]);return(0,tk.N7)(u,{onLogs:l,onError:c},c=>{let l,u;void 0!==s&&(l=s-1n);let f=!1,h=(0,tN.$)(async()=>{if(!f){try{u=await (0,I.s)(e,ep,"createContractEventFilter")({abi:r,address:n,args:i,eventName:a,strict:t,fromBlock:s})}catch{}f=!0;return}try{let s;if(u)s=await (0,I.s)(e,eH,"getFilterChanges")({filter:u});else{let o=await (0,I.s)(e,eI.z,"getBlockNumber")({});s=l&&l<o?await (0,I.s)(e,e$,"getContractEvents")({abi:r,address:n,args:i,eventName:a,fromBlock:l+1n,toBlock:o,strict:t}):[],l=o}if(0===s.length)return;if(o)c.onLogs(s);else for(let e of s)c.onLogs([e])}catch(e){u&&e instanceof tR.yR&&(f=!1),c.onError?.(e)}},{emitOnBegin:!0,interval:d});return async()=>{u&&await (0,I.s)(e,tn,"uninstallFilter")({filter:u}),h()}})})():(()=>{let t=(0,tM.P)(["watchContractEvent",n,i,o,e.uid,a,d,f??!1]),s=!0,u=()=>s=!1;return(0,tk.N7)(t,{onLogs:l,onError:c},t=>((async()=>{try{let o=(()=>{if("fallback"===e.transport.type){let t=e.transport.transports.find(e=>"webSocket"===e.config.type||"ipc"===e.config.type);return t?t.value:e.transport}return e.transport})(),c=a?ef({abi:r,eventName:a,args:i}):[],{unsubscribe:l}=await o.subscribe({params:["logs",{address:n,topics:c}],onData(e){if(!s)return;let n=e.result;try{let{eventName:e,args:i}=eL({abi:r,data:n.data,topics:n.topics,strict:f}),o=(0,eU.U)(n,{args:i,eventName:e});t.onLogs([o])}catch(o){let e,r;if(o instanceof eo.SM||o instanceof eo.Gy){if(f)return;e=o.abiItem.name,r=o.abiItem.inputs?.some(e=>!("name"in e&&e.name))}let i=(0,eU.U)(n,{args:r?[]:{},eventName:e});t.onLogs([i])}},onError(e){t.onError?.(e)}});u=l,s||u()}catch(e){c?.(e)}})(),()=>u()))})()})(e,t),watchEvent:t=>(function(e,{address:t,args:r,batch:n=!0,event:i,events:o,fromBlock:a,onError:s,onLogs:c,poll:l,pollingInterval:u=e.pollingInterval,strict:d}){let f,h;let p=void 0!==l?l:"bigint"==typeof a||"webSocket"!==e.transport.type&&"ipc"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type&&"ipc"!==e.transport.transports[0].config.type),g=d??!1;return p?(()=>{let l=(0,tM.P)(["watchEvent",t,r,n,e.uid,i,u,a]);return(0,tk.N7)(l,{onLogs:c,onError:s},s=>{let c,l;void 0!==a&&(c=a-1n);let d=!1,f=(0,tN.$)(async()=>{if(!d){try{l=await (0,I.s)(e,eg,"createEventFilter")({address:t,args:r,event:i,events:o,strict:g,fromBlock:a})}catch{}d=!0;return}try{let a;if(l)a=await (0,I.s)(e,eH,"getFilterChanges")({filter:l});else{let n=await (0,I.s)(e,eI.z,"getBlockNumber")({});a=c&&c!==n?await (0,I.s)(e,ej,"getLogs")({address:t,args:r,event:i,events:o,fromBlock:c+1n,toBlock:n}):[],c=n}if(0===a.length)return;if(n)s.onLogs(a);else for(let e of a)s.onLogs([e])}catch(e){l&&e instanceof tR.yR&&(d=!1),s.onError?.(e)}},{emitOnBegin:!0,interval:u});return async()=>{l&&await (0,I.s)(e,tn,"uninstallFilter")({filter:l}),f()}})})():(f=!0,h=()=>f=!1,(async()=>{try{let n=(()=>{if("fallback"===e.transport.type){let t=e.transport.transports.find(e=>"webSocket"===e.config.type||"ipc"===e.config.type);return t?t.value:e.transport}return e.transport})(),a=o??(i?[i]:void 0),l=[];a&&(l=[a.flatMap(e=>ef({abi:[e],eventName:e.name,args:r}))],i&&(l=l[0]));let{unsubscribe:u}=await n.subscribe({params:["logs",{address:t,topics:l}],onData(e){if(!f)return;let t=e.result;try{let{eventName:e,args:r}=eL({abi:a??[],data:t.data,topics:t.topics,strict:g}),n=(0,eU.U)(t,{args:r,eventName:e});c([n])}catch(i){let e,r;if(i instanceof eo.SM||i instanceof eo.Gy){if(d)return;e=i.abiItem.name,r=i.abiItem.inputs?.some(e=>!("name"in e&&e.name))}let n=(0,eU.U)(t,{args:r?[]:{},eventName:e});c([n])}},onError(e){s?.(e)}});h=u,f||h()}catch(e){s?.(e)}})(),()=>h())})(e,t),watchPendingTransactions:t=>(function(e,{batch:t=!0,onError:r,onTransactions:n,poll:i,pollingInterval:o=e.pollingInterval}){let a,s;return(void 0!==i?i:"webSocket"!==e.transport.type&&"ipc"!==e.transport.type)?(()=>{let i=(0,tM.P)(["watchPendingTransactions",e.uid,t,o]);return(0,tk.N7)(i,{onTransactions:n,onError:r},r=>{let n;let i=(0,tN.$)(async()=>{try{if(!n)try{n=await (0,I.s)(e,em,"createPendingTransactionFilter")({});return}catch(e){throw i(),e}let o=await (0,I.s)(e,eH,"getFilterChanges")({filter:n});if(0===o.length)return;if(t)r.onTransactions(o);else for(let e of o)r.onTransactions([e])}catch(e){r.onError?.(e)}},{emitOnBegin:!0,interval:o});return async()=>{n&&await (0,I.s)(e,tn,"uninstallFilter")({filter:n}),i()}})})():(a=!0,s=()=>a=!1,(async()=>{try{let{unsubscribe:t}=await e.transport.subscribe({params:["newPendingTransactions"],onData(e){if(!a)return;let t=e.result;n([t])},onError(e){r?.(e)}});s=t,a||s()}catch(e){r?.(e)}})(),()=>s())})(e,t)}}var tq=r(17057);class tG extends g.G{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}var tH=r(43226);let tV={current:0,take(){return this.current++},reset(){this.current=0}};var tW=r(24250);function tZ(e,t={}){let{batch:r,fetchFn:n,fetchOptions:i,key:o="http",methods:a,name:s="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:l,retryDelay:u,raw:d}=t;return({chain:f,retryCount:h,timeout:p})=>{let{batchSize:g=1e3,wait:m=0}="object"==typeof r?r:{},y=t.retryCount??h,b=p??t.timeout??1e4,w=e||f?.rpcUrls.default.http[0];if(!w)throw new tG;let v=function(e,t={}){let{url:r,headers:n}=function(e){try{let t=new URL(e),r=(()=>{if(t.username){let e=`${decodeURIComponent(t.username)}:${decodeURIComponent(t.password)}`;return t.username="",t.password="",{url:t.toString(),headers:{Authorization:`Basic ${btoa(e)}`}}}})();return{url:t.toString(),...r}}catch{return{url:e}}}(e);return{async request(e){let{body:i,fetchFn:o=t.fetchFn??fetch,onRequest:a=t.onRequest,onResponse:s=t.onResponse,timeout:c=t.timeout??1e4}=e,l={...t.fetchOptions??{},...e.fetchOptions??{}},{headers:u,method:d,signal:f}=l;try{let e;let t=await function(e,{errorInstance:t=Error("timed out"),timeout:r,signal:n}){return new Promise((i,o)=>{(async()=>{let a;try{let s=new AbortController;r>0&&(a=setTimeout(()=>{n?s.abort():o(t)},r)),i(await e({signal:s?.signal||null}))}catch(e){e?.name==="AbortError"&&o(t),o(e)}finally{clearTimeout(a)}})()})}(async({signal:e})=>{let t={...l,body:Array.isArray(i)?(0,tM.P)(i.map(e=>({jsonrpc:"2.0",id:e.id??tV.take(),...e}))):(0,tM.P)({jsonrpc:"2.0",id:i.id??tV.take(),...i}),headers:{...n,"Content-Type":"application/json",...u},method:d||"POST",signal:f||(c>0?e:null)},s=new Request(r,t),h=await a?.(s,t)??{...t,url:r};return await o(h.url??r,h)},{errorInstance:new tq.W5({body:i,url:r}),timeout:c,signal:!0});if(s&&await s(t),t.headers.get("Content-Type")?.startsWith("application/json"))e=await t.json();else{e=await t.text();try{e=JSON.parse(e||"{}")}catch(r){if(t.ok)throw r;e={error:e}}}if(!t.ok)throw new tq.Gg({body:i,details:(0,tM.P)(e.error)||t.statusText,headers:t.headers,status:t.status,url:r});return e}catch(e){if(e instanceof tq.Gg||e instanceof tq.W5)throw e;throw new tq.Gg({body:i,cause:e,url:r})}}}}(w,{fetchFn:n,fetchOptions:i,onRequest:c,onResponse:l,timeout:b});return(0,tW.q)({key:o,methods:a,name:s,async request({method:e,params:t}){let n={method:e,params:t},{schedule:i}=(0,tH.S)({id:w,wait:m,shouldSplitBatch:e=>e.length>g,fn:e=>v.request({body:e}),sort:(e,t)=>e.id-t.id}),o=async e=>r?i(e):[await v.request({body:e})],[{error:a,result:s}]=await o(n);if(d)return{error:a,result:s};if(a)throw new tq.bs({body:n,error:a,url:w});return s},retryCount:y,retryDelay:u,timeout:b,type:"http"},{fetchOptions:i,url:w})}}var tK=r(51678),tY=r(93715),tJ=r(8796);function tX(e){var t;let r={};return void 0!==e.callData&&(r.callData=e.callData),void 0!==e.callGasLimit&&(r.callGasLimit=(0,p.eC)(e.callGasLimit)),void 0!==e.factory&&(r.factory=e.factory),void 0!==e.factoryData&&(r.factoryData=e.factoryData),void 0!==e.initCode&&(r.initCode=e.initCode),void 0!==e.maxFeePerGas&&(r.maxFeePerGas=(0,p.eC)(e.maxFeePerGas)),void 0!==e.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=(0,p.eC)(e.maxPriorityFeePerGas)),void 0!==e.nonce&&(r.nonce=(0,p.eC)(e.nonce)),void 0!==e.paymaster&&(r.paymaster=e.paymaster),void 0!==e.paymasterAndData&&(r.paymasterAndData=e.paymasterAndData||"0x"),void 0!==e.paymasterData&&(r.paymasterData=e.paymasterData),void 0!==e.paymasterPostOpGasLimit&&(r.paymasterPostOpGasLimit=(0,p.eC)(e.paymasterPostOpGasLimit)),void 0!==e.paymasterSignature&&(r.paymasterSignature=e.paymasterSignature),void 0!==e.paymasterVerificationGasLimit&&(r.paymasterVerificationGasLimit=(0,p.eC)(e.paymasterVerificationGasLimit)),void 0!==e.preVerificationGas&&(r.preVerificationGas=(0,p.eC)(e.preVerificationGas)),void 0!==e.sender&&(r.sender=e.sender),void 0!==e.signature&&(r.signature=e.signature),void 0!==e.verificationGasLimit&&(r.verificationGasLimit=(0,p.eC)(e.verificationGasLimit)),void 0!==e.authorization&&(r.eip7702Auth={address:(t=e.authorization).address,chainId:(0,p.eC)(t.chainId),nonce:(0,p.eC)(t.nonce),r:t.r?(0,p.eC)(BigInt(t.r),{size:32}):(0,tJ.vk)("0x",{size:32}),s:t.s?(0,p.eC)(BigInt(t.s),{size:32}):(0,tJ.vk)("0x",{size:32}),yParity:t.yParity?(0,p.eC)(t.yParity,{size:1}):(0,tJ.vk)("0x",{size:32})}),r}async function tQ(e,t){let{chainId:r,entryPointAddress:n,context:i,...o}=t,a=tX(o),{paymasterPostOpGasLimit:s,paymasterVerificationGasLimit:c,...l}=await e.request({method:"pm_getPaymasterData",params:[{...a,callGasLimit:a.callGasLimit??"0x0",verificationGasLimit:a.verificationGasLimit??"0x0",preVerificationGas:a.preVerificationGas??"0x0"},n,(0,p.eC)(r),i]});return{...l,...s&&{paymasterPostOpGasLimit:(0,eC.y_)(s)},...c&&{paymasterVerificationGasLimit:(0,eC.y_)(c)}}}async function t0(e,t){let{chainId:r,entryPointAddress:n,context:i,...o}=t,a=tX(o),{paymasterPostOpGasLimit:s,paymasterVerificationGasLimit:c,...l}=await e.request({method:"pm_getPaymasterStubData",params:[{...a,callGasLimit:a.callGasLimit??"0x0",verificationGasLimit:a.verificationGasLimit??"0x0",preVerificationGas:a.preVerificationGas??"0x0"},n,(0,p.eC)(r),i]});return{...l,...s&&{paymasterPostOpGasLimit:(0,eC.y_)(s)},...c&&{paymasterVerificationGasLimit:(0,eC.y_)(c)}}}function t1(e){return{getPaymasterData:t=>tQ(e,t),getPaymasterStubData:t=>t0(e,t)}}var t2=r(65704),t3=r(33591);class t6 extends g.G{constructor({cause:e}){super("Smart Account is not deployed.",{cause:e,metaMessages:["This could arise when:","- No `factory`/`factoryData` or `initCode` properties are provided for Smart Account deployment.","- An incorrect `sender` address is provided."],name:"AccountNotDeployedError"})}}Object.defineProperty(t6,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa20/});class t5 extends g.G{constructor({cause:e,data:t,message:r}={}){let n=r?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${n?`with reason: ${n}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}Object.defineProperty(t5,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32521}),Object.defineProperty(t5,"message",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class t8 extends g.G{constructor({cause:e}){super("Failed to send funds to beneficiary.",{cause:e,name:"FailedToSendToBeneficiaryError"})}}Object.defineProperty(t8,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa91/});class t4 extends g.G{constructor({cause:e}){super("Gas value overflowed.",{cause:e,metaMessages:["This could arise when:","- one of the gas values exceeded 2**120 (uint120)"].filter(Boolean),name:"GasValuesOverflowError"})}}Object.defineProperty(t4,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa94/});class t9 extends g.G{constructor({cause:e}){super("The `handleOps` function was called by the Bundler with a gas limit too low.",{cause:e,name:"HandleOpsOutOfGasError"})}}Object.defineProperty(t9,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa95/});class t7 extends g.G{constructor({cause:e,factory:t,factoryData:r,initCode:n}){super("Failed to simulate deployment for Smart Account.",{cause:e,metaMessages:["This could arise when:","- Invalid `factory`/`factoryData` or `initCode` properties are present","- Smart Account deployment execution ran out of gas (low `verificationGasLimit` value)","- Smart Account deployment execution reverted with an error\n",t&&`factory: ${t}`,r&&`factoryData: ${r}`,n&&`initCode: ${n}`].filter(Boolean),name:"InitCodeFailedError"})}}Object.defineProperty(t7,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa13/});class re extends g.G{constructor({cause:e,factory:t,factoryData:r,initCode:n}){super("Smart Account initialization implementation did not create an account.",{cause:e,metaMessages:["This could arise when:","- `factory`/`factoryData` or `initCode` properties are invalid","- Smart Account initialization implementation is incorrect\n",t&&`factory: ${t}`,r&&`factoryData: ${r}`,n&&`initCode: ${n}`].filter(Boolean),name:"InitCodeMustCreateSenderError"})}}Object.defineProperty(re,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa15/});class rt extends g.G{constructor({cause:e,factory:t,factoryData:r,initCode:n,sender:i}){super("Smart Account initialization implementation does not return the expected sender.",{cause:e,metaMessages:["This could arise when:","Smart Account initialization implementation does not return a sender address\n",t&&`factory: ${t}`,r&&`factoryData: ${r}`,n&&`initCode: ${n}`,i&&`sender: ${i}`].filter(Boolean),name:"InitCodeMustReturnSenderError"})}}Object.defineProperty(rt,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa14/});class rr extends g.G{constructor({cause:e}){super("Smart Account does not have sufficient funds to execute the User Operation.",{cause:e,metaMessages:["This could arise when:","- the Smart Account does not have sufficient funds to cover the required prefund, or","- a Paymaster was not provided"].filter(Boolean),name:"InsufficientPrefundError"})}}Object.defineProperty(rr,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa21/});class rn extends g.G{constructor({cause:e}){super("Bundler attempted to call an invalid function on the EntryPoint.",{cause:e,name:"InternalCallOnlyError"})}}Object.defineProperty(rn,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa92/});class ri extends g.G{constructor({cause:e}){super("Bundler used an invalid aggregator for handling aggregated User Operations.",{cause:e,name:"InvalidAggregatorError"})}}Object.defineProperty(ri,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa96/});class ro extends g.G{constructor({cause:e,nonce:t}){super("Invalid Smart Account nonce used for User Operation.",{cause:e,metaMessages:[t&&`nonce: ${t}`].filter(Boolean),name:"InvalidAccountNonceError"})}}Object.defineProperty(ro,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa25/});class ra extends g.G{constructor({cause:e}){super("Bundler has not set a beneficiary address.",{cause:e,name:"InvalidBeneficiaryError"})}}Object.defineProperty(ra,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa90/});class rs extends g.G{constructor({cause:e}){super("Invalid fields set on User Operation.",{cause:e,name:"InvalidFieldsError"})}}Object.defineProperty(rs,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class rc extends g.G{constructor({cause:e,paymasterAndData:t}){super("Paymaster properties provided are invalid.",{cause:e,metaMessages:["This could arise when:","- the `paymasterAndData` property is of an incorrect length\n",t&&`paymasterAndData: ${t}`].filter(Boolean),name:"InvalidPaymasterAndDataError"})}}Object.defineProperty(rc,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa93/});class rl extends g.G{constructor({cause:e}){super("Paymaster deposit for the User Operation is too low.",{cause:e,metaMessages:["This could arise when:","- the Paymaster has deposited less than the expected amount via the `deposit` function"].filter(Boolean),name:"PaymasterDepositTooLowError"})}}Object.defineProperty(rl,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32508}),Object.defineProperty(rl,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa31/});class ru extends g.G{constructor({cause:e}){super("The `validatePaymasterUserOp` function on the Paymaster reverted.",{cause:e,name:"PaymasterFunctionRevertedError"})}}Object.defineProperty(ru,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa33/});class rd extends g.G{constructor({cause:e}){super("The Paymaster contract has not been deployed.",{cause:e,name:"PaymasterNotDeployedError"})}}Object.defineProperty(rd,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa30/});class rf extends g.G{constructor({cause:e}){super("UserOperation rejected because paymaster (or signature aggregator) is throttled/banned.",{cause:e,name:"PaymasterRateLimitError"})}}Object.defineProperty(rf,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32504});class rh extends g.G{constructor({cause:e}){super("UserOperation rejected because paymaster (or signature aggregator) is throttled/banned.",{cause:e,name:"PaymasterStakeTooLowError"})}}Object.defineProperty(rh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32505});class rp extends g.G{constructor({cause:e}){super("Paymaster `postOp` function reverted.",{cause:e,name:"PaymasterPostOpFunctionRevertedError"})}}Object.defineProperty(rp,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa50/});class rg extends g.G{constructor({cause:e,factory:t,factoryData:r,initCode:n}){super("Smart Account has already been deployed.",{cause:e,metaMessages:["Remove the following properties and try again:",t&&"`factory`",r&&"`factoryData`",n&&"`initCode`"].filter(Boolean),name:"SenderAlreadyConstructedError"})}}Object.defineProperty(rg,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa10/});class rm extends g.G{constructor({cause:e}){super("UserOperation rejected because account signature check failed (or paymaster signature, if the paymaster uses its data as signature).",{cause:e,name:"SignatureCheckFailedError"})}}Object.defineProperty(rm,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32507});class ry extends g.G{constructor({cause:e}){super("The `validateUserOp` function on the Smart Account reverted.",{cause:e,name:"SmartAccountFunctionRevertedError"})}}Object.defineProperty(ry,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa23/});class rb extends g.G{constructor({cause:e}){super("UserOperation rejected because account specified unsupported signature aggregator.",{cause:e,name:"UnsupportedSignatureAggregatorError"})}}Object.defineProperty(rb,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32506});class rw extends g.G{constructor({cause:e}){super("User Operation expired.",{cause:e,metaMessages:["This could arise when:","- the `validAfter` or `validUntil` values returned from `validateUserOp` on the Smart Account are not satisfied"].filter(Boolean),name:"UserOperationExpiredError"})}}Object.defineProperty(rw,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa22/});class rv extends g.G{constructor({cause:e}){super("Paymaster for User Operation expired.",{cause:e,metaMessages:["This could arise when:","- the `validAfter` or `validUntil` values returned from `validatePaymasterUserOp` on the Paymaster are not satisfied"].filter(Boolean),name:"UserOperationPaymasterExpiredError"})}}Object.defineProperty(rv,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa32/});class rE extends g.G{constructor({cause:e}){super("Signature provided for the User Operation is invalid.",{cause:e,metaMessages:["This could arise when:","- the `signature` for the User Operation is incorrectly computed, and unable to be verified by the Smart Account"].filter(Boolean),name:"UserOperationSignatureError"})}}Object.defineProperty(rE,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa24/});class rx extends g.G{constructor({cause:e}){super("Signature provided for the User Operation is invalid.",{cause:e,metaMessages:["This could arise when:","- the `signature` for the User Operation is incorrectly computed, and unable to be verified by the Paymaster"].filter(Boolean),name:"UserOperationPaymasterSignatureError"})}}Object.defineProperty(rx,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa34/});class rA extends g.G{constructor({cause:e}){super("User Operation rejected by EntryPoint's `simulateValidation` during account creation or validation.",{cause:e,name:"UserOperationRejectedByEntryPointError"})}}Object.defineProperty(rA,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32500});class rS extends g.G{constructor({cause:e}){super("User Operation rejected by Paymaster's `validatePaymasterUserOp`.",{cause:e,name:"UserOperationRejectedByPaymasterError"})}}Object.defineProperty(rS,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32501});class r_ extends g.G{constructor({cause:e}){super("User Operation rejected with op code validation error.",{cause:e,name:"UserOperationRejectedByOpCodeError"})}}Object.defineProperty(r_,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32502});class rI extends g.G{constructor({cause:e}){super("UserOperation out of time-range: either wallet or paymaster returned a time-range, and it is already expired (or will expire soon).",{cause:e,name:"UserOperationOutOfTimeRangeError"})}}Object.defineProperty(rI,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32503});class rC extends g.G{constructor({cause:e}){super(`An error occurred while executing user operation: ${e?.shortMessage}`,{cause:e,name:"UnknownBundlerError"})}}class rO extends g.G{constructor({cause:e}){super("User Operation verification gas limit exceeded.",{cause:e,metaMessages:["This could arise when:","- the gas used for verification exceeded the `verificationGasLimit`"].filter(Boolean),name:"VerificationGasLimitExceededError"})}}Object.defineProperty(rO,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa40/});class rP extends g.G{constructor({cause:e}){super("User Operation verification gas limit is too low.",{cause:e,metaMessages:["This could arise when:","- the `verificationGasLimit` is too low to verify the User Operation"].filter(Boolean),name:"VerificationGasLimitTooLowError"})}}Object.defineProperty(rP,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa41/});var rT=r(63228),rk=r(29707);class rN extends g.G{constructor(e,{callData:t,callGasLimit:r,docsPath:n,factory:i,factoryData:o,initCode:a,maxFeePerGas:s,maxPriorityFeePerGas:c,nonce:l,paymaster:u,paymasterAndData:d,paymasterData:f,paymasterPostOpGasLimit:h,paymasterVerificationGasLimit:p,preVerificationGas:g,sender:m,signature:y,verificationGasLimit:b}){super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",(0,rT.xr)({callData:t,callGasLimit:r,factory:i,factoryData:o,initCode:a,maxFeePerGas:void 0!==s&&`${(0,rk.o)(s)} gwei`,maxPriorityFeePerGas:void 0!==c&&`${(0,rk.o)(c)} gwei`,nonce:l,paymaster:u,paymasterAndData:d,paymasterData:f,paymasterPostOpGasLimit:h,paymasterVerificationGasLimit:p,preVerificationGas:g,sender:m,signature:y,verificationGasLimit:b})].filter(Boolean),name:"UserOperationExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class rM extends g.G{constructor({hash:e}){super(`User Operation receipt with hash "${e}" could not be found. The User Operation may not have been processed yet.`,{name:"UserOperationReceiptNotFoundError"})}}class rR extends g.G{constructor({hash:e}){super(`User Operation with hash "${e}" could not be found.`,{name:"UserOperationNotFoundError"})}}class rD extends g.G{constructor({hash:e}){super(`Timed out while waiting for User Operation with hash "${e}" to be confirmed.`,{name:"WaitForUserOperationReceiptTimeoutError"})}}let rL=[t5,rs,rl,rf,rh,rm,rb,rI,rA,rS,r_];function rB(e,{calls:t,docsPath:r,...n}){return new rN((()=>{let r=function(e,t){let r=(e.details||"").toLowerCase();if(t6.message.test(r))return new t6({cause:e});if(t8.message.test(r))return new t8({cause:e});if(t4.message.test(r))return new t4({cause:e});if(t9.message.test(r))return new t9({cause:e});if(t7.message.test(r))return new t7({cause:e,factory:t.factory,factoryData:t.factoryData,initCode:t.initCode});if(re.message.test(r))return new re({cause:e,factory:t.factory,factoryData:t.factoryData,initCode:t.initCode});if(rt.message.test(r))return new rt({cause:e,factory:t.factory,factoryData:t.factoryData,initCode:t.initCode,sender:t.sender});if(rr.message.test(r))return new rr({cause:e});if(rn.message.test(r))return new rn({cause:e});if(ro.message.test(r))return new ro({cause:e,nonce:t.nonce});if(ri.message.test(r))return new ri({cause:e});if(ra.message.test(r))return new ra({cause:e});if(rc.message.test(r))return new rc({cause:e});if(rl.message.test(r))return new rl({cause:e});if(ru.message.test(r))return new ru({cause:e});if(rd.message.test(r))return new rd({cause:e});if(rp.message.test(r))return new rp({cause:e});if(ry.message.test(r))return new ry({cause:e});if(rg.message.test(r))return new rg({cause:e,factory:t.factory,factoryData:t.factoryData,initCode:t.initCode});if(rw.message.test(r))return new rw({cause:e});if(rv.message.test(r))return new rv({cause:e});if(rx.message.test(r))return new rx({cause:e});if(rE.message.test(r))return new rE({cause:e});if(rO.message.test(r))return new rO({cause:e});if(rP.message.test(r))return new rP({cause:e});let n=e.walk(e=>rL.some(t=>t.code===e.code));if(n){if(n.code===t5.code)return new t5({cause:e,data:n.data,message:n.details});if(n.code===rs.code)return new rs({cause:e});if(n.code===rl.code)return new rl({cause:e});if(n.code===rf.code)return new rf({cause:e});if(n.code===rh.code)return new rh({cause:e});if(n.code===rm.code)return new rm({cause:e});if(n.code===rb.code)return new rb({cause:e});if(n.code===rI.code)return new rI({cause:e});if(n.code===rA.code)return new rA({cause:e});if(n.code===rS.code)return new rS({cause:e});if(n.code===r_.code)return new r_({cause:e})}return new rC({cause:e})}(e,n);if(t&&r instanceof t5){let e;let n=(r.walk(t=>{if("string"==typeof t.data||"string"==typeof t.data?.revertData||!(t instanceof g.G)&&"string"==typeof t.message){let r=(t.data?.revertData||t.data||t.message).match?.(/(0x[A-Za-z0-9]*)/);if(r)return e=r[1],!0}return!1}),e),i=t?.filter(e=>e.abi);if(n&&i.length>0)return function(e){let{calls:t,revertData:r}=e,{abi:n,functionName:i,args:o,to:a}=(()=>{let e=t?.filter(e=>!!e.abi);if(1===e.length)return e[0];let n=e.filter(e=>{try{return!!(0,t3.p)({abi:e.abi,data:r})}catch{return!1}});return 1===n.length?n[0]:{abi:[],functionName:e.reduce((e,t)=>`${e?`${e} | `:""}${t.functionName}`,""),args:void 0,to:void 0}})(),s="0x"===r?new m.Dk({functionName:i}):new m.Lu({abi:n,data:r,functionName:i});return new m.uq(s,{abi:n,args:o,contractAddress:a,functionName:i})}({calls:i,revertData:n})}return r})(),{docsPath:r,...n})}var rU=r(89239);let rj=["factory","fees","gas","paymaster","nonce","signature","authorization"];async function r$(e,t){let r;let{account:n=e.account,parameters:i=rj,stateOverride:o}=t;if(!n)throw new t2.o;let a=(0,J.T)(n),s=t.paymaster??e?.paymaster,c="string"==typeof s?s:void 0,{getPaymasterStubData:l,getPaymasterData:u}=(()=>{if(!0===s)return{getPaymasterStubData:t=>(0,I.s)(e,t0,"getPaymasterStubData")(t),getPaymasterData:t=>(0,I.s)(e,tQ,"getPaymasterData")(t)};if("object"==typeof s){let{getPaymasterStubData:e,getPaymasterData:t}=s;return{getPaymasterStubData:t&&e?e:t,getPaymasterData:t&&e?t:void 0}}return{getPaymasterStubData:void 0,getPaymasterData:void 0}})(),f=t.paymasterContext?t.paymasterContext:e?.paymasterContext,h={...t,paymaster:c,sender:a.address},[p,g,m,y,b]=await Promise.all([(async()=>t.calls?a.encodeCalls(t.calls.map(e=>e.abi?{data:(0,d.R)(e),to:e.to,value:e.value}:e)):t.callData)(),(async()=>{if(!i.includes("factory"))return;if(t.initCode)return{initCode:t.initCode};if(t.factory&&t.factoryData)return{factory:t.factory,factoryData:t.factoryData};let{factory:e,factoryData:r}=await a.getFactoryArgs();return"0.6"===a.entryPoint.version?{initCode:e&&r?(0,w.zo)([e,r]):void 0}:{factory:e,factoryData:r}})(),(async()=>{if(i.includes("fees")){if("bigint"==typeof t.maxFeePerGas&&"bigint"==typeof t.maxPriorityFeePerGas)return h;if(e?.userOperation?.estimateFeesPerGas){let t=await e.userOperation.estimateFeesPerGas({account:a,bundlerClient:e,userOperation:h});return{...h,...t}}try{let r=e.client??e,n=await (0,I.s)(r,ev.X,"estimateFeesPerGas")({chain:r.chain,type:"eip1559"});return{maxFeePerGas:"bigint"==typeof t.maxFeePerGas?t.maxFeePerGas:BigInt(2n*n.maxFeePerGas),maxPriorityFeePerGas:"bigint"==typeof t.maxPriorityFeePerGas?t.maxPriorityFeePerGas:BigInt(2n*n.maxPriorityFeePerGas)}}catch{return}}})(),(async()=>{if(i.includes("nonce"))return"bigint"==typeof t.nonce?t.nonce:a.getNonce()})(),(async()=>{if(i.includes("authorization")){if("object"==typeof t.authorization)return t.authorization;if(a.authorization&&!await a.isDeployed())return{...await (0,rU.x)(a.client,a.authorization),r:"0xfffffffffffffffffffffffffffffff000000000000000000000000000000000",s:"0x7aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",yParity:1}}})()]);async function v(){return r||(e.chain?e.chain.id:r=await (0,I.s)(e,eP.L,"getChainId")({}))}void 0!==p&&(h.callData=p),void 0!==g&&(h={...h,...g}),void 0!==m&&(h={...h,...m}),void 0!==y&&(h.nonce=y),void 0!==b&&(h.authorization=b),i.includes("signature")&&(void 0!==t.signature?h.signature=t.signature:h.signature=await a.getStubSignature(h)),"0.6"!==a.entryPoint.version||h.initCode||(h.initCode="0x");let E=!1;if(i.includes("paymaster")&&l&&!c&&!t.paymasterAndData){let{isFinal:e=!1,sponsor:t,...r}=await l({chainId:await v(),entryPointAddress:a.entryPoint.address,context:f,...h});E=e,h={...h,...r}}if("0.6"!==a.entryPoint.version||h.paymasterAndData||(h.paymasterAndData="0x"),i.includes("gas")){if(a.userOperation?.estimateGas){let e=await a.userOperation.estimateGas(h);h={...h,...e}}if(void 0===h.callGasLimit||void 0===h.preVerificationGas||void 0===h.verificationGasLimit||h.paymaster&&void 0===h.paymasterPostOpGasLimit||h.paymaster&&void 0===h.paymasterVerificationGasLimit){let t=await (0,I.s)(e,rF,"estimateUserOperationGas")({account:a,callGasLimit:0n,preVerificationGas:0n,verificationGasLimit:0n,stateOverride:o,...h.paymaster?{paymasterPostOpGasLimit:0n,paymasterVerificationGasLimit:0n}:{},...h});h={...h,callGasLimit:h.callGasLimit??t.callGasLimit,preVerificationGas:h.preVerificationGas??t.preVerificationGas,verificationGasLimit:h.verificationGasLimit??t.verificationGasLimit,paymasterPostOpGasLimit:h.paymasterPostOpGasLimit??t.paymasterPostOpGasLimit,paymasterVerificationGasLimit:h.paymasterVerificationGasLimit??t.paymasterVerificationGasLimit}}}if(i.includes("paymaster")&&u&&!c&&!t.paymasterAndData&&!E){let e=await u({chainId:await v(),entryPointAddress:a.entryPoint.address,context:f,...h});h={...h,...e}}return delete h.calls,delete h.parameters,delete h.paymasterContext,"string"!=typeof h.paymaster&&delete h.paymaster,h}async function rF(e,t){let{account:r=e.account,entryPointAddress:n,stateOverride:i}=t;if(!r&&!t.sender)throw new t2.o;let o=r?(0,J.T)(r):void 0,a=(0,e8.mF)(i),s=o?await (0,I.s)(e,r$,"prepareUserOperation")({...t,parameters:["authorization","factory","nonce","paymaster","signature"]}):t;try{let t=[tX(s),n??o?.entryPoint?.address],r=await e.request({method:"eth_estimateUserOperationGas",params:a?[...t,a]:[...t]});return function(e){let t={};return e.callGasLimit&&(t.callGasLimit=BigInt(e.callGasLimit)),e.preVerificationGas&&(t.preVerificationGas=BigInt(e.preVerificationGas)),e.verificationGasLimit&&(t.verificationGasLimit=BigInt(e.verificationGasLimit)),e.paymasterPostOpGasLimit&&(t.paymasterPostOpGasLimit=BigInt(e.paymasterPostOpGasLimit)),e.paymasterVerificationGasLimit&&(t.paymasterVerificationGasLimit=BigInt(e.paymasterVerificationGasLimit)),t}(r)}catch(r){let e=t.calls;throw rB(r,{...s,...e?{calls:e}:{}})}}async function rz(e,{hash:t}){let r=await e.request({method:"eth_getUserOperationByHash",params:[t]},{dedupe:!0});if(!r)throw new rR({hash:t});let{blockHash:n,blockNumber:i,entryPoint:o,transactionHash:a,userOperation:s}=r;return{blockHash:n,blockNumber:BigInt(i),entryPoint:o,transactionHash:a,userOperation:function(e){let t={...e};return e.callGasLimit&&(t.callGasLimit=BigInt(e.callGasLimit)),e.maxFeePerGas&&(t.maxFeePerGas=BigInt(e.maxFeePerGas)),e.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=BigInt(e.maxPriorityFeePerGas)),e.nonce&&(t.nonce=BigInt(e.nonce)),e.paymasterPostOpGasLimit&&(t.paymasterPostOpGasLimit=BigInt(e.paymasterPostOpGasLimit)),e.paymasterVerificationGasLimit&&(t.paymasterVerificationGasLimit=BigInt(e.paymasterVerificationGasLimit)),e.preVerificationGas&&(t.preVerificationGas=BigInt(e.preVerificationGas)),e.verificationGasLimit&&(t.verificationGasLimit=BigInt(e.verificationGasLimit)),t}(s)}}var rq=r(13550);async function rG(e,{hash:t}){let r=await e.request({method:"eth_getUserOperationReceipt",params:[t]},{dedupe:!0});if(!r)throw new rM({hash:t});return function(e){let t={...e};return e.actualGasCost&&(t.actualGasCost=BigInt(e.actualGasCost)),e.actualGasUsed&&(t.actualGasUsed=BigInt(e.actualGasUsed)),e.logs&&(t.logs=e.logs.map(e=>(0,eU.U)(e))),e.receipt&&(t.receipt=(0,rq.fA)(t.receipt)),t}(r)}async function rH(e,t){let{account:r=e.account,entryPointAddress:n}=t;if(!r&&!t.sender)throw new t2.o;let i=r?(0,J.T)(r):void 0,o=i?await (0,I.s)(e,r$,"prepareUserOperation")(t):t,a=t.signature||await i?.signUserOperation?.(o),s=tX({...o,signature:a});try{return await e.request({method:"eth_sendUserOperation",params:[s,n??i?.entryPoint?.address]},{retryCount:0})}catch(r){let e=t.calls;throw rB(r,{...o,...e?{calls:e}:{},signature:a})}}function rV(e){return{estimateUserOperationGas:t=>rF(e,t),getChainId:()=>(0,eP.L)(e),getSupportedEntryPoints:()=>e.request({method:"eth_supportedEntryPoints"}),getUserOperation:t=>rz(e,t),getUserOperationReceipt:t=>rG(e,t),prepareUserOperation:t=>r$(e,t),sendUserOperation:t=>rH(e,t),waitForUserOperationReceipt:t=>(function(e,t){let{hash:r,pollingInterval:n=e.pollingInterval,retryCount:i,timeout:o=12e4}=t,a=0,s=(0,tM.P)(["waitForUserOperationReceipt",e.uid,r]);return new Promise((t,c)=>{let l=(0,tk.N7)(s,{resolve:t,reject:c},t=>{let s=e=>{u(),e(),l()},c=o?setTimeout(()=>s(()=>t.reject(new rD({hash:r}))),o):void 0,u=(0,tN.$)(async()=>{i&&a>=i&&(clearTimeout(c),s(()=>t.reject(new rD({hash:r}))));try{let n=await (0,I.s)(e,rG,"getUserOperationReceipt")({hash:r});clearTimeout(c),s(()=>t.resolve(n))}catch(e){"UserOperationReceiptNotFoundError"!==e.name&&(clearTimeout(c),s(()=>t.reject(e)))}a++},{emitOnBegin:!0,interval:n});return u})})})(e,t)}}var rW=r(12417);async function rZ({eoaProvider:e,handlers:t}){let[r]=await e.request({method:o.RH.GET_ACCOUNTS});async function i(e,r){if("string"==typeof e&&e.length>0){let n=(await t.getAccounts(r)).map(e=>e.toLowerCase()),i=e.toLowerCase();if(n.includes(i))return i}throw a.P.invalidParams({message:"Invalid parameters: must provide an Ethereum address."})}async function s(e,n){if(e.toLowerCase()===r.toLowerCase())return r;let[i]=await t.getAccounts(n);if(e.toLowerCase()===i.toLowerCase())return r;throw a.P.invalidParams({message:"Invalid parameters: must provide valid sender address."})}async function c(e,r){r.result=await t.getAccounts(e)}async function l(e,r){if(!t.getPrivateKey)throw a.P.methodNotSupported();r.result=await t.getPrivateKey(e)}async function u(e,r){if(!t.processTransaction)throw a.P.methodNotSupported();let n=e.params[0]||{from:""};n.from=await i(n.from,e),r.result=t.processTransaction(n,e)}async function d(e,r){let n=e.params[0]||{from:""};n.from&&(n.from=await s(n.from,e)),r.result=await t.processSignTransaction(n,e)}async function f(e,r){let i=e.params,o=e.params[2]||{};if(Array.isArray(e.params)){if(2!==e.params.length)throw Error(`WalletMiddleware - incorrect params for ${e.method} method. expected [address, message]`);let t=e.params;i={from:t[0],data:t[1]}}i=(0,n.Z)((0,n.Z)({},o),i),r.result=await t.processEthSignMessage(i,e)}async function h(e,r){if(!(null!=e&&e.params))throw Error("WalletMiddleware - missing params");let n=e.params;if(Array.isArray(e.params)){if(2!==e.params.length)throw Error(`WalletMiddleware - incorrect params for ${e.method} method. expected [address, typedData]`);let t=e.params;n={from:t[0],data:t[1]}}r.result=await t.processTypedMessageV4(n,e)}async function p(e,r){let i=e.params,o=e.params[2]||{};if(Array.isArray(e.params)){if(!(e.params.length>=2))throw Error(`WalletMiddleware - incorrect params for ${e.method} method. expected [message, address]`);let t=e.params;if("object"==typeof t[0]){let{challenge:e,address:r}=t[0];i={from:r,data:e}}else{let e=t[0];i={from:t[1],data:e}}}i=(0,n.Z)((0,n.Z)({},o),i),r.result=await t.processPersonalMessage(i,e)}async function g(e,r){if(!t.getPublicKey)throw a.P.methodNotSupported();r.result=await t.getPublicKey(e)}return(0,rW.v0)({eth_accounts:(0,rW.Pk)(c),eth_requestAccounts:(0,rW.Pk)(c),eth_private_key:(0,rW.Pk)(l),private_key:(0,rW.Pk)(l),eth_public_key:(0,rW.Pk)(g),public_key:(0,rW.Pk)(g),eth_sendTransaction:(0,rW.Pk)(u),eth_signTransaction:(0,rW.Pk)(d),eth_sign:(0,rW.Pk)(f),eth_signTypedData_v4:(0,rW.Pk)(h),personal_sign:(0,rW.Pk)(p)})}async function rK({aaProvider:e}){async function t(t,r){let[,n]=await e.request({method:o.RH.GET_ACCOUNTS});r.result=[n]}async function r(t,r){let[,n]=await e.request({method:o.RH.ETH_REQUEST_ACCOUNTS});r.result=[n]}return(0,rW.v0)({eth_accounts:(0,rW.Pk)(t),eth_requestAccounts:(0,rW.Pk)(r)})}function rY(e){return async(t,r,n,i)=>{try{let n=await e.request(t);return r.result=n,i()}catch(e){return i(e)}}}var rJ=r(74061),rX=r(17360),rQ=r(18108),r0=r(95693),r1=r(20840);class r2 extends rQ.Z{constructor({config:e,state:t}){super({config:e,state:t}),(0,i.Z)(this,"PROVIDER_CHAIN_NAMESPACE",r0.E.EIP155),(0,i.Z)(this,"_smartAccount",void 0),(0,i.Z)(this,"_publicClient",void 0),(0,i.Z)(this,"_bundlerClient",void 0),(0,i.Z)(this,"_paymasterClient",void 0),(0,i.Z)(this,"_useProviderAsTransport",void 0),this.update({chainId:e.chain.chainId})}get smartAccount(){return this._smartAccount}get bundlerClient(){return this._bundlerClient}get paymasterClient(){return this._paymasterClient}get publicClient(){return this._publicClient}async enable(){if(!this.state.eoaProvider)throw a.g.custom({message:"eoaProvider is not found in state, please pass it",code:4902});return await this.setupProvider(this.state.eoaProvider),this._providerEngineProxy.request({method:"eth_accounts"})}async setupProvider(e){var t,r;let{currentChain:i}=this,{chainNamespace:l}=i;if(l!==this.PROVIDER_CHAIN_NAMESPACE)throw r1.Ty.incompatibleChainNameSpace("Invalid chain namespace");let u=this.config.smartAccountChainsConfig.find(e=>e.chainId===i.chainId);if(!u)throw r1.Ty.invalidProviderConfigError(`Bundler and paymaster config not found for chain ${i.chainId}`);let{bundlerConfig:d,paymasterConfig:f}=u,h=function(e){let t={formatters:void 0,fees:void 0,serializers:void 0,...e};return Object.assign(t,{extend:function e(t){return r=>{let n="function"==typeof r?r(t):r,i={...t,...n};return Object.assign(i,{extend:e(i)})}}(t)})}({id:Number.parseInt(i.chainId,16),name:i.displayName,rpcUrls:{default:{http:[i.rpcTarget],webSocket:[i.wsTarget]}},blockExplorers:i.blockExplorerUrl?{default:{name:"explorer",url:i.blockExplorerUrl}}:void 0,nativeCurrency:{name:i.tickerName,symbol:i.ticker,decimals:i.decimals||18}});this._publicClient=function(e){let{key:t="public",name:r="Public Client"}=e;return(0,c.e)({...e,key:t,name:r,type:"publicClient"}).extend(tz)}({chain:h,transport:tZ(i.rpcTarget)});let[p]=await e.request({method:o.RH.ETH_REQUEST_ACCOUNTS}),g=(0,tK.K)({account:p,chain:h,transport:(0,tY.P)(e)});this._smartAccount=await this.config.smartAccountInit.getSmartAccount({walletClient:g,client:this._publicClient}),f&&(this._paymasterClient=function(e){let{key:t="bundler",name:r="Bundler Client",transport:n}=e;return(0,c.e)({...e,key:t,name:r,transport:n,type:"PaymasterClient"}).extend(t1)}((0,n.Z)((0,n.Z)({},f),{},{transport:this._useProviderAsTransport?(0,tY.P)(e):null!==(r=f.transport)&&void 0!==r?r:tZ(f.url)}))),this._bundlerClient=function(e){let{client:t,key:r="bundler",name:n="Bundler Client",paymaster:i,paymasterContext:o,transport:a,userOperation:s}=e;return Object.assign((0,c.e)({...e,chain:e.chain??t?.chain,key:r,name:n,transport:a,type:"bundlerClient"}),{client:t,paymaster:i,paymasterContext:o,userOperation:s}).extend(rV)}((0,n.Z)((0,n.Z)({},d),{},{account:this.smartAccount,client:this._publicClient,transport:this._useProviderAsTransport?(0,tY.P)(e):null!==(t=d.transport)&&void 0!==t?t:tZ(d.url),paymaster:this._paymasterClient}));let m=function({bundlerClient:e,smartAccount:t,chain:r,eoaProvider:i}){let o=(0,tK.K)({account:t,chain:r,transport:tZ()});return{getAccounts:async e=>{let[r,n]=await Promise.all([t.getAddress(),i.request({method:"eth_accounts"})]);return rX.c.info("smartAccounts",r),rX.c.info("eoaAccounts",n),[r,...n]},getPrivateKey:async e=>{throw a.g.custom({message:"Smart accounts do not have private key",code:4903})},getPublicKey:async e=>{throw a.g.custom({message:"Smart accounts do not have a public key. Use address instead.",code:4903})},processTransaction:async r=>{r.input&&!r.data&&(r.data=(0,rJ.L_7)(r.input));let{to:n,value:i,data:o}=r,s={account:t,calls:[{to:n,value:BigInt(i),data:o}]},c=await e.sendUserOperation(s),l=await e.waitForUserOperationReceipt({hash:c});if(!l.success)throw a.g.custom({message:l.reason,code:4905});return l.receipt.transactionHash},processSignTransaction:async r=>{let{to:n,value:i,data:o}=r,a=await e.prepareUserOperation({account:t,calls:[{to:n,value:BigInt(i),data:o}]});return await t.signUserOperation({callData:a.callData,callGasLimit:a.callGasLimit,maxFeePerGas:a.maxFeePerGas,maxPriorityFeePerGas:a.maxPriorityFeePerGas,nonce:a.nonce,preVerificationGas:a.preVerificationGas,verificationGasLimit:a.verificationGasLimit,signature:a.signature})},processEthSignMessage:async(e,t)=>i.request(t),processPersonalMessage:async(e,r)=>{let n=e.data;return o.signMessage({account:t,message:(0,rJ.A7i)(n)?{raw:n}:n})},processTypedMessageV4:async(e,r)=>{try{let r="string"==typeof e.data?JSON.parse(e.data):e.data;return await o.signTypedData({account:t,domain:(0,n.Z)((0,n.Z)({},r.domain),{},{verifyingContract:r.domain.verifyingContract,salt:r.domain.salt,chainId:Number(r.domain.chainId)}),primaryType:r.primaryType,types:r.types,message:r.message})}catch(e){throw a.g.custom({message:e instanceof Error?e.message:"Failed to sign typed data",code:4905})}}}}({bundlerClient:this._bundlerClient,smartAccount:this._smartAccount,chain:h,eoaProvider:e}),y=new s.eI,b=await rZ({eoaProvider:e,handlers:m});y.push(b);let w=rY(e);y.push(w);let v=(0,s.Xj)(y);this.updateProviderEngineProxy(v),e.once("chainChanged",e=>{this.update({chainId:e}),this.setupChainSwitchMiddleware(),this.emit("chainChanged",e)})}async updateAccount(e){throw a.g.unsupportedMethod("updateAccount. Please call it on eoaProvider")}async switchChain(e){throw a.g.unsupportedMethod("switchChain. Please call it on eoaProvider")}async lookupNetwork(){throw a.g.unsupportedMethod("lookupNetwork. Please call it on eoaProvider")}async setupChainSwitchMiddleware(){return this.setupProvider(this.state.eoaProvider)}}(0,i.Z)(r2,"getProviderInstance",async e=>{let t=new r2({config:e});return t._useProviderAsTransport=e.useProviderAsTransport,await t.setupProvider(e.eoaProvider),t.update({eoaProvider:e.eoaProvider}),t});let r3=async({accountAbstractionConfig:e,chain:t,chains:n,provider:i,useProviderAsTransport:a})=>{let s;let{smartAccountType:c,chains:l}=e,{smartAccountConfig:u}=l.find(e=>e.chainId===t.chainId)||{};switch(c){case o.FN.BICONOMY:{let{BiconomySmartAccount:e}=await r.e(9025).then(r.bind(r,79025));s=new e(u);break}case o.FN.KERNEL:{let{KernelSmartAccount:e}=await r.e(9025).then(r.bind(r,79025));s=new e(u);break}case o.FN.NEXUS:{let{NexusSmartAccount:e}=await r.e(9025).then(r.bind(r,79025));s=new e(u);break}case o.FN.SAFE:{let{SafeSmartAccount:e}=await r.e(9025).then(r.bind(r,79025));s=new e(u);break}case o.FN.TRUST:{let{TrustSmartAccount:e}=await r.e(9025).then(r.bind(r,79025));s=new e(u);break}case o.FN.METAMASK:{let{MetamaskSmartAccount:e}=await r.e(9025).then(r.bind(r,79025));s=new e(u);break}default:throw Error("Smart account type not supported")}return r2.getProviderInstance({eoaProvider:i,smartAccountInit:s,chain:t,chains:n,smartAccountChainsConfig:l,useProviderAsTransport:a})},r6=async e=>{let t=new s.eI,r=await rK({aaProvider:e});return t.push(r),t.push(rY(e)),(0,s.Xj)(t)}},18108:function(e,t,r){"use strict";r.d(t,{Z:function(){return h}});var n=r(31686),i=r(56127),o=r(60452);class a extends o.U{constructor({config:e={},state:t={}}){super(),(0,i.Z)(this,"defaultConfig",{}),(0,i.Z)(this,"defaultState",{}),(0,i.Z)(this,"disabled",!1),(0,i.Z)(this,"name","BaseController"),(0,i.Z)(this,"initialConfig",void 0),(0,i.Z)(this,"initialState",void 0),(0,i.Z)(this,"internalConfig",this.defaultConfig),(0,i.Z)(this,"internalState",this.defaultState),this.initialState=t,this.initialConfig=e}get config(){return this.internalConfig}get state(){return this.internalState}configure(e,t=!1,r=!0){if(r)for(let r in this.internalConfig=t?e:Object.assign(this.internalConfig,e),this.internalConfig)void 0!==this.internalConfig[r]&&(this[r]=this.internalConfig[r]);else for(let t in e)void 0!==this.internalConfig[t]&&(this.internalConfig[t]=e[t],this[t]=e[t])}update(e,t=!1){this.internalState=t?(0,n.Z)({},e):(0,n.Z)((0,n.Z)({},this.internalState),e),this.emit("store",this.internalState)}initialize(){return this.internalState=this.defaultState,this.internalConfig=this.defaultConfig,this.configure(this.initialConfig),this.update(this.initialState),this}}let s=()=>!0,c=["newListener","removeListener"],l=e=>!c.includes(e);var u=r(87614),d=r(46794),f=r(20840);class h extends a{constructor({config:e,state:t}){super({config:e,state:t}),(0,i.Z)(this,"_providerEngineProxy",null),(0,i.Z)(this,"keyExportFlagSetByCode",!1);let{chain:r}=e;if(!r)throw f.Ty.invalidProviderConfigError("Please provide chain");if(!r.chainId)throw f.Ty.invalidProviderConfigError("Please provide chainId inside chain");if(!r.rpcTarget)throw f.Ty.invalidProviderConfigError("Please provide rpcTarget inside chain");"boolean"==typeof e.keyExportEnabled&&(this.keyExportFlagSetByCode=!0),this.defaultState={chainId:"loading"},this.defaultConfig={chain:e.chain,chains:e.chains,keyExportEnabled:"boolean"!=typeof e.keyExportEnabled||e.keyExportEnabled},super.initialize()}get currentChain(){return this.config.chains.find(e=>e.chainId===this.state.chainId)}get provider(){return this._providerEngineProxy}get chainId(){return this.state.chainId}set provider(e){throw Error("Method not implemented.")}async request(e){var t;if(!e||"object"!=typeof e||Array.isArray(e))throw u.P.invalidRequest({message:f.w7.invalidRequestArgs().message,data:(0,n.Z)((0,n.Z)({},e||{}),{},{cause:f.w7.invalidRequestArgs().message})});let{method:r,params:i}=e;if("string"!=typeof r||0===r.length)throw u.P.invalidRequest({message:f.w7.invalidRequestMethod().message,data:(0,n.Z)((0,n.Z)({},e||{}),{},{cause:f.w7.invalidRequestMethod().message})});if(void 0!==i&&!Array.isArray(i)&&("object"!=typeof i||null===i))throw u.P.invalidRequest({message:f.w7.invalidRequestParams().message,data:(0,n.Z)((0,n.Z)({},e||{}),{},{cause:f.w7.invalidRequestParams().message})});return null===(t=this.provider)||void 0===t?void 0:t.request(e)}sendAsync(e,t){return t?this.send(e,t):this.request(e)}send(e,t){this.request(e).then(e=>t(null,{result:e})).catch(e=>t(e,null))}updateProviderEngineProxy(e){if(this._providerEngineProxy){this._providerEngineProxy.setTarget(e);let t=t=>{"newListener"!==t&&e.on(t,(...e)=>{if(t===d.Cb.CHAIN_CHANGED){let t=e[0];this.update({chainId:t})}this.emit(t,...e)})};this.eventNames().forEach(e=>{t(e)}),this.on("newListener",e=>{this.listenerCount(e)>0||t(e)})}else this._providerEngineProxy=function(e,t){let r={}.eventFilter||s;if("string"==typeof r&&"skipInternal"===r&&(r=l),"function"!=typeof r)throw Error("createEventEmitterProxy - Invalid eventFilter");let n=e,i=e=>{if(n===e)return;let t=n;n=e,t.eventNames().filter(r).forEach(r=>{(void 0!==t.rawListeners?t.rawListeners(r):t.listeners(r)).forEach(t=>{e.on(r,t)})}),t.removeAllListeners()};return new Proxy({},{get:(e,t)=>"setTarget"===t?i:n[t],set:(e,t,r)=>("setTarget"===t?i=r:n[t]=r,!0),has:(e,t)=>"_"!==t[0]&&t in n})}(e)}setKeyExportFlag(e){this.keyExportFlagSetByCode||this.configure({keyExportEnabled:e})}getProviderEngineProxy(){return this._providerEngineProxy}getChain(e){return this.config.chains.find(t=>t.chainId===e)}}},44727:function(e,t,r){"use strict";r.d(t,{F:function(){return s}});var n=r(56127),i=r(10994),o=r(12417),a=r(18108);class s extends a.Z{constructor({config:e,state:t}){super({config:e,state:t}),(0,n.Z)(this,"_providerEngineProxy",null)}get provider(){return this._providerEngineProxy}set provider(e){throw Error("Method not implemented.")}async setupProvider(e){let t=this.getPrivKeyMiddleware(e),r=new i.eI;r.push(t);let n=(0,i.Xj)(r);this.updateProviderEngineProxy(n)}async switchChain(e){return Promise.resolve()}getProviderEngineProxy(){return this._providerEngineProxy}async lookupNetwork(){return Promise.resolve("")}getPrivKeyMiddleware(e){return this.createPrivKeyMiddleware({getPrivatekey:async()=>{if(!this.config.keyExportEnabled)throw Error("Exporting private key is disabled. Please enable it in the provider config");return e}})}createPrivKeyMiddleware({getPrivatekey:e}){async function t(t,r){try{r.result=await e()}catch(e){r.error=e instanceof Error?e.message:e}}return(0,o.v0)({private_key:(0,o.Pk)(t)})}}(0,n.Z)(s,"getProviderInstance",async e=>{let t=new s({config:{chain:e.chain,chains:e.chains}});return await t.setupProvider(e.privKey),t})},46794:function(e,t,r){"use strict";r.d(t,{Cb:function(){return a},HL:function(){return o}});var n,i=r(7040);let o=r.n(i)()(),a=((n={}).ACCOUNTS_CHANGED="accountsChanged",n.CHAIN_CHANGED="chainChanged",n.CONNECT="connect",n.DISCONNECT="disconnect",n.MESSAGE="message",n)},28890:function(e,t,r){"use strict";r.d(t,{K:function(){return s},N:function(){return c}});var n=r(10994),i=r(12417),o=r(87614),a=r(62408);function s(e){let{getAccounts:t,getPrivateKey:r,getPublicKey:o,processTransaction:s,processSignTransaction:c,processEthSignMessage:l,processTypedMessageV4:u,processPersonalMessage:d}=e;return(0,n.UZ)([(0,i.v0)({eth_syncing:!1}),(0,a.D)({getAccounts:t,getPrivateKey:r,getPublicKey:o,processTransaction:s,processEthSignMessage:l,processSignTransaction:c,processTypedMessageV4:u,processPersonalMessage:d})])}function c({switchChain:e,addChain:t}){async function r(t,r){var n;let i=null!==(n=t.params)&&void 0!==n&&n.length?t.params[0]:void 0;if(!i)throw o.P.invalidParams("Missing chainId");r.result=await e(i)}async function n(e,r){var n;let i=null!==(n=e.params)&&void 0!==n&&n.length?e.params[0]:void 0;if(!i)throw o.P.invalidParams("Missing chainConfig");r.result=await t(i)}return(0,i.v0)({wallet_switchEthereumChain:(0,i.Pk)(r),wallet_addEthereumChain:(0,i.Pk)(n)})}},54726:function(e,t,r){"use strict";r.d(t,{M6:function(){return s},P$:function(){return o},Pc:function(){return a}});var n=r(98039),i=r(10994);function o(e){return(t,r,n,i)=>"eth_chainId"===t.method?(r.result=e,i()):n()}function a(e){return(t,r,n,i)=>"eth_provider_config"===t.method?(r.result=e,i()):n()}function s(e){let{chainId:t,rpcTarget:r}=e,s=(0,n.v)({rpcTarget:r});return{networkMiddleware:(0,i.UZ)([o(t),a(e),s]),fetchMiddleware:s}}},62408:function(e,t,r){"use strict";r.d(t,{D:function(){return a}});var n=r(31686),i=r(87614),o=r(12417);function a({getAccounts:e,getPrivateKey:t,getPublicKey:r,processEthSignMessage:a,processPersonalMessage:s,processTransaction:c,processSignTransaction:l,processTypedMessageV4:u}){if(!e)throw Error("opts.getAccounts is required");async function d(t,r){if("string"==typeof t&&t.length>0){let n=(await e(r)).map(e=>e.toLowerCase()),i=t.toLowerCase();if(n.includes(i))return i}throw i.P.invalidParams({message:"Invalid parameters: must provide an Ethereum address."})}async function f(t,r){r.result=await e(t)}async function h(e,t){if(!c)throw i.P.methodNotSupported();let r=e.params[0]||{from:""};r.from=await d(r.from,e),t.result=await c(r,e)}async function p(e,t){if(!l)throw i.P.methodNotSupported();let r=e.params[0]||{from:""};r.from=await d(r.from,e),t.result=await l(r,e)}async function g(e,t){if(!a)throw i.P.methodNotSupported();let r=e.params,o=e.params[2]||{};if(Array.isArray(e.params)){if(2!==e.params.length)throw Error(`WalletMiddleware - incorrect params for ${e.method} method. expected [address, message]`);let t=e.params;r={from:t[0],data:t[1]}}r=(0,n.Z)((0,n.Z)({},o),r),t.result=await a(r,e)}async function m(e,t){if(!u)throw i.P.methodNotSupported();if(!(null!=e&&e.params))throw Error("WalletMiddleware - missing params");let r=e.params;if(Array.isArray(e.params)){if(2!==e.params.length)throw Error(`WalletMiddleware - incorrect params for ${e.method} method. expected [address, typedData]`);let t=e.params;r={from:t[0],data:t[1]}}t.result=await u(r,e)}async function y(e,t){if(!s)throw i.P.methodNotSupported();let r=e.params,o=e.params[2]||{};if(Array.isArray(e.params)){if(!(e.params.length>=2))throw Error(`WalletMiddleware - incorrect params for ${e.method} method. expected [message, address]`);let t=e.params;if("object"==typeof t[0]){let{challenge:e,address:n}=t[0];r={from:n,data:e}}else{let e=t[0];r={from:t[1],data:e}}}r=(0,n.Z)((0,n.Z)({},o),r),t.result=await s(r,e)}async function b(e,r){if(!t)throw i.P.methodNotSupported();r.result=await t(e)}async function w(e,t){if(!r)throw i.P.methodNotSupported();t.result=await r(e)}return(0,o.v0)({eth_accounts:(0,o.Pk)(f),eth_requestAccounts:(0,o.Pk)(f),eth_private_key:(0,o.Pk)(b),eth_public_key:(0,o.Pk)(w),public_key:(0,o.Pk)(w),private_key:(0,o.Pk)(b),eth_sendTransaction:(0,o.Pk)(h),eth_signTransaction:(0,o.Pk)(p),eth_sign:(0,o.Pk)(g),eth_signTypedData_v4:(0,o.Pk)(m),personal_sign:(0,o.Pk)(y)})}},24531:function(e,t,r){"use strict";r.d(t,{Q:function(){return n}});let n=e=>{switch(e.chainId){case"0x65":return"solana:mainnet";case"0x66":return"solana:testnet";case"0x67":return"solana:devnet";default:return null}}},4500:function(e,t,r){"use strict";r.d(t,{O:function(){return b}});var n=r(34402),i=r(10282),o=r(77684),a=r(64024),s=r(14452),c=r(10994),l=r(59179),u=r(53866),d=r(18108),f=r(20840);class h extends d.Z{constructor({config:e,state:t}){super({config:e,state:t})}async switchChain(e){throw f.RM.unsupportedOperation("Chain switching is not supported by this connector")}async setupProvider(e,t){let r=new c.eI,n=this.getChain(t),i=this.getProviderHandlers(e),o=(0,u.jY)(i);r.push(o);let a=(0,l.wf)(n);r.push(a);let s=this.getInjectedProviderProxy(e);s&&r.push(s);let d=(0,c.Xj)(r);this.updateProviderEngineProxy(d),await this.lookupNetwork(e,t)}async lookupNetwork(e,t){return this.update({chainId:t}),t||""}getInjectedProviderProxy(e){}}var p=r(87614);let g=e=>({requestAccounts:async()=>e.publicKey?[s.U.encode(e.publicKey.toBytes())]:[],getPublicKey:async()=>e.publicKey?s.U.encode(e.publicKey.toBytes()):"",getAccounts:async()=>e.publicKey?[s.U.encode(e.publicKey.toBytes())]:[],getPrivateKey:async()=>{throw p.P.methodNotSupported()},getSecretKey:async()=>{throw p.P.methodNotSupported()},signTransaction:async t=>await e.signTransaction(t.params.message),signMessage:async t=>await e.signMessage(t.params.data,t.params.from,t.params.display),signAllTransactions:async t=>{var r,n;if(!(null!==(r=t.params)&&void 0!==r&&r.message)||!(null!==(n=t.params)&&void 0!==n&&n.message.length))throw p.P.invalidParams("message");return await e.signAllTransactions(t.params.message)},signAndSendTransaction:async t=>await e.signAndSendTransaction(t.params.message)});var m=r(24531),y=r(82957).Buffer;class b extends h{getProviderHandlers(e){let t=(0,m.Q)(this.config.chain),r=()=>{let t=null==e?void 0:e.accounts[0];if(!t)throw f.RM.notConnectedError();return t};return g({get publicKey(){return new a.nh(r().publicKey)},signMessage:async t=>{let i=r(),o=new Uint8Array(y.from(t,"utf-8")),a=await e.features[n.g].signMessage({account:i,message:o});return s.U.encode(a[0].signature)},signTransaction:async n=>{let o=r(),c=await e.features[i.R].signTransaction({account:o,transaction:new Uint8Array(y.from(n,"base64")),chain:t});return s.U.encode(a.GS.deserialize(c[0].signedTransaction).signatures[0])},signAllTransactions:async n=>{let o=r();return Promise.all(n.map(async r=>{let n=await e.features[i.R].signTransaction({account:o,transaction:new Uint8Array(y.from(r,"base64")),chain:t});return y.from(n[0].signedTransaction).toString("base64")}))},signAndSendTransaction:async n=>{let i=r(),a=await e.features[o.G].signAndSendTransaction({account:i,transaction:new Uint8Array(y.from(n,"base64")),chain:t});return s.U.encode(a[0].signature)}})}}},59179:function(e,t,r){"use strict";r.d(t,{ci:function(){return c},nD:function(){return o},p7:function(){return a},wf:function(){return s}});var n=r(98039),i=r(10994);function o(e){return(t,r,n,i)=>"solana_chainId"===t.method?(r.result=e,i()):n()}function a(e){return(t,r,n,i)=>"solana_provider_config"===t.method?(r.result=e,i()):n()}function s(e){let{chainId:t}=e;return(0,i.UZ)([o(t),a(e)])}function c(e){let{rpcTarget:t}=e,r=(0,n.v)({rpcTarget:t});return{networkMiddleware:(0,i.UZ)([s(e),r]),fetchMiddleware:r}}},53866:function(e,t,r){"use strict";r.d(t,{QM:function(){return l},Qm:function(){return a},Sx:function(){return c},f8:function(){return s},jY:function(){return u},l6:function(){return f},qy:function(){return d}});var n=r(12417),i=r(10994),o=r(71616);function a({getAccounts:e}){return(0,n.Pk)(async(t,r,n)=>{let{method:i}=t;if(i!==o.ij.GET_ACCOUNTS)return n();if(!e)throw Error("WalletMiddleware - opts.getAccounts not provided");let a=await e(t);r.result=a})}function s({getPublicKey:e}){return(0,n.Pk)(async(t,r,n)=>{let{method:i}=t;if("getPublicKey"!==i)return n();if(!e)throw Error("WalletMiddleware - opts.getPublicKey not provided");let o=await e(t);r.result=o})}function c({requestAccounts:e}){return(0,n.Pk)(async(t,r,n)=>{let{method:i}=t;if(i!==o.ij.SOLANA_REQUEST_ACCOUNTS)return n();if(!e)throw Error("WalletMiddleware - opts.requestAccounts not provided");let a=await e(t);r.result=a})}function l(e,t){return(0,n.Pk)(async(r,n,i)=>{let{method:o}=r;if(o!==e)return i();if(!t)throw Error(`WalletMiddleware - ${e} not provided`);let a=await t(r);n.result=a})}function u(e){let{getAccounts:t,requestAccounts:r,signTransaction:n,signAndSendTransaction:s,signAllTransactions:u,signMessage:d,getPrivateKey:f,getSecretKey:h,getPublicKey:p}=e;return(0,i.UZ)([c({requestAccounts:r}),a({getAccounts:t}),l(o.ij.SIGN_TRANSACTION,n),l(o.ij.SEND_TRANSACTION,s),l(o.ij.SIGN_ALL_TRANSACTIONS,u),l(o.ij.SIGN_MESSAGE,d),l(o.ij.SOLANA_PRIVATE_KEY,f),l(o.ij.PRIVATE_KEY,f),l("public_key",p),l("solanaPublicKey",p),l("solanaSecretKey",h)])}function d({switchSolanaChain:e}){return(0,i.UZ)([l("switchSolanaChain",e)])}function f({updatePrivatekey:e}){return(0,i.UZ)([l("updateAccount",e)])}},95693:function(e,t,r){"use strict";r.d(t,{E:function(){return n}});let n={EIP155:"eip155",SOLANA:"solana",CASPER:"casper",XRPL:"xrpl",OTHER:"other"}},74589:function(e,t,r){"use strict";r.d(t,{He:function(){return o},Qx:function(){return n},Wd:function(){return a},dW:function(){return i}});let n={ETH_SEND_RAW_TRANSACTION:"eth_sendRawTransaction",ETH_SEND_USER_OPERATION:"eth_sendUserOperation",ETH_SPONSOR_USER_OPERATION:"pm_sponsorUserOperation",SEND_TRANSACTION:"sendTransaction"},i={JRPC_REQUEST_COMPLETED:"JRPC Request Completed",JRPC_REQUEST_FAILED:"JRPC Request Failed"},o={INTERNAL:"internal",NETWORK:"network"},a={"0x65":"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","0x66":"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","0x67":"EtWTRABZaYq6iMfeYKouRu166VU2xqa1"}},98039:function(e,t,r){"use strict";r.d(t,{v:function(){return u}});var n=r(31686),i=r(87614),o=r(12417),a=r(99431),s=r(74589),c=r(26639);let l=["Gateway timeout","ETIMEDOUT","failed to parse response body","Failed to fetch"];function u({rpcTarget:e,originHttpHeaderKey:t,analytics:r,providerConfig:u,transactionDecoder:d}){return(0,o.Pk)(async(o,f,h)=>{let{fetchUrl:p,fetchParams:g}=function({req:e,rpcTarget:t,originHttpHeaderKey:r}){let n=new URL(t),i={id:e.id,jsonrpc:e.jsonrpc,method:e.method,params:e.params},o=e.origin,a={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(i)};return r&&o&&(a.headers[r]=o),{fetchUrl:n.href,fetchParams:a}}({req:o,rpcTarget:e,originHttpHeaderKey:t}),m=Date.now(),y=!Object.values(s.Qx).includes(o.method),b={chain_id:(0,c.cN)(u),chain_rpc_target:(0,c.Fo)(p),method:o.method};if(!y&&d){let[e,t]=d(o,(null==u?void 0:u.chainId)||"");b.sender=e,b.transaction_hash=t}for(let e=0;e<5;e++){try{let e=await fetch(p,g);!function(e){switch(e.status){case 405:throw i.P.methodNotFound();case 418:throw i.P.internal({message:"Request is being rate limited.",data:{cause:e}});case 503:case 504:throw i.P.internal({message:"Gateway timeout. The request took too long to process.This can happen when querying over too wide a block range.",data:{cause:e}})}}(e);let t=await e.json(),o=function(e,t){if(200!==e.status)throw i.P.internal({message:`Non-200 status code: '${e.status}'`,data:t});if(t.error){var r;throw i.P.internal({data:t.error,message:null===(r=t.error)||void 0===r?void 0:r.message})}return t.result}(e,t);f.result=o,y||null==r||r.track(s.dW.JRPC_REQUEST_COMPLETED,(0,n.Z)((0,n.Z)({request_type:s.He.NETWORK},b),{},{duration:Date.now()-m}));return}catch(t){let e=(t.message||t).toString();if(!l.some(t=>e.includes(t)))throw y||null==r||r.track(s.dW.JRPC_REQUEST_FAILED,(0,n.Z)((0,n.Z)({request_type:s.He.NETWORK},b),{},{error_code:null==t?void 0:t.code,error_message:e,duration:Date.now()-m})),await (0,a.X)(t)}await new Promise(e=>{setTimeout(e,1e3)})}})}},15221:function(e,t,r){"use strict";r.d(t,{rn:function(){return l},tV:function(){return c}});var n=r(31686),i=r(70091),o=r(86005),a=r.n(o);let s="https://authjs.web3auth.io",c=async(e,t)=>{let r=await (0,i.v_)(`${s}/siww/get`,{payload:e,header:{t:"solana"===t?"sip99":"eip191"},network:"solana"===t?"solana":"ethereum"});if(!r.success)throw Error("Failed to authenticate user, Please reach out to Web3Auth Support team");return r.challenge},l=async(e,t,r,o,c,l,u,d,f)=>{var h;let p=(0,n.Z)({signature:{s:t,t:"solana"===e?"sip99":"eip191"},message:r,issuer:o,audience:d||"undefined"!=typeof window&&(null===(h=window.location)||void 0===h?void 0:h.hostname)||"com://reactnative",timeout:c},f||{}),g=await (0,i.v_)(`${s}/siww/verify`,p,{headers:{client_id:l,wallet_provider:o,web3auth_network:u}});if(!g.success)throw a().error("Failed to authenticate user, ,message verification failed",g.error),Error("Failed to authenticate user, ,message verification failed");return g.token}},26639:function(e,t,r){"use strict";r.d(t,{Fo:function(){return a},cN:function(){return s},eX:function(){return o}}),r(74061),r(68651);var n=r(74589),i=r(95693);r(82957).Buffer,r(25566);let o=e=>{try{let t=null==e?void 0:e.code;return{error_message:e instanceof Error?e.message:(null==e?void 0:e.message)||(null==e?void 0:e.toString()),error_code:t}}catch{return{error_message:"Unknown error",error_code:void 0}}},a=e=>{try{return new URL(e).hostname}catch{return""}},s=e=>{if(e)return e.chainNamespace===i.E.EIP155?`${e.chainNamespace}:${parseInt(e.chainId,16)}`:e.chainNamespace===i.E.SOLANA?`${e.chainNamespace}:${n.Wd[e.chainId]}`:`${e.chainNamespace}:${e.chainId}`}},53727:function(e,t,r){"use strict";r.d(t,{Ad:function(){return n},X_:function(){return i},Yg:function(){return a},e9:function(){return o},qo:function(){return s}});let n={MAINNET:"mainnet",TESTNET:"testnet",CYAN:"cyan",AQUA:"aqua",CELESTE:"celeste"},i={SAPPHIRE_DEVNET:"sapphire_devnet",SAPPHIRE_MAINNET:"sapphire_mainnet"};n.MAINNET,n.TESTNET,n.CYAN,n.AQUA,n.CELESTE,n.AQUA,i.SAPPHIRE_MAINNET,n.CELESTE,i.SAPPHIRE_MAINNET,n.CYAN,i.SAPPHIRE_MAINNET,n.MAINNET,i.SAPPHIRE_MAINNET,n.TESTNET,i.SAPPHIRE_DEVNET,n.MAINNET,n.TESTNET,n.CYAN,n.AQUA,n.CELESTE;let o={[i.SAPPHIRE_MAINNET]:"https://api.web3auth.io/signer-service",[i.SAPPHIRE_DEVNET]:"https://api.web3auth.io/signer-service",[n.MAINNET]:"https://api.web3auth.io/signer-service",[n.TESTNET]:"https://api.web3auth.io/signer-service",[n.CYAN]:"https://api.web3auth.io/signer-polygon-service",[n.AQUA]:"https://api.web3auth.io/signer-polygon-service",[n.CELESTE]:"https://api.web3auth.io/signer-polygon-service"};n.MAINNET,n.TESTNET,n.CYAN,n.AQUA,n.CELESTE;let a="https://api.web3auth.io/session-service",s="https://session.web3auth.io"},70091:function(e,t,r){"use strict";r.d(t,{U2:function(){return p},Ub:function(){return l},gz:function(){return y},r$:function(){return m},v_:function(){return g}});var n=r(31686),i=r(51567),o=r.n(i),a=r(86005);let s=r.n(a)().getLogger("http-helpers");s.setLevel(a.levels.INFO);let c="torus-default";function l(e){s.setLevel(e)}async function u(e,t){try{new URL(e)}catch{}return fetch(e,t)}function d(){let e={};return c&&(e["x-api-key"]=c),e}function f(e){s.info(`Response: ${e.status} ${e.statusText}`),s.info(`Url: ${e.url}`)}let h=async(e,t)=>{let r=null;try{let n=new Promise((t,n)=>{r=setTimeout(()=>{n(Error(`Timed out in ${e}ms`))},e)}),i=await Promise.race([t,n]);return null!=r&&clearTimeout(r),i}catch(e){throw null!=r&&clearTimeout(r),e}},p=async(e,t={},r={})=>{let i={mode:"cors",headers:{}};r.useAPIKey&&(i.headers=(0,n.Z)((0,n.Z)({},i.headers),d())),t.method="GET";let a=o()(i,t),s=await u(e,a);if(s.ok){let e=s.headers.get("content-type");return null!=e&&e.includes("application/json")?s.json():s.text()}throw f(s),s},g=(e,t={},r={},i={})=>{let a={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};i.useAPIKey&&(a.headers=(0,n.Z)((0,n.Z)({},a.headers),d())),r.method="POST";let c=o()(a,r);return i.isUrlEncodedData?(c.body=t,"application/json; charset=utf-8"===c.headers["Content-Type"]&&delete c.headers["Content-Type"]):c.body=JSON.stringify(t),h(i.timeout||6e4,u(e,c).then(e=>{if(i.logTracingHeader&&function(e){let t=e.headers.get("x-web3-correlation-id");t&&s.info(`Request tracing with traceID = ${t}`)}(e),e.ok){let t=e.headers.get("content-type");return null!=t&&t.includes("application/json")?e.json():e.text()}throw f(e),e}))},m=async(e,t={},r={},i={})=>{let a={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};i.useAPIKey&&(a.headers=(0,n.Z)((0,n.Z)({},a.headers),d())),r.method="PATCH";let s=o()(a,r);i.isUrlEncodedData?(s.body=t,"application/json; charset=utf-8"===s.headers["Content-Type"]&&delete s.headers["Content-Type"]):s.body=JSON.stringify(t);let c=await u(e,s);if(c.ok){let e=c.headers.get("content-type");return null!=e&&e.includes("application/json")?c.json():c.text()}throw f(c),c},y=async(e,t={},r={},i={})=>{let a={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};i.useAPIKey&&(a.headers=(0,n.Z)((0,n.Z)({},a.headers),d())),r.method="PUT";let s=o()(a,r);i.isUrlEncodedData?(s.body=t,"application/json; charset=utf-8"===s.headers["Content-Type"]&&delete s.headers["Content-Type"]):s.body=JSON.stringify(t);let c=await u(e,s);if(c.ok){let e=c.headers.get("content-type");return null!=e&&e.includes("application/json")?c.json():c.text()}throw f(c),c}},46929:function(e,t,r){"use strict";r.d(t,{u:function(){return l},y:function(){return u}});var n=r(56127),i=r(70018),o=r.n(i),a=r(74706),s=function(e,t){if(null==e)throw TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(e),t)};function c(e,t){if("[Circular]"!==t)return t}class l extends Error{constructor(e,t,r){if(!Number.isInteger(e))throw Error('"code" must be an integer.');if(!t||"string"!=typeof t)throw Error('"message" must be a non-empty string.');(0,a.ML)(r)?(super(t,{cause:r.cause}),(0,n.Z)(this,"cause",void 0),(0,n.Z)(this,"code",void 0),(0,n.Z)(this,"data",void 0),s(this,"cause")||Object.assign(this,{cause:r.cause})):(super(t),(0,n.Z)(this,"cause",void 0),(0,n.Z)(this,"code",void 0),(0,n.Z)(this,"data",void 0)),void 0!==r&&(this.data=r),this.code=e,this.cause=null==r?void 0:r.cause}serialize(){let e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data,(0,a.PO)(this.data)&&(e.data.cause=(0,a.IB)(this.data.cause))),this.stack&&(e.stack=this.stack),e}toString(){return o()(this.serialize(),{replacer:c,space:2})}}class u extends l{constructor(e,t,r){if(!(Number.isInteger(e)&&e>=1e3&&e<=4999))throw Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,r)}}},8719:function(e,t,r){"use strict";r.d(t,{Z:function(){return n},l:function(){return i}});let n={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},i={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}},87614:function(e,t,r){"use strict";r.d(t,{P:function(){return l},g:function(){return u}});var n=r(46929),i=r(8719),o=r(74706);function a(e){if(e){if("string"==typeof e)return[e];if("object"==typeof e&&!Array.isArray(e)){let{message:t,data:r}=e;if(t&&"string"!=typeof t)throw Error("Must specify string message.");return[null!=t?t:void 0,r]}}return[]}function s(e,t){let[r,i]=a(t);return new n.u(e,null!=r?r:(0,o.ND)(e),i)}function c(e,t){let[r,i]=a(t);return new n.y(e,null!=r?r:(0,o.ND)(e),i)}let l={parse:e=>s(i.Z.rpc.parse,e),invalidRequest:e=>s(i.Z.rpc.invalidRequest,e),invalidParams:e=>s(i.Z.rpc.invalidParams,e),methodNotFound:e=>s(i.Z.rpc.methodNotFound,e),internal:e=>s(i.Z.rpc.internal,e),server:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw Error("Ethereum RPC Server errors must provide single object argument.");let{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw Error('"code" must be an integer such that: -32099 <= code <= -32005');return s(t,e)},invalidInput:e=>s(i.Z.rpc.invalidInput,e),resourceNotFound:e=>s(i.Z.rpc.resourceNotFound,e),resourceUnavailable:e=>s(i.Z.rpc.resourceUnavailable,e),transactionRejected:e=>s(i.Z.rpc.transactionRejected,e),methodNotSupported:e=>s(i.Z.rpc.methodNotSupported,e),limitExceeded:e=>s(i.Z.rpc.limitExceeded,e)},u={userRejectedRequest:e=>c(i.Z.provider.userRejectedRequest,e),unauthorized:e=>c(i.Z.provider.unauthorized,e),unsupportedMethod:e=>c(i.Z.provider.unsupportedMethod,e),disconnected:e=>c(i.Z.provider.disconnected,e),chainDisconnected:e=>c(i.Z.provider.chainDisconnected,e),custom:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw Error("Ethereum Provider custom errors must provide single object argument.");let{code:t,message:r,data:i}=e;if(!r||"string"!=typeof r)throw Error('"message" must be a nonempty string');return new n.y(t,r,i)}}},74706:function(e,t,r){"use strict";r.d(t,{IB:function(){return m},ML:function(){return b},ND:function(){return f},PO:function(){return u},cj:function(){return y}});var n=r(31686),i=r(8719),o=function(e,t){if(null==e)throw TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(e),t)};let a=i.Z.rpc.internal;function s(e){return Number.isInteger(e)}function c(e){return"string"==typeof e&&e.length>0}function l(e){return!!e&&"object"==typeof e&&!Array.isArray(e)}function u(e){if("object"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch{return!1}}function d(e){return!!(e&&s(e.code)&&c(e.message)&&(!e.stack||c(e.stack)))}function f(e,t="Unspecified error message. This is a bug, please report it."){if(s(e)){let t=e.toString();if(o(i.l,t))return i.l[t].message;if(e>=-32099&&e<=-32e3)return"Unspecified server error."}return t}let h={code:a,message:f(a)};function p(e){try{JSON.parse(JSON.stringify(e,(e,t)=>{if("__proto__"===e||"constructor"===e||"function"==typeof t||"symbol"==typeof t)throw Error("Not valid json");return t}),(e,t)=>{if("__proto__"!==e&&"constructor"!==e)return t})}catch{return!1}return!0}function g(e){return Object.getOwnPropertyNames(e).reduce((t,r)=>{let n=e[r];return p(n)&&(t[r]=n),t},{})}function m(e){return Array.isArray(e)?e.map(e=>p(e)?e:l(e)?g(e):null):l(e)?g(e):p(e)?e:null}function y(e,{fallbackError:t=h,shouldIncludeStack:r=!0}={}){if(!d(t))throw Error("Must provide fallback error with integer number code and string message.");let i=function(e,t){if(e&&"object"==typeof e&&"serialize"in e&&"function"==typeof e.serialize)return e.serialize();if(d(e))return e;let r=m(e);return(0,n.Z)((0,n.Z)({},t),{},{data:{cause:r}})}(e,t);return r||delete i.stack,i}function b(e){return l(e)&&o(e,"cause")&&l(e.cause)}},12417:function(e,t,r){"use strict";function n(e){return(t,r,n,i)=>{let o=e[t.method];return void 0===o?n():"function"==typeof o?o(t,r,n,i):(r.result=o,i())}}function i(e){return async(t,r,n,i)=>{let o;let a=new Promise(e=>{o=e}),s=null,c=!1,l=async()=>{c=!0,n(e=>{s=e,o()}),await a};try{await e(t,r,l),c?(await a,s(null)):i(null)}catch(e){s?s(e):i(e)}}}r.d(t,{Pk:function(){return i},v0:function(){return n}}),r(80578)},10994:function(e,t,r){"use strict";r.d(t,{eI:function(){return p},UZ:function(){return g},Xj:function(){return m}});var n=r(31686),i=r(56127);r(80578);var o=r(39264),a=r(74706),s=r(60452),c=r(70018),l=r.n(c);class u extends Error{constructor({code:e,message:t,data:r}){if(!Number.isInteger(e))throw Error("code must be an integer");if(!t||"string"!=typeof t)throw Error("message must be string");super(t),(0,i.Z)(this,"code",void 0),(0,i.Z)(this,"data",void 0),this.code=e,void 0!==r&&(this.data=r)}toString(){return l()({code:this.code,message:this.message,data:this.data,stack:this.stack})}}var d=r(8719),f=r(46929);function h(e){let{message:t="",code:r=-32603,stack:n="Stack trace is not available.",data:i=""}=e,o=parseInt((null==r?void 0:r.toString())||"-32603");return{message:t||(null==e?void 0:e.toString())||(0,a.ND)(o),code:o,stack:n,data:i||t||(null==e?void 0:e.toString())}}class p extends s.U{constructor(){super(),(0,i.Z)(this,"_middleware",void 0),this._middleware=[]}static async _runAllMiddleware(e,t,r){let n=[],i=null,o=!1;for(let a of r)if([i,o]=await p._runMiddleware(e,t,a,n),o)break;return[i,o,n.reverse()]}static _runMiddleware(e,t,r,n){return new Promise(i=>{let s=e=>{let r=e||t.error;r&&("object"==typeof r&&!1===Object.keys(r).includes("stack")&&(r.stack="Stack trace is not available."),o.c.error(r),t.error=(0,a.cj)(r,{shouldIncludeStack:!0,fallbackError:h(r)})),i([r,!0])};try{r(e,t,e=>{t.error?s(t.error):(e&&("function"!=typeof e&&s(new u({code:-32603,message:"JRPCEngine: 'next' return handlers must be functions"})),n.push(e)),i([null,!1]))},s)}catch(e){s(e)}})}static async _runReturnHandlers(e){for(let t of e)await new Promise((e,r)=>{t(t=>t?r(t):e())})}static _checkForCompletion(e,t,r){if(!("result"in t)&&!("error"in t))throw new u({code:-32603,message:"Response has no error or result for request"});if(!r)throw new u({code:-32603,message:"Nothing ended request"})}push(e){this._middleware.push(e)}handle(e,t){if(t&&"function"!=typeof t)throw Error('"callback" must be a function if provided.');return Array.isArray(e)?t?this._handleBatch(e,t):this._handleBatch(e):t?this._handle(e,t):this._promiseHandle(e)}asMiddleware(){return async(e,t,r,n)=>{try{let[i,o,a]=await p._runAllMiddleware(e,t,this._middleware);if(o)return await p._runReturnHandlers(a),n(i);return r(async e=>{try{await p._runReturnHandlers(a)}catch(t){return e(t)}return e()})}catch(e){return n(e)}}}async _handleBatch(e,t){try{let r=await Promise.all(e.map(this._promiseHandle.bind(this)));if(t)return t(null,r);return r}catch(e){if(t)return t(e);throw e}}_promiseHandle(e){return new Promise((t,r)=>{this._handle(e,(e,n)=>{e&&void 0===n?r(e):t(n)}).catch(r)})}async _handle(e,t){if(!e||Array.isArray(e)||"object"!=typeof e){let e=new u({code:-32603,message:"request must be plain object"});return t(e,{id:void 0,jsonrpc:"2.0",error:e})}if("string"!=typeof e.method){let r=new u({code:-32603,message:"method must be string"});return t(r,{id:e.id,jsonrpc:"2.0",error:r})}let r=(0,n.Z)({},e),i={id:r.id,jsonrpc:r.jsonrpc},s=null;try{await this._processRequest(r,i)}catch(e){s=e}return s&&(delete i.result,i.error||("object"==typeof s&&!1===Object.keys(s).includes("stack")&&(s.stack="Stack trace is not available."),o.c.error(s),i.error=(0,a.cj)(s,{shouldIncludeStack:!0,fallbackError:h(s)}))),t(s,i)}async _processRequest(e,t){let[r,n,i]=await p._runAllMiddleware(e,t,this._middleware);if(p._checkForCompletion(e,t,n),await p._runReturnHandlers(i),r)throw r}}function g(e){let t=new p;return e.forEach(e=>{t.push(e)}),t.asMiddleware()}function m(e){let t=new s.U;return t.sendAsync=async t=>{let r=await e.handle(t);if(r.error){var n,i;"object"==typeof r.error&&!1===Object.keys(r.error).includes("stack")&&(r.error.stack="Stack trace is not available."),o.c.error(r.error);let e=(0,a.cj)(r.error,{fallbackError:h(r.error),shouldIncludeStack:!0}),t=null!==(n=null==e?void 0:e.code)&&void 0!==n?n:d.Z.rpc.internal;throw new f.u(t,null!==(i=null==e?void 0:e.message)&&void 0!==i?i:(0,a.ND)(t),null==e?void 0:e.data)}return r.result},t.send=(t,r)=>{if("function"!=typeof r)throw Error('Must provide callback to "send" method.');e.handle(t,r)},e.on&&e.on("notification",e=>{t.emit("data",null,e)}),t.request=async e=>{let r=(0,n.Z)((0,n.Z)({},e),{},{id:Math.random().toString(36).slice(2),jsonrpc:"2.0"});return await t.sendAsync(r)},t}},60452:function(e,t,r){"use strict";r.d(t,{U:function(){return o}});var n=r(55445);function i(e,t,r){try{Reflect.apply(e,t,r)}catch(e){setTimeout(()=>{throw e})}}class o extends n.EventEmitter{emit(e,...t){let r="error"===e,n=this._events;if(void 0!==n)r=r&&void 0===n.error;else if(!r)return!1;if(r){let e;if(t.length>0&&([e]=t),e instanceof Error)throw e;let r=Error(`Unhandled error.${e?` (${e.message})`:""}`);throw r.context=e,r}let o=n[e];if(void 0===o)return!1;if("function"==typeof o)i(o,this,t);else{let e=o.length,r=function(e){let t=e.length,r=Array(t);for(let n=0;n<t;n+=1)r[n]=e[n];return r}(o);for(let n=0;n<e;n+=1)i(r[n],this,t)}return!0}}},18957:function(e,t,r){"use strict";r.d(t,{DT:function(){return b},E6:function(){return x},Is:function(){return m},JJ:function(){return g},K2:function(){return s},M_:function(){return l},Oe:function(){return u},Re:function(){return d},UP:function(){return A},WK:function(){return y},dR:function(){return w},eh:function(){return f},f$:function(){return v},kJ:function(){return h},q3:function(){return E},qn:function(){return p},x7:function(){return c}});var n=r(31686),i=r(53727);let o=i.Ad,a=i.X_,s=(0,n.Z)((0,n.Z)({},a),o),c={SECP256K1:"secp256k1",ED25519:"ed25519",OTHER:"other"},l={DEFAULT:"default",OPTIONAL:"optional",MANDATORY:"mandatory",NONE:"none"},u={LOGIN:"login",ENABLE_MFA:"enable_mfa",MANAGE_MFA:"manage_mfa",ADD_SOCIAL_FACTOR:"add_social_factor",MODIFY_SOCIAL_FACTOR:"modify_social_factor",ADD_AUTHENTICATOR_FACTOR:"add_authenticator_factor",ADD_PASSKEY_FACTOR:"add_passkey_factor"},d={PRODUCTION:"production",DEVELOPMENT:"development",STAGING:"staging",TESTING:"testing"},f={DEFAULT:"default",IFRAME:"iframe"},h={SETUP_COMPLETE:"setup_complete",INIT_DAPP:"init_dapp",LOGIN_INITIATED:"login_initiated",LOGIN_CANCELLED:"login_cancelled",LOGIN_FAILED:"login_failed",LOGIN_SUCCESS:"login_success",DISPLAY_IFRAME:"display_iframe",HIDE_IFRAME:"hide_iframe"},p="auth-iframe",g="http://localhost:3000",m="https://staging-auth.web3auth.io",y="https://develop-auth.web3auth.io",b="https://auth.web3auth.io",w="http://localhost:5173",v="https://staging-account.web3auth.io",E="https://develop-account.web3auth.io",x="https://account.web3auth.io",A=1e4},39264:function(e,t,r){"use strict";r.d(t,{c:function(){return i}});var n=r(86005);let i=r.n(n)().getLogger("auth");i.setLevel("error")},31905:function(e,t,r){"use strict";r.d(t,{Bv:function(){return s},Xh:function(){return c},sX:function(){return o},zc:function(){return a}});var n=r(6089);let i=r.n(n)();function o(e){return i.decode(e)}function a(e){return i.encode(JSON.stringify(e))}let s=e=>{let t=window.document.createElement("template"),r=e.trim();return t.innerHTML=r,t.content.firstChild};function c(e){try{return structuredClone(e)}catch{return JSON.parse(JSON.stringify(e))}}},71616:function(e,t,r){"use strict";r.d(t,{FU:function(){return c},QZ:function(){return a},i_:function(){return o},ij:function(){return i}});var n=r(19070);let i={GET_ACCOUNTS:"getAccounts",SOLANA_REQUEST_ACCOUNTS:"solana_requestAccounts",SEND_TRANSACTION:"solana_sendTransaction",SIGN_TRANSACTION:"solana_signTransaction",SIGN_ALL_TRANSACTIONS:"solana_signAllTransactions",SIGN_MESSAGE:"solana_signMessage",SOLANA_PRIVATE_KEY:"solana_privateKey",PRIVATE_KEY:"private_key",SOLANA_PUBLIC_KEY:"solana_publicKey",PUBLIC_KEY:"public_key"},o={SOLANA_MAINNET:"0x65",SOLANA_TESTNET:"0x66",SOLANA_DEVNET:"0x67"},a={GET_ACCOUNTS:"eth_accounts",ETH_TRANSACTION:"eth_sendTransaction",ETH_ESTIMATE_AA_TRANSACTION_GAS:"eth_estimateAATransactionGas",ETH_REQUEST_ACCOUNTS:"eth_requestAccounts",ETH_SEND_RAW_TRANSACTION:"eth_sendRawTransaction",ETH_SIGN:"eth_sign",ETH_SIGN_TYPED_DATA_V4:"eth_signTypedData_v4",PERSONAL_SIGN:"personal_sign",ETH_GET_TRANSACTION_COUNT:"eth_getTransactionCount",ETH_GET_TRANSACTION_BY_HASH:"eth_getTransactionByHash",ETH_GET_TRANSACTION_RECEIPT:"eth_getTransactionReceipt",WATCH_ASSET:"wallet_watchAsset",ETH_GET_BLOCK_BY_HASH:"eth_getBlockByHash",ETH_GET_CODE:"eth_getCode",ETH_GET_GAS_PRICE:"eth_gasPrice",ETH_PRIVATE_KEY:"eth_privateKey",PRIVATE_KEY:"private_key",ETH_PUBLIC_KEY:"eth_publicKey",PUBLIC_KEY:"public_key",SWITCH_CHAIN:"wallet_switchEthereumChain",ADD_CHAIN:"wallet_addEthereumChain"},s=new Set([n.Ck.CUSTOM,n.Ck.PASSKEYS,n.Ck.TELEGRAM,n.Ck.AUTHENTICATOR]),c=Object.values(n.Ck).filter(e=>!s.has(e))},29542:function(e,t,r){"use strict";r.d(t,{Nm:function(){return n},pT:function(){return i},wU:function(){return o}});let n={PRODUCTION:"production",STAGING:"staging",DEVELOPMENT:"development",TESTING:"testing"},i={EMBED:"embed",PLUGIN:"plugin"},o={BOTTOM_LEFT:"bottom-left",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",TOP_RIGHT:"top-right"}},40835:function(e,t,r){"use strict";r.d(t,{c:function(){return n}});let n={POPUP:"popup",MODAL:"modal",AUTO_APPROVE:"auto-approve",DEFAULT:"default"}},78918:function(e){"use strict";let{AbortController:t,AbortSignal}="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0;e.exports=t,e.exports.AbortSignal=AbortSignal,e.exports.default=t},18282:function(e,t,r){"use strict";var n=r(73306).Buffer;e.exports=function(e){if(e.length>=255)throw TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),a=o.charCodeAt(0);if(255!==t[a])throw TypeError(o+" is ambiguous");t[a]=i}var s=e.length,c=e.charAt(0),l=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function d(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return n.alloc(0);for(var r=0,i=0,o=0;e[r]===c;)i++,r++;for(var a=(e.length-r)*l+1>>>0,u=new Uint8Array(a);r<e.length;){var d=e.charCodeAt(r);if(d>255)return;var f=t[d];if(255===f)return;for(var h=0,p=a-1;(0!==f||h<o)&&-1!==p;p--,h++)f+=s*u[p]>>>0,u[p]=f%256>>>0,f=f/256>>>0;if(0!==f)throw Error("Non-zero carry");o=h,r++}for(var g=a-o;g!==a&&0===u[g];)g++;var m=n.allocUnsafe(i+(a-g));m.fill(0,0,i);for(var y=i;g!==a;)m[y++]=u[g++];return m}return{encode:function(t){if((Array.isArray(t)||t instanceof Uint8Array)&&(t=n.from(t)),!n.isBuffer(t))throw TypeError("Expected Buffer");if(0===t.length)return"";for(var r=0,i=0,o=0,a=t.length;o!==a&&0===t[o];)o++,r++;for(var l=(a-o)*u+1>>>0,d=new Uint8Array(l);o!==a;){for(var f=t[o],h=0,p=l-1;(0!==f||h<i)&&-1!==p;p--,h++)f+=256*d[p]>>>0,d[p]=f%s>>>0,f=f/s>>>0;if(0!==f)throw Error("Non-zero carry");i=h,o++}for(var g=l-i;g!==l&&0===d[g];)g++;for(var m=c.repeat(r);g<l;++g)m+=e.charAt(d[g]);return m},decodeUnsafe:d,decode:function(e){var t=d(e);if(t)return t;throw Error("Non-base"+s+" character")}}}},42214:function(e,t,r){"use strict";var n=r(82957).Buffer,i=r(26486);function o(e,t){return(void 0===t&&(t="utf8"),n.isBuffer(e))?s(e.toString("base64")):s(n.from(e,t).toString("base64"))}function a(e){return e=e.toString(),i.default(e).replace(/\-/g,"+").replace(/_/g,"/")}function s(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}o.encode=o,o.decode=function(e,t){return void 0===t&&(t="utf8"),n.from(a(e),"base64").toString(t)},o.toBase64=a,o.fromBase64=s,o.toBuffer=function(e){return n.from(a(e),"base64")},t.default=o},26486:function(e,t,r){"use strict";var n=r(82957).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.length,r=t%4;if(!r)return e;var i=t,o=4-r,a=t+o,s=n.alloc(a);for(s.write(e);o--;)s.write("=",i++);return s.toString()}},6089:function(e,t,r){e.exports=r(42214).default,e.exports.default=e.exports},9440:function(e,t,r){let n=r(25003);function i(e,t,r){let n=e[t]+e[r],i=e[t+1]+e[r+1];n>=4294967296&&i++,e[t]=n,e[t+1]=i}function o(e,t,r,n){let i=e[t]+r;r<0&&(i+=4294967296);let o=e[t+1]+n;i>=4294967296&&o++,e[t]=i,e[t+1]=o}function a(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function s(e,t,r,n,a,s){let c=d[a],l=d[a+1],f=d[s],h=d[s+1];i(u,e,t),o(u,e,c,l);let p=u[n]^u[e],g=u[n+1]^u[e+1];u[n]=g,u[n+1]=p,i(u,r,n),p=u[t]^u[r],g=u[t+1]^u[r+1],u[t]=p>>>24^g<<8,u[t+1]=g>>>24^p<<8,i(u,e,t),o(u,e,f,h),p=u[n]^u[e],g=u[n+1]^u[e+1],u[n]=p>>>16^g<<16,u[n+1]=g>>>16^p<<16,i(u,r,n),p=u[t]^u[r],g=u[t+1]^u[r+1],u[t]=g>>>31^p<<1,u[t+1]=p>>>31^g<<1}let c=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),l=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map(function(e){return 2*e})),u=new Uint32Array(32),d=new Uint32Array(32);function f(e,t){let r=0;for(r=0;r<16;r++)u[r]=e.h[r],u[r+16]=c[r];for(u[24]=u[24]^e.t,u[25]=u[25]^e.t/4294967296,t&&(u[28]=~u[28],u[29]=~u[29]),r=0;r<32;r++)d[r]=a(e.b,4*r);for(r=0;r<12;r++)s(0,8,16,24,l[16*r+0],l[16*r+1]),s(2,10,18,26,l[16*r+2],l[16*r+3]),s(4,12,20,28,l[16*r+4],l[16*r+5]),s(6,14,22,30,l[16*r+6],l[16*r+7]),s(0,10,20,30,l[16*r+8],l[16*r+9]),s(2,12,22,24,l[16*r+10],l[16*r+11]),s(4,14,16,26,l[16*r+12],l[16*r+13]),s(6,8,18,28,l[16*r+14],l[16*r+15]);for(r=0;r<16;r++)e.h[r]=e.h[r]^u[r]^u[r+16]}let h=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function p(e,t,r,n){if(0===e||e>64)throw Error("Illegal output length, expected 0 < length <= 64");if(t&&t.length>64)throw Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(r&&16!==r.length)throw Error("Illegal salt, expected Uint8Array with length is 16");if(n&&16!==n.length)throw Error("Illegal personal, expected Uint8Array with length is 16");let i={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:e};h.fill(0),h[0]=e,t&&(h[1]=t.length),h[2]=1,h[3]=1,r&&h.set(r,32),n&&h.set(n,48);for(let e=0;e<16;e++)i.h[e]=c[e]^a(h,4*e);return t&&(g(i,t),i.c=128),i}function g(e,t){for(let r=0;r<t.length;r++)128===e.c&&(e.t+=e.c,f(e,!1),e.c=0),e.b[e.c++]=t[r]}function m(e){for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;f(e,!0);let t=new Uint8Array(e.outlen);for(let r=0;r<e.outlen;r++)t[r]=e.h[r>>2]>>8*(3&r);return t}function y(e,t,r,i,o){r=r||64,e=n.normalizeInput(e),i&&(i=n.normalizeInput(i)),o&&(o=n.normalizeInput(o));let a=p(r,t,i,o);return g(a,e),m(a)}e.exports={blake2b:y,blake2bHex:function(e,t,r,i,o){let a=y(e,t,r,i,o);return n.toHex(a)},blake2bInit:p,blake2bUpdate:g,blake2bFinal:m}},55437:function(e,t,r){let n=r(25003);function i(e,t,r,n,i,a){c[e]=c[e]+c[t]+i,c[n]=o(c[n]^c[e],16),c[r]=c[r]+c[n],c[t]=o(c[t]^c[r],12),c[e]=c[e]+c[t]+a,c[n]=o(c[n]^c[e],8),c[r]=c[r]+c[n],c[t]=o(c[t]^c[r],7)}function o(e,t){return e>>>t^e<<32-t}let a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),s=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),c=new Uint32Array(16),l=new Uint32Array(16);function u(e,t){let r=0;for(r=0;r<8;r++)c[r]=e.h[r],c[r+8]=a[r];for(c[12]^=e.t,c[13]^=e.t/4294967296,t&&(c[14]=~c[14]),r=0;r<16;r++){var n,o;l[r]=(n=e.b)[o=4*r]^n[o+1]<<8^n[o+2]<<16^n[o+3]<<24}for(r=0;r<10;r++)i(0,4,8,12,l[s[16*r+0]],l[s[16*r+1]]),i(1,5,9,13,l[s[16*r+2]],l[s[16*r+3]]),i(2,6,10,14,l[s[16*r+4]],l[s[16*r+5]]),i(3,7,11,15,l[s[16*r+6]],l[s[16*r+7]]),i(0,5,10,15,l[s[16*r+8]],l[s[16*r+9]]),i(1,6,11,12,l[s[16*r+10]],l[s[16*r+11]]),i(2,7,8,13,l[s[16*r+12]],l[s[16*r+13]]),i(3,4,9,14,l[s[16*r+14]],l[s[16*r+15]]);for(r=0;r<8;r++)e.h[r]^=c[r]^c[r+8]}function d(e,t){if(!(e>0&&e<=32))throw Error("Incorrect output length, should be in [1, 32]");let r=t?t.length:0;if(t&&!(r>0&&r<=32))throw Error("Incorrect key length, should be in [1, 32]");let n={h:new Uint32Array(a),b:new Uint8Array(64),c:0,t:0,outlen:e};return n.h[0]^=16842752^r<<8^e,r>0&&(f(n,t),n.c=64),n}function f(e,t){for(let r=0;r<t.length;r++)64===e.c&&(e.t+=e.c,u(e,!1),e.c=0),e.b[e.c++]=t[r]}function h(e){for(e.t+=e.c;e.c<64;)e.b[e.c++]=0;u(e,!0);let t=new Uint8Array(e.outlen);for(let r=0;r<e.outlen;r++)t[r]=e.h[r>>2]>>8*(3&r)&255;return t}function p(e,t,r){r=r||32,e=n.normalizeInput(e);let i=d(r,t);return f(i,e),h(i)}e.exports={blake2s:p,blake2sHex:function(e,t,r){let i=p(e,t,r);return n.toHex(i)},blake2sInit:d,blake2sUpdate:f,blake2sFinal:h}},84041:function(e,t,r){let n=r(9440),i=r(55437);e.exports={blake2b:n.blake2b,blake2bHex:n.blake2bHex,blake2bInit:n.blake2bInit,blake2bUpdate:n.blake2bUpdate,blake2bFinal:n.blake2bFinal,blake2s:i.blake2s,blake2sHex:i.blake2sHex,blake2sInit:i.blake2sInit,blake2sUpdate:i.blake2sUpdate,blake2sFinal:i.blake2sFinal}},25003:function(e){function t(e){return(4294967296+e).toString(16).substring(1)}e.exports={normalizeInput:function(e){let t;if(e instanceof Uint8Array)t=e;else if("string"==typeof e)t=new TextEncoder().encode(e);else throw Error("Input must be an string, Buffer or Uint8Array");return t},toHex:function(e){return Array.prototype.map.call(e,function(e){return(e<16?"0":"")+e.toString(16)}).join("")},debugPrint:function(e,r,n){let i="\n"+e+" = ";for(let o=0;o<r.length;o+=2){if(32===n)i+=t(r[o]).toUpperCase()+" "+t(r[o+1]).toUpperCase();else if(64===n)i+=t(r[o+1]).toUpperCase()+t(r[o]).toUpperCase();else throw Error("Invalid size "+n);o%6==4?i+="\n"+Array(e.length+4).join(" "):o<r.length-2&&(i+=" ")}console.log(i)},testSpeed:function(e,t,r){let n=new Date().getTime(),i=new Uint8Array(t);for(let e=0;e<t;e++)i[e]=e%256;let o=new Date().getTime();console.log("Generated random input in "+(o-n)+"ms"),n=o;for(let o=0;o<r;o++){let r=e(i),o=new Date().getTime(),a=o-n;n=o,console.log("Hashed in "+a+"ms: "+r.substring(0,20)+"..."),console.log(Math.round(t/1048576/(a/1e3)*100)/100+" MB PER SECOND")}}}},44373:function(e,t,r){!function(e,t){"use strict";function n(e,t){if(!e)throw Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function o(e,t,r){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&(("le"===t||"be"===t)&&(r=t,t=10),this._init(e||0,t||10,r||"be"))}"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{d="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(46601).Buffer}catch(e){}function a(e,t){var r=e.charCodeAt(t);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+e)}function s(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n}function c(e,t,r,i){for(var o=0,a=0,s=Math.min(e.length,r),c=t;c<s;c++){var l=e.charCodeAt(c)-48;o*=i,a=l>=49?l-49+10:l>=17?l-17+10:l,n(l>=0&&a<i,"Invalid character"),o+=a}return o}function l(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return 0>e.cmp(t)?e:t},o.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},o.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=Array(this.length);for(var i,o,a=0;a<this.length;a++)this.words[a]=0;var s=0;if("be"===r)for(a=e.length-1,i=0;a>=0;a-=3)o=e[a]|e[a-1]<<8|e[a-2]<<16,this.words[i]|=o<<s&67108863,this.words[i+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,i++);else if("le"===r)for(a=0,i=0;a<e.length;a+=3)o=e[a]|e[a+1]<<8|e[a+2]<<16,this.words[i]|=o<<s&67108863,this.words[i+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,i++);return this._strip()},o.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=Array(this.length);for(var n,i=0;i<this.length;i++)this.words[i]=0;var o=0,a=0;if("be"===r)for(i=e.length-1;i>=t;i-=2)n=s(e,t,i)<<o,this.words[a]|=67108863&n,o>=18?(o-=18,a+=1,this.words[a]|=n>>>26):o+=8;else for(i=(e.length-t)%2==0?t+1:t;i<e.length;i+=2)n=s(e,t,i)<<o,this.words[a]|=67108863&n,o>=18?(o-=18,a+=1,this.words[a]|=n>>>26):o+=8;this._strip()},o.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,a=o%n,s=Math.min(o,o-a)+r,l=0,u=r;u<s;u+=n)l=c(e,u,u+n,t),this.imuln(i),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!==a){var d=1;for(l=c(e,u,e.length,t),u=0;u<a;u++)d*=t;this.imuln(d),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this._strip()},o.prototype.copy=function(e){e.words=Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype._move=function(e){l(e,this)},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=u}catch(e){o.prototype.inspect=u}else o.prototype.inspect=u;function u(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d,f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function g(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],a=i*o,s=67108863&a,c=a/67108864|0;r.words[0]=s;for(var l=1;l<n;l++){for(var u=c>>>26,d=67108863&c,f=Math.min(l,t.length-1),h=Math.max(0,l-e.length+1);h<=f;h++){var p=l-h|0;u+=(a=(i=0|e.words[p])*(o=0|t.words[h])+d)/67108864|0,d=67108863&a}r.words[l]=0|d,c=0|u}return 0!==c?r.words[l]=0|c:r.length--,r._strip()}o.prototype.toString=function(e,t){if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var r,i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],c=((s<<i|o)&16777215).toString(16);o=s>>>24-i&16777215,(i+=2)>=26&&(i-=26,a--),r=0!==o||a!==this.length-1?f[6-c.length]+c+r:c+r}for(0!==o&&(r=o.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var l=h[e],u=p[e];r="";var d=this.clone();for(d.negative=0;!d.isZero();){var g=d.modrn(u).toString(e);r=(d=d.idivn(u)).isZero()?g+r:f[l-g.length]+g+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16,2)},d&&(o.prototype.toBuffer=function(e,t){return this.toArrayLike(d,e,t)}),o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var a=e.allocUnsafe?e.allocUnsafe(o):new e(o);return this["_toArrayLike"+("le"===t?"LE":"BE")](a,i),a},o.prototype._toArrayLikeLE=function(e,t){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|n;e[r++]=255&a,r<e.length&&(e[r++]=a>>8&255),r<e.length&&(e[r++]=a>>16&255),6===o?(r<e.length&&(e[r++]=a>>24&255),n=0,o=0):(n=a>>>24,o+=2)}if(r<e.length)for(e[r++]=n;r<e.length;)e[r++]=0},o.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,n=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|n;e[r--]=255&a,r>=0&&(e[r--]=a>>8&255),r>=0&&(e[r--]=a>>16&255),6===o?(r>=0&&(e[r--]=a>>24&255),n=0,o=0):(n=a>>>24,o+=2)}if(r>=0)for(e[r--]=n;r>=0;)e[r--]=0},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return(8191&t)==0&&(r+=13,t>>>=13),(127&t)==0&&(r+=7,t>>>=7),(15&t)==0&&(r+=4,t>>>=4),(3&t)==0&&(r+=2,t>>>=2),(1&t)==0&&r++,r},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return(this.length-1)*26+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},o.prototype.ior=function(e){return n((this.negative|e.negative)==0),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},o.prototype.iand=function(e){return n((this.negative|e.negative)==0),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){this.length>e.length?(t=this,r=e):(t=e,r=this);for(var t,r,n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this._strip()},o.prototype.ixor=function(e){return n((this.negative|e.negative)==0),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),t?this.words[r]=this.words[r]|1<<i:this.words[r]=this.words[r]&~(1<<i),this._strip()},o.prototype.iadd=function(e){if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var t,r,n,i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t,r,n=this.iadd(e);return e.negative=1,n._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(t=this,r=e):(t=e,r=this);for(var o=0,a=0;a<r.length;a++)o=(n=(0|t.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&n;for(;0!==o&&a<t.length;a++)o=(n=(0|t.words[a])+o)>>26,this.words[a]=67108863&n;if(0===o&&a<t.length&&t!==this)for(;a<t.length;a++)this.words[a]=t.words[a];return this.length=Math.max(this.length,a),t!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var m=function(e,t,r){var n,i,o,a=e.words,s=t.words,c=r.words,l=0,u=0|a[0],d=8191&u,f=u>>>13,h=0|a[1],p=8191&h,g=h>>>13,m=0|a[2],y=8191&m,b=m>>>13,w=0|a[3],v=8191&w,E=w>>>13,x=0|a[4],A=8191&x,S=x>>>13,_=0|a[5],I=8191&_,C=_>>>13,O=0|a[6],P=8191&O,T=O>>>13,k=0|a[7],N=8191&k,M=k>>>13,R=0|a[8],D=8191&R,L=R>>>13,B=0|a[9],U=8191&B,j=B>>>13,$=0|s[0],F=8191&$,z=$>>>13,q=0|s[1],G=8191&q,H=q>>>13,V=0|s[2],W=8191&V,Z=V>>>13,K=0|s[3],Y=8191&K,J=K>>>13,X=0|s[4],Q=8191&X,ee=X>>>13,et=0|s[5],er=8191&et,en=et>>>13,ei=0|s[6],eo=8191&ei,ea=ei>>>13,es=0|s[7],ec=8191&es,el=es>>>13,eu=0|s[8],ed=8191&eu,ef=eu>>>13,eh=0|s[9],ep=8191&eh,eg=eh>>>13;r.negative=e.negative^t.negative,r.length=19;var em=(l+(n=Math.imul(d,F))|0)+((8191&(i=(i=Math.imul(d,z))+Math.imul(f,F)|0))<<13)|0;l=((o=Math.imul(f,z))+(i>>>13)|0)+(em>>>26)|0,em&=67108863,n=Math.imul(p,F),i=(i=Math.imul(p,z))+Math.imul(g,F)|0,o=Math.imul(g,z);var ey=(l+(n=n+Math.imul(d,G)|0)|0)+((8191&(i=(i=i+Math.imul(d,H)|0)+Math.imul(f,G)|0))<<13)|0;l=((o=o+Math.imul(f,H)|0)+(i>>>13)|0)+(ey>>>26)|0,ey&=67108863,n=Math.imul(y,F),i=(i=Math.imul(y,z))+Math.imul(b,F)|0,o=Math.imul(b,z),n=n+Math.imul(p,G)|0,i=(i=i+Math.imul(p,H)|0)+Math.imul(g,G)|0,o=o+Math.imul(g,H)|0;var eb=(l+(n=n+Math.imul(d,W)|0)|0)+((8191&(i=(i=i+Math.imul(d,Z)|0)+Math.imul(f,W)|0))<<13)|0;l=((o=o+Math.imul(f,Z)|0)+(i>>>13)|0)+(eb>>>26)|0,eb&=67108863,n=Math.imul(v,F),i=(i=Math.imul(v,z))+Math.imul(E,F)|0,o=Math.imul(E,z),n=n+Math.imul(y,G)|0,i=(i=i+Math.imul(y,H)|0)+Math.imul(b,G)|0,o=o+Math.imul(b,H)|0,n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(g,W)|0,o=o+Math.imul(g,Z)|0;var ew=(l+(n=n+Math.imul(d,Y)|0)|0)+((8191&(i=(i=i+Math.imul(d,J)|0)+Math.imul(f,Y)|0))<<13)|0;l=((o=o+Math.imul(f,J)|0)+(i>>>13)|0)+(ew>>>26)|0,ew&=67108863,n=Math.imul(A,F),i=(i=Math.imul(A,z))+Math.imul(S,F)|0,o=Math.imul(S,z),n=n+Math.imul(v,G)|0,i=(i=i+Math.imul(v,H)|0)+Math.imul(E,G)|0,o=o+Math.imul(E,H)|0,n=n+Math.imul(y,W)|0,i=(i=i+Math.imul(y,Z)|0)+Math.imul(b,W)|0,o=o+Math.imul(b,Z)|0,n=n+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(g,Y)|0,o=o+Math.imul(g,J)|0;var ev=(l+(n=n+Math.imul(d,Q)|0)|0)+((8191&(i=(i=i+Math.imul(d,ee)|0)+Math.imul(f,Q)|0))<<13)|0;l=((o=o+Math.imul(f,ee)|0)+(i>>>13)|0)+(ev>>>26)|0,ev&=67108863,n=Math.imul(I,F),i=(i=Math.imul(I,z))+Math.imul(C,F)|0,o=Math.imul(C,z),n=n+Math.imul(A,G)|0,i=(i=i+Math.imul(A,H)|0)+Math.imul(S,G)|0,o=o+Math.imul(S,H)|0,n=n+Math.imul(v,W)|0,i=(i=i+Math.imul(v,Z)|0)+Math.imul(E,W)|0,o=o+Math.imul(E,Z)|0,n=n+Math.imul(y,Y)|0,i=(i=i+Math.imul(y,J)|0)+Math.imul(b,Y)|0,o=o+Math.imul(b,J)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(g,Q)|0,o=o+Math.imul(g,ee)|0;var eE=(l+(n=n+Math.imul(d,er)|0)|0)+((8191&(i=(i=i+Math.imul(d,en)|0)+Math.imul(f,er)|0))<<13)|0;l=((o=o+Math.imul(f,en)|0)+(i>>>13)|0)+(eE>>>26)|0,eE&=67108863,n=Math.imul(P,F),i=(i=Math.imul(P,z))+Math.imul(T,F)|0,o=Math.imul(T,z),n=n+Math.imul(I,G)|0,i=(i=i+Math.imul(I,H)|0)+Math.imul(C,G)|0,o=o+Math.imul(C,H)|0,n=n+Math.imul(A,W)|0,i=(i=i+Math.imul(A,Z)|0)+Math.imul(S,W)|0,o=o+Math.imul(S,Z)|0,n=n+Math.imul(v,Y)|0,i=(i=i+Math.imul(v,J)|0)+Math.imul(E,Y)|0,o=o+Math.imul(E,J)|0,n=n+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(b,Q)|0,o=o+Math.imul(b,ee)|0,n=n+Math.imul(p,er)|0,i=(i=i+Math.imul(p,en)|0)+Math.imul(g,er)|0,o=o+Math.imul(g,en)|0;var ex=(l+(n=n+Math.imul(d,eo)|0)|0)+((8191&(i=(i=i+Math.imul(d,ea)|0)+Math.imul(f,eo)|0))<<13)|0;l=((o=o+Math.imul(f,ea)|0)+(i>>>13)|0)+(ex>>>26)|0,ex&=67108863,n=Math.imul(N,F),i=(i=Math.imul(N,z))+Math.imul(M,F)|0,o=Math.imul(M,z),n=n+Math.imul(P,G)|0,i=(i=i+Math.imul(P,H)|0)+Math.imul(T,G)|0,o=o+Math.imul(T,H)|0,n=n+Math.imul(I,W)|0,i=(i=i+Math.imul(I,Z)|0)+Math.imul(C,W)|0,o=o+Math.imul(C,Z)|0,n=n+Math.imul(A,Y)|0,i=(i=i+Math.imul(A,J)|0)+Math.imul(S,Y)|0,o=o+Math.imul(S,J)|0,n=n+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,ee)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,ee)|0,n=n+Math.imul(y,er)|0,i=(i=i+Math.imul(y,en)|0)+Math.imul(b,er)|0,o=o+Math.imul(b,en)|0,n=n+Math.imul(p,eo)|0,i=(i=i+Math.imul(p,ea)|0)+Math.imul(g,eo)|0,o=o+Math.imul(g,ea)|0;var eA=(l+(n=n+Math.imul(d,ec)|0)|0)+((8191&(i=(i=i+Math.imul(d,el)|0)+Math.imul(f,ec)|0))<<13)|0;l=((o=o+Math.imul(f,el)|0)+(i>>>13)|0)+(eA>>>26)|0,eA&=67108863,n=Math.imul(D,F),i=(i=Math.imul(D,z))+Math.imul(L,F)|0,o=Math.imul(L,z),n=n+Math.imul(N,G)|0,i=(i=i+Math.imul(N,H)|0)+Math.imul(M,G)|0,o=o+Math.imul(M,H)|0,n=n+Math.imul(P,W)|0,i=(i=i+Math.imul(P,Z)|0)+Math.imul(T,W)|0,o=o+Math.imul(T,Z)|0,n=n+Math.imul(I,Y)|0,i=(i=i+Math.imul(I,J)|0)+Math.imul(C,Y)|0,o=o+Math.imul(C,J)|0,n=n+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,ee)|0)+Math.imul(S,Q)|0,o=o+Math.imul(S,ee)|0,n=n+Math.imul(v,er)|0,i=(i=i+Math.imul(v,en)|0)+Math.imul(E,er)|0,o=o+Math.imul(E,en)|0,n=n+Math.imul(y,eo)|0,i=(i=i+Math.imul(y,ea)|0)+Math.imul(b,eo)|0,o=o+Math.imul(b,ea)|0,n=n+Math.imul(p,ec)|0,i=(i=i+Math.imul(p,el)|0)+Math.imul(g,ec)|0,o=o+Math.imul(g,el)|0;var eS=(l+(n=n+Math.imul(d,ed)|0)|0)+((8191&(i=(i=i+Math.imul(d,ef)|0)+Math.imul(f,ed)|0))<<13)|0;l=((o=o+Math.imul(f,ef)|0)+(i>>>13)|0)+(eS>>>26)|0,eS&=67108863,n=Math.imul(U,F),i=(i=Math.imul(U,z))+Math.imul(j,F)|0,o=Math.imul(j,z),n=n+Math.imul(D,G)|0,i=(i=i+Math.imul(D,H)|0)+Math.imul(L,G)|0,o=o+Math.imul(L,H)|0,n=n+Math.imul(N,W)|0,i=(i=i+Math.imul(N,Z)|0)+Math.imul(M,W)|0,o=o+Math.imul(M,Z)|0,n=n+Math.imul(P,Y)|0,i=(i=i+Math.imul(P,J)|0)+Math.imul(T,Y)|0,o=o+Math.imul(T,J)|0,n=n+Math.imul(I,Q)|0,i=(i=i+Math.imul(I,ee)|0)+Math.imul(C,Q)|0,o=o+Math.imul(C,ee)|0,n=n+Math.imul(A,er)|0,i=(i=i+Math.imul(A,en)|0)+Math.imul(S,er)|0,o=o+Math.imul(S,en)|0,n=n+Math.imul(v,eo)|0,i=(i=i+Math.imul(v,ea)|0)+Math.imul(E,eo)|0,o=o+Math.imul(E,ea)|0,n=n+Math.imul(y,ec)|0,i=(i=i+Math.imul(y,el)|0)+Math.imul(b,ec)|0,o=o+Math.imul(b,el)|0,n=n+Math.imul(p,ed)|0,i=(i=i+Math.imul(p,ef)|0)+Math.imul(g,ed)|0,o=o+Math.imul(g,ef)|0;var e_=(l+(n=n+Math.imul(d,ep)|0)|0)+((8191&(i=(i=i+Math.imul(d,eg)|0)+Math.imul(f,ep)|0))<<13)|0;l=((o=o+Math.imul(f,eg)|0)+(i>>>13)|0)+(e_>>>26)|0,e_&=67108863,n=Math.imul(U,G),i=(i=Math.imul(U,H))+Math.imul(j,G)|0,o=Math.imul(j,H),n=n+Math.imul(D,W)|0,i=(i=i+Math.imul(D,Z)|0)+Math.imul(L,W)|0,o=o+Math.imul(L,Z)|0,n=n+Math.imul(N,Y)|0,i=(i=i+Math.imul(N,J)|0)+Math.imul(M,Y)|0,o=o+Math.imul(M,J)|0,n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(T,Q)|0,o=o+Math.imul(T,ee)|0,n=n+Math.imul(I,er)|0,i=(i=i+Math.imul(I,en)|0)+Math.imul(C,er)|0,o=o+Math.imul(C,en)|0,n=n+Math.imul(A,eo)|0,i=(i=i+Math.imul(A,ea)|0)+Math.imul(S,eo)|0,o=o+Math.imul(S,ea)|0,n=n+Math.imul(v,ec)|0,i=(i=i+Math.imul(v,el)|0)+Math.imul(E,ec)|0,o=o+Math.imul(E,el)|0,n=n+Math.imul(y,ed)|0,i=(i=i+Math.imul(y,ef)|0)+Math.imul(b,ed)|0,o=o+Math.imul(b,ef)|0;var eI=(l+(n=n+Math.imul(p,ep)|0)|0)+((8191&(i=(i=i+Math.imul(p,eg)|0)+Math.imul(g,ep)|0))<<13)|0;l=((o=o+Math.imul(g,eg)|0)+(i>>>13)|0)+(eI>>>26)|0,eI&=67108863,n=Math.imul(U,W),i=(i=Math.imul(U,Z))+Math.imul(j,W)|0,o=Math.imul(j,Z),n=n+Math.imul(D,Y)|0,i=(i=i+Math.imul(D,J)|0)+Math.imul(L,Y)|0,o=o+Math.imul(L,J)|0,n=n+Math.imul(N,Q)|0,i=(i=i+Math.imul(N,ee)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,ee)|0,n=n+Math.imul(P,er)|0,i=(i=i+Math.imul(P,en)|0)+Math.imul(T,er)|0,o=o+Math.imul(T,en)|0,n=n+Math.imul(I,eo)|0,i=(i=i+Math.imul(I,ea)|0)+Math.imul(C,eo)|0,o=o+Math.imul(C,ea)|0,n=n+Math.imul(A,ec)|0,i=(i=i+Math.imul(A,el)|0)+Math.imul(S,ec)|0,o=o+Math.imul(S,el)|0,n=n+Math.imul(v,ed)|0,i=(i=i+Math.imul(v,ef)|0)+Math.imul(E,ed)|0,o=o+Math.imul(E,ef)|0;var eC=(l+(n=n+Math.imul(y,ep)|0)|0)+((8191&(i=(i=i+Math.imul(y,eg)|0)+Math.imul(b,ep)|0))<<13)|0;l=((o=o+Math.imul(b,eg)|0)+(i>>>13)|0)+(eC>>>26)|0,eC&=67108863,n=Math.imul(U,Y),i=(i=Math.imul(U,J))+Math.imul(j,Y)|0,o=Math.imul(j,J),n=n+Math.imul(D,Q)|0,i=(i=i+Math.imul(D,ee)|0)+Math.imul(L,Q)|0,o=o+Math.imul(L,ee)|0,n=n+Math.imul(N,er)|0,i=(i=i+Math.imul(N,en)|0)+Math.imul(M,er)|0,o=o+Math.imul(M,en)|0,n=n+Math.imul(P,eo)|0,i=(i=i+Math.imul(P,ea)|0)+Math.imul(T,eo)|0,o=o+Math.imul(T,ea)|0,n=n+Math.imul(I,ec)|0,i=(i=i+Math.imul(I,el)|0)+Math.imul(C,ec)|0,o=o+Math.imul(C,el)|0,n=n+Math.imul(A,ed)|0,i=(i=i+Math.imul(A,ef)|0)+Math.imul(S,ed)|0,o=o+Math.imul(S,ef)|0;var eO=(l+(n=n+Math.imul(v,ep)|0)|0)+((8191&(i=(i=i+Math.imul(v,eg)|0)+Math.imul(E,ep)|0))<<13)|0;l=((o=o+Math.imul(E,eg)|0)+(i>>>13)|0)+(eO>>>26)|0,eO&=67108863,n=Math.imul(U,Q),i=(i=Math.imul(U,ee))+Math.imul(j,Q)|0,o=Math.imul(j,ee),n=n+Math.imul(D,er)|0,i=(i=i+Math.imul(D,en)|0)+Math.imul(L,er)|0,o=o+Math.imul(L,en)|0,n=n+Math.imul(N,eo)|0,i=(i=i+Math.imul(N,ea)|0)+Math.imul(M,eo)|0,o=o+Math.imul(M,ea)|0,n=n+Math.imul(P,ec)|0,i=(i=i+Math.imul(P,el)|0)+Math.imul(T,ec)|0,o=o+Math.imul(T,el)|0,n=n+Math.imul(I,ed)|0,i=(i=i+Math.imul(I,ef)|0)+Math.imul(C,ed)|0,o=o+Math.imul(C,ef)|0;var eP=(l+(n=n+Math.imul(A,ep)|0)|0)+((8191&(i=(i=i+Math.imul(A,eg)|0)+Math.imul(S,ep)|0))<<13)|0;l=((o=o+Math.imul(S,eg)|0)+(i>>>13)|0)+(eP>>>26)|0,eP&=67108863,n=Math.imul(U,er),i=(i=Math.imul(U,en))+Math.imul(j,er)|0,o=Math.imul(j,en),n=n+Math.imul(D,eo)|0,i=(i=i+Math.imul(D,ea)|0)+Math.imul(L,eo)|0,o=o+Math.imul(L,ea)|0,n=n+Math.imul(N,ec)|0,i=(i=i+Math.imul(N,el)|0)+Math.imul(M,ec)|0,o=o+Math.imul(M,el)|0,n=n+Math.imul(P,ed)|0,i=(i=i+Math.imul(P,ef)|0)+Math.imul(T,ed)|0,o=o+Math.imul(T,ef)|0;var eT=(l+(n=n+Math.imul(I,ep)|0)|0)+((8191&(i=(i=i+Math.imul(I,eg)|0)+Math.imul(C,ep)|0))<<13)|0;l=((o=o+Math.imul(C,eg)|0)+(i>>>13)|0)+(eT>>>26)|0,eT&=67108863,n=Math.imul(U,eo),i=(i=Math.imul(U,ea))+Math.imul(j,eo)|0,o=Math.imul(j,ea),n=n+Math.imul(D,ec)|0,i=(i=i+Math.imul(D,el)|0)+Math.imul(L,ec)|0,o=o+Math.imul(L,el)|0,n=n+Math.imul(N,ed)|0,i=(i=i+Math.imul(N,ef)|0)+Math.imul(M,ed)|0,o=o+Math.imul(M,ef)|0;var ek=(l+(n=n+Math.imul(P,ep)|0)|0)+((8191&(i=(i=i+Math.imul(P,eg)|0)+Math.imul(T,ep)|0))<<13)|0;l=((o=o+Math.imul(T,eg)|0)+(i>>>13)|0)+(ek>>>26)|0,ek&=67108863,n=Math.imul(U,ec),i=(i=Math.imul(U,el))+Math.imul(j,ec)|0,o=Math.imul(j,el),n=n+Math.imul(D,ed)|0,i=(i=i+Math.imul(D,ef)|0)+Math.imul(L,ed)|0,o=o+Math.imul(L,ef)|0;var eN=(l+(n=n+Math.imul(N,ep)|0)|0)+((8191&(i=(i=i+Math.imul(N,eg)|0)+Math.imul(M,ep)|0))<<13)|0;l=((o=o+Math.imul(M,eg)|0)+(i>>>13)|0)+(eN>>>26)|0,eN&=67108863,n=Math.imul(U,ed),i=(i=Math.imul(U,ef))+Math.imul(j,ed)|0,o=Math.imul(j,ef);var eM=(l+(n=n+Math.imul(D,ep)|0)|0)+((8191&(i=(i=i+Math.imul(D,eg)|0)+Math.imul(L,ep)|0))<<13)|0;l=((o=o+Math.imul(L,eg)|0)+(i>>>13)|0)+(eM>>>26)|0,eM&=67108863;var eR=(l+(n=Math.imul(U,ep))|0)+((8191&(i=(i=Math.imul(U,eg))+Math.imul(j,ep)|0))<<13)|0;return l=((o=Math.imul(j,eg))+(i>>>13)|0)+(eR>>>26)|0,eR&=67108863,c[0]=em,c[1]=ey,c[2]=eb,c[3]=ew,c[4]=ev,c[5]=eE,c[6]=ex,c[7]=eA,c[8]=eS,c[9]=e_,c[10]=eI,c[11]=eC,c[12]=eO,c[13]=eP,c[14]=eT,c[15]=ek,c[16]=eN,c[17]=eM,c[18]=eR,0!==l&&(c[19]=l,r.length++),r};function y(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var a=i;i=0;for(var s=67108863&n,c=Math.min(o,t.length-1),l=Math.max(0,o-e.length+1);l<=c;l++){var u=o-l,d=(0|e.words[u])*(0|t.words[l]),f=67108863&d;a=a+(d/67108864|0)|0,s=67108863&(f=f+s|0),i+=(a=a+(f>>>26)|0)>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function b(e,t){this.x=e,this.y=t}Math.imul||(m=g),o.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return 10===this.length&&10===e.length?m(this,e,t):n<63?g(this,e,t):y(this,e,t)},b.prototype.makeRBT=function(e){for(var t=Array(e),r=o.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},b.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},b.prototype.permute=function(e,t,r,n,i,o){for(var a=0;a<o;a++)n[a]=t[e[a]],i[a]=r[e[a]]},b.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,c=Math.cos(2*Math.PI/s),l=Math.sin(2*Math.PI/s),u=0;u<i;u+=s)for(var d=c,f=l,h=0;h<a;h++){var p=r[u+h],g=n[u+h],m=r[u+h+a],y=n[u+h+a],b=d*m-f*y;y=d*y+f*m,m=b,r[u+h]=p+m,n[u+h]=g+y,r[u+h+a]=p-m,n[u+h+a]=g-y,h!==s&&(b=c*d-l*f,f=c*f+l*d,d=b)}},b.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},b.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},b.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},b.prototype.convert13b=function(e,t,r,i){for(var o=0,a=0;a<t;a++)o+=0|e[a],r[2*a]=8191&o,o>>>=13,r[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<i;++a)r[a]=0;n(0===o),n((-8192&o)==0)},b.prototype.stub=function(e){for(var t=Array(e),r=0;r<e;r++)t[r]=0;return t},b.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),a=Array(n),s=Array(n),c=Array(n),l=Array(n),u=Array(n),d=Array(n),f=r.words;f.length=n,this.convert13b(e.words,e.length,a,n),this.convert13b(t.words,t.length,l,n),this.transform(a,o,s,c,n,i),this.transform(l,o,u,d,n,i);for(var h=0;h<n;h++){var p=s[h]*u[h]-c[h]*d[h];c[h]=s[h]*d[h]+c[h]*u[h],s[h]=p}return this.conjugate(s,c,n),this.transform(s,c,f,o,n,i),this.conjugate(f,o,n),this.normalize13b(f,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r._strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=Array(this.length+e.length),y(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){var t=e<0;t&&(e=-e),n("number"==typeof e),n(e<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*e,a=(67108863&o)+(67108863&r);r>>=26,r+=(o/67108864|0)+(a>>>26),this.words[i]=67108863&a}return 0!==r&&(this.words[i]=r,this.length++),this.length=0===e?1:this.length,t?this.ineg():this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=e.words[n]>>>i&1}return t}(e);if(0===t.length)return new o(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,c=(0|this.words[t])-s<<r;this.words[t]=c|a,a=s>>>26-r}a&&(this.words[t]=a,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,r){n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var i,o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o;if(i-=a,i=Math.max(0,i),r){for(var c=0;c<a;c++)r.words[c]=this.words[c];r.length=a}if(0===a);else if(this.length>a)for(this.length-=a,c=0;c<this.length;c++)this.words[c]=this.words[c+a];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var u=0|this.words[c];this.words[c]=l<<26-o|u>>>o,l=u&s}return r&&0!==l&&(r.words[r.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;return!(this.length<=r)&&!!(this.words[r]&1<<t)},o.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;return(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)?this:(0!==t&&r++,this.length=Math.min(r,this.length),0!==t&&(this.words[this.length-1]&=67108863^67108863>>>t<<t),this._strip())},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return(n("number"==typeof e),n(e<67108864),e<0)?this.isubn(-e):0!==this.negative?(1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0):(this.negative=0,this.isubn(e),this.negative=1),this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,r){var i,o,a=e.length+r;this._expand(a);var s=0;for(i=0;i<e.length;i++){o=(0|this.words[i+r])+s;var c=(0|e.words[i])*t;o-=67108863&c,s=(o>>26)-(c/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)s=(o=(0|this.words[i+r])+s)>>26,this.words[i+r]=67108863&o;if(0===s)return this._strip();for(n(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(e,t){var r,n=this.length-e.length,i=this.clone(),a=e,s=0|a.words[a.length-1];0!=(n=26-this._countBits(s))&&(a=a.ushln(n),i.iushln(n),s=0|a.words[a.length-1]);var c=i.length-a.length;if("mod"!==t){(r=new o(null)).length=c+1,r.words=Array(r.length);for(var l=0;l<r.length;l++)r.words[l]=0}var u=i.clone()._ishlnsubmul(a,1,c);0===u.negative&&(i=u,r&&(r.words[c]=1));for(var d=c-1;d>=0;d--){var f=(0|i.words[a.length+d])*67108864+(0|i.words[a.length+d-1]);for(f=Math.min(f/s|0,67108863),i._ishlnsubmul(a,f,d);0!==i.negative;)f--,i.negative=0,i._ishlnsubmul(a,1,d),i.isZero()||(i.negative^=1);r&&(r.words[d]=f)}return r&&r._strip(),i._strip(),"div"!==t&&0!==n&&i.iushrn(n),{div:r||null,mod:i}},o.prototype.divmod=function(e,t,r){var i,a,s;return(n(!e.isZero()),this.isZero())?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(i=s.div.neg()),"div"!==t&&(a=s.mod.neg(),r&&0!==a.negative&&a.iadd(e)),{div:i,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(i=s.div.neg()),{div:i,mod:s.mod}):(this.negative&e.negative)!=0?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),r&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||0>this.cmp(e)?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modrn(e.words[0]))}:this._wordDiv(e,t)},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modrn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=67108864%e,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%e;return t?-i:i},o.prototype.modn=function(e){return this.modrn(e)},o.prototype.idivn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/e|0,r=o%e}return this._strip(),t?this.ineg():this},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),a=new o(0),s=new o(0),c=new o(1),l=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++l;for(var u=r.clone(),d=t.clone();!t.isZero();){for(var f=0,h=1;(t.words[0]&h)==0&&f<26;++f,h<<=1);if(f>0)for(t.iushrn(f);f-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(u),a.isub(d)),i.iushrn(1),a.iushrn(1);for(var p=0,g=1;(r.words[0]&g)==0&&p<26;++p,g<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(s.isOdd()||c.isOdd())&&(s.iadd(u),c.isub(d)),s.iushrn(1),c.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(s),a.isub(c)):(r.isub(t),s.isub(i),c.isub(a))}return{a:s,b:c,gcd:r.iushln(l)}},o.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t,r=this,i=e.clone();r=0!==r.negative?r.umod(e):r.clone();for(var a=new o(1),s=new o(0),c=i.clone();r.cmpn(1)>0&&i.cmpn(1)>0;){for(var l=0,u=1;(r.words[0]&u)==0&&l<26;++l,u<<=1);if(l>0)for(r.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);for(var d=0,f=1;(i.words[0]&f)==0&&d<26;++d,f<<=1);if(d>0)for(i.iushrn(d);d-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);r.cmp(i)>=0?(r.isub(i),a.isub(s)):(i.isub(r),s.isub(a))}return 0>(t=0===r.cmpn(1)?a:s).cmpn(0)&&t.iadd(e),t},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return(1&this.words[0])==0},o.prototype.isOdd=function(){return(1&this.words[0])==1},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,a=r;0!==o&&a<this.length;a++){var s=0|this.words[a];s+=o,o=s>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return -1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return -1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return -1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return -1===this.cmpn(e)},o.prototype.lt=function(e){return -1===this.cmp(e)},o.prototype.lten=function(e){return 0>=this.cmpn(e)},o.prototype.lte=function(e){return 0>=this.cmp(e)},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new _(e)},o.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var w={k256:null,p224:null,p192:null,p25519:null};function v(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function E(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function x(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function A(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function S(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function _(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function I(e){_.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var e=new o(null);return e.words=Array(Math.ceil(this.n/13)),e},v.prototype.ireduce=function(e){var t,r=e;do this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength();while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},v.prototype.split=function(e,t){e.iushrn(this.n,0,t)},v.prototype.imulK=function(e){return e.imul(this.k)},i(E,v),E.prototype.split=function(e,t){for(var r=Math.min(e.length,9),n=0;n<r;n++)t.words[n]=e.words[n];if(t.length=r,e.length<=9){e.words[0]=0,e.length=1;return}var i=e.words[9];for(n=10,t.words[t.length++]=4194303&i;n<e.length;n++){var o=0|e.words[n];e.words[n-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,e.words[n-10]=i,0===i&&e.length>10?e.length-=10:e.length-=9},E.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(x,v),i(A,v),i(S,v),S.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=(0|e.words[r])*19+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){var t;if(w[e])return w[e];if("k256"===e)t=new E;else if("p224"===e)t=new x;else if("p192"===e)t=new A;else if("p25519"===e)t=new S;else throw Error("Unknown prime "+e);return w[e]=t,t},_.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},_.prototype._verify2=function(e,t){n((e.negative|t.negative)==0,"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},_.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(l(e,e.umod(this.m)._forceRed(this)),e)},_.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},_.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},_.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},_.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return 0>r.cmpn(0)&&r.iadd(this.m),r._forceRed(this)},_.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return 0>r.cmpn(0)&&r.iadd(this.m),r},_.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},_.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},_.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},_.prototype.isqr=function(e){return this.imul(e,e.clone())},_.prototype.sqr=function(e){return this.mul(e,e)},_.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new o(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);n(!i.isZero());var s=new o(1).toRed(this),c=s.redNeg(),l=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new o(2*u*u).toRed(this);0!==this.pow(u,l).cmp(c);)u.redIAdd(c);for(var d=this.pow(u,i),f=this.pow(e,i.addn(1).iushrn(1)),h=this.pow(e,i),p=a;0!==h.cmp(s);){for(var g=h,m=0;0!==g.cmp(s);m++)g=g.redSqr();n(m<p);var y=this.pow(d,new o(1).iushln(p-m-1));f=f.redMul(y),d=y.redSqr(),h=h.redMul(d),p=m}return f},_.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},_.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=Array(16);r[0]=new o(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],a=0,s=0,c=t.bitLength()%26;for(0===c&&(c=26),n=t.length-1;n>=0;n--){for(var l=t.words[n],u=c-1;u>=0;u--){var d=l>>u&1;if(i!==r[0]&&(i=this.sqr(i)),0===d&&0===a){s=0;continue}a<<=1,a|=d,(4==++s||0===n&&0===u)&&(i=this.mul(i,r[a]),s=0,a=0)}c=26}return i},_.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},_.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new I(e)},i(I,_),I.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},I.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},I.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):0>i.cmpn(0)&&(o=i.iadd(this.m)),o._forceRed(this)},I.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):0>i.cmpn(0)&&(a=i.iadd(this.m)),a._forceRed(this)},I.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},88806:function(e,t,r){"use strict";var n=r(82957).Buffer,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&i(t,e,r);return o(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeUnchecked=t.deserialize=t.serialize=t.BinaryReader=t.BinaryWriter=t.BorshError=t.baseDecode=t.baseEncode=void 0;let l=c(r(44373)),u=c(r(59147)),d=s(r(65768)),f=new("function"!=typeof TextDecoder?d.TextDecoder:TextDecoder)("utf-8",{fatal:!0});t.baseEncode=function(e){return"string"==typeof e&&(e=n.from(e,"utf8")),u.default.encode(n.from(e))},t.baseDecode=function(e){return n.from(u.default.decode(e))};class h extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}t.BorshError=h;class p{constructor(){this.buf=n.alloc(1024),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=n.concat([this.buf,n.alloc(1024)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(n.from(new l.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(n.from(new l.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(n.from(new l.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(n.from(new l.default(e).toArray("le",64)))}writeBuffer(e){this.buf=n.concat([n.from(this.buf.subarray(0,this.length)),e,n.alloc(1024)]),this.length+=e.length}writeString(e){this.maybeResize();let t=n.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(n.from(e))}writeArray(e,t){for(let r of(this.maybeResize(),this.writeU32(e.length),e))this.maybeResize(),t(r)}toArray(){return this.buf.subarray(0,this.length)}}function g(e,t,r){let n=r.value;r.value=function(...e){try{return n.apply(this,e)}catch(e){if(e instanceof RangeError&&["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(e.code)>=0)throw new h("Reached the end of buffer when deserializing");throw e}}}t.BinaryWriter=p;class m{constructor(e){this.buf=e,this.offset=0}readU8(){let e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){let e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){let e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){let e=this.readBuffer(8);return new l.default(e,"le")}readU128(){let e=this.readBuffer(16);return new l.default(e,"le")}readU256(){let e=this.readBuffer(32);return new l.default(e,"le")}readU512(){let e=this.readBuffer(64);return new l.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new h(`Expected buffer length ${e} isn't within bounds`);let t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){let e=this.readU32(),t=this.readBuffer(e);try{return f.decode(t)}catch(e){throw new h(`Error decoding UTF-8 string: ${e}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){let t=this.readU32(),r=[];for(let n=0;n<t;++n)r.push(e());return r}}function y(e){return e.charAt(0).toUpperCase()+e.slice(1)}function b(e,t,r,n,i){try{if("string"==typeof n)i[`write${y(n)}`](r);else if(n instanceof Array){if("number"==typeof n[0]){if(r.length!==n[0])throw new h(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(2===n.length&&"number"==typeof n[1]){if(r.length!==n[1])throw new h(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let t=0;t<n[1];t++)b(e,null,r[t],n[0],i)}else i.writeArray(r,r=>{b(e,t,r,n[0],i)})}else if(void 0!==n.kind)switch(n.kind){case"option":null==r?i.writeU8(0):(i.writeU8(1),b(e,t,r,n.type,i));break;case"map":i.writeU32(r.size),r.forEach((r,o)=>{b(e,t,o,n.key,i),b(e,t,r,n.value,i)});break;default:throw new h(`FieldType ${n} unrecognized`)}else w(e,r,i)}catch(e){throw e instanceof h&&e.addToFieldPath(t),e}}function w(e,t,r){if("function"==typeof t.borshSerialize){t.borshSerialize(r);return}let n=e.get(t.constructor);if(!n)throw new h(`Class ${t.constructor.name} is missing in schema`);if("struct"===n.kind)n.fields.map(([n,i])=>{b(e,n,t[n],i,r)});else if("enum"===n.kind){let i=t[n.field];for(let o=0;o<n.values.length;++o){let[a,s]=n.values[o];if(a===i){r.writeU8(o),b(e,a,t[a],s,r);break}}}else throw new h(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}function v(e,t,r,n){try{if("string"==typeof r)return n[`read${y(r)}`]();if(r instanceof Array){if("number"==typeof r[0])return n.readFixedArray(r[0]);if("number"!=typeof r[1])return n.readArray(()=>v(e,t,r[0],n));{let t=[];for(let i=0;i<r[1];i++)t.push(v(e,null,r[0],n));return t}}if("option"===r.kind){if(n.readU8())return v(e,t,r.type,n);return}if("map"===r.kind){let i=new Map,o=n.readU32();for(let a=0;a<o;a++){let o=v(e,t,r.key,n),a=v(e,t,r.value,n);i.set(o,a)}return i}return E(e,r,n)}catch(e){throw e instanceof h&&e.addToFieldPath(t),e}}function E(e,t,r){if("function"==typeof t.borshDeserialize)return t.borshDeserialize(r);let n=e.get(t);if(!n)throw new h(`Class ${t.name} is missing in schema`);if("struct"===n.kind){let n={};for(let[i,o]of e.get(t).fields)n[i]=v(e,i,o,r);return new t(n)}if("enum"===n.kind){let i=r.readU8();if(i>=n.values.length)throw new h(`Enum index: ${i} is out of range`);let[o,a]=n.values[i],s=v(e,o,a,r);return new t({[o]:s})}throw new h(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}a([g],m.prototype,"readU8",null),a([g],m.prototype,"readU16",null),a([g],m.prototype,"readU32",null),a([g],m.prototype,"readU64",null),a([g],m.prototype,"readU128",null),a([g],m.prototype,"readU256",null),a([g],m.prototype,"readU512",null),a([g],m.prototype,"readString",null),a([g],m.prototype,"readFixedArray",null),a([g],m.prototype,"readArray",null),t.BinaryReader=m,t.serialize=function(e,t,r=p){let n=new r;return w(e,t,n),n.toArray()},t.deserialize=function(e,t,r,n=m){let i=new n(r),o=E(e,t,i);if(i.offset<r.length)throw new h(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return o},t.deserializeUnchecked=function(e,t,r,n=m){return E(e,t,new n(r))}},73493:function(e){var t;t=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,(function(t){return e[t]}).bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=90)}({17:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=r(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var r=t.match(e);return r&&r.length>0&&r[1]||""},e.getSecondMatch=function(e,t){var r=t.match(e);return r&&r.length>1&&r[2]||""},e.matchAndReturnConst=function(e,t,r){if(e.test(t))return r},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map(function(e){return parseInt(e,10)||0});t.push(0);var r=t[0],n=t[1];if(10===r)switch(n){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}switch(r){case 11:return"Big Sur";case 12:return"Monterey";case 13:return"Ventura";case 14:return"Sonoma";case 15:return"Sequoia";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map(function(e){return parseInt(e,10)||0});if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,r,n){void 0===n&&(n=!1);var i=e.getVersionPrecision(t),o=e.getVersionPrecision(r),a=Math.max(i,o),s=0,c=e.map([t,r],function(t){var r=a-e.getVersionPrecision(t),n=t+Array(r+1).join(".0");return e.map(n.split("."),function(e){return Array(20-e.length).join("0")+e}).reverse()});for(n&&(s=a-Math.min(i,o)),a-=1;a>=s;){if(c[0][a]>c[1][a])return 1;if(c[0][a]===c[1][a]){if(a===s)return 0;a-=1}else if(c[0][a]<c[1][a])return -1}},e.map=function(e,t){var r,n=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r+=1)n.push(t(e[r]));return n},e.find=function(e,t){var r,n;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(r=0,n=e.length;r<n;r+=1){var i=e[r];if(t(i,r))return i}},e.assign=function(e){for(var t,r,n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];if(Object.assign)return Object.assign.apply(Object,[e].concat(i));for(t=0,r=i.length;t<r;t+=1)(function(){var r=i[t];"object"==typeof r&&null!==r&&Object.keys(r).forEach(function(t){e[t]=r[t]})})();return e},e.getBrowserAlias=function(e){return n.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return n.BROWSER_MAP[e]||""},e}();t.default=i,e.exports=t.default},18:function(e,t,r){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={AmazonBot:"amazonbot","Amazon Silk":"amazon_silk","Android Browser":"android",BaiduSpider:"baiduspider",Bada:"bada",BingCrawler:"bingcrawler",BlackBerry:"blackberry","ChatGPT-User":"chatgpt_user",Chrome:"chrome",ClaudeBot:"claudebot",Chromium:"chromium",Diffbot:"diffbot",DuckDuckBot:"duckduckbot",Electron:"electron",Epiphany:"epiphany",FacebookExternalHit:"facebookexternalhit",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot",GPTBot:"gptbot","Internet Explorer":"ie",InternetArchiveCrawler:"internetarchivecrawler","K-Meleon":"k_meleon",LibreWolf:"librewolf",Maxthon:"maxthon","Meta-ExternalAds":"meta_externalads","Meta-ExternalAgent":"meta_externalagent","Meta-ExternalFetcher":"meta_externalfetcher","Meta-WebIndexer":"meta_webindexer","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver","OAI-SearchBot":"oai_searchbot",Omgilibot:"omgilibot",Opera:"opera","Opera Coast":"opera_coast","Pale Moon":"pale_moon",PerplexityBot:"perplexitybot","Perplexity-User":"perplexity_user",PhantomJS:"phantomjs",PingdomBot:"pingdombot",Puffin:"puffin",QQ:"qq",QQLite:"qqlite",QupZilla:"qupzilla",Roku:"roku",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir","Sogou Browser":"sogou",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat",YahooSlurp:"yahooslurp","Yandex Browser":"yandex",YandexBot:"yandexbot",YouBot:"youbot"},t.BROWSER_MAP={amazonbot:"AmazonBot",amazon_silk:"Amazon Silk",android:"Android Browser",baiduspider:"BaiduSpider",bada:"Bada",bingcrawler:"BingCrawler",blackberry:"BlackBerry",chatgpt_user:"ChatGPT-User",chrome:"Chrome",claudebot:"ClaudeBot",chromium:"Chromium",diffbot:"Diffbot",duckduckbot:"DuckDuckBot",edge:"Microsoft Edge",electron:"Electron",epiphany:"Epiphany",facebookexternalhit:"FacebookExternalHit",firefox:"Firefox",focus:"Focus",generic:"Generic",google_search:"Google Search",googlebot:"Googlebot",gptbot:"GPTBot",ie:"Internet Explorer",internetarchivecrawler:"InternetArchiveCrawler",k_meleon:"K-Meleon",librewolf:"LibreWolf",maxthon:"Maxthon",meta_externalads:"Meta-ExternalAds",meta_externalagent:"Meta-ExternalAgent",meta_externalfetcher:"Meta-ExternalFetcher",meta_webindexer:"Meta-WebIndexer",mz:"MZ Browser",naver:"NAVER Whale Browser",oai_searchbot:"OAI-SearchBot",omgilibot:"Omgilibot",opera:"Opera",opera_coast:"Opera Coast",pale_moon:"Pale Moon",perplexitybot:"PerplexityBot",perplexity_user:"Perplexity-User",phantomjs:"PhantomJS",pingdombot:"PingdomBot",puffin:"Puffin",qq:"QQ Browser",qqlite:"QQ Browser Lite",qupzilla:"QupZilla",roku:"Roku",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",sogou:"Sogou Browser",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yahooslurp:"YahooSlurp",yandex:"Yandex Browser",yandexbot:"YandexBot",youbot:"YouBot"},t.PLATFORMS_MAP={bot:"bot",desktop:"desktop",mobile:"mobile",tablet:"tablet",tv:"tv"},t.OS_MAP={Android:"Android",Bada:"Bada",BlackBerry:"BlackBerry",ChromeOS:"Chrome OS",HarmonyOS:"HarmonyOS",iOS:"iOS",Linux:"Linux",MacOS:"macOS",PlayStation4:"PlayStation 4",Roku:"Roku",Tizen:"Tizen",WebOS:"WebOS",Windows:"Windows",WindowsPhone:"Windows Phone"},t.ENGINE_MAP={Blink:"Blink",EdgeHTML:"EdgeHTML",Gecko:"Gecko",Presto:"Presto",Trident:"Trident",WebKit:"WebKit"}},90:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,i=(n=r(91))&&n.__esModule?n:{default:n},o=r(18),a=function(){function e(){}return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw Error("UserAgent should be a string");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e,[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}]),e}();t.default=a,e.exports=t.default},91:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=c(r(92)),i=c(r(93)),o=c(r(94)),a=c(r(95)),s=c(r(17));function c(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=s.default.find(n.default,function(t){if("function"==typeof t.test)return t.test(e);if(Array.isArray(t.test))return t.test.some(function(t){return e.test(t)});throw Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=s.default.find(i.default,function(t){if("function"==typeof t.test)return t.test(e);if(Array.isArray(t.test))return t.test.some(function(t){return e.test(t)});throw Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=s.default.find(o.default,function(t){if("function"==typeof t.test)return t.test(e);if(Array.isArray(t.test))return t.test.some(function(t){return e.test(t)});throw Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=s.default.find(a.default,function(t){if("function"==typeof t.test)return t.test(e);if(Array.isArray(t.test))return t.test.some(function(t){return e.test(t)});throw Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return s.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,r={},n=0,i={},o=0;if(Object.keys(e).forEach(function(t){var a=e[t];"string"==typeof a?(i[t]=a,o+=1):"object"==typeof a&&(r[t]=a,n+=1)}),n>0){var a=Object.keys(r),c=s.default.find(a,function(e){return t.isOS(e)});if(c){var l=this.satisfies(r[c]);if(void 0!==l)return l}var u=s.default.find(a,function(e){return t.isPlatform(e)});if(u){var d=this.satisfies(r[u]);if(void 0!==d)return d}}if(o>0){var f=Object.keys(i),h=s.default.find(f,function(e){return t.isBrowser(e,!0)});if(void 0!==h)return this.compareVersion(i[h])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var r=this.getBrowserName().toLowerCase(),n=e.toLowerCase(),i=s.default.getBrowserTypeByAlias(n);return t&&i&&(n=i.toLowerCase()),n===r},t.compareVersion=function(e){var t=[0],r=e,n=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(r=e.substr(1),"="===e[1]?(n=!0,r=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?r=e.substr(1):"~"===e[0]&&(n=!0,r=e.substr(1)),t.indexOf(s.default.compareVersions(i,r,n))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some(function(e){return t.is(e)})},e}();t.default=l,e.exports=t.default},92:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},o=/version\/(\d+(\.?_?\d+)+)/i,a=[{test:[/gptbot/i],describe:function(e){var t={name:"GPTBot"},r=i.default.getFirstMatch(/gptbot\/(\d+(\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/chatgpt-user/i],describe:function(e){var t={name:"ChatGPT-User"},r=i.default.getFirstMatch(/chatgpt-user\/(\d+(\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/oai-searchbot/i],describe:function(e){var t={name:"OAI-SearchBot"},r=i.default.getFirstMatch(/oai-searchbot\/(\d+(\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/claudebot/i,/claude-web/i,/claude-user/i,/claude-searchbot/i],describe:function(e){var t={name:"ClaudeBot"},r=i.default.getFirstMatch(/(?:claudebot|claude-web|claude-user|claude-searchbot)\/(\d+(\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/omgilibot/i,/webzio-extended/i],describe:function(e){var t={name:"Omgilibot"},r=i.default.getFirstMatch(/(?:omgilibot|webzio-extended)\/(\d+(\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/diffbot/i],describe:function(e){var t={name:"Diffbot"},r=i.default.getFirstMatch(/diffbot\/(\d+(\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/perplexitybot/i],describe:function(e){var t={name:"PerplexityBot"},r=i.default.getFirstMatch(/perplexitybot\/(\d+(\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/perplexity-user/i],describe:function(e){var t={name:"Perplexity-User"},r=i.default.getFirstMatch(/perplexity-user\/(\d+(\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/youbot/i],describe:function(e){var t={name:"YouBot"},r=i.default.getFirstMatch(/youbot\/(\d+(\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/meta-webindexer/i],describe:function(e){var t={name:"Meta-WebIndexer"},r=i.default.getFirstMatch(/meta-webindexer\/(\d+(\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/meta-externalads/i],describe:function(e){var t={name:"Meta-ExternalAds"},r=i.default.getFirstMatch(/meta-externalads\/(\d+(\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/meta-externalagent/i],describe:function(e){var t={name:"Meta-ExternalAgent"},r=i.default.getFirstMatch(/meta-externalagent\/(\d+(\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/meta-externalfetcher/i],describe:function(e){var t={name:"Meta-ExternalFetcher"},r=i.default.getFirstMatch(/meta-externalfetcher\/(\d+(\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},r=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/amazonbot/i],describe:function(e){var t={name:"AmazonBot"},r=i.default.getFirstMatch(/amazonbot\/(\d+(\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/bingbot/i],describe:function(e){var t={name:"BingCrawler"},r=i.default.getFirstMatch(/bingbot\/(\d+(\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/baiduspider/i],describe:function(e){var t={name:"BaiduSpider"},r=i.default.getFirstMatch(/baiduspider\/(\d+(\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/duckduckbot/i],describe:function(e){var t={name:"DuckDuckBot"},r=i.default.getFirstMatch(/duckduckbot\/(\d+(\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/ia_archiver/i],describe:function(e){var t={name:"InternetArchiveCrawler"},r=i.default.getFirstMatch(/ia_archiver\/(\d+(\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/facebookexternalhit/i,/facebookcatalog/i],describe:function(){return{name:"FacebookExternalHit"}}},{test:[/yahoo!?[\s/]*slurp/i],describe:function(){return{name:"YahooSlurp"}}},{test:[/yandexbot/i,/yandexmobilebot/i],describe:function(){return{name:"YandexBot"}}},{test:[/pingdom/i],describe:function(){return{name:"PingdomBot"}}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},r=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/PaleMoon/i],describe:function(e){var t={name:"Pale Moon"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:PaleMoon)[\s/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},r=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},r=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},r=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},r=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},r=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},r=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},r=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},r=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},r=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},r=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},r=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},r=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},r=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},r=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},r=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},r=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},r=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},r=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},r=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/librewolf/i],describe:function(e){var t={name:"LibreWolf"},r=i.default.getFirstMatch(/(?:librewolf)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},r=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},r=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sogoumobilebrowser/i,/metasr/i,/se 2\.[x]/i],describe:function(e){var t={name:"Sogou Browser"},r=i.default.getFirstMatch(/(?:sogoumobilebrowser)[\s/](\d+(\.?_?\d+)+)/i,e),n=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e),o=i.default.getFirstMatch(/se ([\d.]+)x/i,e),a=r||n||o;return a&&(t.version=a),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},r=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},r=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},r=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},r=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t={name:"Android Browser"},r=i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},r=i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},r=i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=a,e.exports=t.default},93:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},o=r(18),a=[{test:[/Roku\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:o.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),r=i.default.getWindowsVersionName(t);return{name:o.OS_MAP.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:o.OS_MAP.iOS},r=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return r&&(t.version=r),t}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),r=i.default.getMacOSVersionName(t),n={name:o.OS_MAP.MacOS,version:t};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:t}}},{test:[/OpenHarmony/i],describe:function(e){var t=i.default.getFirstMatch(/OpenHarmony\s+(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.HarmonyOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),r=i.default.getAndroidVersionName(t),n={name:o.OS_MAP.Android,version:t};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),r={name:o.OS_MAP.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||i.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:o.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.PlayStation4,version:t}}}];t.default=a,e.exports=t.default},94:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},o=r(18),a=[{test:[/googlebot/i],describe:function(){return{type:o.PLATFORMS_MAP.bot,vendor:"Google"}}},{test:[/amazonbot/i],describe:function(){return{type:o.PLATFORMS_MAP.bot,vendor:"Amazon"}}},{test:[/gptbot/i],describe:function(){return{type:o.PLATFORMS_MAP.bot,vendor:"OpenAI"}}},{test:[/chatgpt-user/i],describe:function(){return{type:o.PLATFORMS_MAP.bot,vendor:"OpenAI"}}},{test:[/oai-searchbot/i],describe:function(){return{type:o.PLATFORMS_MAP.bot,vendor:"OpenAI"}}},{test:[/baiduspider/i],describe:function(){return{type:o.PLATFORMS_MAP.bot,vendor:"Baidu"}}},{test:[/bingbot/i],describe:function(){return{type:o.PLATFORMS_MAP.bot,vendor:"Bing"}}},{test:[/duckduckbot/i],describe:function(){return{type:o.PLATFORMS_MAP.bot,vendor:"DuckDuckGo"}}},{test:[/claudebot/i,/claude-web/i,/claude-user/i,/claude-searchbot/i],describe:function(){return{type:o.PLATFORMS_MAP.bot,vendor:"Anthropic"}}},{test:[/omgilibot/i,/webzio-extended/i],describe:function(){return{type:o.PLATFORMS_MAP.bot,vendor:"Webz.io"}}},{test:[/diffbot/i],describe:function(){return{type:o.PLATFORMS_MAP.bot,vendor:"Diffbot"}}},{test:[/perplexitybot/i],describe:function(){return{type:o.PLATFORMS_MAP.bot,vendor:"Perplexity AI"}}},{test:[/perplexity-user/i],describe:function(){return{type:o.PLATFORMS_MAP.bot,vendor:"Perplexity AI"}}},{test:[/youbot/i],describe:function(){return{type:o.PLATFORMS_MAP.bot,vendor:"You.com"}}},{test:[/ia_archiver/i],describe:function(){return{type:o.PLATFORMS_MAP.bot,vendor:"Internet Archive"}}},{test:[/meta-webindexer/i],describe:function(){return{type:o.PLATFORMS_MAP.bot,vendor:"Meta"}}},{test:[/meta-externalads/i],describe:function(){return{type:o.PLATFORMS_MAP.bot,vendor:"Meta"}}},{test:[/meta-externalagent/i],describe:function(){return{type:o.PLATFORMS_MAP.bot,vendor:"Meta"}}},{test:[/meta-externalfetcher/i],describe:function(){return{type:o.PLATFORMS_MAP.bot,vendor:"Meta"}}},{test:[/facebookexternalhit/i,/facebookcatalog/i],describe:function(){return{type:o.PLATFORMS_MAP.bot,vendor:"Meta"}}},{test:[/yahoo/i],describe:function(){return{type:o.PLATFORMS_MAP.bot,vendor:"Yahoo"}}},{test:[/yandexbot/i,/yandexmobilebot/i],describe:function(){return{type:o.PLATFORMS_MAP.bot,vendor:"Yandex"}}},{test:[/pingdom/i],describe:function(){return{type:o.PLATFORMS_MAP.bot,vendor:"Pingdom"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",r={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(r.model=t),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/Nokia/i],describe:function(e){var t=i.default.getFirstMatch(/Nokia\s+([0-9]+(\.[0-9]+)?)/i,e),r={type:o.PLATFORMS_MAP.mobile,vendor:"Nokia"};return t&&(r.model=t),r}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];t.default=a,e.exports=t.default},95:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},o=r(18),a=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:o.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:o.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:o.ENGINE_MAP.Trident},r=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:o.ENGINE_MAP.Presto},r=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe:function(e){var t={name:o.ENGINE_MAP.Gecko},r=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:o.ENGINE_MAP.WebKit},r=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}}];t.default=a,e.exports=t.default}})},e.exports=t()},47223:function(e,t,r){var n;function i(e){this.rand=e}if(e.exports=function(e){return n||(n=new i(null)),n.generate(e)},e.exports.Rand=i,i.prototype.generate=function(e){return this._rand(e)},i.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(i.prototype._rand=function(){throw Error("Not implemented yet")});else try{var o=r(89214);if("function"!=typeof o.randomBytes)throw Error("Not supported");i.prototype._rand=function(e){return o.randomBytes(e)}}catch(e){}},59147:function(e,t,r){var n=r(18282);e.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},89862:function(e,t,r){"use strict";var n=r(92517),i=r(18690),o=r(93191),a=r(69756);e.exports=a||n.call(o,i)},82542:function(e,t,r){"use strict";var n=r(92517),i=r(18690),o=r(89862);e.exports=function(){return o(n,i,arguments)}},18690:function(e){"use strict";e.exports=Function.prototype.apply},93191:function(e){"use strict";e.exports=Function.prototype.call},56327:function(e,t,r){"use strict";var n=r(92517),i=r(53842),o=r(93191),a=r(89862);e.exports=function(e){if(e.length<1||"function"!=typeof e[0])throw new i("a function is required");return a(n,o,e)}},69756:function(e){"use strict";e.exports="undefined"!=typeof Reflect&&Reflect&&Reflect.apply},72884:function(e,t,r){"use strict";var n=r(69301),i=r(10816),o=r(56327),a=r(82542);e.exports=function(e){var t=o(arguments),r=e.length-(arguments.length-1);return n(t,1+(r>0?r:0),!0)},i?i(e.exports,"apply",{value:a}):e.exports.apply=a},73250:function(e,t,r){"use strict";var n=r(50071),i=r(56327),o=i([n("%String.prototype.indexOf%")]);e.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&o(e,".prototype.")>-1?i([r]):r}},31464:function(e,t,r){let n;var i=r(25566);t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;let r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(n++,"%c"===e&&(i=n))}),t.splice(i,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&void 0!==i&&"env"in i&&(e=i.env.DEBUG),e},t.useColors=function(){return"undefined"!=typeof window&&!!window.process&&("renderer"===window.process.type||!!window.process.__nwjs)||!("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(n=!1,()=>{n||(n=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(27244)(t);let{formatters:o}=e.exports;o.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},27244:function(e,t,r){e.exports=function(e){function t(e){let r,i,o;let a=null;function s(...e){if(!s.enabled)return;let n=Number(new Date),i=n-(r||n);s.diff=i,s.prev=r,s.curr=n,r=n,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let o=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(r,n)=>{if("%%"===r)return"%";o++;let i=t.formatters[n];if("function"==typeof i){let t=e[o];r=i.call(s,t),e.splice(o,1),o--}return r}),t.formatArgs.call(s,e),(s.log||t.log).apply(s,e)}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=n,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==a?a:(i!==t.namespaces&&(i=t.namespaces,o=t.enabled(e)),o),set:e=>{a=e}}),"function"==typeof t.init&&t.init(s),s}function n(e,r){let n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){let e=[...t.names.map(i),...t.skips.map(i).map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){let r;t.save(e),t.namespaces=e,t.names=[],t.skips=[];let n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(RegExp("^"+e.slice(1)+"$")):t.names.push(RegExp("^"+e+"$")))},t.enabled=function(e){let r,n;if("*"===e[e.length-1])return!0;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(35169),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(r=>{t[r]=e[r]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t)|0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},51567:function(e){"use strict";var t=function(e){var t;return!!e&&"object"==typeof e&&"[object RegExp]"!==(t=Object.prototype.toString.call(e))&&"[object Date]"!==t&&e.$$typeof!==r},r="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function n(e,t){return!1!==t.clone&&t.isMergeableObject(e)?s(Array.isArray(e)?[]:{},e,t):e}function i(e,t,r){return e.concat(t).map(function(e){return n(e,r)})}function o(e){return Object.keys(e).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[])}function a(e,t){try{return t in e}catch(e){return!1}}function s(e,r,c){(c=c||{}).arrayMerge=c.arrayMerge||i,c.isMergeableObject=c.isMergeableObject||t,c.cloneUnlessOtherwiseSpecified=n;var l,u,d=Array.isArray(r);return d!==Array.isArray(e)?n(r,c):d?c.arrayMerge(e,r,c):(u={},(l=c).isMergeableObject(e)&&o(e).forEach(function(t){u[t]=n(e[t],l)}),o(r).forEach(function(t){(!a(e,t)||Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))&&(a(e,t)&&l.isMergeableObject(r[t])?u[t]=(function(e,t){if(!t.customMerge)return s;var r=t.customMerge(e);return"function"==typeof r?r:s})(t,l)(e[t],r[t],l):u[t]=n(r[t],l))}),u)}s.all=function(e,t){if(!Array.isArray(e))throw Error("first argument should be an array");return e.reduce(function(e,r){return s(e,r,t)},{})},e.exports=s},33832:function(e,t,r){"use strict";var n=r(10816),i=r(5014),o=r(53842),a=r(50297);e.exports=function(e,t,r){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new o("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=typeof t)throw new o("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new o("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new o("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new o("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new o("`loose`, if provided, must be a boolean");var s=arguments.length>3?arguments[3]:null,c=arguments.length>4?arguments[4]:null,l=arguments.length>5?arguments[5]:null,u=arguments.length>6&&arguments[6],d=!!a&&a(e,t);if(n)n(e,t,{configurable:null===l&&d?d.configurable:!l,enumerable:null===s&&d?d.enumerable:!s,value:r,writable:null===c&&d?d.writable:!c});else if(!u&&(s||c||l))throw new i("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");else e[t]=r}},23314:function(e,t,r){"use strict";var n,i=r(56327),o=r(50297);try{n=[].__proto__===Array.prototype}catch(e){if(!e||"object"!=typeof e||!("code"in e)||"ERR_PROTO_ACCESS"!==e.code)throw e}var a=!!n&&o&&o(Object.prototype,"__proto__"),s=Object,c=s.getPrototypeOf;e.exports=a&&"function"==typeof a.get?i([a.get]):"function"==typeof c&&function(e){return c(null==e?e:s(e))}},61984:function(e,t,r){"use strict";t.version=r(58274).i8,t.utils=r(36321),t.rand=r(47223),t.curve=r(64358),t.curves=r(83475),t.ec=r(90063),t.eddsa=r(37115)},21398:function(e,t,r){"use strict";var n=r(21803),i=r(36321),o=i.getNAF,a=i.getJSF,s=i.assert;function c(e,t){this.type=e,this.p=new n(t.p,16),this.red=t.prime?n.red(t.prime):n.mont(this.p),this.zero=new n(0).toRed(this.red),this.one=new n(1).toRed(this.red),this.two=new n(2).toRed(this.red),this.n=t.n&&new n(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=[,,,,],this._wnafT2=[,,,,],this._wnafT3=[,,,,],this._wnafT4=[,,,,],this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function l(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=c,c.prototype.point=function(){throw Error("Not implemented")},c.prototype.validate=function(){throw Error("Not implemented")},c.prototype._fixedNafMul=function(e,t){s(e.precomputed);var r,n,i=e._getDoubles(),a=o(t,1,this._bitLength),c=(1<<i.step+1)-(i.step%2==0?2:1);c/=3;var l=[];for(r=0;r<a.length;r+=i.step){n=0;for(var u=r+i.step-1;u>=r;u--)n=(n<<1)+a[u];l.push(n)}for(var d=this.jpoint(null,null,null),f=this.jpoint(null,null,null),h=c;h>0;h--){for(r=0;r<l.length;r++)(n=l[r])===h?f=f.mixedAdd(i.points[r]):n===-h&&(f=f.mixedAdd(i.points[r].neg()));d=d.add(f)}return d.toP()},c.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,a=o(t,r,this._bitLength),c=this.jpoint(null,null,null),l=a.length-1;l>=0;l--){for(var u=0;l>=0&&0===a[l];l--)u++;if(l>=0&&u++,c=c.dblp(u),l<0)break;var d=a[l];s(0!==d),c="affine"===e.type?d>0?c.mixedAdd(i[d-1>>1]):c.mixedAdd(i[-d-1>>1].neg()):d>0?c.add(i[d-1>>1]):c.add(i[-d-1>>1].neg())}return"affine"===e.type?c.toP():c},c.prototype._wnafMulAdd=function(e,t,r,n,i){var s,c,l,u=this._wnafT1,d=this._wnafT2,f=this._wnafT3,h=0;for(s=0;s<n;s++){var p=(l=t[s])._getNAFPoints(e);u[s]=p.wnd,d[s]=p.points}for(s=n-1;s>=1;s-=2){var g=s-1,m=s;if(1!==u[g]||1!==u[m]){f[g]=o(r[g],u[g],this._bitLength),f[m]=o(r[m],u[m],this._bitLength),h=Math.max(f[g].length,h),h=Math.max(f[m].length,h);continue}var y=[t[g],null,null,t[m]];0===t[g].y.cmp(t[m].y)?(y[1]=t[g].add(t[m]),y[2]=t[g].toJ().mixedAdd(t[m].neg())):0===t[g].y.cmp(t[m].y.redNeg())?(y[1]=t[g].toJ().mixedAdd(t[m]),y[2]=t[g].add(t[m].neg())):(y[1]=t[g].toJ().mixedAdd(t[m]),y[2]=t[g].toJ().mixedAdd(t[m].neg()));var b=[-3,-1,-5,-7,0,7,5,1,3],w=a(r[g],r[m]);for(c=0,h=Math.max(w[0].length,h),f[g]=Array(h),f[m]=Array(h);c<h;c++){var v=0|w[0][c],E=0|w[1][c];f[g][c]=b[(v+1)*3+(E+1)],f[m][c]=0,d[g]=y}}var x=this.jpoint(null,null,null),A=this._wnafT4;for(s=h;s>=0;s--){for(var S=0;s>=0;){var _=!0;for(c=0;c<n;c++)A[c]=0|f[c][s],0!==A[c]&&(_=!1);if(!_)break;S++,s--}if(s>=0&&S++,x=x.dblp(S),s<0)break;for(c=0;c<n;c++){var I=A[c];0!==I&&(I>0?l=d[c][I-1>>1]:I<0&&(l=d[c][-I-1>>1].neg()),x="affine"===l.type?x.mixedAdd(l):x.add(l))}}for(s=0;s<n;s++)d[s]=null;return i?x:x.toP()},c.BasePoint=l,l.prototype.eq=function(){throw Error("Not implemented")},l.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(e,t){e=i.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?s(e[e.length-1]%2==0):7===e[0]&&s(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw Error("Unknown point format")},l.prototype.encodeCompressed=function(e){return this.encode(e,!0)},l.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},l.prototype.encode=function(e,t){return i.encode(this._encode(t),e)},l.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},l.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},l.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)n=n.dbl();r.push(n)}return{step:e,points:r}},l.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},l.prototype._getBeta=function(){return null},l.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}},98343:function(e,t,r){"use strict";var n=r(36321),i=r(21803),o=r(56853),a=r(21398),s=n.assert;function c(e){this.twisted=(0|e.a)!=1,this.mOneA=this.twisted&&(0|e.a)==-1,this.extended=this.mOneA,a.call(this,"edwards",e),this.a=new i(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),s(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=(0|e.c)==1}function l(e,t,r,n,o){a.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(t,16),this.y=new i(r,16),this.z=n?new i(n,16):this.curve.one,this.t=o&&new i(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,!this.curve.extended||this.t||(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(c,a),e.exports=c,c.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},c.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},c.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},c.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=this.c2.redSub(this.a.redMul(r)),o=this.one.redSub(this.c2.redMul(this.d).redMul(r)),a=n.redMul(o.redInvm()),s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw Error("invalid point");var c=s.fromRed().isOdd();return(t&&!c||!t&&c)&&(s=s.redNeg()),this.point(e,s)},c.prototype.pointFromY=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=r.redSub(this.c2),o=r.redMul(this.d).redMul(this.c2).redSub(this.a),a=n.redMul(o.redInvm());if(0===a.cmp(this.zero)){if(!t)return this.point(this.zero,e);throw Error("invalid point")}var s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw Error("invalid point");return s.fromRed().isOdd()!==t&&(s=s.redNeg()),this.point(s,e)},c.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),n=t.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===n.cmp(i)},o(l,a.BasePoint),c.prototype.pointFromJSON=function(e){return l.fromJSON(this,e)},c.prototype.point=function(e,t,r,n){return new l(this,e,t,r,n)},l.fromJSON=function(e,t){return new l(e,t[0],t[1],t[2])},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},l.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=n.redAdd(t),a=o.redSub(r),s=n.redSub(t),c=i.redMul(a),l=o.redMul(s),u=i.redMul(s),d=a.redMul(o);return this.curve.point(c,l,d,u)},l.prototype._projDbl=function(){var e,t,r,n,i,o,a=this.x.redAdd(this.y).redSqr(),s=this.x.redSqr(),c=this.y.redSqr();if(this.curve.twisted){var l=(n=this.curve._mulA(s)).redAdd(c);this.zOne?(e=a.redSub(s).redSub(c).redMul(l.redSub(this.curve.two)),t=l.redMul(n.redSub(c)),r=l.redSqr().redSub(l).redSub(l)):(i=this.z.redSqr(),o=l.redSub(i).redISub(i),e=a.redSub(s).redISub(c).redMul(o),t=l.redMul(n.redSub(c)),r=l.redMul(o))}else n=s.redAdd(c),i=this.curve._mulC(this.z).redSqr(),o=n.redSub(i).redSub(i),e=this.curve._mulC(a.redISub(n)).redMul(o),t=this.curve._mulC(n).redMul(s.redISub(c)),r=n.redMul(o);return this.curve.point(e,t,r)},l.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},l.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),o=r.redSub(t),a=i.redSub(n),s=i.redAdd(n),c=r.redAdd(t),l=o.redMul(a),u=s.redMul(c),d=o.redMul(c),f=a.redMul(s);return this.curve.point(l,u,f,d)},l.prototype._projAdd=function(e){var t,r,n=this.z.redMul(e.z),i=n.redSqr(),o=this.x.redMul(e.x),a=this.y.redMul(e.y),s=this.curve.d.redMul(o).redMul(a),c=i.redSub(s),l=i.redAdd(s),u=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(a),d=n.redMul(c).redMul(u);return this.curve.twisted?(t=n.redMul(l).redMul(a.redSub(this.curve._mulA(o))),r=c.redMul(l)):(t=n.redMul(l).redMul(a.redSub(o)),r=this.curve._mulC(c).redMul(l)),this.curve.point(d,t,r)},l.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},l.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},l.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},l.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},l.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},l.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},l.prototype.getX=function(){return this.normalize(),this.x.fromRed()},l.prototype.getY=function(){return this.normalize(),this.y.fromRed()},l.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},l.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),0===this.x.cmp(t))return!0}},l.prototype.toP=l.prototype.normalize,l.prototype.mixedAdd=l.prototype.add},64358:function(e,t,r){"use strict";t.base=r(21398),t.short=r(13770),t.mont=r(75656),t.edwards=r(98343)},75656:function(e,t,r){"use strict";var n=r(21803),i=r(56853),o=r(21398),a=r(36321);function s(e){o.call(this,"mont",e),this.a=new n(e.a,16).toRed(this.red),this.b=new n(e.b,16).toRed(this.red),this.i4=new n(4).toRed(this.red).redInvm(),this.two=new n(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(e,t,r){o.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new n(t,16),this.z=new n(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(s,o),e.exports=s,s.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),n=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===n.redSqrt().redSqr().cmp(n)},i(c,o.BasePoint),s.prototype.decodePoint=function(e,t){return this.point(a.toArray(e,t),1)},s.prototype.point=function(e,t){return new c(this,e,t)},s.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(e,t){return new c(e,t[0],t[1]||e.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},c.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),n=e.redMul(t),i=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},c.prototype.add=function(){throw Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=e.x.redAdd(e.z),o=e.x.redSub(e.z).redMul(r),a=i.redMul(n),s=t.z.redMul(o.redAdd(a).redSqr()),c=t.x.redMul(o.redISub(a).redSqr());return this.curve.point(s,c)},c.prototype.mul=function(e){for(var t=e.clone(),r=this,n=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var o=i.length-1;o>=0;o--)0===i[o]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},c.prototype.mulAdd=function(){throw Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw Error("Not supported on Montgomery curve")},c.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},13770:function(e,t,r){"use strict";var n=r(36321),i=r(21803),o=r(56853),a=r(21398),s=n.assert;function c(e){a.call(this,"short",e),this.a=new i(e.a,16).toRed(this.red),this.b=new i(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=[,,,,],this._endoWnafT2=[,,,,]}function l(e,t,r,n){a.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(t,16),this.y=new i(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function u(e,t,r,n){a.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(t,16),this.y=new i(r,16),this.z=new i(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(c,a),e.exports=c,c.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){if(e.beta)t=new i(e.beta,16).toRed(this.red);else{var t,r,n,o=this._getEndoRoots(this.p);t=(t=0>o[0].cmp(o[1])?o[0]:o[1]).toRed(this.red)}if(e.lambda)r=new i(e.lambda,16);else{var a=this._getEndoRoots(this.n);0===this.g.mul(a[0]).x.cmp(this.g.x.redMul(t))?r=a[0]:(r=a[1],s(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return n=e.basis?e.basis.map(function(e){return{a:new i(e.a,16),b:new i(e.b,16)}}):this._getEndoBasis(r),{beta:t,lambda:r,basis:n}}},c.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:i.mont(e),r=new i(2).toRed(t).redInvm(),n=r.redNeg(),o=new i(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(o).fromRed(),n.redSub(o).fromRed()]},c.prototype._getEndoBasis=function(e){for(var t,r,n,o,a,s,c,l,u,d=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=e,h=this.n.clone(),p=new i(1),g=new i(0),m=new i(0),y=new i(1),b=0;0!==f.cmpn(0);){var w=h.div(f);l=h.sub(w.mul(f)),u=m.sub(w.mul(p));var v=y.sub(w.mul(g));if(!n&&0>l.cmp(d))t=c.neg(),r=p,n=l.neg(),o=u;else if(n&&2==++b)break;c=l,h=f,f=l,m=p,p=u,y=g,g=v}a=l.neg(),s=u;var E=n.sqr().add(o.sqr());return a.sqr().add(s.sqr()).cmp(E)>=0&&(a=t,s=r),n.negative&&(n=n.neg(),o=o.neg()),a.negative&&(a=a.neg(),s=s.neg()),[{a:n,b:o},{a:a,b:s}]},c.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),a=i.mul(r.a),s=o.mul(n.a),c=i.mul(r.b),l=o.mul(n.b);return{k1:e.sub(a).sub(s),k2:c.add(l).neg()}},c.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw Error("invalid point");var o=n.fromRed().isOdd();return(t&&!o||!t&&o)&&(n=n.redNeg()),this.point(e,n)},c.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},c.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(t[o]),s=e[o],c=s._getBeta();a.k1.negative&&(a.k1.ineg(),s=s.neg(!0)),a.k2.negative&&(a.k2.ineg(),c=c.neg(!0)),n[2*o]=s,n[2*o+1]=c,i[2*o]=a.k1,i[2*o+1]=a.k2}for(var l=this._wnafMulAdd(1,n,i,2*o,r),u=0;u<2*o;u++)n[u]=null,i[u]=null;return l},o(l,a.BasePoint),c.prototype.point=function(e,t,r){return new l(this,e,t,r)},c.prototype.pointFromJSON=function(e,t){return l.fromJSON(this,e,t)},l.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},l.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},l.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var o=t[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return this.inf},l.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e)||0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},l.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),a=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)},l.prototype.getX=function(){return this.x.fromRed()},l.prototype.getY=function(){return this.y.fromRed()},l.prototype.mul=function(e){return(e=new i(e,16),this.isInfinity())?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},l.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},l.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},l.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},l.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},l.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(u,a.BasePoint),c.prototype.jpoint=function(e,t,r){return new u(this,e,t,r)},u.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},u.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},u.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(r.redMul(this.z)),s=n.redSub(i),c=o.redSub(a);if(0===s.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=s.redSqr(),u=l.redMul(s),d=n.redMul(l),f=c.redSqr().redIAdd(u).redISub(d).redISub(d),h=c.redMul(d.redISub(f)).redISub(o.redMul(u)),p=this.z.redMul(e.z).redMul(s);return this.curve.jpoint(f,h,p)},u.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),a=r.redSub(n),s=i.redSub(o);if(0===a.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),l=c.redMul(a),u=r.redMul(c),d=s.redSqr().redIAdd(l).redISub(u).redISub(u),f=s.redMul(u.redISub(d)).redISub(i.redMul(l)),h=this.z.redMul(a);return this.curve.jpoint(d,f,h)},u.prototype.dblp=function(e){if(0===e||this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){var t,r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,a=this.y,s=this.z,c=s.redSqr().redSqr(),l=a.redAdd(a);for(t=0;t<e;t++){var u=o.redSqr(),d=l.redSqr(),f=d.redSqr(),h=u.redAdd(u).redIAdd(u).redIAdd(n.redMul(c)),p=o.redMul(d),g=h.redSqr().redISub(p.redAdd(p)),m=p.redISub(g),y=h.redMul(m);y=y.redIAdd(y).redISub(f);var b=l.redMul(s);t+1<e&&(c=c.redMul(f)),o=g,s=b,l=y}return this.curve.jpoint(o,l.redMul(i),s)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},u.prototype._zeroDbl=function(){if(this.zOne){var e,t,r,n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var s=n.redAdd(n).redIAdd(n),c=s.redSqr().redISub(a).redISub(a),l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),e=c,t=s.redMul(a.redISub(c)).redISub(l),r=this.y.redAdd(this.y)}else{var u=this.x.redSqr(),d=this.y.redSqr(),f=d.redSqr(),h=this.x.redAdd(d).redSqr().redISub(u).redISub(f);h=h.redIAdd(h);var p=u.redAdd(u).redIAdd(u),g=p.redSqr(),m=f.redIAdd(f);m=(m=m.redIAdd(m)).redIAdd(m),e=g.redISub(h).redISub(h),t=p.redMul(h.redISub(e)).redISub(m),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},u.prototype._threeDbl=function(){if(this.zOne){var e,t,r,n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var s=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),c=s.redSqr().redISub(a).redISub(a);e=c;var l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),t=s.redMul(a.redISub(c)).redISub(l),r=this.y.redAdd(this.y)}else{var u=this.z.redSqr(),d=this.y.redSqr(),f=this.x.redMul(d),h=this.x.redSub(u).redMul(this.x.redAdd(u));h=h.redAdd(h).redIAdd(h);var p=f.redIAdd(f),g=(p=p.redIAdd(p)).redAdd(p);e=h.redSqr().redISub(g),r=this.y.redAdd(this.z).redSqr().redISub(d).redISub(u);var m=d.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),t=h.redMul(p.redISub(e)).redISub(m)}return this.curve.jpoint(e,t,r)},u.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=t.redSqr(),a=r.redSqr(),s=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),c=t.redAdd(t),l=(c=c.redIAdd(c)).redMul(a),u=s.redSqr().redISub(l.redAdd(l)),d=l.redISub(u),f=a.redSqr();f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var h=s.redMul(d).redISub(f),p=r.redAdd(r).redMul(n);return this.curve.jpoint(u,h,p)},u.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(n),s=(a=(a=(a=a.redIAdd(a)).redAdd(a).redIAdd(a)).redISub(o)).redSqr(),c=n.redIAdd(n);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var l=i.redIAdd(a).redSqr().redISub(o).redISub(s).redISub(c),u=t.redMul(l);u=(u=u.redIAdd(u)).redIAdd(u);var d=this.x.redMul(s).redISub(u);d=(d=d.redIAdd(d)).redIAdd(d);var f=this.y.redMul(l.redMul(c.redISub(l)).redISub(a.redMul(s)));f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var h=this.z.redAdd(a).redSqr().redISub(r).redISub(s);return this.curve.jpoint(d,f,h)},u.prototype.mul=function(e,t){return e=new i(e,t),this.curve._wnafMul(this,e)},u.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},u.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},u.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},83475:function(e,t,r){"use strict";var n,i=r(28714),o=r(64358),a=r(36321).assert;function s(e){"short"===e.type?this.curve=new o.short(e):"edwards"===e.type?this.curve=new o.edwards(e):this.curve=new o.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function c(e,r){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){var n=new s(r);return Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}),n}})}t.PresetCurve=s,c("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:i.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),c("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:i.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),c("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:i.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),c("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:i.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),c("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:i.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),c("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:i.sha256,gRed:!1,g:["9"]}),c("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:i.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=r(36113)}catch(e){n=void 0}c("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:i.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})},90063:function(e,t,r){"use strict";var n=r(21803),i=r(28072),o=r(36321),a=r(83475),s=r(47223),c=o.assert,l=r(61258),u=r(90362);function d(e){if(!(this instanceof d))return new d(e);"string"==typeof e&&(c(Object.prototype.hasOwnProperty.call(a,e),"Unknown curve "+e),e=a[e]),e instanceof a.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=d,d.prototype.keyPair=function(e){return new l(this,e)},d.prototype.keyFromPrivate=function(e,t){return l.fromPrivate(this,e,t)},d.prototype.keyFromPublic=function(e,t){return l.fromPublic(this,e,t)},d.prototype.genKeyPair=function(e){e||(e={});for(var t=new i({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||s(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),o=this.n.sub(new n(2));;){var a=new n(t.generate(r));if(!(a.cmp(o)>0))return a.iaddn(1),this.keyFromPrivate(a)}},d.prototype._truncateToN=function(e,t,r){if(n.isBN(e)||"number"==typeof e)i=(e=new n(e,16)).byteLength();else if("object"==typeof e)i=e.length,e=new n(e,16);else{var i,o=e.toString();i=o.length+1>>>1,e=new n(o,16)}"number"!=typeof r&&(r=8*i);var a=r-this.n.bitLength();return(a>0&&(e=e.ushrn(a)),!t&&e.cmp(this.n)>=0)?e.sub(this.n):e},d.prototype.sign=function(e,t,r,o){if("object"==typeof r&&(o=r,r=null),o||(o={}),"string"!=typeof e&&"number"!=typeof e&&!n.isBN(e)){c("object"==typeof e&&e&&"number"==typeof e.length,"Expected message to be an array-like, a hex string, or a BN instance"),c(e.length>>>0===e.length);for(var a=0;a<e.length;a++)c((255&e[a])===e[a])}t=this.keyFromPrivate(t,r),c(!(e=this._truncateToN(e,!1,o.msgBitLength)).isNeg(),"Can not sign a negative message");var s=this.n.byteLength(),l=t.getPrivate().toArray("be",s),d=e.toArray("be",s);c(new n(d).eq(e),"Can not sign message");for(var f=new i({hash:this.hash,entropy:l,nonce:d,pers:o.pers,persEnc:o.persEnc||"utf8"}),h=this.n.sub(new n(1)),p=0;;p++){var g=o.k?o.k(p):new n(f.generate(this.n.byteLength()));if(!(0>=(g=this._truncateToN(g,!0)).cmpn(1)||g.cmp(h)>=0)){var m=this.g.mul(g);if(!m.isInfinity()){var y=m.getX(),b=y.umod(this.n);if(0!==b.cmpn(0)){var w=g.invm(this.n).mul(b.mul(t.getPrivate()).iadd(e));if(0!==(w=w.umod(this.n)).cmpn(0)){var v=(m.getY().isOdd()?1:0)|(0!==y.cmp(b)?2:0);return o.canonical&&w.cmp(this.nh)>0&&(w=this.n.sub(w),v^=1),new u({r:b,s:w,recoveryParam:v})}}}}}},d.prototype.verify=function(e,t,r,n,i){i||(i={}),e=this._truncateToN(e,!1,i.msgBitLength),r=this.keyFromPublic(r,n);var o,a=(t=new u(t,"hex")).r,s=t.s;if(0>a.cmpn(1)||a.cmp(this.n)>=0||0>s.cmpn(1)||s.cmp(this.n)>=0)return!1;var c=s.invm(this.n),l=c.mul(e).umod(this.n),d=c.mul(a).umod(this.n);return this.curve._maxwellTrick?!(o=this.g.jmulAdd(l,r.getPublic(),d)).isInfinity()&&o.eqXToP(a):!(o=this.g.mulAdd(l,r.getPublic(),d)).isInfinity()&&0===o.getX().umod(this.n).cmp(a)},d.prototype.recoverPubKey=function(e,t,r,i){c((3&r)===r,"The recovery param is more than two bits"),t=new u(t,i);var o=this.n,a=new n(e),s=t.r,l=t.s,d=1&r,f=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&f)throw Error("Unable to find sencond key candinate");s=f?this.curve.pointFromX(s.add(this.curve.n),d):this.curve.pointFromX(s,d);var h=t.r.invm(o),p=o.sub(a).mul(h).umod(o),g=l.mul(h).umod(o);return this.g.mulAdd(p,s,g)},d.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new u(t,n)).recoveryParam)return t.recoveryParam;for(var i,o=0;o<4;o++){try{i=this.recoverPubKey(e,t,o)}catch(e){continue}if(i.eq(r))return o}throw Error("Unable to find valid recovery factor")}},61258:function(e,t,r){"use strict";var n=r(21803),i=r(36321).assert;function o(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=o,o.fromPublic=function(e,t,r){return t instanceof o?t:new o(e,{pub:t,pubEnc:r})},o.fromPrivate=function(e,t,r){return t instanceof o?t:new o(e,{priv:t,privEnc:r})},o.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(e,t){return("string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t)?this.pub.encode(t,e):this.pub},o.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(e,t){this.priv=new n(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(e,t){if(e.x||e.y){"mont"===this.ec.curve.type?i(e.x,"Need x coordinate"):("short"===this.ec.curve.type||"edwards"===this.ec.curve.type)&&i(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)},o.prototype.derive=function(e){return e.validate()||i(e.validate(),"public point not validated"),e.mul(this.priv).getX()},o.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},o.prototype.verify=function(e,t,r){return this.ec.verify(e,t,this,void 0,r)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},90362:function(e,t,r){"use strict";var n=r(21803),i=r(36321),o=i.assert;function a(e,t){if(e instanceof a)return e;this._importDER(e,t)||(o(e.r&&e.s,"Signature without r or s"),this.r=new n(e.r,16),this.s=new n(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function s(){this.place=0}function c(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4||0===e[t.place])return!1;for(var i=0,o=0,a=t.place;o<n;o++,a++)i<<=8,i|=e[a],i>>>=0;return!(i<=127)&&(t.place=a,i)}function l(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function u(e,t){if(t<128){e.push(t);return}var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}e.exports=a,a.prototype._importDER=function(e,t){e=i.toArray(e,t);var r=new s;if(48!==e[r.place++])return!1;var o=c(e,r);if(!1===o||o+r.place!==e.length||2!==e[r.place++])return!1;var a=c(e,r);if(!1===a||(128&e[r.place])!=0)return!1;var l=e.slice(r.place,a+r.place);if(r.place+=a,2!==e[r.place++])return!1;var u=c(e,r);if(!1===u||e.length!==u+r.place||(128&e[r.place])!=0)return!1;var d=e.slice(r.place,u+r.place);if(0===l[0]){if(!(128&l[1]))return!1;l=l.slice(1)}if(0===d[0]){if(!(128&d[1]))return!1;d=d.slice(1)}return this.r=new n(l),this.s=new n(d),this.recoveryParam=null,!0},a.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=l(t),r=l(r);!r[0]&&!(128&r[1]);)r=r.slice(1);var n=[2];u(n,t.length),(n=n.concat(t)).push(2),u(n,r.length);var o=n.concat(r),a=[48];return u(a,o.length),a=a.concat(o),i.encode(a,e)}},37115:function(e,t,r){"use strict";var n=r(28714),i=r(83475),o=r(36321),a=o.assert,s=o.parseBytes,c=r(76244),l=r(55967);function u(e){if(a("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof u))return new u(e);e=i[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=n.sha512}e.exports=u,u.prototype.sign=function(e,t){e=s(e);var r=this.keyFromSecret(t),n=this.hashInt(r.messagePrefix(),e),i=this.g.mul(n),o=this.encodePoint(i),a=this.hashInt(o,r.pubBytes(),e).mul(r.priv()),c=n.add(a).umod(this.curve.n);return this.makeSignature({R:i,S:c,Rencoded:o})},u.prototype.verify=function(e,t,r){if(e=s(e),(t=this.makeSignature(t)).S().gte(t.eddsa.curve.n)||t.S().isNeg())return!1;var n=this.keyFromPublic(r),i=this.hashInt(t.Rencoded(),n.pubBytes(),e),o=this.g.mul(t.S());return t.R().add(n.pub().mul(i)).eq(o)},u.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return o.intFromLE(e.digest()).umod(this.curve.n)},u.prototype.keyFromPublic=function(e){return c.fromPublic(this,e)},u.prototype.keyFromSecret=function(e){return c.fromSecret(this,e)},u.prototype.makeSignature=function(e){return e instanceof l?e:new l(this,e)},u.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},u.prototype.decodePoint=function(e){var t=(e=o.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),n=(128&e[t])!=0,i=o.intFromLE(r);return this.curve.pointFromY(i,n)},u.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},u.prototype.decodeInt=function(e){return o.intFromLE(e)},u.prototype.isPoint=function(e){return e instanceof this.pointClass}},76244:function(e,t,r){"use strict";var n=r(36321),i=n.assert,o=n.parseBytes,a=n.cachedProperty;function s(e,t){this.eddsa=e,this._secret=o(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=o(t.pub)}s.fromPublic=function(e,t){return t instanceof s?t:new s(e,{pub:t})},s.fromSecret=function(e,t){return t instanceof s?t:new s(e,{secret:t})},s.prototype.secret=function(){return this._secret},a(s,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),a(s,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),a(s,"privBytes",function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n}),a(s,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),a(s,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),a(s,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),s.prototype.sign=function(e){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},s.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},s.prototype.getSecret=function(e){return i(this._secret,"KeyPair is public only"),n.encode(this.secret(),e)},s.prototype.getPublic=function(e){return n.encode(this.pubBytes(),e)},e.exports=s},55967:function(e,t,r){"use strict";var n=r(21803),i=r(36321),o=i.assert,a=i.cachedProperty,s=i.parseBytes;function c(e,t){this.eddsa=e,"object"!=typeof t&&(t=s(t)),Array.isArray(t)&&(o(t.length===2*e.encodingLength,"Signature has invalid size"),t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),o(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof n&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}a(c,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),a(c,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),a(c,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),a(c,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},e.exports=c},36113:function(e){e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},36321:function(e,t,r){"use strict";var n=r(21803),i=r(73045),o=r(83742);t.assert=i,t.toArray=o.toArray,t.zero2=o.zero2,t.toHex=o.toHex,t.encode=o.encode,t.getNAF=function(e,t,r){var n=Array(Math.max(e.bitLength(),r)+1);for(a=0;a<n.length;a+=1)n[a]=0;var i=1<<t+1,o=e.clone();for(a=0;a<n.length;a++){var a,s,c=o.andln(i-1);o.isOdd()?(s=c>(i>>1)-1?(i>>1)-c:c,o.isubn(s)):s=0,n[a]=s,o.iushrn(1)}return n},t.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n=0,i=0;e.cmpn(-n)>0||t.cmpn(-i)>0;){var o,a,s,c=e.andln(3)+n&3,l=t.andln(3)+i&3;3===c&&(c=-1),3===l&&(l=-1),a=(1&c)==0?0:(3==(o=e.andln(7)+n&7)||5===o)&&2===l?-c:c,r[0].push(a),s=(1&l)==0?0:(3==(o=t.andln(7)+i&7)||5===o)&&2===c?-l:l,r[1].push(s),2*n===a+1&&(n=1-n),2*i===s+1&&(i=1-i),e.iushrn(1),t.iushrn(1)}return r},t.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},t.parseBytes=function(e){return"string"==typeof e?t.toArray(e,"hex"):e},t.intFromLE=function(e){return new n(e,"hex","le")}},21803:function(e,t,r){!function(e,t){"use strict";function n(e,t){if(!e)throw Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function o(e,t,r){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&(("le"===t||"be"===t)&&(r=t,t=10),this._init(e||0,t||10,r||"be"))}"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{l="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(85568).Buffer}catch(e){}function a(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function s(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n}function c(e,t,r,n){for(var i=0,o=Math.min(e.length,r),a=t;a<o;a++){var s=e.charCodeAt(a)-48;i*=n,s>=49?i+=s-49+10:s>=17?i+=s-17+10:i+=s}return i}o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return 0>e.cmp(t)?e:t},o.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},o.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=Array(this.length);for(var i,o,a=0;a<this.length;a++)this.words[a]=0;var s=0;if("be"===r)for(a=e.length-1,i=0;a>=0;a-=3)o=e[a]|e[a-1]<<8|e[a-2]<<16,this.words[i]|=o<<s&67108863,this.words[i+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,i++);else if("le"===r)for(a=0,i=0;a<e.length;a+=3)o=e[a]|e[a+1]<<8|e[a+2]<<16,this.words[i]|=o<<s&67108863,this.words[i+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,i++);return this.strip()},o.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=Array(this.length);for(var n,i=0;i<this.length;i++)this.words[i]=0;var o=0,a=0;if("be"===r)for(i=e.length-1;i>=t;i-=2)n=s(e,t,i)<<o,this.words[a]|=67108863&n,o>=18?(o-=18,a+=1,this.words[a]|=n>>>26):o+=8;else for(i=(e.length-t)%2==0?t+1:t;i<e.length;i+=2)n=s(e,t,i)<<o,this.words[a]|=67108863&n,o>=18?(o-=18,a+=1,this.words[a]|=n>>>26):o+=8;this.strip()},o.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,a=o%n,s=Math.min(o,o-a)+r,l=0,u=r;u<s;u+=n)l=c(e,u,u+n,t),this.imuln(i),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!==a){var d=1;for(l=c(e,u,e.length,t),u=0;u<a;u++)d*=t;this.imuln(d),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this.strip()},o.prototype.copy=function(e){e.words=Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l,u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function h(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],a=i*o,s=67108863&a,c=a/67108864|0;r.words[0]=s;for(var l=1;l<n;l++){for(var u=c>>>26,d=67108863&c,f=Math.min(l,t.length-1),h=Math.max(0,l-e.length+1);h<=f;h++){var p=l-h|0;u+=(a=(i=0|e.words[p])*(o=0|t.words[h])+d)/67108864|0,d=67108863&a}r.words[l]=0|d,c=0|u}return 0!==c?r.words[l]=0|c:r.length--,r.strip()}o.prototype.toString=function(e,t){if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var r,i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],c=((s<<i|o)&16777215).toString(16);o=s>>>24-i&16777215,(i+=2)>=26&&(i-=26,a--),r=0!==o||a!==this.length-1?u[6-c.length]+c+r:c+r}for(0!==o&&(r=o.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var l=d[e],h=f[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var g=p.modn(h).toString(e);r=(p=p.idivn(h)).isZero()?g+r:u[l-g.length]+g+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return n(void 0!==l),this.toArrayLike(l,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,r){var i,o,a=this.byteLength(),s=r||Math.max(1,a);n(a<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0"),this.strip();var c=new e(s),l=this.clone();if("le"===t){for(o=0;!l.isZero();o++)i=l.andln(255),l.iushrn(8),c[o]=i;for(;o<s;o++)c[o]=0}else{for(o=0;o<s-a;o++)c[o]=0;for(o=0;!l.isZero();o++)i=l.andln(255),l.iushrn(8),c[s-o-1]=i}return c},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return(8191&t)==0&&(r+=13,t>>>=13),(127&t)==0&&(r+=7,t>>>=7),(15&t)==0&&(r+=4,t>>>=4),(3&t)==0&&(r+=2,t>>>=2),(1&t)==0&&r++,r},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return(this.length-1)*26+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return n((this.negative|e.negative)==0),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return n((this.negative|e.negative)==0),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){this.length>e.length?(t=this,r=e):(t=e,r=this);for(var t,r,n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return n((this.negative|e.negative)==0),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),t?this.words[r]=this.words[r]|1<<i:this.words[r]=this.words[r]&~(1<<i),this.strip()},o.prototype.iadd=function(e){if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var t,r,n,i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t,r,n=this.iadd(e);return e.negative=1,n._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(t=this,r=e):(t=e,r=this);for(var o=0,a=0;a<r.length;a++)o=(n=(0|t.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&n;for(;0!==o&&a<t.length;a++)o=(n=(0|t.words[a])+o)>>26,this.words[a]=67108863&n;if(0===o&&a<t.length&&t!==this)for(;a<t.length;a++)this.words[a]=t.words[a];return this.length=Math.max(this.length,a),t!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,r){var n,i,o,a=e.words,s=t.words,c=r.words,l=0,u=0|a[0],d=8191&u,f=u>>>13,h=0|a[1],p=8191&h,g=h>>>13,m=0|a[2],y=8191&m,b=m>>>13,w=0|a[3],v=8191&w,E=w>>>13,x=0|a[4],A=8191&x,S=x>>>13,_=0|a[5],I=8191&_,C=_>>>13,O=0|a[6],P=8191&O,T=O>>>13,k=0|a[7],N=8191&k,M=k>>>13,R=0|a[8],D=8191&R,L=R>>>13,B=0|a[9],U=8191&B,j=B>>>13,$=0|s[0],F=8191&$,z=$>>>13,q=0|s[1],G=8191&q,H=q>>>13,V=0|s[2],W=8191&V,Z=V>>>13,K=0|s[3],Y=8191&K,J=K>>>13,X=0|s[4],Q=8191&X,ee=X>>>13,et=0|s[5],er=8191&et,en=et>>>13,ei=0|s[6],eo=8191&ei,ea=ei>>>13,es=0|s[7],ec=8191&es,el=es>>>13,eu=0|s[8],ed=8191&eu,ef=eu>>>13,eh=0|s[9],ep=8191&eh,eg=eh>>>13;r.negative=e.negative^t.negative,r.length=19;var em=(l+(n=Math.imul(d,F))|0)+((8191&(i=(i=Math.imul(d,z))+Math.imul(f,F)|0))<<13)|0;l=((o=Math.imul(f,z))+(i>>>13)|0)+(em>>>26)|0,em&=67108863,n=Math.imul(p,F),i=(i=Math.imul(p,z))+Math.imul(g,F)|0,o=Math.imul(g,z);var ey=(l+(n=n+Math.imul(d,G)|0)|0)+((8191&(i=(i=i+Math.imul(d,H)|0)+Math.imul(f,G)|0))<<13)|0;l=((o=o+Math.imul(f,H)|0)+(i>>>13)|0)+(ey>>>26)|0,ey&=67108863,n=Math.imul(y,F),i=(i=Math.imul(y,z))+Math.imul(b,F)|0,o=Math.imul(b,z),n=n+Math.imul(p,G)|0,i=(i=i+Math.imul(p,H)|0)+Math.imul(g,G)|0,o=o+Math.imul(g,H)|0;var eb=(l+(n=n+Math.imul(d,W)|0)|0)+((8191&(i=(i=i+Math.imul(d,Z)|0)+Math.imul(f,W)|0))<<13)|0;l=((o=o+Math.imul(f,Z)|0)+(i>>>13)|0)+(eb>>>26)|0,eb&=67108863,n=Math.imul(v,F),i=(i=Math.imul(v,z))+Math.imul(E,F)|0,o=Math.imul(E,z),n=n+Math.imul(y,G)|0,i=(i=i+Math.imul(y,H)|0)+Math.imul(b,G)|0,o=o+Math.imul(b,H)|0,n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(g,W)|0,o=o+Math.imul(g,Z)|0;var ew=(l+(n=n+Math.imul(d,Y)|0)|0)+((8191&(i=(i=i+Math.imul(d,J)|0)+Math.imul(f,Y)|0))<<13)|0;l=((o=o+Math.imul(f,J)|0)+(i>>>13)|0)+(ew>>>26)|0,ew&=67108863,n=Math.imul(A,F),i=(i=Math.imul(A,z))+Math.imul(S,F)|0,o=Math.imul(S,z),n=n+Math.imul(v,G)|0,i=(i=i+Math.imul(v,H)|0)+Math.imul(E,G)|0,o=o+Math.imul(E,H)|0,n=n+Math.imul(y,W)|0,i=(i=i+Math.imul(y,Z)|0)+Math.imul(b,W)|0,o=o+Math.imul(b,Z)|0,n=n+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(g,Y)|0,o=o+Math.imul(g,J)|0;var ev=(l+(n=n+Math.imul(d,Q)|0)|0)+((8191&(i=(i=i+Math.imul(d,ee)|0)+Math.imul(f,Q)|0))<<13)|0;l=((o=o+Math.imul(f,ee)|0)+(i>>>13)|0)+(ev>>>26)|0,ev&=67108863,n=Math.imul(I,F),i=(i=Math.imul(I,z))+Math.imul(C,F)|0,o=Math.imul(C,z),n=n+Math.imul(A,G)|0,i=(i=i+Math.imul(A,H)|0)+Math.imul(S,G)|0,o=o+Math.imul(S,H)|0,n=n+Math.imul(v,W)|0,i=(i=i+Math.imul(v,Z)|0)+Math.imul(E,W)|0,o=o+Math.imul(E,Z)|0,n=n+Math.imul(y,Y)|0,i=(i=i+Math.imul(y,J)|0)+Math.imul(b,Y)|0,o=o+Math.imul(b,J)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(g,Q)|0,o=o+Math.imul(g,ee)|0;var eE=(l+(n=n+Math.imul(d,er)|0)|0)+((8191&(i=(i=i+Math.imul(d,en)|0)+Math.imul(f,er)|0))<<13)|0;l=((o=o+Math.imul(f,en)|0)+(i>>>13)|0)+(eE>>>26)|0,eE&=67108863,n=Math.imul(P,F),i=(i=Math.imul(P,z))+Math.imul(T,F)|0,o=Math.imul(T,z),n=n+Math.imul(I,G)|0,i=(i=i+Math.imul(I,H)|0)+Math.imul(C,G)|0,o=o+Math.imul(C,H)|0,n=n+Math.imul(A,W)|0,i=(i=i+Math.imul(A,Z)|0)+Math.imul(S,W)|0,o=o+Math.imul(S,Z)|0,n=n+Math.imul(v,Y)|0,i=(i=i+Math.imul(v,J)|0)+Math.imul(E,Y)|0,o=o+Math.imul(E,J)|0,n=n+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(b,Q)|0,o=o+Math.imul(b,ee)|0,n=n+Math.imul(p,er)|0,i=(i=i+Math.imul(p,en)|0)+Math.imul(g,er)|0,o=o+Math.imul(g,en)|0;var ex=(l+(n=n+Math.imul(d,eo)|0)|0)+((8191&(i=(i=i+Math.imul(d,ea)|0)+Math.imul(f,eo)|0))<<13)|0;l=((o=o+Math.imul(f,ea)|0)+(i>>>13)|0)+(ex>>>26)|0,ex&=67108863,n=Math.imul(N,F),i=(i=Math.imul(N,z))+Math.imul(M,F)|0,o=Math.imul(M,z),n=n+Math.imul(P,G)|0,i=(i=i+Math.imul(P,H)|0)+Math.imul(T,G)|0,o=o+Math.imul(T,H)|0,n=n+Math.imul(I,W)|0,i=(i=i+Math.imul(I,Z)|0)+Math.imul(C,W)|0,o=o+Math.imul(C,Z)|0,n=n+Math.imul(A,Y)|0,i=(i=i+Math.imul(A,J)|0)+Math.imul(S,Y)|0,o=o+Math.imul(S,J)|0,n=n+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,ee)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,ee)|0,n=n+Math.imul(y,er)|0,i=(i=i+Math.imul(y,en)|0)+Math.imul(b,er)|0,o=o+Math.imul(b,en)|0,n=n+Math.imul(p,eo)|0,i=(i=i+Math.imul(p,ea)|0)+Math.imul(g,eo)|0,o=o+Math.imul(g,ea)|0;var eA=(l+(n=n+Math.imul(d,ec)|0)|0)+((8191&(i=(i=i+Math.imul(d,el)|0)+Math.imul(f,ec)|0))<<13)|0;l=((o=o+Math.imul(f,el)|0)+(i>>>13)|0)+(eA>>>26)|0,eA&=67108863,n=Math.imul(D,F),i=(i=Math.imul(D,z))+Math.imul(L,F)|0,o=Math.imul(L,z),n=n+Math.imul(N,G)|0,i=(i=i+Math.imul(N,H)|0)+Math.imul(M,G)|0,o=o+Math.imul(M,H)|0,n=n+Math.imul(P,W)|0,i=(i=i+Math.imul(P,Z)|0)+Math.imul(T,W)|0,o=o+Math.imul(T,Z)|0,n=n+Math.imul(I,Y)|0,i=(i=i+Math.imul(I,J)|0)+Math.imul(C,Y)|0,o=o+Math.imul(C,J)|0,n=n+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,ee)|0)+Math.imul(S,Q)|0,o=o+Math.imul(S,ee)|0,n=n+Math.imul(v,er)|0,i=(i=i+Math.imul(v,en)|0)+Math.imul(E,er)|0,o=o+Math.imul(E,en)|0,n=n+Math.imul(y,eo)|0,i=(i=i+Math.imul(y,ea)|0)+Math.imul(b,eo)|0,o=o+Math.imul(b,ea)|0,n=n+Math.imul(p,ec)|0,i=(i=i+Math.imul(p,el)|0)+Math.imul(g,ec)|0,o=o+Math.imul(g,el)|0;var eS=(l+(n=n+Math.imul(d,ed)|0)|0)+((8191&(i=(i=i+Math.imul(d,ef)|0)+Math.imul(f,ed)|0))<<13)|0;l=((o=o+Math.imul(f,ef)|0)+(i>>>13)|0)+(eS>>>26)|0,eS&=67108863,n=Math.imul(U,F),i=(i=Math.imul(U,z))+Math.imul(j,F)|0,o=Math.imul(j,z),n=n+Math.imul(D,G)|0,i=(i=i+Math.imul(D,H)|0)+Math.imul(L,G)|0,o=o+Math.imul(L,H)|0,n=n+Math.imul(N,W)|0,i=(i=i+Math.imul(N,Z)|0)+Math.imul(M,W)|0,o=o+Math.imul(M,Z)|0,n=n+Math.imul(P,Y)|0,i=(i=i+Math.imul(P,J)|0)+Math.imul(T,Y)|0,o=o+Math.imul(T,J)|0,n=n+Math.imul(I,Q)|0,i=(i=i+Math.imul(I,ee)|0)+Math.imul(C,Q)|0,o=o+Math.imul(C,ee)|0,n=n+Math.imul(A,er)|0,i=(i=i+Math.imul(A,en)|0)+Math.imul(S,er)|0,o=o+Math.imul(S,en)|0,n=n+Math.imul(v,eo)|0,i=(i=i+Math.imul(v,ea)|0)+Math.imul(E,eo)|0,o=o+Math.imul(E,ea)|0,n=n+Math.imul(y,ec)|0,i=(i=i+Math.imul(y,el)|0)+Math.imul(b,ec)|0,o=o+Math.imul(b,el)|0,n=n+Math.imul(p,ed)|0,i=(i=i+Math.imul(p,ef)|0)+Math.imul(g,ed)|0,o=o+Math.imul(g,ef)|0;var e_=(l+(n=n+Math.imul(d,ep)|0)|0)+((8191&(i=(i=i+Math.imul(d,eg)|0)+Math.imul(f,ep)|0))<<13)|0;l=((o=o+Math.imul(f,eg)|0)+(i>>>13)|0)+(e_>>>26)|0,e_&=67108863,n=Math.imul(U,G),i=(i=Math.imul(U,H))+Math.imul(j,G)|0,o=Math.imul(j,H),n=n+Math.imul(D,W)|0,i=(i=i+Math.imul(D,Z)|0)+Math.imul(L,W)|0,o=o+Math.imul(L,Z)|0,n=n+Math.imul(N,Y)|0,i=(i=i+Math.imul(N,J)|0)+Math.imul(M,Y)|0,o=o+Math.imul(M,J)|0,n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(T,Q)|0,o=o+Math.imul(T,ee)|0,n=n+Math.imul(I,er)|0,i=(i=i+Math.imul(I,en)|0)+Math.imul(C,er)|0,o=o+Math.imul(C,en)|0,n=n+Math.imul(A,eo)|0,i=(i=i+Math.imul(A,ea)|0)+Math.imul(S,eo)|0,o=o+Math.imul(S,ea)|0,n=n+Math.imul(v,ec)|0,i=(i=i+Math.imul(v,el)|0)+Math.imul(E,ec)|0,o=o+Math.imul(E,el)|0,n=n+Math.imul(y,ed)|0,i=(i=i+Math.imul(y,ef)|0)+Math.imul(b,ed)|0,o=o+Math.imul(b,ef)|0;var eI=(l+(n=n+Math.imul(p,ep)|0)|0)+((8191&(i=(i=i+Math.imul(p,eg)|0)+Math.imul(g,ep)|0))<<13)|0;l=((o=o+Math.imul(g,eg)|0)+(i>>>13)|0)+(eI>>>26)|0,eI&=67108863,n=Math.imul(U,W),i=(i=Math.imul(U,Z))+Math.imul(j,W)|0,o=Math.imul(j,Z),n=n+Math.imul(D,Y)|0,i=(i=i+Math.imul(D,J)|0)+Math.imul(L,Y)|0,o=o+Math.imul(L,J)|0,n=n+Math.imul(N,Q)|0,i=(i=i+Math.imul(N,ee)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,ee)|0,n=n+Math.imul(P,er)|0,i=(i=i+Math.imul(P,en)|0)+Math.imul(T,er)|0,o=o+Math.imul(T,en)|0,n=n+Math.imul(I,eo)|0,i=(i=i+Math.imul(I,ea)|0)+Math.imul(C,eo)|0,o=o+Math.imul(C,ea)|0,n=n+Math.imul(A,ec)|0,i=(i=i+Math.imul(A,el)|0)+Math.imul(S,ec)|0,o=o+Math.imul(S,el)|0,n=n+Math.imul(v,ed)|0,i=(i=i+Math.imul(v,ef)|0)+Math.imul(E,ed)|0,o=o+Math.imul(E,ef)|0;var eC=(l+(n=n+Math.imul(y,ep)|0)|0)+((8191&(i=(i=i+Math.imul(y,eg)|0)+Math.imul(b,ep)|0))<<13)|0;l=((o=o+Math.imul(b,eg)|0)+(i>>>13)|0)+(eC>>>26)|0,eC&=67108863,n=Math.imul(U,Y),i=(i=Math.imul(U,J))+Math.imul(j,Y)|0,o=Math.imul(j,J),n=n+Math.imul(D,Q)|0,i=(i=i+Math.imul(D,ee)|0)+Math.imul(L,Q)|0,o=o+Math.imul(L,ee)|0,n=n+Math.imul(N,er)|0,i=(i=i+Math.imul(N,en)|0)+Math.imul(M,er)|0,o=o+Math.imul(M,en)|0,n=n+Math.imul(P,eo)|0,i=(i=i+Math.imul(P,ea)|0)+Math.imul(T,eo)|0,o=o+Math.imul(T,ea)|0,n=n+Math.imul(I,ec)|0,i=(i=i+Math.imul(I,el)|0)+Math.imul(C,ec)|0,o=o+Math.imul(C,el)|0,n=n+Math.imul(A,ed)|0,i=(i=i+Math.imul(A,ef)|0)+Math.imul(S,ed)|0,o=o+Math.imul(S,ef)|0;var eO=(l+(n=n+Math.imul(v,ep)|0)|0)+((8191&(i=(i=i+Math.imul(v,eg)|0)+Math.imul(E,ep)|0))<<13)|0;l=((o=o+Math.imul(E,eg)|0)+(i>>>13)|0)+(eO>>>26)|0,eO&=67108863,n=Math.imul(U,Q),i=(i=Math.imul(U,ee))+Math.imul(j,Q)|0,o=Math.imul(j,ee),n=n+Math.imul(D,er)|0,i=(i=i+Math.imul(D,en)|0)+Math.imul(L,er)|0,o=o+Math.imul(L,en)|0,n=n+Math.imul(N,eo)|0,i=(i=i+Math.imul(N,ea)|0)+Math.imul(M,eo)|0,o=o+Math.imul(M,ea)|0,n=n+Math.imul(P,ec)|0,i=(i=i+Math.imul(P,el)|0)+Math.imul(T,ec)|0,o=o+Math.imul(T,el)|0,n=n+Math.imul(I,ed)|0,i=(i=i+Math.imul(I,ef)|0)+Math.imul(C,ed)|0,o=o+Math.imul(C,ef)|0;var eP=(l+(n=n+Math.imul(A,ep)|0)|0)+((8191&(i=(i=i+Math.imul(A,eg)|0)+Math.imul(S,ep)|0))<<13)|0;l=((o=o+Math.imul(S,eg)|0)+(i>>>13)|0)+(eP>>>26)|0,eP&=67108863,n=Math.imul(U,er),i=(i=Math.imul(U,en))+Math.imul(j,er)|0,o=Math.imul(j,en),n=n+Math.imul(D,eo)|0,i=(i=i+Math.imul(D,ea)|0)+Math.imul(L,eo)|0,o=o+Math.imul(L,ea)|0,n=n+Math.imul(N,ec)|0,i=(i=i+Math.imul(N,el)|0)+Math.imul(M,ec)|0,o=o+Math.imul(M,el)|0,n=n+Math.imul(P,ed)|0,i=(i=i+Math.imul(P,ef)|0)+Math.imul(T,ed)|0,o=o+Math.imul(T,ef)|0;var eT=(l+(n=n+Math.imul(I,ep)|0)|0)+((8191&(i=(i=i+Math.imul(I,eg)|0)+Math.imul(C,ep)|0))<<13)|0;l=((o=o+Math.imul(C,eg)|0)+(i>>>13)|0)+(eT>>>26)|0,eT&=67108863,n=Math.imul(U,eo),i=(i=Math.imul(U,ea))+Math.imul(j,eo)|0,o=Math.imul(j,ea),n=n+Math.imul(D,ec)|0,i=(i=i+Math.imul(D,el)|0)+Math.imul(L,ec)|0,o=o+Math.imul(L,el)|0,n=n+Math.imul(N,ed)|0,i=(i=i+Math.imul(N,ef)|0)+Math.imul(M,ed)|0,o=o+Math.imul(M,ef)|0;var ek=(l+(n=n+Math.imul(P,ep)|0)|0)+((8191&(i=(i=i+Math.imul(P,eg)|0)+Math.imul(T,ep)|0))<<13)|0;l=((o=o+Math.imul(T,eg)|0)+(i>>>13)|0)+(ek>>>26)|0,ek&=67108863,n=Math.imul(U,ec),i=(i=Math.imul(U,el))+Math.imul(j,ec)|0,o=Math.imul(j,el),n=n+Math.imul(D,ed)|0,i=(i=i+Math.imul(D,ef)|0)+Math.imul(L,ed)|0,o=o+Math.imul(L,ef)|0;var eN=(l+(n=n+Math.imul(N,ep)|0)|0)+((8191&(i=(i=i+Math.imul(N,eg)|0)+Math.imul(M,ep)|0))<<13)|0;l=((o=o+Math.imul(M,eg)|0)+(i>>>13)|0)+(eN>>>26)|0,eN&=67108863,n=Math.imul(U,ed),i=(i=Math.imul(U,ef))+Math.imul(j,ed)|0,o=Math.imul(j,ef);var eM=(l+(n=n+Math.imul(D,ep)|0)|0)+((8191&(i=(i=i+Math.imul(D,eg)|0)+Math.imul(L,ep)|0))<<13)|0;l=((o=o+Math.imul(L,eg)|0)+(i>>>13)|0)+(eM>>>26)|0,eM&=67108863;var eR=(l+(n=Math.imul(U,ep))|0)+((8191&(i=(i=Math.imul(U,eg))+Math.imul(j,ep)|0))<<13)|0;return l=((o=Math.imul(j,eg))+(i>>>13)|0)+(eR>>>26)|0,eR&=67108863,c[0]=em,c[1]=ey,c[2]=eb,c[3]=ew,c[4]=ev,c[5]=eE,c[6]=ex,c[7]=eA,c[8]=eS,c[9]=e_,c[10]=eI,c[11]=eC,c[12]=eO,c[13]=eP,c[14]=eT,c[15]=ek,c[16]=eN,c[17]=eM,c[18]=eR,0!==l&&(c[19]=l,r.length++),r};function g(e,t,r){return new m().mulp(e,t,r)}function m(e,t){this.x=e,this.y=t}Math.imul||(p=h),o.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?p(this,e,t):r<63?h(this,e,t):r<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var a=i;i=0;for(var s=67108863&n,c=Math.min(o,t.length-1),l=Math.max(0,o-e.length+1);l<=c;l++){var u=o-l,d=(0|e.words[u])*(0|t.words[l]),f=67108863&d;a=a+(d/67108864|0)|0,s=67108863&(f=f+s|0),i+=(a=a+(f>>>26)|0)>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,e,t):g(this,e,t)},m.prototype.makeRBT=function(e){for(var t=Array(e),r=o.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},m.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},m.prototype.permute=function(e,t,r,n,i,o){for(var a=0;a<o;a++)n[a]=t[e[a]],i[a]=r[e[a]]},m.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,c=Math.cos(2*Math.PI/s),l=Math.sin(2*Math.PI/s),u=0;u<i;u+=s)for(var d=c,f=l,h=0;h<a;h++){var p=r[u+h],g=n[u+h],m=r[u+h+a],y=n[u+h+a],b=d*m-f*y;y=d*y+f*m,m=b,r[u+h]=p+m,n[u+h]=g+y,r[u+h+a]=p-m,n[u+h+a]=g-y,h!==s&&(b=c*d-l*f,f=c*f+l*d,d=b)}},m.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},m.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},m.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},m.prototype.convert13b=function(e,t,r,i){for(var o=0,a=0;a<t;a++)o+=0|e[a],r[2*a]=8191&o,o>>>=13,r[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<i;++a)r[a]=0;n(0===o),n((-8192&o)==0)},m.prototype.stub=function(e){for(var t=Array(e),r=0;r<e;r++)t[r]=0;return t},m.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),a=Array(n),s=Array(n),c=Array(n),l=Array(n),u=Array(n),d=Array(n),f=r.words;f.length=n,this.convert13b(e.words,e.length,a,n),this.convert13b(t.words,t.length,l,n),this.transform(a,o,s,c,n,i),this.transform(l,o,u,d,n,i);for(var h=0;h<n;h++){var p=s[h]*u[h]-c[h]*d[h];c[h]=s[h]*d[h]+c[h]*u[h],s[h]=p}return this.conjugate(s,c,n),this.transform(s,c,f,o,n,i),this.conjugate(f,o,n),this.normalize13b(f,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=Array(this.length+e.length),g(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){n("number"==typeof e),n(e<67108864);for(var t=0,r=0;r<this.length;r++){var i=(0|this.words[r])*e,o=(67108863&i)+(67108863&t);t>>=26,t+=(i/67108864|0)+(o>>>26),this.words[r]=67108863&o}return 0!==t&&(this.words[r]=t,this.length++),this.length=0===e?1:this.length,this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new o(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,c=(0|this.words[t])-s<<r;this.words[t]=c|a,a=s>>>26-r}a&&(this.words[t]=a,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,r){n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var i,o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o;if(i-=a,i=Math.max(0,i),r){for(var c=0;c<a;c++)r.words[c]=this.words[c];r.length=a}if(0===a);else if(this.length>a)for(this.length-=a,c=0;c<this.length;c++)this.words[c]=this.words[c+a];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var u=0|this.words[c];this.words[c]=l<<26-o|u>>>o,l=u&s}return r&&0!==l&&(r.words[r.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;return!(this.length<=r)&&!!(this.words[r]&1<<t)},o.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;return(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)?this:(0!==t&&r++,this.length=Math.min(r,this.length),0!==t&&(this.words[this.length-1]&=67108863^67108863>>>t<<t),this.strip())},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return(n("number"==typeof e),n(e<67108864),e<0)?this.isubn(-e):0!==this.negative?(1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0):(this.negative=0,this.isubn(e),this.negative=1),this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,r){var i,o,a=e.length+r;this._expand(a);var s=0;for(i=0;i<e.length;i++){o=(0|this.words[i+r])+s;var c=(0|e.words[i])*t;o-=67108863&c,s=(o>>26)-(c/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)s=(o=(0|this.words[i+r])+s)>>26,this.words[i+r]=67108863&o;if(0===s)return this.strip();for(n(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var r,n=this.length-e.length,i=this.clone(),a=e,s=0|a.words[a.length-1];0!=(n=26-this._countBits(s))&&(a=a.ushln(n),i.iushln(n),s=0|a.words[a.length-1]);var c=i.length-a.length;if("mod"!==t){(r=new o(null)).length=c+1,r.words=Array(r.length);for(var l=0;l<r.length;l++)r.words[l]=0}var u=i.clone()._ishlnsubmul(a,1,c);0===u.negative&&(i=u,r&&(r.words[c]=1));for(var d=c-1;d>=0;d--){var f=(0|i.words[a.length+d])*67108864+(0|i.words[a.length+d-1]);for(f=Math.min(f/s|0,67108863),i._ishlnsubmul(a,f,d);0!==i.negative;)f--,i.negative=0,i._ishlnsubmul(a,1,d),i.isZero()||(i.negative^=1);r&&(r.words[d]=f)}return r&&r.strip(),i.strip(),"div"!==t&&0!==n&&i.iushrn(n),{div:r||null,mod:i}},o.prototype.divmod=function(e,t,r){var i,a,s;return(n(!e.isZero()),this.isZero())?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(i=s.div.neg()),"div"!==t&&(a=s.mod.neg(),r&&0!==a.negative&&a.iadd(e)),{div:i,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(i=s.div.neg()),{div:i,mod:s.mod}):(this.negative&e.negative)!=0?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),r&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||0>this.cmp(e)?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t)},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){n(e<=67108863);for(var t=67108864%e,r=0,i=this.length-1;i>=0;i--)r=(t*r+(0|this.words[i]))%e;return r},o.prototype.idivn=function(e){n(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*t;this.words[r]=i/e|0,t=i%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),a=new o(0),s=new o(0),c=new o(1),l=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++l;for(var u=r.clone(),d=t.clone();!t.isZero();){for(var f=0,h=1;(t.words[0]&h)==0&&f<26;++f,h<<=1);if(f>0)for(t.iushrn(f);f-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(u),a.isub(d)),i.iushrn(1),a.iushrn(1);for(var p=0,g=1;(r.words[0]&g)==0&&p<26;++p,g<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(s.isOdd()||c.isOdd())&&(s.iadd(u),c.isub(d)),s.iushrn(1),c.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(s),a.isub(c)):(r.isub(t),s.isub(i),c.isub(a))}return{a:s,b:c,gcd:r.iushln(l)}},o.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t,r=this,i=e.clone();r=0!==r.negative?r.umod(e):r.clone();for(var a=new o(1),s=new o(0),c=i.clone();r.cmpn(1)>0&&i.cmpn(1)>0;){for(var l=0,u=1;(r.words[0]&u)==0&&l<26;++l,u<<=1);if(l>0)for(r.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);for(var d=0,f=1;(i.words[0]&f)==0&&d<26;++d,f<<=1);if(d>0)for(i.iushrn(d);d-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);r.cmp(i)>=0?(r.isub(i),a.isub(s)):(i.isub(r),s.isub(a))}return 0>(t=0===r.cmpn(1)?a:s).cmpn(0)&&t.iadd(e),t},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return(1&this.words[0])==0},o.prototype.isOdd=function(){return(1&this.words[0])==1},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,a=r;0!==o&&a<this.length;a++){var s=0|this.words[a];s+=o,o=s>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return -1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return -1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return -1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return -1===this.cmpn(e)},o.prototype.lt=function(e){return -1===this.cmp(e)},o.prototype.lten=function(e){return 0>=this.cmpn(e)},o.prototype.lte=function(e){return 0>=this.cmp(e)},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new A(e)},o.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var y={k256:null,p224:null,p192:null,p25519:null};function b(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function w(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function v(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function x(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function A(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function S(e){A.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var e=new o(null);return e.words=Array(Math.ceil(this.n/13)),e},b.prototype.ireduce=function(e){var t,r=e;do this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength();while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},b.prototype.split=function(e,t){e.iushrn(this.n,0,t)},b.prototype.imulK=function(e){return e.imul(this.k)},i(w,b),w.prototype.split=function(e,t){for(var r=Math.min(e.length,9),n=0;n<r;n++)t.words[n]=e.words[n];if(t.length=r,e.length<=9){e.words[0]=0,e.length=1;return}var i=e.words[9];for(n=10,t.words[t.length++]=4194303&i;n<e.length;n++){var o=0|e.words[n];e.words[n-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,e.words[n-10]=i,0===i&&e.length>10?e.length-=10:e.length-=9},w.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(v,b),i(E,b),i(x,b),x.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=(0|e.words[r])*19+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){var t;if(y[e])return y[e];if("k256"===e)t=new w;else if("p224"===e)t=new v;else if("p192"===e)t=new E;else if("p25519"===e)t=new x;else throw Error("Unknown prime "+e);return y[e]=t,t},A.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},A.prototype._verify2=function(e,t){n((e.negative|t.negative)==0,"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},A.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},A.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},A.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},A.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},A.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return 0>r.cmpn(0)&&r.iadd(this.m),r._forceRed(this)},A.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return 0>r.cmpn(0)&&r.iadd(this.m),r},A.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},A.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},A.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},A.prototype.isqr=function(e){return this.imul(e,e.clone())},A.prototype.sqr=function(e){return this.mul(e,e)},A.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new o(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);n(!i.isZero());var s=new o(1).toRed(this),c=s.redNeg(),l=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new o(2*u*u).toRed(this);0!==this.pow(u,l).cmp(c);)u.redIAdd(c);for(var d=this.pow(u,i),f=this.pow(e,i.addn(1).iushrn(1)),h=this.pow(e,i),p=a;0!==h.cmp(s);){for(var g=h,m=0;0!==g.cmp(s);m++)g=g.redSqr();n(m<p);var y=this.pow(d,new o(1).iushln(p-m-1));f=f.redMul(y),d=y.redSqr(),h=h.redMul(d),p=m}return f},A.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},A.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=Array(16);r[0]=new o(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],a=0,s=0,c=t.bitLength()%26;for(0===c&&(c=26),n=t.length-1;n>=0;n--){for(var l=t.words[n],u=c-1;u>=0;u--){var d=l>>u&1;if(i!==r[0]&&(i=this.sqr(i)),0===d&&0===a){s=0;continue}a<<=1,a|=d,(4==++s||0===n&&0===u)&&(i=this.mul(i,r[a]),s=0,a=0)}c=26}return i},A.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},A.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new S(e)},i(S,A),S.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},S.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},S.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):0>i.cmpn(0)&&(o=i.iadd(this.m)),o._forceRed(this)},S.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):0>i.cmpn(0)&&(a=i.iadd(this.m)),a._forceRed(this)},S.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},10816:function(e){"use strict";var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch(e){t=!1}e.exports=t},12107:function(e){"use strict";e.exports=EvalError},22016:function(e){"use strict";e.exports=Error},2706:function(e){"use strict";e.exports=RangeError},926:function(e){"use strict";e.exports=ReferenceError},5014:function(e){"use strict";e.exports=SyntaxError},53842:function(e){"use strict";e.exports=TypeError},34662:function(e){"use strict";e.exports=URIError},66199:function(e){"use strict";e.exports=Object},96653:function(e,t,r){var n,i=r(25566);!function(o){var a=Object.hasOwnProperty,s=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},c="object"==typeof i&&"function"==typeof i.nextTick,l="function"==typeof Symbol,u="object"==typeof Reflect,d="function"==typeof setImmediate?setImmediate:setTimeout,f=l?u&&"function"==typeof Reflect.ownKeys?Reflect.ownKeys:function(e){var t=Object.getOwnPropertyNames(e);return t.push.apply(t,Object.getOwnPropertySymbols(e)),t}:Object.keys;function h(){this._events={},this._conf&&p.call(this,this._conf)}function p(e){e&&(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),o!==e.maxListeners&&(this._maxListeners=e.maxListeners),e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this._newListener=e.newListener),e.removeListener&&(this._removeListener=e.removeListener),e.verboseMemoryLeak&&(this.verboseMemoryLeak=e.verboseMemoryLeak),e.ignoreErrors&&(this.ignoreErrors=e.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function g(e,t){var r="(node) warning: possible EventEmitter memory leak detected. "+e+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(r+=" Event name: "+t+"."),void 0!==i&&i.emitWarning){var n=Error(r);n.name="MaxListenersExceededWarning",n.emitter=this,n.count=e,i.emitWarning(n)}else console.error(r),console.trace&&console.trace()}var m=function(e,t,r){var n=arguments.length;switch(n){case 0:return[];case 1:return[e];case 2:return[e,t];case 3:return[e,t,r];default:for(var i=Array(n);n--;)i[n]=arguments[n];return i}};function y(e,t){for(var r={},n=e.length,i=t?t.length:0,a=0;a<n;a++)r[e[a]]=a<i?t[a]:o;return r}function b(e,t,r){if(this._emitter=e,this._target=t,this._listeners={},this._listenersCount=0,(r.on||r.off)&&(n=r.on,i=r.off),t.addEventListener?(n=t.addEventListener,i=t.removeEventListener):t.addListener?(n=t.addListener,i=t.removeListener):t.on&&(n=t.on,i=t.off),!n&&!i)throw Error("target does not implement any known event API");if("function"!=typeof n)throw TypeError("on method must be a function");if("function"!=typeof i)throw TypeError("off method must be a function");this._on=n,this._off=i;var n,i,o=e._observers;o?o.push(this):e._observers=[this]}function w(e,t,r,n){var i,s,c,l=Object.assign({},t);if(!e)return l;if("object"!=typeof e)throw TypeError("options must be an object");var u=Object.keys(e),d=u.length;function f(e){throw Error('Invalid "'+i+'" option value'+(e?". Reason: "+e:""))}for(var h=0;h<d;h++){if(i=u[h],!n&&!a.call(t,i))throw Error('Unknown "'+i+'" option');o!==(s=e[i])&&(c=r[i],l[i]=c?c(s,f):s)}return l}function v(e,t){return"function"==typeof e&&e.hasOwnProperty("prototype")||t("value must be a constructor"),e}function E(e){var t="value must be type of "+e.join("|"),r=e.length,n=e[0],i=e[1];return 1===r?function(e,r){if(typeof e===n)return e;r(t)}:2===r?function(e,r){var o=typeof e;if(o===n||o===i)return e;r(t)}:function(n,i){for(var o=typeof n,a=r;a-- >0;)if(o===e[a])return n;i(t)}}Object.assign(b.prototype,{subscribe:function(e,t,r){var n=this,i=this._target,o=this._emitter,a=this._listeners,s=function(){var n=m.apply(null,arguments),a={data:n,name:t,original:e};if(r){!1!==r.call(i,a)&&o.emit.apply(o,[a.name].concat(n));return}o.emit.apply(o,[t].concat(n))};if(a[e])throw Error("Event '"+e+"' is already listening");this._listenersCount++,o._newListener&&o._removeListener&&!n._onNewListener?(this._onNewListener=function(r){r===t&&null===a[e]&&(a[e]=s,n._on.call(i,e,s))},o.on("newListener",this._onNewListener),this._onRemoveListener=function(r){r===t&&!o.hasListeners(r)&&a[e]&&(a[e]=null,n._off.call(i,e,s))},a[e]=null,o.on("removeListener",this._onRemoveListener)):(a[e]=s,n._on.call(i,e,s))},unsubscribe:function(e){var t,r,n,i=this,o=this._listeners,a=this._emitter,s=this._off,c=this._target;if(e&&"string"!=typeof e)throw TypeError("event must be a string");function l(){i._onNewListener&&(a.off("newListener",i._onNewListener),a.off("removeListener",i._onRemoveListener),i._onNewListener=null,i._onRemoveListener=null);var e=_.call(a,i);a._observers.splice(e,1)}if(e){if(!(t=o[e]))return;s.call(c,e,t),delete o[e],--this._listenersCount||l()}else{for(n=(r=f(o)).length;n-- >0;)e=r[n],s.call(c,e,o[e]);this._listeners={},this._listenersCount=0,l()}}});var x=E(["function"]),A=E(["object","function"]);function S(e,t,r){var n,i,o,a=0,s=new e(function(c,l,u){function d(){i&&(i=null),a&&(clearTimeout(a),a=0)}n=!(r=w(r,{timeout:0,overload:!1},{timeout:function(e,t){return("number"!=typeof(e*=1)||e<0||!Number.isFinite(e))&&t("timeout must be a positive number"),e}})).overload&&"function"==typeof e.prototype.cancel&&"function"==typeof u;var f=function(e){d(),c(e)},h=function(e){d(),l(e)};n?t(f,h,u):(i=[function(e){h(e||Error("canceled"))}],t(f,h,function(e){if(o)throw Error("Unable to subscribe on cancel event asynchronously");if("function"!=typeof e)throw TypeError("onCancel callback must be a function");i.push(e)}),o=!0),r.timeout>0&&(a=setTimeout(function(){var e=Error("timeout");e.code="ETIMEDOUT",a=0,s.cancel(e),l(e)},r.timeout))});return n||(s.cancel=function(e){if(i){for(var t=i.length,r=1;r<t;r++)i[r](e);i[0](e),i=null}}),s}function _(e){var t=this._observers;if(!t)return -1;for(var r=t.length,n=0;n<r;n++)if(t[n]._target===e)return n;return -1}function I(e,t,r,n,i){if(!r)return null;if(0===n){var o=typeof t;if("string"===o){var a,s,c=0,l=0,u=this.delimiter,d=u.length;if(-1!==(s=t.indexOf(u))){a=[,,,,,];do a[c++]=t.slice(l,s),l=s+d;while(-1!==(s=t.indexOf(u,l)));a[c++]=t.slice(l),t=a,i=c}else t=[t],i=1}else"object"===o?i=t.length:(t=[t],i=1)}var h,p,g,m,y,b,w,v=null,E=t[n],x=t[n+1];if(n===i)r._listeners&&("function"==typeof r._listeners?e&&e.push(r._listeners):e&&e.push.apply(e,r._listeners),v=[r]);else{if("*"===E){for(s=(b=f(r)).length;s-- >0;)"_listeners"!==(h=b[s])&&(w=I(e,t,r[h],n+1,i))&&(v?v.push.apply(v,w):v=w);return v}if("**"===E){for((y=n+1===i||n+2===i&&"*"===x)&&r._listeners&&(v=I(e,t,r,i,i)),s=(b=f(r)).length;s-- >0;)"_listeners"!==(h=b[s])&&("*"===h||"**"===h?(r[h]._listeners&&!y&&(w=I(e,t,r[h],i,i))&&(v?v.push.apply(v,w):v=w),w=I(e,t,r[h],n,i)):w=h===x?I(e,t,r[h],n+2,i):I(e,t,r[h],n,i),w&&(v?v.push.apply(v,w):v=w));return v}r[E]&&(v=I(e,t,r[E],n+1,i))}if((p=r["*"])&&I(e,t,p,n+1,i),g=r["**"]){if(n<i)for(g._listeners&&I(e,t,g,i,i),s=(b=f(g)).length;s-- >0;)"_listeners"!==(h=b[s])&&(h===x?I(e,t,g[h],n+2,i):h===E?I(e,t,g[h],n+1,i):((m={})[h]=g[h],I(e,t,{"**":m},n+1,i)));else g._listeners?I(e,t,g,i,i):g["*"]&&g["*"]._listeners&&I(e,t,g["*"],i,i)}return v}function C(e,t,r){var n,i,o=0,a=0,s=this.delimiter,c=s.length;if("string"==typeof e){if(-1!==(n=e.indexOf(s))){i=[,,,,,];do i[o++]=e.slice(a,n),a=n+c;while(-1!==(n=e.indexOf(s,a)));i[o++]=e.slice(a)}else i=[e],o=1}else i=e,o=e.length;if(o>1){for(n=0;n+1<o;n++)if("**"===i[n]&&"**"===i[n+1])return}var l,u=this.listenerTree;for(n=0;n<o;n++)if(u=u[l=i[n]]||(u[l]={}),n===o-1){u._listeners?("function"==typeof u._listeners&&(u._listeners=[u._listeners]),r?u._listeners.unshift(t):u._listeners.push(t),!u._listeners.warned&&this._maxListeners>0&&u._listeners.length>this._maxListeners&&(u._listeners.warned=!0,g.call(this,u._listeners.length,l))):u._listeners=t;break}return!0}function O(e,t,r,n){for(var i,o,a,s,c=f(e),l=c.length,u=e._listeners;l-- >0;)i=e[o=c[l]],a="_listeners"===o?r:r?r.concat(o):[o],s=n||"symbol"==typeof o,u&&t.push(s?a:a.join(this.delimiter)),"object"==typeof i&&O.call(this,i,t,a,s);return t}function P(e){for(var t,r,n,i=f(e),o=i.length;o-- >0;)(t=e[r=i[o]])&&(n=!0,"_listeners"===r||P(t)||delete e[r]);return n}function T(e,t,r){this.emitter=e,this.event=t,this.listener=r}function k(e,t,r){if(!0===r)a=!0;else if(!1===r)n=!0;else{if(!r||"object"!=typeof r)throw TypeError("options should be an object or true");var n=r.async,a=r.promisify,s=r.nextTick,l=r.objectify}if(n||s||a){var u=t,f=t._origin||t;if(s&&!c)throw Error("process.nextTick is not supported");o===a&&(a="AsyncFunction"===t.constructor.name),(t=function(){var e=arguments,t=this,r=this.event;return a?s?Promise.resolve():new Promise(function(e){d(e)}).then(function(){return t.event=r,u.apply(t,e)}):(s?i.nextTick:d)(function(){t.event=r,u.apply(t,e)})})._async=!0,t._origin=f}return[t,l?new T(this,e,t):this]}function N(e){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,p.call(this,e)}T.prototype.off=function(){return this.emitter.off(this.event,this.listener),this},N.EventEmitter2=N,N.prototype.listenTo=function(e,t,r){if("object"!=typeof e)throw TypeError("target musts be an object");var n=this;return r=w(r,{on:o,off:o,reducers:o},{on:x,off:x,reducers:A}),function(t){if("object"!=typeof t)throw TypeError("events must be an object");var i,o,a=r.reducers,s=_.call(n,e);i=-1===s?new b(n,e,r):n._observers[s];for(var c=f(t),l=c.length,u="function"==typeof a,d=0;d<l;d++)o=c[d],i.subscribe(o,t[o]||o,u?a:a&&a[o])}(s(t)?y(t):"string"==typeof t?y(t.split(/\s+/)):t),this},N.prototype.stopListeningTo=function(e,t){var r,n=this._observers;if(!n)return!1;var i=n.length,o=!1;if(e&&"object"!=typeof e)throw TypeError("target should be an object");for(;i-- >0;)r=n[i],e&&r._target!==e||(r.unsubscribe(t),o=!0);return o},N.prototype.delimiter=".",N.prototype.setMaxListeners=function(e){o!==e&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},N.prototype.getMaxListeners=function(){return this._maxListeners},N.prototype.event="",N.prototype.once=function(e,t,r){return this._once(e,t,!1,r)},N.prototype.prependOnceListener=function(e,t,r){return this._once(e,t,!0,r)},N.prototype._once=function(e,t,r,n){return this._many(e,1,t,r,n)},N.prototype.many=function(e,t,r,n){return this._many(e,t,r,!1,n)},N.prototype.prependMany=function(e,t,r,n){return this._many(e,t,r,!0,n)},N.prototype._many=function(e,t,r,n,i){var o=this;if("function"!=typeof r)throw Error("many only accepts instances of Function");function a(){return 0==--t&&o.off(e,a),r.apply(this,arguments)}return a._origin=r,this._on(e,a,n,i)},N.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||h.call(this);var e,t,r,n,i,o,a,s=arguments[0],c=this.wildcard;if("newListener"===s&&!this._newListener&&!this._events.newListener)return!1;if(c&&(a=s,"newListener"!==s&&"removeListener"!==s&&"object"==typeof s)){if(t=s.length,l){for(r=0;r<t;r++)if("symbol"==typeof s[r]){i=!0;break}}i||(s=s.join(this.delimiter))}var u=arguments.length;if(this._all&&this._all.length)for(r=0,t=(o=this._all.slice()).length;r<t;r++)switch(this.event=s,u){case 1:o[r].call(this,s);break;case 2:o[r].call(this,s,arguments[1]);break;case 3:o[r].call(this,s,arguments[1],arguments[2]);break;default:o[r].apply(this,arguments)}if(c)o=[],I.call(this,o,a,this.listenerTree,0,t);else{if("function"==typeof(o=this._events[s])){switch(this.event=s,u){case 1:o.call(this);break;case 2:o.call(this,arguments[1]);break;case 3:o.call(this,arguments[1],arguments[2]);break;default:for(n=1,e=Array(u-1);n<u;n++)e[n-1]=arguments[n];o.apply(this,e)}return!0}o&&(o=o.slice())}if(o&&o.length){if(u>3)for(n=1,e=Array(u-1);n<u;n++)e[n-1]=arguments[n];for(r=0,t=o.length;r<t;r++)switch(this.event=s,u){case 1:o[r].call(this);break;case 2:o[r].call(this,arguments[1]);break;case 3:o[r].call(this,arguments[1],arguments[2]);break;default:o[r].apply(this,e)}return!0}if(!this.ignoreErrors&&!this._all&&"error"===s){if(arguments[1]instanceof Error)throw arguments[1];throw Error("Uncaught, unspecified 'error' event.")}return!!this._all},N.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||h.call(this);var e,t,r,n,i,o,a,s=arguments[0],c=this.wildcard;if("newListener"===s&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(c&&(o=s,"newListener"!==s&&"removeListener"!==s&&"object"==typeof s)){if(t=s.length,l){for(r=0;r<t;r++)if("symbol"==typeof s[r]){a=!0;break}}a||(s=s.join(this.delimiter))}var u=[],d=arguments.length;if(this._all)for(r=0,t=this._all.length;r<t;r++)switch(this.event=s,d){case 1:u.push(this._all[r].call(this,s));break;case 2:u.push(this._all[r].call(this,s,arguments[1]));break;case 3:u.push(this._all[r].call(this,s,arguments[1],arguments[2]));break;default:u.push(this._all[r].apply(this,arguments))}if(c?(i=[],I.call(this,i,o,this.listenerTree,0)):i=this._events[s],"function"==typeof i)switch(this.event=s,d){case 1:u.push(i.call(this));break;case 2:u.push(i.call(this,arguments[1]));break;case 3:u.push(i.call(this,arguments[1],arguments[2]));break;default:for(n=1,e=Array(d-1);n<d;n++)e[n-1]=arguments[n];u.push(i.apply(this,e))}else if(i&&i.length){if(i=i.slice(),d>3)for(n=1,e=Array(d-1);n<d;n++)e[n-1]=arguments[n];for(r=0,t=i.length;r<t;r++)switch(this.event=s,d){case 1:u.push(i[r].call(this));break;case 2:u.push(i[r].call(this,arguments[1]));break;case 3:u.push(i[r].call(this,arguments[1],arguments[2]));break;default:u.push(i[r].apply(this,e))}}else if(!this.ignoreErrors&&!this._all&&"error"===s)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(u)},N.prototype.on=function(e,t,r){return this._on(e,t,!1,r)},N.prototype.prependListener=function(e,t,r){return this._on(e,t,!0,r)},N.prototype.onAny=function(e){return this._onAny(e,!1)},N.prototype.prependAny=function(e){return this._onAny(e,!0)},N.prototype.addListener=N.prototype.on,N.prototype._onAny=function(e,t){if("function"!=typeof e)throw Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},N.prototype._on=function(e,t,r,n){if("function"==typeof e)return this._onAny(e,t),this;if("function"!=typeof t)throw Error("on only accepts instances of Function");this._events||h.call(this);var i,a=this;return(o!==n&&(t=(i=k.call(this,e,t,n))[0],a=i[1]),this._newListener&&this.emit("newListener",e,t),this.wildcard)?C.call(this,e,t,r):this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),r?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,g.call(this,this._events[e].length,e))):this._events[e]=t,a},N.prototype.off=function(e,t){if("function"!=typeof t)throw Error("removeListener only takes instances of Function");var r,n=[];if(this.wildcard){var i="string"==typeof e?e.split(this.delimiter):e.slice();if(!(n=I.call(this,null,i,this.listenerTree,0)))return this}else{if(!this._events[e])return this;r=this._events[e],n.push({_listeners:r})}for(var o=0;o<n.length;o++){var a=n[o];if(s(r=a._listeners)){for(var c=-1,l=0,u=r.length;l<u;l++)if(r[l]===t||r[l].listener&&r[l].listener===t||r[l]._origin&&r[l]._origin===t){c=l;break}if(c<0)continue;return this.wildcard?a._listeners.splice(c,1):this._events[e].splice(c,1),0===r.length&&(this.wildcard?delete a._listeners:delete this._events[e]),this._removeListener&&this.emit("removeListener",e,t),this}(r===t||r.listener&&r.listener===t||r._origin&&r._origin===t)&&(this.wildcard?delete a._listeners:delete this._events[e],this._removeListener&&this.emit("removeListener",e,t))}return this.listenerTree&&P(this.listenerTree),this},N.prototype.offAny=function(e){var t,r=0,n=0;if(e&&this._all&&this._all.length>0){for(r=0,n=(t=this._all).length;r<n;r++)if(e===t[r]){t.splice(r,1),this._removeListener&&this.emit("removeListenerAny",e);break}}else{if(t=this._all,this._removeListener)for(r=0,n=t.length;r<n;r++)this.emit("removeListenerAny",t[r]);this._all=[]}return this},N.prototype.removeListener=N.prototype.off,N.prototype.removeAllListeners=function(e){if(o===e)return this._events&&h.call(this),this;if(this.wildcard){var t,r=I.call(this,null,e,this.listenerTree,0);if(!r)return this;for(t=0;t<r.length;t++)r[t]._listeners=null;this.listenerTree&&P(this.listenerTree)}else this._events&&(this._events[e]=null);return this},N.prototype.listeners=function(e){var t,r,n,i,a,s=this._events;if(o===e){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!s)return[];for(i=(t=f(s)).length,n=[];i-- >0;)"function"==typeof(r=s[t[i]])?n.push(r):n.push.apply(n,r);return n}if(this.wildcard){if(!(a=this.listenerTree))return[];var c=[],l="string"==typeof e?e.split(this.delimiter):e.slice();return I.call(this,c,l,a,0),c}return s&&(r=s[e])?"function"==typeof r?[r]:r:[]},N.prototype.eventNames=function(e){var t=this._events;return this.wildcard?O.call(this,this.listenerTree,[],null,e):t?f(t):[]},N.prototype.listenerCount=function(e){return this.listeners(e).length},N.prototype.hasListeners=function(e){if(this.wildcard){var t=[],r="string"==typeof e?e.split(this.delimiter):e.slice();return I.call(this,t,r,this.listenerTree,0),t.length>0}var n=this._events,i=this._all;return!!(i&&i.length||n&&(o===e?f(n).length:n[e]))},N.prototype.listenersAny=function(){return this._all?this._all:[]},N.prototype.waitFor=function(e,t){var r=this,n=typeof t;return"number"===n?t={timeout:t}:"function"===n&&(t={filter:t}),S((t=w(t,{timeout:0,filter:o,handleError:!1,Promise:Promise,overload:!1},{filter:x,Promise:v})).Promise,function(n,i,o){function a(){var o=t.filter;if(!o||o.apply(r,arguments)){if(r.off(e,a),t.handleError){var s=arguments[0];s?i(s):n(m.apply(null,arguments).slice(1))}else n(m.apply(null,arguments))}}o(function(){r.off(e,a)}),r._on(e,a,!1)},{timeout:t.timeout,overload:t.overload})};var M=N.prototype;Object.defineProperties(N,{defaultMaxListeners:{get:function(){return M._maxListeners},set:function(e){if("number"!=typeof e||e<0||Number.isNaN(e))throw TypeError("n must be a non-negative number");M._maxListeners=e},enumerable:!0},once:{value:function(e,t,r){return S((r=w(r,{Promise:Promise,timeout:0,overload:!1},{Promise:v})).Promise,function(r,n,i){if("function"==typeof e.addEventListener){o=function(){r(m.apply(null,arguments))},i(function(){e.removeEventListener(t,o)}),e.addEventListener(t,o,{once:!0});return}var o,a,s=function(){a&&e.removeListener("error",a),r(m.apply(null,arguments))};"error"!==t&&(a=function(r){e.removeListener(t,s),n(r)},e.once("error",a)),i(function(){a&&e.removeListener("error",a),e.removeListener(t,s)}),e.once(t,s)},{timeout:r.timeout,overload:r.overload})},writable:!0,configurable:!0}}),Object.defineProperties(M,{_maxListeners:{value:10,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),o!==(n=(function(){return N}).call(t,r,t,e))&&(e.exports=n)}()},55445:function(e){"use strict";var t,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise(function(r,n){var i;function o(r){e.removeListener(t,a),n(r)}function a(){"function"==typeof e.removeListener&&e.removeListener("error",o),r([].slice.call(arguments))}g(e,t,a,{once:!0}),"error"!==t&&(i={once:!0},"function"==typeof e.on&&g(e,"error",o,i))})},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function s(e){if("function"!=typeof e)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function l(e,t,r,n){if(s(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),a=o[t]),void 0===a)a=o[t]=r,++e._eventsCount;else if("function"==typeof a?a=o[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(i=c(e))>0&&a.length>i&&!a.warned){a.warned=!0;var i,o,a,l=Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,console&&console.warn&&console.warn(l)}return e}function u(){if(!this.fired)return(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length)?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=u.bind(n);return i.listener=r,n.wrapFn=i,i}function f(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):p(i,i.length)}function h(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function p(e,t){for(var r=Array(t),n=0;n<t;++n)r[n]=e[n];return r}function g(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else if("function"==typeof e.addEventListener)e.addEventListener(t,function i(o){n.once&&e.removeEventListener(t,i),r(o)});else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||i(e))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),o.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var a,s=Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var c=o[e];if(void 0===c)return!1;if("function"==typeof c)n(c,this,t);else for(var l=c.length,u=p(c,l),r=0;r<l;++r)n(u[r],this,t);return!0},o.prototype.addListener=function(e,t){return l(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return l(this,e,t,!0)},o.prototype.once=function(e,t){return s(t),this.on(e,d(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,d(this,e,t)),this},o.prototype.removeListener=function(e,t){var r,n,i,o,a;if(s(t),void 0===(n=this._events)||void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){a=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0==arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},o.prototype.listeners=function(e){return f(this,e,!0)},o.prototype.rawListeners=function(e){return f(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},o.prototype.listenerCount=h,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},98595:function(e){"use strict";var t=Object.prototype.toString,r=Math.max,n=function(e,t){for(var r=[],n=0;n<e.length;n+=1)r[n]=e[n];for(var i=0;i<t.length;i+=1)r[i+e.length]=t[i];return r},i=function(e,t){for(var r=[],n=t||0,i=0;n<e.length;n+=1,i+=1)r[i]=e[n];return r},o=function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r};e.exports=function(e){var a,s=this;if("function"!=typeof s||"[object Function]"!==t.apply(s))throw TypeError("Function.prototype.bind called on incompatible "+s);for(var c=i(arguments,1),l=r(0,s.length-c.length),u=[],d=0;d<l;d++)u[d]="$"+d;if(a=Function("binder","return function ("+o(u,",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof a){var t=s.apply(this,n(c,arguments));return Object(t)===t?t:this}return s.apply(e,n(c,arguments))}),s.prototype){var f=function(){};f.prototype=s.prototype,a.prototype=new f,f.prototype=null}return a}},92517:function(e,t,r){"use strict";var n=r(98595);e.exports=Function.prototype.bind||n},50071:function(e,t,r){"use strict";var n,i=r(66199),o=r(22016),a=r(12107),s=r(2706),c=r(926),l=r(5014),u=r(53842),d=r(34662),f=r(11881),h=r(98775),p=r(99564),g=r(34387),m=r(46451),y=r(55304),b=r(9797),w=Function,v=function(e){try{return w('"use strict"; return ('+e+").constructor;")()}catch(e){}},E=r(50297),x=r(10816),A=function(){throw new u},S=E?function(){try{return arguments.callee,A}catch(e){try{return E(arguments,"callee").get}catch(e){return A}}}():A,_=r(35222)(),I=r(66399),C=r(83617),O=r(14197),P=r(18690),T=r(93191),k={},N="undefined"!=typeof Uint8Array&&I?I(Uint8Array):n,M={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":_&&I?I([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":k,"%AsyncGenerator%":k,"%AsyncGeneratorFunction%":k,"%AsyncIteratorPrototype%":k,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":o,"%eval%":eval,"%EvalError%":a,"%Float16Array%":"undefined"==typeof Float16Array?n:Float16Array,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":w,"%GeneratorFunction%":k,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":_&&I?I(I([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&_&&I?I(new Map()[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":i,"%Object.getOwnPropertyDescriptor%":E,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":s,"%ReferenceError%":c,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&_&&I?I(new Set()[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":_&&I?I(""[Symbol.iterator]()):n,"%Symbol%":_?Symbol:n,"%SyntaxError%":l,"%ThrowTypeError%":S,"%TypedArray%":N,"%TypeError%":u,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":d,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet,"%Function.prototype.call%":T,"%Function.prototype.apply%":P,"%Object.defineProperty%":x,"%Object.getPrototypeOf%":C,"%Math.abs%":f,"%Math.floor%":h,"%Math.max%":p,"%Math.min%":g,"%Math.pow%":m,"%Math.round%":y,"%Math.sign%":b,"%Reflect.getPrototypeOf%":O};if(I)try{null.error}catch(e){var R=I(I(e));M["%Error.prototype%"]=R}var D=function e(t){var r;if("%AsyncFunction%"===t)r=v("async function () {}");else if("%GeneratorFunction%"===t)r=v("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=v("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&I&&(r=I(i.prototype))}return M[t]=r,r},L={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},B=r(92517),U=r(2575),j=B.call(T,Array.prototype.concat),$=B.call(P,Array.prototype.splice),F=B.call(T,String.prototype.replace),z=B.call(T,String.prototype.slice),q=B.call(T,RegExp.prototype.exec),G=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,H=/\\(\\)?/g,V=function(e){var t=z(e,0,1),r=z(e,-1);if("%"===t&&"%"!==r)throw new l("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new l("invalid intrinsic syntax, expected opening `%`");var n=[];return F(e,G,function(e,t,r,i){n[n.length]=r?F(i,H,"$1"):t||e}),n},W=function(e,t){var r,n=e;if(U(L,n)&&(n="%"+(r=L[n])[0]+"%"),U(M,n)){var i=M[n];if(i===k&&(i=D(n)),void 0===i&&!t)throw new u("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new l("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new u("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new u('"allowMissing" argument must be a boolean');if(null===q(/^%?[^%]*%?$/,e))throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=V(e),n=r.length>0?r[0]:"",i=W("%"+n+"%",t),o=i.name,a=i.value,s=!1,c=i.alias;c&&(n=c[0],$(r,j([0,1],c)));for(var d=1,f=!0;d<r.length;d+=1){var h=r[d],p=z(h,0,1),g=z(h,-1);if(('"'===p||"'"===p||"`"===p||'"'===g||"'"===g||"`"===g)&&p!==g)throw new l("property names with quotes must have matching quotes");if("constructor"!==h&&f||(s=!0),n+="."+h,U(M,o="%"+n+"%"))a=M[o];else if(null!=a){if(!(h in a)){if(!t)throw new u("base intrinsic for "+e+" exists, but the property is not available.");return}if(E&&d+1>=r.length){var m=E(a,h);a=(f=!!m)&&"get"in m&&!("originalValue"in m.get)?m.get:a[h]}else f=U(a,h),a=a[h];f&&!s&&(M[o]=a)}}return a}},83617:function(e,t,r){"use strict";var n=r(66199);e.exports=n.getPrototypeOf||null},14197:function(e){"use strict";e.exports="undefined"!=typeof Reflect&&Reflect.getPrototypeOf||null},66399:function(e,t,r){"use strict";var n=r(14197),i=r(83617),o=r(23314);e.exports=n?function(e){return n(e)}:i?function(e){if(!e||"object"!=typeof e&&"function"!=typeof e)throw TypeError("getProto: not an object");return i(e)}:o?function(e){return o(e)}:null},61534:function(e){"use strict";e.exports=Object.getOwnPropertyDescriptor},50297:function(e,t,r){"use strict";var n=r(61534);if(n)try{n([],"length")}catch(e){n=null}e.exports=n},40927:function(e,t,r){"use strict";var n=r(10816),i=function(){return!!n};i.hasArrayLengthDefineBug=function(){if(!n)return null;try{return 1!==n([],"length",{value:1}).length}catch(e){return!0}},e.exports=i},35222:function(e,t,r){"use strict";var n="undefined"!=typeof Symbol&&Symbol,i=r(38056);e.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&i()}},38056:function(e){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t||"[object Symbol]"!==Object.prototype.toString.call(t)||"[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(var n in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},28714:function(e,t,r){t.utils=r(20015),t.common=r(49351),t.sha=r(87647),t.ripemd=r(47826),t.hmac=r(53765),t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160},49351:function(e,t,r){"use strict";var n=r(20015),i=r(73045);function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=o,o.prototype.update=function(e,t){if(e=n.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=n.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},o.prototype.digest=function(e){return this.update(this._pad()),i(null===this.pending),this._digest(e)},o.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(o=8,n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0;o<this.padLength;o++)n[i++]=0;return n}},53765:function(e,t,r){"use strict";var n=r(20015),i=r(73045);function o(e,t,r){if(!(this instanceof o))return new o(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(t,r))}e.exports=o,o.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),i(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(t=0,this.inner=new this.Hash().update(e);t<e.length;t++)e[t]^=106;this.outer=new this.Hash().update(e)},o.prototype.update=function(e,t){return this.inner.update(e,t),this},o.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},47826:function(e,t,r){"use strict";var n=r(20015),i=r(49351),o=n.rotl32,a=n.sum32,s=n.sum32_3,c=n.sum32_4,l=i.BlockHash;function u(){if(!(this instanceof u))return new u;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function d(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}n.inherits(u,l),t.ripemd160=u,u.blockSize=512,u.outSize=160,u.hmacStrength=192,u.padLength=64,u.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],l=this.h[3],u=this.h[4],m=r,y=n,b=i,w=l,v=u,E=0;E<80;E++){var x,A,S=a(o(c(r,d(E,n,i,l),e[f[E]+t],(x=E)<=15?0:x<=31?1518500249:x<=47?1859775393:x<=63?2400959708:2840853838),p[E]),u);r=u,u=l,l=o(i,10),i=n,n=S,S=a(o(c(m,d(79-E,y,b,w),e[h[E]+t],(A=E)<=15?1352829926:A<=31?1548603684:A<=47?1836072691:A<=63?2053994217:0),g[E]),v),m=v,v=w,w=o(b,10),b=y,y=S}S=s(this.h[1],i,w),this.h[1]=s(this.h[2],l,v),this.h[2]=s(this.h[3],u,m),this.h[3]=s(this.h[4],r,y),this.h[4]=s(this.h[0],n,b),this.h[0]=S},u.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],h=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],p=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],g=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},87647:function(e,t,r){"use strict";t.sha1=r(4684),t.sha224=r(45261),t.sha256=r(17795),t.sha384=r(84182),t.sha512=r(54358)},4684:function(e,t,r){"use strict";var n=r(20015),i=r(49351),o=r(31964),a=n.rotl32,s=n.sum32,c=n.sum32_5,l=o.ft_1,u=i.BlockHash,d=[1518500249,1859775393,2400959708,3395469782];function f(){if(!(this instanceof f))return new f;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=Array(80)}n.inherits(f,u),e.exports=f,f.blockSize=512,f.outSize=160,f.hmacStrength=80,f.padLength=64,f.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=a(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],o=this.h[1],u=this.h[2],f=this.h[3],h=this.h[4];for(n=0;n<r.length;n++){var p=~~(n/20),g=c(a(i,5),l(p,o,u,f),h,r[n],d[p]);h=f,f=u,u=a(o,30),o=i,i=g}this.h[0]=s(this.h[0],i),this.h[1]=s(this.h[1],o),this.h[2]=s(this.h[2],u),this.h[3]=s(this.h[3],f),this.h[4]=s(this.h[4],h)},f.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},45261:function(e,t,r){"use strict";var n=r(20015),i=r(17795);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(o,i),e.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},17795:function(e,t,r){"use strict";var n=r(20015),i=r(49351),o=r(31964),a=r(73045),s=n.sum32,c=n.sum32_4,l=n.sum32_5,u=o.ch32,d=o.maj32,f=o.s0_256,h=o.s1_256,p=o.g0_256,g=o.g1_256,m=i.BlockHash,y=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function b(){if(!(this instanceof b))return new b;m.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=y,this.W=Array(64)}n.inherits(b,m),e.exports=b,b.blockSize=512,b.outSize=256,b.hmacStrength=192,b.padLength=64,b.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=c(g(r[n-2]),r[n-7],p(r[n-15]),r[n-16]);var i=this.h[0],o=this.h[1],m=this.h[2],y=this.h[3],b=this.h[4],w=this.h[5],v=this.h[6],E=this.h[7];for(a(this.k.length===r.length),n=0;n<r.length;n++){var x=l(E,h(b),u(b,w,v),this.k[n],r[n]),A=s(f(i),d(i,o,m));E=v,v=w,w=b,b=s(y,x),y=m,m=o,o=i,i=s(x,A)}this.h[0]=s(this.h[0],i),this.h[1]=s(this.h[1],o),this.h[2]=s(this.h[2],m),this.h[3]=s(this.h[3],y),this.h[4]=s(this.h[4],b),this.h[5]=s(this.h[5],w),this.h[6]=s(this.h[6],v),this.h[7]=s(this.h[7],E)},b.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},84182:function(e,t,r){"use strict";var n=r(20015),i=r(54358);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(o,i),e.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},54358:function(e,t,r){"use strict";var n=r(20015),i=r(49351),o=r(73045),a=n.rotr64_hi,s=n.rotr64_lo,c=n.shr64_hi,l=n.shr64_lo,u=n.sum64,d=n.sum64_hi,f=n.sum64_lo,h=n.sum64_4_hi,p=n.sum64_4_lo,g=n.sum64_5_hi,m=n.sum64_5_lo,y=i.BlockHash,b=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function w(){if(!(this instanceof w))return new w;y.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=b,this.W=Array(160)}n.inherits(w,y),e.exports=w,w.blockSize=1024,w.outSize=512,w.hmacStrength=192,w.padLength=128,w.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=function(e,t){var r=a(e,t,19)^a(t,e,29)^c(e,t,6);return r<0&&(r+=4294967296),r}(r[n-4],r[n-3]),o=function(e,t){var r=s(e,t,19)^s(t,e,29)^l(e,t,6);return r<0&&(r+=4294967296),r}(r[n-4],r[n-3]),u=r[n-14],d=r[n-13],f=function(e,t){var r=a(e,t,1)^a(e,t,8)^c(e,t,7);return r<0&&(r+=4294967296),r}(r[n-30],r[n-29]),g=function(e,t){var r=s(e,t,1)^s(e,t,8)^l(e,t,7);return r<0&&(r+=4294967296),r}(r[n-30],r[n-29]),m=r[n-32],y=r[n-31];r[n]=h(i,o,u,d,f,g,m,y),r[n+1]=p(i,o,u,d,f,g,m,y)}},w.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],c=this.h[2],l=this.h[3],h=this.h[4],p=this.h[5],y=this.h[6],b=this.h[7],w=this.h[8],v=this.h[9],E=this.h[10],x=this.h[11],A=this.h[12],S=this.h[13],_=this.h[14],I=this.h[15];o(this.k.length===r.length);for(var C=0;C<r.length;C+=2){var O=_,P=I,T=function(e,t){var r=a(e,t,14)^a(e,t,18)^a(t,e,9);return r<0&&(r+=4294967296),r}(w,v),k=function(e,t){var r=s(e,t,14)^s(e,t,18)^s(t,e,9);return r<0&&(r+=4294967296),r}(w,v),N=function(e,t,r,n,i){var o=e&r^~e&i;return o<0&&(o+=4294967296),o}(w,0,E,0,A,S),M=function(e,t,r,n,i,o){var a=t&n^~t&o;return a<0&&(a+=4294967296),a}(0,v,0,x,0,S),R=this.k[C],D=this.k[C+1],L=r[C],B=r[C+1],U=g(O,P,T,k,N,M,R,D,L,B),j=m(O,P,T,k,N,M,R,D,L,B);O=function(e,t){var r=a(e,t,28)^a(t,e,2)^a(t,e,7);return r<0&&(r+=4294967296),r}(n,i);var $=d(O,P=function(e,t){var r=s(e,t,28)^s(t,e,2)^s(t,e,7);return r<0&&(r+=4294967296),r}(n,i),T=function(e,t,r,n,i){var o=e&r^e&i^r&i;return o<0&&(o+=4294967296),o}(n,0,c,0,h,p),k=function(e,t,r,n,i,o){var a=t&n^t&o^n&o;return a<0&&(a+=4294967296),a}(0,i,0,l,0,p)),F=f(O,P,T,k);_=A,I=S,A=E,S=x,E=w,x=v,w=d(y,b,U,j),v=f(b,b,U,j),y=h,b=p,h=c,p=l,c=n,l=i,n=d(U,j,$,F),i=f(U,j,$,F)}u(this.h,0,n,i),u(this.h,2,c,l),u(this.h,4,h,p),u(this.h,6,y,b),u(this.h,8,w,v),u(this.h,10,E,x),u(this.h,12,A,S),u(this.h,14,_,I)},w.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},31964:function(e,t,r){"use strict";var n=r(20015).rotr32;function i(e,t,r){return e&t^e&r^t&r}t.ft_1=function(e,t,r,n){return 0===e?t&r^~t&n:1===e||3===e?t^r^n:2===e?i(t,r,n):void 0},t.ch32=function(e,t,r){return e&t^~e&r},t.maj32=i,t.p32=function(e,t,r){return e^t^r},t.s0_256=function(e){return n(e,2)^n(e,13)^n(e,22)},t.s1_256=function(e){return n(e,6)^n(e,11)^n(e,25)},t.g0_256=function(e){return n(e,7)^n(e,18)^e>>>3},t.g1_256=function(e){return n(e,17)^n(e,19)^e>>>10}},20015:function(e,t,r){"use strict";var n=r(73045),i=r(56853);function o(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function a(e){return 1===e.length?"0"+e:e}function s(e){if(7===e.length)return"0"+e;if(6===e.length)return"00"+e;if(5===e.length)return"000"+e;if(4===e.length)return"0000"+e;if(3===e.length)return"00000"+e;if(2===e.length)return"000000"+e;if(1===e.length)return"0000000"+e;else return e}t.inherits=i,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e){if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/ig,"")).length%2!=0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var o,a,s=e.charCodeAt(i);s<128?r[n++]=s:(s<2048?r[n++]=s>>6|192:((o=e,a=i,(64512&o.charCodeAt(a))!=55296||a<0||a+1>=o.length?1:(64512&o.charCodeAt(a+1))!=56320)?r[n++]=s>>12|224:(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++i)),r[n++]=s>>18|240,r[n++]=s>>12&63|128),r[n++]=s>>6&63|128),r[n++]=63&s|128)}}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r},t.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=a(e[r].toString(16));return t},t.htonl=o,t.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=o(i)),r+=s(i.toString(16))}return r},t.zero2=a,t.zero8=s,t.join32=function(e,t,r,i){var o,a=r-t;n(a%4==0);for(var s=Array(a/4),c=0,l=t;c<s.length;c++,l+=4)o="big"===i?e[l]<<24|e[l+1]<<16|e[l+2]<<8|e[l+3]:e[l+3]<<24|e[l+2]<<16|e[l+1]<<8|e[l],s[c]=o>>>0;return s},t.split32=function(e,t){for(var r=Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var o=e[n];"big"===t?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,r){return e+t+r>>>0},t.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},t.sum32_5=function(e,t,r,n,i){return e+t+r+n+i>>>0},t.sum64=function(e,t,r,n){var i=e[t],o=n+e[t+1]>>>0;e[t]=(o<n?1:0)+r+i>>>0,e[t+1]=o},t.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},t.sum64_lo=function(e,t,r,n){return t+n>>>0},t.sum64_4_hi=function(e,t,r,n,i,o,a,s){var c,l=t;return e+r+i+a+(0+((l=l+n>>>0)<t?1:0)+((l=l+o>>>0)<o?1:0)+((l=l+s>>>0)<s?1:0))>>>0},t.sum64_4_lo=function(e,t,r,n,i,o,a,s){return t+n+o+s>>>0},t.sum64_5_hi=function(e,t,r,n,i,o,a,s,c,l){var u,d=t;return e+r+i+a+c+(0+((d=d+n>>>0)<t?1:0)+((d=d+o>>>0)<o?1:0)+((d=d+s>>>0)<s?1:0)+((d=d+l>>>0)<l?1:0))>>>0},t.sum64_5_lo=function(e,t,r,n,i,o,a,s,c,l){return t+n+o+s+l>>>0},t.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},t.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},t.shr64_hi=function(e,t,r){return e>>>r},t.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0}},2575:function(e,t,r){"use strict";var n=Function.prototype.call,i=Object.prototype.hasOwnProperty,o=r(92517);e.exports=o.call(n,i)},28072:function(e,t,r){"use strict";var n=r(28714),i=r(83742),o=r(73045);function a(e){if(!(this instanceof a))return new a(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=i.toArray(e.entropy,e.entropyEnc||"hex"),r=i.toArray(e.nonce,e.nonceEnc||"hex"),n=i.toArray(e.pers,e.persEnc||"hex");o(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}e.exports=a,a.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=Array(this.outLen/8),this.V=Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},a.prototype._hmac=function(){return new n.hmac(this.hash,this.K)},a.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},a.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=i.toArray(e,t),r=i.toArray(r,n),o(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},a.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=i.toArray(r,n||"hex"),this._update(r));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var a=o.slice(0,e);return this._update(r),this._reseed++,i.encode(a,t)}},56853:function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},96065:function(e){var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},69983:function(e,t,r){"use strict";let n=r(58550).v4,i=r(40789),o=function(e,t){if(!(this instanceof o))return new o(e,t);t||(t={}),this.options={reviver:void 0!==t.reviver?t.reviver:null,replacer:void 0!==t.replacer?t.replacer:null,generator:void 0!==t.generator?t.generator:function(){return n()},version:void 0!==t.version?t.version:2,notificationIdNull:"boolean"==typeof t.notificationIdNull&&t.notificationIdNull},this.callServer=e};e.exports=o,o.prototype.request=function(e,t,r,n){let o;let a=this,s=null,c=Array.isArray(e)&&"function"==typeof t;if(1===this.options.version&&c)throw TypeError("JSON-RPC 1.0 does not support batching");let l=!c&&e&&"object"==typeof e&&"function"==typeof t;if(c||l)n=t,s=e;else{"function"==typeof r&&(n=r,r=void 0);let o="function"==typeof n;try{s=i(e,t,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(e){if(o){n(e);return}throw e}if(!o)return s}try{o=JSON.stringify(s,this.options.replacer)}catch(e){n(e);return}return this.callServer(o,function(e,t){a._parseResponse(e,t,n)}),s},o.prototype._parseResponse=function(e,t,r){let n;if(e){r(e);return}if(!t){r();return}try{n=JSON.parse(t,this.options.reviver)}catch(e){r(e);return}if(3===r.length){if(Array.isArray(n)){let e=function(e){return void 0!==e.error};r(null,n.filter(e),n.filter(function(t){return!e(t)}));return}r(null,n.error,n.result);return}r(null,n)}},40789:function(e,t,r){"use strict";let n=r(58550).v4;e.exports=function(e,t,r,i){if("string"!=typeof e)throw TypeError(e+" must be a string");let o="number"==typeof(i=i||{}).version?i.version:2;if(1!==o&&2!==o)throw TypeError(o+" must be 1 or 2");let a={method:e};if(2===o&&(a.jsonrpc="2.0"),t){if("object"!=typeof t&&!Array.isArray(t))throw TypeError(t+" must be an object, array or omitted");a.params=t}if(void 0===r){let e="function"==typeof i.generator?i.generator:function(){return n()};a.id=e(a,i)}else 2===o&&null===r?i.notificationIdNull&&(a.id=null):a.id=r;return a}},7040:function(e){e.exports=function(e){var t=(e=e||{}).max||Number.MAX_SAFE_INTEGER,r=void 0!==e.start?e.start:Math.floor(Math.random()*t);return function(){return r%=t,r++}}},70018:function(e,t,r){"use strict";var n=("undefined"!=typeof JSON?JSON:r(28888)).stringify,i=r(96065),o=r(62122),a=r(72884),s=r(73250),c=s("Array.prototype.join"),l=s("Array.prototype.indexOf"),u=s("Array.prototype.splice"),d=s("Array.prototype.sort"),f=function(e,t){for(var r="",n=0;n<e;n+=1)r+=t;return r},h=function(e,t,r){return r};e.exports=function(e){var t=arguments.length>1?arguments[1]:void 0,r=t&&t.space||"";"number"==typeof r&&(r=f(r," "));var s=!!t&&"boolean"==typeof t.cycles&&t.cycles,p=t&&t.replacer?a(t.replacer):h;if(t&&void 0!==t.collapseEmpty&&"boolean"!=typeof t.collapseEmpty)throw TypeError("`collapseEmpty` must be a boolean, if provided");var g=!!t&&t.collapseEmpty,m="function"==typeof t?t:t&&t.cmp,y=m&&function(e){var t=m.length>2&&function(t){return e[t]};return function(r,n){return m({key:r,value:e[r]},{key:n,value:e[n]},t?{__proto__:null,get:t}:void 0)}},b=[];return function e(t,a,h,m){var w=r?"\n"+f(m,r):"",v=r?": ":":";if(h&&h.toJSON&&"function"==typeof h.toJSON&&(h=h.toJSON()),void 0!==(h=p(t,a,h))){if("object"!=typeof h||null===h)return n(h);var E=function(e,t){return g&&0===e.length?t:("[]"===t?"[":"{")+c(e,",")+w+("[]"===t?"]":"}")};if(i(h)){for(var x=[],A=0;A<h.length;A++){var S=e(h,A,h[A],m+1)||n(null);x[x.length]=w+r+S}return E(x,"[]")}if(-1!==l(b,h)){if(s)return n("__cycle__");throw TypeError("Converting circular structure to JSON")}b[b.length]=h;for(var _=d(o(h),y&&y(h)),x=[],A=0;A<_.length;A++){var a=_[A],I=e(h,a,h[a],m+1);if(I){var C=n(a)+v+I;x[x.length]=w+r+C}}return u(b,l(b,h),1),E(x,"{}")}}({"":e},"",e,0)}},28888:function(e,t,r){"use strict";t.parse=r(81370),t.stringify=r(57188)},81370:function(e){"use strict";var t,r,n,i={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"	"};function o(e){throw{name:"SyntaxError",message:e,at:t,text:n}}function a(e){return e&&e!==r&&o("Expected '"+e+"' instead of '"+r+"'"),r=n.charAt(t),t+=1,r}function s(){var e,t="";for("-"===r&&(t="-",a("-"));r>="0"&&r<="9";)t+=r,a();if("."===r)for(t+=".";a()&&r>="0"&&r<="9";)t+=r;if("e"===r||"E"===r)for(t+=r,a(),("-"===r||"+"===r)&&(t+=r,a());r>="0"&&r<="9";)t+=r,a();return isFinite(e=Number(t))||o("Bad number"),e}function c(){var e,t,n,s="";if('"'===r)for(;a();){if('"'===r)return a(),s;if("\\"===r){if(a(),"u"===r){for(t=0,n=0;t<4&&isFinite(e=parseInt(a(),16));t+=1)n=16*n+e;s+=String.fromCharCode(n)}else if("string"==typeof i[r])s+=i[r];else break}else s+=r}o("Bad string")}function l(){for(;r&&r<=" ";)a()}function u(){switch(l(),r){case"{":return function(){var e,t={};if("{"===r){if(a("{"),l(),"}"===r)return a("}"),t;for(;r;){if(e=c(),l(),a(":"),Object.prototype.hasOwnProperty.call(t,e)&&o('Duplicate key "'+e+'"'),t[e]=u(),l(),"}"===r)return a("}"),t;a(","),l()}}o("Bad object")}();case"[":return function(){var e=[];if("["===r){if(a("["),l(),"]"===r)return a("]"),e;for(;r;){if(e.push(u()),l(),"]"===r)return a("]"),e;a(","),l()}}o("Bad array")}();case'"':return c();case"-":return s();default:return r>="0"&&r<="9"?s():function(){switch(r){case"t":return a("t"),a("r"),a("u"),a("e"),!0;case"f":return a("f"),a("a"),a("l"),a("s"),a("e"),!1;case"n":return a("n"),a("u"),a("l"),a("l"),null;default:o("Unexpected '"+r+"'")}}()}}e.exports=function(e,i){var a;return n=e,t=0,r=" ",a=u(),l(),r&&o("Syntax error"),"function"==typeof i?function e(t,r){var n,o,a=t[r];if(a&&"object"==typeof a)for(n in u)Object.prototype.hasOwnProperty.call(a,n)&&(void 0===(o=e(a,n))?delete a[n]:a[n]=o);return i.call(t,r,a)}({"":a},""):a}},57188:function(e){"use strict";var t,r,n,i=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function a(e){return i.lastIndex=0,i.test(e)?'"'+e.replace(i,function(e){var t=o[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}e.exports=function(e,i,o){var s;if(t="",r="","number"==typeof o)for(s=0;s<o;s+=1)r+=" ";else"string"==typeof o&&(r=o);if(n=i,i&&"function"!=typeof i&&("object"!=typeof i||"number"!=typeof i.length))throw Error("JSON.stringify");return function e(i,o){var s,c,l,u,d,f=t,h=o[i];switch(h&&"object"==typeof h&&"function"==typeof h.toJSON&&(h=h.toJSON(i)),"function"==typeof n&&(h=n.call(o,i,h)),typeof h){case"string":return a(h);case"number":return isFinite(h)?String(h):"null";case"boolean":case"null":return String(h);case"object":if(!h)return"null";if(t+=r,d=[],"[object Array]"===Object.prototype.toString.apply(h)){for(s=0,u=h.length;s<u;s+=1)d[s]=e(s,h)||"null";return l=0===d.length?"[]":t?"[\n"+t+d.join(",\n"+t)+"\n"+f+"]":"["+d.join(",")+"]",t=f,l}if(n&&"object"==typeof n)for(s=0,u=n.length;s<u;s+=1)"string"==typeof(c=n[s])&&(l=e(c,h))&&d.push(a(c)+(t?": ":":")+l);else for(c in h)Object.prototype.hasOwnProperty.call(h,c)&&(l=e(c,h))&&d.push(a(c)+(t?": ":":")+l);return l=0===d.length?"{}":t?"{\n"+t+d.join(",\n"+t)+"\n"+f+"}":"{"+d.join(",")+"}",t=f,l}}("",{"":e})}},86005:function(e,t,r){var n,i;void 0!==(i="function"==typeof(n=function(){"use strict";var e=function(){},t="undefined",r=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),n=["trace","debug","info","warn","error"],i={},o=null;function a(e,t){var r=e[t];if("function"==typeof r.bind)return r.bind(e);try{return Function.prototype.bind.call(r,e)}catch(t){return function(){return Function.prototype.apply.apply(r,[e,arguments])}}}function s(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function c(){for(var r=this.getLevel(),i=0;i<n.length;i++){var o=n[i];this[o]=i<r?e:this.methodFactory(o,r,this.name)}if(this.log=this.debug,typeof console===t&&r<this.levels.SILENT)return"No console available for logging"}function l(e){return function(){typeof console!==t&&(c.call(this),this[e].apply(this,arguments))}}function u(n,i,o){var c;return"debug"===(c=n)&&(c="log"),typeof console!==t&&("trace"===c&&r?s:void 0!==console[c]?a(console,c):void 0!==console.log?a(console,"log"):e)||l.apply(this,arguments)}function d(e,r){var a,s,l,d=this,f="loglevel";function h(){var e;if(typeof window!==t&&f){try{e=window.localStorage[f]}catch(e){}if(typeof e===t)try{var r=window.document.cookie,n=encodeURIComponent(f),i=r.indexOf(n+"=");-1!==i&&(e=/^([^;]+)/.exec(r.slice(i+n.length+1))[1])}catch(e){}return void 0===d.levels[e]&&(e=void 0),e}}function p(e){var t=e;if("string"==typeof t&&void 0!==d.levels[t.toUpperCase()]&&(t=d.levels[t.toUpperCase()]),"number"==typeof t&&t>=0&&t<=d.levels.SILENT)return t;throw TypeError("log.setLevel() called with invalid level: "+e)}"string"==typeof e?f+=":"+e:"symbol"==typeof e&&(f=void 0),d.name=e,d.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},d.methodFactory=r||u,d.getLevel=function(){return null!=l?l:null!=s?s:a},d.setLevel=function(e,r){return l=p(e),!1!==r&&function(e){var r=(n[e]||"silent").toUpperCase();if(typeof window!==t&&f){try{window.localStorage[f]=r;return}catch(e){}try{window.document.cookie=encodeURIComponent(f)+"="+r+";"}catch(e){}}}(l),c.call(d)},d.setDefaultLevel=function(e){s=p(e),h()||d.setLevel(e,!1)},d.resetLevel=function(){l=null,function(){if(typeof window!==t&&f){try{window.localStorage.removeItem(f)}catch(e){}try{window.document.cookie=encodeURIComponent(f)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}(),c.call(d)},d.enableAll=function(e){d.setLevel(d.levels.TRACE,e)},d.disableAll=function(e){d.setLevel(d.levels.SILENT,e)},d.rebuild=function(){if(o!==d&&(a=p(o.getLevel())),c.call(d),o===d)for(var e in i)i[e].rebuild()},a=p(o?o.getLevel():"WARN");var g=h();null!=g&&(l=p(g)),c.call(d)}(o=new d).getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw TypeError("You must supply a name when creating a logger.");var t=i[e];return t||(t=i[e]=new d(e,o.methodFactory)),t};var f=typeof window!==t?window.log:void 0;return o.noConflict=function(){return typeof window!==t&&window.log===o&&(window.log=f),o},o.getLoggers=function(){return i},o.default=o,o})?n.call(t,r,t,e):n)&&(e.exports=i)},11881:function(e){"use strict";e.exports=Math.abs},98775:function(e){"use strict";e.exports=Math.floor},99646:function(e){"use strict";e.exports=Number.isNaN||function(e){return e!=e}},99564:function(e){"use strict";e.exports=Math.max},34387:function(e){"use strict";e.exports=Math.min},46451:function(e){"use strict";e.exports=Math.pow},55304:function(e){"use strict";e.exports=Math.round},9797:function(e,t,r){"use strict";var n=r(99646);e.exports=function(e){return n(e)||0===e?e:e<0?-1:1}},73045:function(e){function t(e,t){if(!e)throw Error(t||"Assertion failed")}e.exports=t,t.equal=function(e,t,r){if(e!=t)throw Error(r||"Assertion failed: "+e+" != "+t)}},83742:function(e,t){"use strict";function r(e){return 1===e.length?"0"+e:e}function n(e){for(var t="",n=0;n<e.length;n++)t+=r(e[n].toString(16));return t}t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/ig,"")).length%2!=0&&(e="0"+e);for(var n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(var n=0;n<e.length;n++){var i=e.charCodeAt(n),o=i>>8,a=255&i;o?r.push(o,a):r.push(a)}return r},t.zero2=r,t.toHex=n,t.encode=function(e,t){return"hex"===t?n(e):e}},35169:function(e){function t(e,t,r,n){return Math.round(e/r)+" "+n+(t>=1.5*r?"s":"")}e.exports=function(e,r){r=r||{};var n,i,o=typeof e;if("string"===o&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*r;case"weeks":case"week":case"w":return 6048e5*r;case"days":case"day":case"d":return 864e5*r;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*r;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*r;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}(e);if("number"===o&&isFinite(e))return r.long?(n=Math.abs(e))>=864e5?t(e,n,864e5,"day"):n>=36e5?t(e,n,36e5,"hour"):n>=6e4?t(e,n,6e4,"minute"):n>=1e3?t(e,n,1e3,"second"):e+" ms":(i=Math.abs(e))>=864e5?Math.round(e/864e5)+"d":i>=36e5?Math.round(e/36e5)+"h":i>=6e4?Math.round(e/6e4)+"m":i>=1e3?Math.round(e/1e3)+"s":e+"ms";throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},85655:function(e,t,r){"use strict";var n=r(62244),i=r(81477),o=r(15009),a=Object.prototype.toString;e.exports=function(e){return"[object Date]"===a.call(e)?e:"[object Number]"===a.call(e)?new Date(e<315576e5?1e3*e:e):n.is(e)?n.parse(e):i.is(e)?i.parse(e):o.is(e)?o.parse(e):new Date(e)}},81477:function(e,t){"use strict";var r=/\d{13}/;t.is=function(e){return r.test(e)},t.parse=function(e){return new Date(e=parseInt(e,10))}},15009:function(e,t){"use strict";var r=/\d{10}/;t.is=function(e){return r.test(e)},t.parse=function(e){return new Date(1e3*parseInt(e,10))}},52423:function(e){"use strict";let t=self.fetch.bind(self);e.exports=t,e.exports.default=e.exports},92870:function(e){function t(e){return function(t,r,n,o){var a,s=o&&"function"==typeof o.normalizer?o.normalizer:i;r=s(r);for(var c=!1;!c;)!function(){for(a in t){var e=s(a);if(0===r.indexOf(e)){var n=r.substr(e.length);if("."===n.charAt(0)||0===n.length){r=n.substr(1);var i=t[a];if(null==i||!r.length){c=!0;return}t=i;return}}}a=void 0,c=!0}();if(a)return null==t?t:e(t,a,n)}}function r(e,t){return e.hasOwnProperty(t)&&delete e[t],e}function n(e,t,r){return e.hasOwnProperty(t)&&(e[t]=r),e}function i(e){return e.replace(/[^a-zA-Z0-9\.]+/g,"").toLowerCase()}e.exports=t(function(e,t){if(e.hasOwnProperty(t))return e[t]}),e.exports.find=e.exports,e.exports.replace=function(e,r,i,o){return t(n).call(this,e,r,i,o),e},e.exports.del=function(e,n,i){return t(r).call(this,e,n,null,i),e}},68056:function(e,t,r){"use strict";var n;if(!Object.keys){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,a=r(94408),s=Object.prototype.propertyIsEnumerable,c=!s.call({toString:null},"toString"),l=s.call(function(){},"prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(e){var t=e.constructor;return t&&t.prototype===e},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!f["$"+e]&&i.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{d(window[e])}catch(e){return!0}}catch(e){return!0}return!1}(),p=function(e){if("undefined"==typeof window||!h)return d(e);try{return d(e)}catch(e){return!1}};n=function(e){var t=null!==e&&"object"==typeof e,r="[object Function]"===o.call(e),n=a(e),s=t&&"[object String]"===o.call(e),d=[];if(!t&&!r&&!n)throw TypeError("Object.keys called on a non-object");var f=l&&r;if(s&&e.length>0&&!i.call(e,0))for(var h=0;h<e.length;++h)d.push(String(h));if(n&&e.length>0)for(var g=0;g<e.length;++g)d.push(String(g));else for(var m in e)!(f&&"prototype"===m)&&i.call(e,m)&&d.push(String(m));if(c)for(var y=p(e),b=0;b<u.length;++b)!(y&&"constructor"===u[b])&&i.call(e,u[b])&&d.push(u[b]);return d}}e.exports=n},62122:function(e,t,r){"use strict";var n=Array.prototype.slice,i=r(94408),o=Object.keys,a=o?function(e){return o(e)}:r(68056),s=Object.keys;a.shim=function(){return Object.keys?!function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)&&(Object.keys=function(e){return i(e)?s(n.call(e)):s(e)}):Object.keys=a,Object.keys||a},e.exports=a},94408:function(e){"use strict";var t=Object.prototype.toString;e.exports=function(e){var r=t.call(e),n="[object Arguments]"===r;return n||(n="[object Array]"!==r&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),n}},76346:function(e,t,r){"use strict";let{ErrorWithCause:n}=r(54170),{findCauseByReference:i,getErrorCause:o,messageWithCauses:a,stackWithCauses:s}=r(91430);e.exports={ErrorWithCause:n,findCauseByReference:i,getErrorCause:o,stackWithCauses:s,messageWithCauses:a}},54170:function(e){"use strict";class t extends Error{constructor(e,{cause:r}={}){super(e),this.name=t.name,r&&(this.cause=r),this.message=e}}e.exports={ErrorWithCause:t}},91430:function(e){"use strict";let t=e=>{if(e&&"object"==typeof e&&"cause"in e){if("function"!=typeof e.cause)return e.cause instanceof Error?e.cause:void 0;{let t=e.cause();return t instanceof Error?t:void 0}}},r=(e,n)=>{if(!(e instanceof Error))return"";let i=e.stack||"";if(n.has(e))return i+"\ncauses have become circular...";let o=t(e);return o?(n.add(e),i+"\ncaused by: "+r(o,n)):i},n=(e,r,i)=>{if(!(e instanceof Error))return"";let o=i?"":e.message||"";if(r.has(e))return o+": ...";let a=t(e);if(!a)return o;{r.add(e);let t="cause"in e&&"function"==typeof e.cause;return o+(t?"":": ")+n(a,r,t)}};e.exports={findCauseByReference:(e,r)=>{if(!e||!r||!(e instanceof Error)||!(r.prototype instanceof Error)&&r!==Error)return;let n=new Set,i=e;for(;i&&!n.has(i);){if(n.add(i),i instanceof r)return i;i=t(i)}},getErrorCause:t,stackWithCauses:e=>r(e,new Set),messageWithCauses:e=>n(e,new Set)}},20185:function(e,t,r){"use strict";let n;let{SymbolDispose:i}=r(56770),{AbortError:o,codes:a}=r(56367),{isNodeStream:s,isWebStream:c,kControllerErrorFunction:l}=r(96636),u=r(80618),{ERR_INVALID_ARG_TYPE:d}=a,f=(e,t)=>{if("object"!=typeof e||!("aborted"in e))throw new d(t,"AbortSignal",e)};e.exports.addAbortSignal=function(t,r){if(f(t,"signal"),!s(r)&&!c(r))throw new d("stream",["ReadableStream","WritableStream","Stream"],r);return e.exports.addAbortSignalNoValidate(t,r)},e.exports.addAbortSignalNoValidate=function(e,t){if("object"!=typeof e||!("aborted"in e))return t;let a=s(t)?()=>{t.destroy(new o(void 0,{cause:e.reason}))}:()=>{t[l](new o(void 0,{cause:e.reason}))};return e.aborted?a():u(t,(n=n||r(1088).addAbortListener)(e,a)[i]),t}},1381:function(e,t,r){"use strict";let{StringPrototypeSlice:n,SymbolIterator:i,TypedArrayPrototypeSet:o,Uint8Array:a}=r(56770),{Buffer:s}=r(82957),{inspect:c}=r(1088);e.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}unshift(e){let t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}shift(){if(0===this.length)return;let e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(0===this.length)return"";let t=this.head,r=""+t.data;for(;null!==(t=t.next);)r+=e+t.data;return r}concat(e){if(0===this.length)return s.alloc(0);let t=s.allocUnsafe(e>>>0),r=this.head,n=0;for(;r;)o(t,r.data,n),n+=r.data.length,r=r.next;return t}consume(e,t){let r=this.head.data;if(e<r.length){let t=r.slice(0,e);return this.head.data=r.slice(e),t}return e===r.length?this.shift():t?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[i](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let t="",r=this.head,i=0;do{let o=r.data;if(e>o.length)t+=o,e-=o.length;else{e===o.length?(t+=o,++i,r.next?this.head=r.next:this.head=this.tail=null):(t+=n(o,0,e),this.head=r,r.data=n(o,e));break}++i}while(null!==(r=r.next));return this.length-=i,t}_getBuffer(e){let t=s.allocUnsafe(e),r=e,n=this.head,i=0;do{let s=n.data;if(e>s.length)o(t,s,r-e),e-=s.length;else{e===s.length?(o(t,s,r-e),++i,n.next?this.head=n.next:this.head=this.tail=null):(o(t,new a(s.buffer,s.byteOffset,e),r-e),this.head=n,n.data=s.slice(e));break}++i}while(null!==(n=n.next));return this.length-=i,t}[Symbol.for("nodejs.util.inspect.custom")](e,t){return c(this,{...t,depth:0,customInspect:!1})}}},44581:function(e,t,r){"use strict";let{pipeline:n}=r(9237),i=r(21544),{destroyer:o}=r(28589),{isNodeStream:a,isReadable:s,isWritable:c,isWebStream:l,isTransformStream:u,isWritableStream:d,isReadableStream:f}=r(96636),{AbortError:h,codes:{ERR_INVALID_ARG_VALUE:p,ERR_MISSING_ARGS:g}}=r(56367),m=r(80618);e.exports=function(...e){let t,r,y,b,w;if(0===e.length)throw new g("streams");if(1===e.length)return i.from(e[0]);let v=[...e];if("function"==typeof e[0]&&(e[0]=i.from(e[0])),"function"==typeof e[e.length-1]){let t=e.length-1;e[t]=i.from(e[t])}for(let t=0;t<e.length;++t)if(a(e[t])||l(e[t])){if(t<e.length-1&&!(s(e[t])||f(e[t])||u(e[t])))throw new p(`streams[${t}]`,v[t],"must be readable");if(t>0&&!(c(e[t])||d(e[t])||u(e[t])))throw new p(`streams[${t}]`,v[t],"must be writable")}let E=e[0],x=n(e,function(e){let t=b;b=null,t?t(e):e?w.destroy(e):S||A||w.destroy()}),A=!!(c(E)||d(E)||u(E)),S=!!(s(x)||f(x)||u(x));if(w=new i({writableObjectMode:!!(null!=E&&E.writableObjectMode),readableObjectMode:!!(null!=x&&x.readableObjectMode),writable:A,readable:S}),A){if(a(E))w._write=function(e,r,n){E.write(e,r)?n():t=n},w._final=function(e){E.end(),r=e},E.on("drain",function(){if(t){let e=t;t=null,e()}});else if(l(E)){let e=(u(E)?E.writable:E).getWriter();w._write=async function(t,r,n){try{await e.ready,e.write(t).catch(()=>{}),n()}catch(e){n(e)}},w._final=async function(t){try{await e.ready,e.close().catch(()=>{}),r=t}catch(e){t(e)}}}m(u(x)?x.readable:x,()=>{if(r){let e=r;r=null,e()}})}if(S){if(a(x))x.on("readable",function(){if(y){let e=y;y=null,e()}}),x.on("end",function(){w.push(null)}),w._read=function(){for(;;){let e=x.read();if(null===e){y=w._read;return}if(!w.push(e))return}};else if(l(x)){let e=(u(x)?x.readable:x).getReader();w._read=async function(){for(;;)try{let{value:t,done:r}=await e.read();if(!w.push(t))return;if(r){w.push(null);return}}catch{return}}}}return w._destroy=function(e,n){e||null===b||(e=new h),y=null,t=null,r=null,null===b?n(e):(b=n,a(x)&&o(x,e))},w}},28589:function(e,t,r){"use strict";let n=r(25566),{aggregateTwoErrors:i,codes:{ERR_MULTIPLE_CALLBACK:o},AbortError:a}=r(56367),{Symbol:s}=r(56770),{kIsDestroyed:c,isDestroyed:l,isFinished:u,isServerRequest:d}=r(96636),f=s("kDestroy"),h=s("kConstruct");function p(e,t,r){e&&(e.stack,t&&!t.errored&&(t.errored=e),r&&!r.errored&&(r.errored=e))}function g(e,t,r){let i=!1;function o(t){if(i)return;i=!0;let o=e._readableState,a=e._writableState;p(t,a,o),a&&(a.closed=!0),o&&(o.closed=!0),"function"==typeof r&&r(t),t?n.nextTick(m,e,t):n.nextTick(y,e)}try{e._destroy(t||null,o)}catch(e){o(e)}}function m(e,t){b(e,t),y(e)}function y(e){let t=e._readableState,r=e._writableState;r&&(r.closeEmitted=!0),t&&(t.closeEmitted=!0),(null!=r&&r.emitClose||null!=t&&t.emitClose)&&e.emit("close")}function b(e,t){let r=e._readableState,n=e._writableState;null!=n&&n.errorEmitted||null!=r&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),e.emit("error",t))}function w(e,t,r){let i=e._readableState,o=e._writableState;if(null!=o&&o.destroyed||null!=i&&i.destroyed)return this;null!=i&&i.autoDestroy||null!=o&&o.autoDestroy?e.destroy(t):t&&(t.stack,o&&!o.errored&&(o.errored=t),i&&!i.errored&&(i.errored=t),r?n.nextTick(b,e,t):b(e,t))}function v(e){let t=!1;function r(r){if(t){w(e,null!=r?r:new o);return}t=!0;let i=e._readableState,a=e._writableState,s=a||i;i&&(i.constructed=!0),a&&(a.constructed=!0),s.destroyed?e.emit(f,r):r?w(e,r,!0):n.nextTick(E,e)}try{e._construct(e=>{n.nextTick(r,e)})}catch(e){n.nextTick(r,e)}}function E(e){e.emit(h)}function x(e){return(null==e?void 0:e.setHeader)&&"function"==typeof e.abort}function A(e){e.emit("close")}function S(e,t){e.emit("error",t),n.nextTick(A,e)}e.exports={construct:function(e,t){if("function"!=typeof e._construct)return;let r=e._readableState,i=e._writableState;r&&(r.constructed=!1),i&&(i.constructed=!1),e.once(h,t),e.listenerCount(h)>1||n.nextTick(v,e)},destroyer:function(e,t){!(!e||l(e))&&(t||u(e)||(t=new a),d(e)?(e.socket=null,e.destroy(t)):x(e)?e.abort():x(e.req)?e.req.abort():"function"==typeof e.destroy?e.destroy(t):"function"==typeof e.close?e.close():t?n.nextTick(S,e,t):n.nextTick(A,e),e.destroyed||(e[c]=!0))},destroy:function(e,t){let r=this._readableState,n=this._writableState,o=n||r;return null!=n&&n.destroyed||null!=r&&r.destroyed?"function"==typeof t&&t():(p(e,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),o.constructed?g(this,e,t):this.once(f,function(r){g(this,i(r,e),t)})),this},undestroy:function(){let e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=!1===e.readable,e.endEmitted=!1===e.readable),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=!1===t.writable,t.ending=!1===t.writable,t.finished=!1===t.writable)},errorOrDestroy:w}},21544:function(e,t,r){"use strict";let n,i;let{ObjectDefineProperties:o,ObjectGetOwnPropertyDescriptor:a,ObjectKeys:s,ObjectSetPrototypeOf:c}=r(56770);e.exports=d;let l=r(40476),u=r(76243);c(d.prototype,l.prototype),c(d,l);{let e=s(u.prototype);for(let t=0;t<e.length;t++){let r=e[t];d.prototype[r]||(d.prototype[r]=u.prototype[r])}}function d(e){if(!(this instanceof d))return new d(e);l.call(this,e),u.call(this,e),e?(this.allowHalfOpen=!1!==e.allowHalfOpen,!1===e.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===e.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}function f(){return void 0===n&&(n={}),n}o(d.prototype,{writable:{__proto__:null,...a(u.prototype,"writable")},writableHighWaterMark:{__proto__:null,...a(u.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...a(u.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...a(u.prototype,"writableBuffer")},writableLength:{__proto__:null,...a(u.prototype,"writableLength")},writableFinished:{__proto__:null,...a(u.prototype,"writableFinished")},writableCorked:{__proto__:null,...a(u.prototype,"writableCorked")},writableEnded:{__proto__:null,...a(u.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...a(u.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(e){this._readableState&&this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}}),d.fromWeb=function(e,t){return f().newStreamDuplexFromReadableWritablePair(e,t)},d.toWeb=function(e){return f().newReadableWritablePairFromDuplex(e)},d.from=function(e){return i||(i=r(28885)),i(e,"body")}},28885:function(e,t,r){"use strict";let n=r(25566),i=r(82957),{isReadable:o,isWritable:a,isIterable:s,isNodeStream:c,isReadableNodeStream:l,isWritableNodeStream:u,isDuplexNodeStream:d,isReadableStream:f,isWritableStream:h}=r(96636),p=r(80618),{AbortError:g,codes:{ERR_INVALID_ARG_TYPE:m,ERR_INVALID_RETURN_VALUE:y}}=r(56367),{destroyer:b}=r(28589),w=r(21544),v=r(40476),E=r(76243),{createDeferredPromise:x}=r(1088),A=r(97631),S=globalThis.Blob||i.Blob,_=void 0!==S?function(e){return e instanceof S}:function(e){return!1},I=globalThis.AbortController||r(78918).AbortController,{FunctionPrototypeCall:C}=r(56770);class O extends w{constructor(e){super(e),(null==e?void 0:e.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(null==e?void 0:e.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function P(e){let t,r,n,i,s;let c=e.readable&&"function"!=typeof e.readable.read?v.wrap(e.readable):e.readable,l=e.writable,u=!!o(c),d=!!a(l);function f(e){let t=i;i=null,t?t(e):e&&s.destroy(e)}return s=new O({readableObjectMode:!!(null!=c&&c.readableObjectMode),writableObjectMode:!!(null!=l&&l.writableObjectMode),readable:u,writable:d}),d&&(p(l,e=>{d=!1,e&&b(c,e),f(e)}),s._write=function(e,r,n){l.write(e,r)?n():t=n},s._final=function(e){l.end(),r=e},l.on("drain",function(){if(t){let e=t;t=null,e()}}),l.on("finish",function(){if(r){let e=r;r=null,e()}})),u&&(p(c,e=>{u=!1,e&&b(c,e),f(e)}),c.on("readable",function(){if(n){let e=n;n=null,e()}}),c.on("end",function(){s.push(null)}),s._read=function(){for(;;){let e=c.read();if(null===e){n=s._read;return}if(!s.push(e))return}}),s._destroy=function(e,o){e||null===i||(e=new g),n=null,t=null,r=null,null===i?o(e):(i=o,b(l,e),b(c,e))},s}e.exports=function e(t,r){if(d(t))return t;if(l(t))return P({readable:t});if(u(t))return P({writable:t});if(c(t))return P({writable:!1,readable:!1});if(f(t))return P({readable:v.fromWeb(t)});if(h(t))return P({writable:E.fromWeb(t)});if("function"==typeof t){let{value:e,write:i,final:o,destroy:a}=function(e){let{promise:t,resolve:r}=x(),i=new I,o=i.signal;return{value:e(async function*(){for(;;){let e=t;t=null;let{chunk:i,done:a,cb:s}=await e;if(n.nextTick(s),a)return;if(o.aborted)throw new g(void 0,{cause:o.reason});({promise:t,resolve:r}=x()),yield i}}(),{signal:o}),write(e,t,n){let i=r;r=null,i({chunk:e,done:!1,cb:n})},final(e){let t=r;r=null,t({done:!0,cb:e})},destroy(e,t){i.abort(),t(e)}}}(t);if(s(e))return A(O,e,{objectMode:!0,write:i,final:o,destroy:a});let c=null==e?void 0:e.then;if("function"==typeof c){let t;let r=C(c,e,e=>{if(null!=e)throw new y("nully","body",e)},e=>{b(t,e)});return t=new O({objectMode:!0,readable:!1,write:i,final(e){o(async()=>{try{await r,n.nextTick(e,null)}catch(t){n.nextTick(e,t)}})},destroy:a})}throw new y("Iterable, AsyncIterable or AsyncFunction",r,e)}if(_(t))return e(t.arrayBuffer());if(s(t))return A(O,t,{objectMode:!0,writable:!1});if(f(null==t?void 0:t.readable)&&h(null==t?void 0:t.writable))return O.fromWeb(t);if("object"==typeof(null==t?void 0:t.writable)||"object"==typeof(null==t?void 0:t.readable))return P({readable:null!=t&&t.readable?l(null==t?void 0:t.readable)?null==t?void 0:t.readable:e(t.readable):void 0,writable:null!=t&&t.writable?u(null==t?void 0:t.writable)?null==t?void 0:t.writable:e(t.writable):void 0});let i=null==t?void 0:t.then;if("function"==typeof i){let e;return C(i,t,t=>{null!=t&&e.push(t),e.push(null)},t=>{b(e,t)}),e=new O({objectMode:!0,writable:!1,read(){}})}throw new m(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],t)}},80618:function(e,t,r){"use strict";let n;let i=r(25566),{AbortError:o,codes:a}=r(56367),{ERR_INVALID_ARG_TYPE:s,ERR_STREAM_PREMATURE_CLOSE:c}=a,{kEmptyObject:l,once:u}=r(1088),{validateAbortSignal:d,validateFunction:f,validateObject:h,validateBoolean:p}=r(62518),{Promise:g,PromisePrototypeThen:m,SymbolDispose:y}=r(56770),{isClosed:b,isReadable:w,isReadableNodeStream:v,isReadableStream:E,isReadableFinished:x,isReadableErrored:A,isWritable:S,isWritableNodeStream:_,isWritableStream:I,isWritableFinished:C,isWritableErrored:O,isNodeStream:P,willEmitClose:T,kIsClosedPromise:k}=r(96636),N=()=>{};function M(e,t,a){var p,g;if(2==arguments.length?(a=t,t=l):null==t?t=l:h(t,"options"),f(a,"callback"),d(t.signal,"options.signal"),a=u(a),E(e)||I(e))return function(e,t,a){let s=!1,c=N;if(t.signal){if(c=()=>{s=!0,a.call(e,new o(void 0,{cause:t.signal.reason}))},t.signal.aborted)i.nextTick(c);else{let i=(n=n||r(1088).addAbortListener)(t.signal,c),o=a;a=u((...t)=>{i[y](),o.apply(e,t)})}}let l=(...t)=>{s||i.nextTick(()=>a.apply(e,t))};return m(e[k].promise,l,l),N}(e,t,a);if(!P(e))throw new s("stream",["ReadableStream","WritableStream","Stream"],e);let M=null!==(p=t.readable)&&void 0!==p?p:v(e),R=null!==(g=t.writable)&&void 0!==g?g:_(e),D=e._writableState,L=e._readableState,B=()=>{e.writable||$()},U=T(e)&&v(e)===M&&_(e)===R,j=C(e,!1),$=()=>{j=!0,e.destroyed&&(U=!1),U&&(!e.readable||M)||M&&!F||a.call(e)},F=x(e,!1),z=()=>{F=!0,e.destroyed&&(U=!1),U&&(!e.writable||R)||R&&!j||a.call(e)},q=t=>{a.call(e,t)},G=b(e),H=()=>{G=!0;let t=O(e)||A(e);return t&&"boolean"!=typeof t?a.call(e,t):M&&!F&&v(e,!0)&&!x(e,!1)||R&&!j&&!C(e,!1)?a.call(e,new c):void a.call(e)},V=()=>{G=!0;let t=O(e)||A(e);if(t&&"boolean"!=typeof t)return a.call(e,t);a.call(e)},W=()=>{e.req.on("finish",$)};e.setHeader&&"function"==typeof e.abort?(e.on("complete",$),U||e.on("abort",H),e.req?W():e.on("request",W)):R&&!D&&(e.on("end",B),e.on("close",B)),U||"boolean"!=typeof e.aborted||e.on("aborted",H),e.on("end",z),e.on("finish",$),!1!==t.error&&e.on("error",q),e.on("close",H),G?i.nextTick(H):null!=D&&D.errorEmitted||null!=L&&L.errorEmitted?U||i.nextTick(V):!M&&(!U||w(e))&&(j||!1===S(e))?i.nextTick(V):!R&&(!U||S(e))&&(F||!1===w(e))?i.nextTick(V):L&&e.req&&e.aborted&&i.nextTick(V);let Z=()=>{a=N,e.removeListener("aborted",H),e.removeListener("complete",$),e.removeListener("abort",H),e.removeListener("request",W),e.req&&e.req.removeListener("finish",$),e.removeListener("end",B),e.removeListener("close",B),e.removeListener("finish",$),e.removeListener("end",z),e.removeListener("error",q),e.removeListener("close",H)};if(t.signal&&!G){let s=()=>{let r=a;Z(),r.call(e,new o(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)i.nextTick(s);else{let i=(n=n||r(1088).addAbortListener)(t.signal,s),o=a;a=u((...t)=>{i[y](),o.apply(e,t)})}}return Z}e.exports=M,e.exports.finished=function(e,t){var r;let n=!1;return null===t&&(t=l),null!==(r=t)&&void 0!==r&&r.cleanup&&(p(t.cleanup,"cleanup"),n=t.cleanup),new g((r,i)=>{let o=M(e,t,e=>{n&&o(),e?i(e):r()})})}},97631:function(e,t,r){"use strict";let n=r(25566),{PromisePrototypeThen:i,SymbolAsyncIterator:o,SymbolIterator:a}=r(56770),{Buffer:s}=r(82957),{ERR_INVALID_ARG_TYPE:c,ERR_STREAM_NULL_VALUES:l}=r(56367).codes;e.exports=function(e,t,r){let u,d;if("string"==typeof t||t instanceof s)return new e({objectMode:!0,...r,read(){this.push(t),this.push(null)}});if(t&&t[o])d=!0,u=t[o]();else if(t&&t[a])d=!1,u=t[a]();else throw new c("iterable",["Iterable"],t);let f=new e({objectMode:!0,highWaterMark:1,...r}),h=!1;async function p(e){let t=null!=e,r="function"==typeof u.throw;if(t&&r){let{value:t,done:r}=await u.throw(e);if(await t,r)return}if("function"==typeof u.return){let{value:e}=await u.return();await e}}async function g(){for(;;){try{let{value:e,done:t}=d?await u.next():u.next();if(t)f.push(null);else{let t=e&&"function"==typeof e.then?await e:e;if(null===t)throw h=!1,new l;if(f.push(t))continue;h=!1}}catch(e){f.destroy(e)}break}}return f._read=function(){h||(h=!0,g())},f._destroy=function(e,t){i(p(e),()=>n.nextTick(t,e),r=>n.nextTick(t,r||e))},f}},17497:function(e,t,r){"use strict";let{ArrayIsArray:n,ObjectSetPrototypeOf:i}=r(56770),{EventEmitter:o}=r(55445);function a(e){o.call(this,e)}function s(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?n(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}i(a.prototype,o.prototype),i(a,o),a.prototype.pipe=function(e,t){let r=this;function n(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function i(){r.readable&&r.resume&&r.resume()}r.on("data",n),e.on("drain",i),e._isStdio||t&&!1===t.end||(r.on("end",c),r.on("close",l));let a=!1;function c(){a||(a=!0,e.end())}function l(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function u(e){d(),0===o.listenerCount(this,"error")&&this.emit("error",e)}function d(){r.removeListener("data",n),e.removeListener("drain",i),r.removeListener("end",c),r.removeListener("close",l),r.removeListener("error",u),e.removeListener("error",u),r.removeListener("end",d),r.removeListener("close",d),e.removeListener("close",d)}return s(r,"error",u),s(e,"error",u),r.on("end",d),r.on("close",d),e.on("close",d),e.emit("pipe",r),e},e.exports={Stream:a,prependListener:s}},53296:function(e,t,r){"use strict";let n=globalThis.AbortController||r(78918).AbortController,{codes:{ERR_INVALID_ARG_VALUE:i,ERR_INVALID_ARG_TYPE:o,ERR_MISSING_ARGS:a,ERR_OUT_OF_RANGE:s},AbortError:c}=r(56367),{validateAbortSignal:l,validateInteger:u,validateObject:d}=r(62518),f=r(56770).Symbol("kWeak"),h=r(56770).Symbol("kResistStopPropagation"),{finished:p}=r(80618),g=r(44581),{addAbortSignalNoValidate:m}=r(20185),{isWritable:y,isNodeStream:b}=r(96636),{deprecate:w}=r(1088),{ArrayPrototypePush:v,Boolean:E,MathFloor:x,Number:A,NumberIsNaN:S,Promise:_,PromiseReject:I,PromiseResolve:C,PromisePrototypeThen:O,Symbol:P}=r(56770),T=P("kEmpty"),k=P("kEof");function N(e,t){if("function"!=typeof e)throw new o("fn",["Function","AsyncFunction"],e);null!=t&&d(t,"options"),(null==t?void 0:t.signal)!=null&&l(t.signal,"options.signal");let n=1;(null==t?void 0:t.concurrency)!=null&&(n=x(t.concurrency));let i=n-1;return(null==t?void 0:t.highWaterMark)!=null&&(i=x(t.highWaterMark)),u(n,"options.concurrency",1),u(i,"options.highWaterMark",0),i+=n,(async function*(){let o,a;let s=r(1088).AbortSignalAny([null==t?void 0:t.signal].filter(E)),l=this,u=[],d={signal:s},f=!1,h=0;function p(){f=!0,g()}function g(){h-=1,m()}function m(){a&&!f&&h<n&&u.length<i&&(a(),a=null)}(async function(){try{for await(let t of l){if(f)return;if(s.aborted)throw new c;try{if((t=e(t,d))===T)continue;t=C(t)}catch(e){t=I(e)}h+=1,O(t,g,p),u.push(t),o&&(o(),o=null),!f&&(u.length>=i||h>=n)&&await new _(e=>{a=e})}u.push(k)}catch(t){let e=I(t);O(e,g,p),u.push(e)}finally{f=!0,o&&(o(),o=null)}})();try{for(;;){for(;u.length>0;){let e=await u[0];if(e===k)return;if(s.aborted)throw new c;e!==T&&(yield e),u.shift(),m()}await new _(e=>{o=e})}}finally{f=!0,a&&(a(),a=null)}}).call(this)}async function M(e,t){for await(let r of B.call(this,e,t))return!0;return!1}async function R(e,t){if("function"!=typeof e)throw new o("fn",["Function","AsyncFunction"],e);return!await M.call(this,async(...t)=>!await e(...t),t)}async function D(e,t){for await(let r of B.call(this,e,t))return r}async function L(e,t){if("function"!=typeof e)throw new o("fn",["Function","AsyncFunction"],e);async function r(t,r){return await e(t,r),T}for await(let e of N.call(this,r,t));}function B(e,t){if("function"!=typeof e)throw new o("fn",["Function","AsyncFunction"],e);async function r(t,r){return await e(t,r)?t:T}return N.call(this,r,t)}class U extends a{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function j(e,t,r){var i,a;if("function"!=typeof e)throw new o("reducer",["Function","AsyncFunction"],e);null!=r&&d(r,"options"),(null==r?void 0:r.signal)!=null&&l(r.signal,"options.signal");let s=arguments.length>1;if(null!=r&&null!==(i=r.signal)&&void 0!==i&&i.aborted){let e=new c(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await p(this.destroy(e)),e}let u=new n,g=u.signal;null!=r&&r.signal&&r.signal.addEventListener("abort",()=>u.abort(),{once:!0,[f]:this,[h]:!0});let m=!1;try{for await(let n of this){if(m=!0,null!=r&&null!==(a=r.signal)&&void 0!==a&&a.aborted)throw new c;s?t=await e(t,n,{signal:g}):(t=n,s=!0)}if(!m&&!s)throw new U}finally{u.abort()}return t}async function $(e){null!=e&&d(e,"options"),(null==e?void 0:e.signal)!=null&&l(e.signal,"options.signal");let t=[];for await(let n of this){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new c(void 0,{cause:e.signal.reason});v(t,n)}return t}function F(e){if(S(e=A(e)))return 0;if(e<0)throw new s("number",">= 0",e);return e}e.exports.streamReturningOperators={asIndexedPairs:w(function(e){return null!=e&&d(e,"options"),(null==e?void 0:e.signal)!=null&&l(e.signal,"options.signal"),(async function*(){let t=0;for await(let n of this){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new c({cause:e.signal.reason});yield[t++,n]}}).call(this)},"readable.asIndexedPairs will be removed in a future version."),drop:function(e,t){return null!=t&&d(t,"options"),(null==t?void 0:t.signal)!=null&&l(t.signal,"options.signal"),e=F(e),(async function*(){var r,n;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new c;for await(let r of this){if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new c;e--<=0&&(yield r)}}).call(this)},filter:B,flatMap:function(e,t){let r=N.call(this,e,t);return(async function*(){for await(let e of r)yield*e}).call(this)},map:N,take:function(e,t){return null!=t&&d(t,"options"),(null==t?void 0:t.signal)!=null&&l(t.signal,"options.signal"),e=F(e),(async function*(){var r,n;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new c;for await(let r of this){if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new c;if(e-- >0&&(yield r),e<=0)return}}).call(this)},compose:function(e,t){if(null!=t&&d(t,"options"),(null==t?void 0:t.signal)!=null&&l(t.signal,"options.signal"),b(e)&&!y(e))throw new i("stream",e,"must be writable");let r=g(this,e);return null!=t&&t.signal&&m(t.signal,r),r}},e.exports.promiseReturningOperators={every:R,forEach:L,reduce:j,toArray:$,some:M,find:D}},87173:function(e,t,r){"use strict";let{ObjectSetPrototypeOf:n}=r(56770);e.exports=o;let i=r(18798);function o(e){if(!(this instanceof o))return new o(e);i.call(this,e)}n(o.prototype,i.prototype),n(o,i),o.prototype._transform=function(e,t,r){r(null,e)}},9237:function(e,t,r){let n,i,o;"use strict";let a=r(25566),{ArrayIsArray:s,Promise:c,SymbolAsyncIterator:l,SymbolDispose:u}=r(56770),d=r(80618),{once:f}=r(1088),h=r(28589),p=r(21544),{aggregateTwoErrors:g,codes:{ERR_INVALID_ARG_TYPE:m,ERR_INVALID_RETURN_VALUE:y,ERR_MISSING_ARGS:b,ERR_STREAM_DESTROYED:w,ERR_STREAM_PREMATURE_CLOSE:v},AbortError:E}=r(56367),{validateFunction:x,validateAbortSignal:A}=r(62518),{isIterable:S,isReadable:_,isReadableNodeStream:I,isNodeStream:C,isTransformStream:O,isWebStream:P,isReadableStream:T,isReadableFinished:k}=r(96636),N=globalThis.AbortController||r(78918).AbortController;function M(e,t,r){let n=!1;return e.on("close",()=>{n=!0}),{destroy:t=>{n||(n=!0,h.destroyer(e,t||new w("pipe")))},cleanup:d(e,{readable:t,writable:r},e=>{n=!e})}}function R(e){if(S(e))return e;if(I(e))return D(e);throw new m("val",["Readable","Iterable","AsyncIterable"],e)}async function*D(e){i||(i=r(40476)),yield*i.prototype[l].call(e)}async function L(e,t,r,{end:n}){let i;let o=null,a=e=>{if(e&&(i=e),o){let e=o;o=null,e()}},s=()=>new c((e,t)=>{i?t(i):o=()=>{i?t(i):e()}});t.on("drain",a);let l=d(t,{readable:!1},a);try{for await(let r of(t.writableNeedDrain&&await s(),e))t.write(r)||await s();n&&(t.end(),await s()),r()}catch(e){r(i!==e?g(i,e):e)}finally{l(),t.off("drain",a)}}async function B(e,t,r,{end:n}){O(t)&&(t=t.writable);let i=t.getWriter();try{for await(let t of e)await i.ready,i.write(t).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(e){try{await i.abort(e),r(e)}catch(e){r(e)}}}function U(e,t,i){let c,l,f,h;if(1===e.length&&s(e[0])&&(e=e[0]),e.length<2)throw new b("streams");let g=new N,w=g.signal,x=null==i?void 0:i.signal,D=[];function U(){z(new E)}A(x,"options.signal"),o=o||r(1088).addAbortListener,x&&(c=o(x,U));let j=[],$=0;function F(e){z(e,0==--$)}function z(e,r){var n;if(e&&(!l||"ERR_STREAM_PREMATURE_CLOSE"===l.code)&&(l=e),l||r){for(;j.length;)j.shift()(l);null===(n=c)||void 0===n||n[u](),g.abort(),r&&(l||D.forEach(e=>e()),a.nextTick(t,l,f))}}for(let t=0;t<e.length;t++){let o=e[t],s=t<e.length-1,c=t>0,l=s||(null==i?void 0:i.end)!==!1,u=t===e.length-1;if(C(o)){if(l){let{destroy:e,cleanup:t}=M(o,s,c);j.push(e),_(o)&&u&&D.push(t)}function q(e){e&&"AbortError"!==e.name&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code&&F(e)}o.on("error",q),_(o)&&u&&D.push(()=>{o.removeListener("error",q)})}if(0===t){if("function"==typeof o){if(!S(h=o({signal:w})))throw new y("Iterable, AsyncIterable or Stream","source",h)}else h=S(o)||I(o)||O(o)?o:p.from(o)}else if("function"==typeof o){var G,H;if(h=o(h=O(h)?R(null===(G=h)||void 0===G?void 0:G.readable):R(h),{signal:w}),s){if(!S(h,!0))throw new y("AsyncIterable",`transform[${t-1}]`,h)}else{n||(n=r(87173));let e=new n({objectMode:!0}),t=null===(H=h)||void 0===H?void 0:H.then;if("function"==typeof t)$++,t.call(h,t=>{f=t,null!=t&&e.write(t),l&&e.end(),a.nextTick(F)},t=>{e.destroy(t),a.nextTick(F,t)});else if(S(h,!0))$++,L(h,e,F,{end:l});else if(T(h)||O(h)){let t=h.readable||h;$++,L(t,e,F,{end:l})}else throw new y("AsyncIterable or Promise","destination",h);let{destroy:i,cleanup:o}=M(h=e,!1,!0);j.push(i),u&&D.push(o)}}else if(C(o)){if(I(h)){$+=2;let e=function(e,t,r,{end:n}){let i=!1;if(t.on("close",()=>{i||r(new v)}),e.pipe(t,{end:!1}),n){function o(){i=!0,t.end()}k(e)?a.nextTick(o):e.once("end",o)}else r();return d(e,{readable:!0,writable:!1},t=>{let n=e._readableState;t&&"ERR_STREAM_PREMATURE_CLOSE"===t.code&&n&&n.ended&&!n.errored&&!n.errorEmitted?e.once("end",r).once("error",r):r(t)}),d(t,{readable:!1,writable:!0},r)}(h,o,F,{end:l});_(o)&&u&&D.push(e)}else if(O(h)||T(h)){let e=h.readable||h;$++,L(e,o,F,{end:l})}else if(S(h))$++,L(h,o,F,{end:l});else throw new m("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],h);h=o}else if(P(o)){if(I(h))$++,B(R(h),o,F,{end:l});else if(T(h)||S(h))$++,B(h,o,F,{end:l});else if(O(h))$++,B(h.readable,o,F,{end:l});else throw new m("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],h);h=o}else h=p.from(o)}return(null!=w&&w.aborted||null!=x&&x.aborted)&&a.nextTick(U),h}e.exports={pipelineImpl:U,pipeline:function(...e){return U(e,f((x(e[e.length-1],"streams[stream.length - 1]"),e.pop())))}}},40476:function(e,t,r){"use strict";let n;let i=r(25566),{ArrayPrototypeIndexOf:o,NumberIsInteger:a,NumberIsNaN:s,NumberParseInt:c,ObjectDefineProperties:l,ObjectKeys:u,ObjectSetPrototypeOf:d,Promise:f,SafeSet:h,SymbolAsyncDispose:p,SymbolAsyncIterator:g,Symbol:m}=r(56770);e.exports=q,q.ReadableState=z;let{EventEmitter:y}=r(55445),{Stream:b,prependListener:w}=r(17497),{Buffer:v}=r(82957),{addAbortSignal:E}=r(20185),x=r(80618),A=r(1088).debuglog("stream",e=>{A=e}),S=r(1381),_=r(28589),{getHighWaterMark:I,getDefaultHighWaterMark:C}=r(7181),{aggregateTwoErrors:O,codes:{ERR_INVALID_ARG_TYPE:P,ERR_METHOD_NOT_IMPLEMENTED:T,ERR_OUT_OF_RANGE:k,ERR_STREAM_PUSH_AFTER_EOF:N,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:M},AbortError:R}=r(56367),{validateObject:D}=r(62518),L=m("kPaused"),{StringDecoder:B}=r(64582),U=r(97631);d(q.prototype,b.prototype),d(q,b);let j=()=>{},{errorOrDestroy:$}=_;function F(e){return{enumerable:!1,get(){return(this.state&e)!=0},set(t){t?this.state|=e:this.state&=~e}}}function z(e,t,n){"boolean"!=typeof n&&(n=t instanceof r(21544)),this.state=6192,e&&e.objectMode&&(this.state|=1),n&&e&&e.readableObjectMode&&(this.state|=1),this.highWaterMark=e?I(this,e,"readableHighWaterMark",n):C(!1),this.buffer=new S,this.length=0,this.pipes=[],this.flowing=null,this[L]=null,e&&!1===e.emitClose&&(this.state&=-2049),e&&!1===e.autoDestroy&&(this.state&=-4097),this.errored=null,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,e&&e.encoding&&(this.decoder=new B(e.encoding),this.encoding=e.encoding)}function q(e){if(!(this instanceof q))return new q(e);let t=this instanceof r(21544);this._readableState=new z(e,this,t),e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&!t&&E(e.signal,this)),b.call(this,e),_.construct(this,()=>{this._readableState.needReadable&&K(this,this._readableState)})}function G(e,t,r,n){let i;A("readableAddChunk",t);let o=e._readableState;if((1&o.state)==0&&("string"==typeof t?(r=r||o.defaultEncoding,o.encoding!==r&&(n&&o.encoding?t=v.from(t,r).toString(o.encoding):(t=v.from(t,r),r=""))):t instanceof v?r="":b._isUint8Array(t)?(t=b._uint8ArrayToBuffer(t),r=""):null!=t&&(i=new P("chunk",["string","Buffer","Uint8Array"],t))),i)$(e,i);else if(null===t)o.state&=-9,function(e,t){if(A("onEofChunk"),!t.ended){if(t.decoder){let e=t.decoder.end();e&&e.length&&(t.buffer.push(e),t.length+=t.objectMode?1:e.length)}t.ended=!0,t.sync?W(e):(t.needReadable=!1,t.emittedReadable=!0,Z(e))}}(e,o);else if((1&o.state)!=0||t&&t.length>0){if(n){if((4&o.state)!=0)$(e,new M);else{if(o.destroyed||o.errored)return!1;H(e,o,t,!0)}}else if(o.ended)$(e,new N);else{if(o.destroyed||o.errored)return!1;o.state&=-9,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||0!==t.length?H(e,o,t,!1):K(e,o)):H(e,o,t,!1)}}else n||(o.state&=-9,K(e,o));return!o.ended&&(o.length<o.highWaterMark||0===o.length)}function H(e,t,r,n){t.flowing&&0===t.length&&!t.sync&&e.listenerCount("data")>0?((65536&t.state)!=0?t.awaitDrainWriters.clear():t.awaitDrainWriters=null,t.dataEmitted=!0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),(64&t.state)!=0&&W(e)),K(e,t)}function V(e,t){return e<=0||0===t.length&&t.ended?0:(1&t.state)!=0?1:s(e)?t.flowing&&t.length?t.buffer.first().length:t.length:e<=t.length?e:t.ended?t.length:0}function W(e){let t=e._readableState;A("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(A("emitReadable",t.flowing),t.emittedReadable=!0,i.nextTick(Z,e))}function Z(e){let t=e._readableState;A("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&!t.errored&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,ee(e)}function K(e,t){!t.readingMore&&t.constructed&&(t.readingMore=!0,i.nextTick(Y,e,t))}function Y(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){let r=t.length;if(A("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function J(e){let t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!1===t[L]?t.flowing=!0:e.listenerCount("data")>0?e.resume():t.readableListening||(t.flowing=null)}function X(e){A("readable nexttick read 0"),e.read(0)}function Q(e,t){A("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),ee(e),t.flowing&&!t.reading&&e.read(0)}function ee(e){let t=e._readableState;for(A("flow",t.flowing);t.flowing&&null!==e.read(););}function et(e,t){"function"!=typeof e.read&&(e=q.wrap(e,{objectMode:!0}));let r=er(e,t);return r.stream=e,r}async function*er(e,t){let r,n=j;function i(t){this===e?(n(),n=j):n=t}e.on("readable",i);let o=x(e,{writable:!1},e=>{r=e?O(r,e):null,n(),n=j});try{for(;;){let t=e.destroyed?null:e.read();if(null!==t)yield t;else if(r)throw r;else{if(null===r)return;await new f(i)}}}catch(e){throw r=O(r,e)}finally{(r||(null==t?void 0:t.destroyOnReturn)!==!1)&&(void 0===r||e._readableState.autoDestroy)?_.destroyer(e,null):(e.off("readable",i),o())}}function en(e,t){let r;return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r)}function ei(e){let t=e._readableState;A("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,i.nextTick(eo,t,e))}function eo(e,t){if(A("endReadableNT",e.endEmitted,e.length),!e.errored&&!e.closeEmitted&&!e.endEmitted&&0===e.length){if(e.endEmitted=!0,t.emit("end"),t.writable&&!1===t.allowHalfOpen)i.nextTick(ea,t);else if(e.autoDestroy){let e=t._writableState;(!e||e.autoDestroy&&(e.finished||!1===e.writable))&&t.destroy()}}}function ea(e){!e.writable||e.writableEnded||e.destroyed||e.end()}function es(){return void 0===n&&(n={}),n}l(z.prototype,{objectMode:F(1),ended:F(2),endEmitted:F(4),reading:F(8),constructed:F(16),sync:F(32),needReadable:F(64),emittedReadable:F(128),readableListening:F(256),resumeScheduled:F(512),errorEmitted:F(1024),emitClose:F(2048),autoDestroy:F(4096),destroyed:F(8192),closed:F(16384),closeEmitted:F(32768),multiAwaitDrain:F(65536),readingMore:F(131072),dataEmitted:F(262144)}),q.prototype.destroy=_.destroy,q.prototype._undestroy=_.undestroy,q.prototype._destroy=function(e,t){t(e)},q.prototype[y.captureRejectionSymbol]=function(e){this.destroy(e)},q.prototype[p]=function(){let e;return this.destroyed||(e=this.readableEnded?null:new R,this.destroy(e)),new f((t,r)=>x(this,n=>n&&n!==e?r(n):t(null)))},q.prototype.push=function(e,t){return G(this,e,t,!1)},q.prototype.unshift=function(e,t){return G(this,e,t,!0)},q.prototype.isPaused=function(){let e=this._readableState;return!0===e[L]||!1===e.flowing},q.prototype.setEncoding=function(e){let t=new B(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,n="";for(let e of r)n+=t.write(e);return r.clear(),""!==n&&r.push(n),this._readableState.length=n.length,this},q.prototype.read=function(e){let t;A("read",e),void 0===e?e=NaN:a(e)||(e=c(e,10));let r=this._readableState,n=e;if(e>r.highWaterMark&&(r.highWaterMark=function(e){if(e>1073741824)throw new k("size","<= 1GiB",e);return e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,++e}(e)),0!==e&&(r.state&=-129),0===e&&r.needReadable&&((0!==r.highWaterMark?r.length>=r.highWaterMark:r.length>0)||r.ended))return A("read: emitReadable",r.length,r.ended),0===r.length&&r.ended?ei(this):W(this),null;if(0===(e=V(e,r))&&r.ended)return 0===r.length&&ei(this),null;let i=(64&r.state)!=0;if(A("need readable",i),(0===r.length||r.length-e<r.highWaterMark)&&A("length less than watermark",i=!0),r.ended||r.reading||r.destroyed||r.errored||!r.constructed)A("reading, ended or constructing",i=!1);else if(i){A("do read"),r.state|=40,0===r.length&&(r.state|=64);try{this._read(r.highWaterMark)}catch(e){$(this,e)}r.state&=-33,r.reading||(e=V(n,r))}return null===(t=e>0?en(e,r):null)?(r.needReadable=r.length<=r.highWaterMark,e=0):(r.length-=e,r.multiAwaitDrain?r.awaitDrainWriters.clear():r.awaitDrainWriters=null),0===r.length&&(r.ended||(r.needReadable=!0),n!==e&&r.ended&&ei(this)),null===t||r.errorEmitted||r.closeEmitted||(r.dataEmitted=!0,this.emit("data",t)),t},q.prototype._read=function(e){throw new T("_read()")},q.prototype.pipe=function(e,t){let r;let n=this,o=this._readableState;1!==o.pipes.length||o.multiAwaitDrain||(o.multiAwaitDrain=!0,o.awaitDrainWriters=new h(o.awaitDrainWriters?[o.awaitDrainWriters]:[])),o.pipes.push(e),A("pipe count=%d opts=%j",o.pipes.length,t);let a=t&&!1===t.end||e===i.stdout||e===i.stderr?g:s;function s(){A("onend"),e.end()}o.endEmitted?i.nextTick(a):n.once("end",a),e.on("unpipe",function t(i,a){A("onunpipe"),i===n&&a&&!1===a.hasUnpiped&&(a.hasUnpiped=!0,A("cleanup"),e.removeListener("close",f),e.removeListener("finish",p),r&&e.removeListener("drain",r),e.removeListener("error",d),e.removeListener("unpipe",t),n.removeListener("end",s),n.removeListener("end",g),n.removeListener("data",u),c=!0,r&&o.awaitDrainWriters&&(!e._writableState||e._writableState.needDrain)&&r())});let c=!1;function l(){c||(1===o.pipes.length&&o.pipes[0]===e?(A("false write response, pause",0),o.awaitDrainWriters=e,o.multiAwaitDrain=!1):o.pipes.length>1&&o.pipes.includes(e)&&(A("false write response, pause",o.awaitDrainWriters.size),o.awaitDrainWriters.add(e)),n.pause()),r||(r=function(){let t=n._readableState;t.awaitDrainWriters===e?(A("pipeOnDrain",1),t.awaitDrainWriters=null):t.multiAwaitDrain&&(A("pipeOnDrain",t.awaitDrainWriters.size),t.awaitDrainWriters.delete(e)),(!t.awaitDrainWriters||0===t.awaitDrainWriters.size)&&n.listenerCount("data")&&n.resume()},e.on("drain",r))}function u(t){A("ondata");let r=e.write(t);A("dest.write",r),!1===r&&l()}function d(t){if(A("onerror",t),g(),e.removeListener("error",d),0===e.listenerCount("error")){let r=e._writableState||e._readableState;r&&!r.errorEmitted?$(e,t):e.emit("error",t)}}function f(){e.removeListener("finish",p),g()}function p(){A("onfinish"),e.removeListener("close",f),g()}function g(){A("unpipe"),n.unpipe(e)}return n.on("data",u),w(e,"error",d),e.once("close",f),e.once("finish",p),e.emit("pipe",n),!0===e.writableNeedDrain?l():o.flowing||(A("pipe resume"),n.resume()),e},q.prototype.unpipe=function(e){let t=this._readableState;if(0===t.pipes.length)return this;if(!e){let e=t.pipes;t.pipes=[],this.pause();for(let t=0;t<e.length;t++)e[t].emit("unpipe",this,{hasUnpiped:!1});return this}let r=o(t.pipes,e);return -1===r||(t.pipes.splice(r,1),0===t.pipes.length&&this.pause(),e.emit("unpipe",this,{hasUnpiped:!1})),this},q.prototype.on=function(e,t){let r=b.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"!==e||n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,A("on readable",n.length,n.reading),n.length?W(this):n.reading||i.nextTick(X,this)),r},q.prototype.addListener=q.prototype.on,q.prototype.removeListener=function(e,t){let r=b.prototype.removeListener.call(this,e,t);return"readable"===e&&i.nextTick(J,this),r},q.prototype.off=q.prototype.removeListener,q.prototype.removeAllListeners=function(e){let t=b.prototype.removeAllListeners.apply(this,arguments);return("readable"===e||void 0===e)&&i.nextTick(J,this),t},q.prototype.resume=function(){let e=this._readableState;return e.flowing||(A("resume"),e.flowing=!e.readableListening,e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(Q,this,e))),e[L]=!1,this},q.prototype.pause=function(){return A("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(A("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[L]=!0,this},q.prototype.wrap=function(e){let t=!1;e.on("data",r=>{!this.push(r)&&e.pause&&(t=!0,e.pause())}),e.on("end",()=>{this.push(null)}),e.on("error",e=>{$(this,e)}),e.on("close",()=>{this.destroy()}),e.on("destroy",()=>{this.destroy()}),this._read=()=>{t&&e.resume&&(t=!1,e.resume())};let r=u(e);for(let t=1;t<r.length;t++){let n=r[t];void 0===this[n]&&"function"==typeof e[n]&&(this[n]=e[n].bind(e))}return this},q.prototype[g]=function(){return et(this)},q.prototype.iterator=function(e){return void 0!==e&&D(e,"options"),et(this,e)},l(q.prototype,{readable:{__proto__:null,get(){let e=this._readableState;return!!e&&!1!==e.readable&&!e.destroyed&&!e.errorEmitted&&!e.endEmitted},set(e){this._readableState&&(this._readableState.readable=!!e)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(!1!==this._readableState.readable&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(e){this._readableState&&(this._readableState.destroyed=e)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),l(z.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[L]},set(e){this[L]=!!e}}}),q._fromList=en,q.from=function(e,t){return U(q,e,t)},q.fromWeb=function(e,t){return es().newStreamReadableFromReadableStream(e,t)},q.toWeb=function(e,t){return es().newReadableStreamFromStreamReadable(e,t)},q.wrap=function(e,t){var r,n;return new q({objectMode:null===(r=null!==(n=e.readableObjectMode)&&void 0!==n?n:e.objectMode)||void 0===r||r,...t,destroy(t,r){_.destroyer(e,t),r(t)}}).wrap(e)}},7181:function(e,t,r){"use strict";let{MathFloor:n,NumberIsInteger:i}=r(56770),{validateInteger:o}=r(62518),{ERR_INVALID_ARG_VALUE:a}=r(56367).codes,s=16384,c=16;function l(e){return e?c:s}e.exports={getHighWaterMark:function(e,t,r,o){let s=null!=t.highWaterMark?t.highWaterMark:o?t[r]:null;if(null!=s){if(!i(s)||s<0)throw new a(o?`options.${r}`:"options.highWaterMark",s);return n(s)}return l(e.objectMode)},getDefaultHighWaterMark:l,setDefaultHighWaterMark:function(e,t){o(t,"value",0),e?c=t:s=t}}},18798:function(e,t,r){"use strict";let{ObjectSetPrototypeOf:n,Symbol:i}=r(56770);e.exports=l;let{ERR_METHOD_NOT_IMPLEMENTED:o}=r(56367).codes,a=r(21544),{getHighWaterMark:s}=r(7181);n(l.prototype,a.prototype),n(l,a);let c=i("kCallback");function l(e){if(!(this instanceof l))return new l(e);let t=e?s(this,e,"readableHighWaterMark",!0):null;0===t&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),a.call(this,e),this._readableState.sync=!1,this[c]=null,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function u(e){"function"!=typeof this._flush||this.destroyed?(this.push(null),e&&e()):this._flush((t,r)=>{if(t){e?e(t):this.destroy(t);return}null!=r&&this.push(r),this.push(null),e&&e()})}function d(){this._final!==u&&u.call(this)}l.prototype._final=u,l.prototype._transform=function(e,t,r){throw new o("_transform()")},l.prototype._write=function(e,t,r){let n=this._readableState,i=this._writableState,o=n.length;this._transform(e,t,(e,t)=>{if(e){r(e);return}null!=t&&this.push(t),i.ended||o===n.length||n.length<n.highWaterMark?r():this[c]=r})},l.prototype._read=function(){if(this[c]){let e=this[c];this[c]=null,e()}}},96636:function(e,t,r){"use strict";let{SymbolAsyncIterator:n,SymbolIterator:i,SymbolFor:o}=r(56770),a=o("nodejs.stream.destroyed"),s=o("nodejs.stream.errored"),c=o("nodejs.stream.readable"),l=o("nodejs.stream.writable"),u=o("nodejs.stream.disturbed"),d=o("nodejs.webstream.isClosedPromise"),f=o("nodejs.webstream.controllerErrorFunction");function h(e,t=!1){var r;return!!(e&&"function"==typeof e.pipe&&"function"==typeof e.on&&(!t||"function"==typeof e.pause&&"function"==typeof e.resume)&&(!e._writableState||(null===(r=e._readableState)||void 0===r?void 0:r.readable)!==!1)&&(!e._writableState||e._readableState))}function p(e){var t;return!!(e&&"function"==typeof e.write&&"function"==typeof e.on&&(!e._readableState||(null===(t=e._writableState)||void 0===t?void 0:t.writable)!==!1))}function g(e){return e&&(e._readableState||e._writableState||"function"==typeof e.write&&"function"==typeof e.on||"function"==typeof e.pipe&&"function"==typeof e.on)}function m(e){return!!(e&&!g(e)&&"function"==typeof e.pipeThrough&&"function"==typeof e.getReader&&"function"==typeof e.cancel)}function y(e){return!!(e&&!g(e)&&"function"==typeof e.getWriter&&"function"==typeof e.abort)}function b(e){return!!(e&&!g(e)&&"object"==typeof e.readable&&"object"==typeof e.writable)}function w(e){if(!g(e))return null;let t=e._writableState,r=e._readableState,n=t||r;return!!(e.destroyed||e[a]||null!=n&&n.destroyed)}function v(e){if(!p(e))return null;if(!0===e.writableEnded)return!0;let t=e._writableState;return(null==t||!t.errored)&&("boolean"!=typeof(null==t?void 0:t.ended)?null:t.ended)}function E(e,t){if(!h(e))return null;let r=e._readableState;return(null==r||!r.errored)&&("boolean"!=typeof(null==r?void 0:r.endEmitted)?null:!!(r.endEmitted||!1===t&&!0===r.ended&&0===r.length))}function x(e){return e&&null!=e[c]?e[c]:"boolean"!=typeof(null==e?void 0:e.readable)?null:!w(e)&&h(e)&&e.readable&&!E(e)}function A(e){return e&&null!=e[l]?e[l]:"boolean"!=typeof(null==e?void 0:e.writable)?null:!w(e)&&p(e)&&e.writable&&!v(e)}function S(e){return"boolean"==typeof e._closed&&"boolean"==typeof e._defaultKeepAlive&&"boolean"==typeof e._removedConnection&&"boolean"==typeof e._removedContLen}function _(e){return"boolean"==typeof e._sent100&&S(e)}e.exports={isDestroyed:w,kIsDestroyed:a,isDisturbed:function(e){var t;return!!(e&&(null!==(t=e[u])&&void 0!==t?t:e.readableDidRead||e.readableAborted))},kIsDisturbed:u,isErrored:function(e){var t,r,n,i,o,a,c,l,u,d;return!!(e&&(null!==(t=null!==(r=null!==(n=null!==(i=null!==(o=null!==(a=e[s])&&void 0!==a?a:e.readableErrored)&&void 0!==o?o:e.writableErrored)&&void 0!==i?i:null===(c=e._readableState)||void 0===c?void 0:c.errorEmitted)&&void 0!==n?n:null===(l=e._writableState)||void 0===l?void 0:l.errorEmitted)&&void 0!==r?r:null===(u=e._readableState)||void 0===u?void 0:u.errored)&&void 0!==t?t:null===(d=e._writableState)||void 0===d?void 0:d.errored))},kIsErrored:s,isReadable:x,kIsReadable:c,kIsClosedPromise:d,kControllerErrorFunction:f,kIsWritable:l,isClosed:function(e){if(!g(e))return null;if("boolean"==typeof e.closed)return e.closed;let t=e._writableState,r=e._readableState;return"boolean"==typeof(null==t?void 0:t.closed)||"boolean"==typeof(null==r?void 0:r.closed)?(null==t?void 0:t.closed)||(null==r?void 0:r.closed):"boolean"==typeof e._closed&&S(e)?e._closed:null},isDuplexNodeStream:function(e){return!!(e&&"function"==typeof e.pipe&&e._readableState&&"function"==typeof e.on&&"function"==typeof e.write)},isFinished:function(e,t){return g(e)?!!w(e)||!((null==t?void 0:t.readable)!==!1&&x(e)||(null==t?void 0:t.writable)!==!1&&A(e)):null},isIterable:function(e,t){return null!=e&&(!0===t?"function"==typeof e[n]:!1===t?"function"==typeof e[i]:"function"==typeof e[n]||"function"==typeof e[i])},isReadableNodeStream:h,isReadableStream:m,isReadableEnded:function(e){if(!h(e))return null;if(!0===e.readableEnded)return!0;let t=e._readableState;return!!t&&!t.errored&&("boolean"!=typeof(null==t?void 0:t.ended)?null:t.ended)},isReadableFinished:E,isReadableErrored:function(e){var t,r;return g(e)?e.readableErrored?e.readableErrored:null!==(t=null===(r=e._readableState)||void 0===r?void 0:r.errored)&&void 0!==t?t:null:null},isNodeStream:g,isWebStream:function(e){return m(e)||y(e)||b(e)},isWritable:A,isWritableNodeStream:p,isWritableStream:y,isWritableEnded:v,isWritableFinished:function(e,t){if(!p(e))return null;if(!0===e.writableFinished)return!0;let r=e._writableState;return(null==r||!r.errored)&&("boolean"!=typeof(null==r?void 0:r.finished)?null:!!(r.finished||!1===t&&!0===r.ended&&0===r.length))},isWritableErrored:function(e){var t,r;return g(e)?e.writableErrored?e.writableErrored:null!==(t=null===(r=e._writableState)||void 0===r?void 0:r.errored)&&void 0!==t?t:null:null},isServerRequest:function(e){var t;return"boolean"==typeof e._consuming&&"boolean"==typeof e._dumped&&(null===(t=e.req)||void 0===t?void 0:t.upgradeOrConnect)===void 0},isServerResponse:_,willEmitClose:function(e){if(!g(e))return null;let t=e._writableState,r=e._readableState,n=t||r;return!n&&_(e)||!!(n&&n.autoDestroy&&n.emitClose&&!1===n.closed)},isTransformStream:b}},76243:function(e,t,r){"use strict";let n;let i=r(25566),{ArrayPrototypeSlice:o,Error:a,FunctionPrototypeSymbolHasInstance:s,ObjectDefineProperty:c,ObjectDefineProperties:l,ObjectSetPrototypeOf:u,StringPrototypeToLowerCase:d,Symbol:f,SymbolHasInstance:h}=r(56770);e.exports=D,D.WritableState=M;let{EventEmitter:p}=r(55445),g=r(17497).Stream,{Buffer:m}=r(82957),y=r(28589),{addAbortSignal:b}=r(20185),{getHighWaterMark:w,getDefaultHighWaterMark:v}=r(7181),{ERR_INVALID_ARG_TYPE:E,ERR_METHOD_NOT_IMPLEMENTED:x,ERR_MULTIPLE_CALLBACK:A,ERR_STREAM_CANNOT_PIPE:S,ERR_STREAM_DESTROYED:_,ERR_STREAM_ALREADY_FINISHED:I,ERR_STREAM_NULL_VALUES:C,ERR_STREAM_WRITE_AFTER_END:O,ERR_UNKNOWN_ENCODING:P}=r(56367).codes,{errorOrDestroy:T}=y;function k(){}u(D.prototype,g.prototype),u(D,g);let N=f("kOnFinished");function M(e,t,n){"boolean"!=typeof n&&(n=t instanceof r(21544)),this.objectMode=!!(e&&e.objectMode),n&&(this.objectMode=this.objectMode||!!(e&&e.writableObjectMode)),this.highWaterMark=e?w(this,e,"writableHighWaterMark",n):v(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let i=!!(e&&!1===e.decodeStrings);this.decodeStrings=!i,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=j.bind(void 0,t),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,R(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!e||!1!==e.emitClose,this.autoDestroy=!e||!1!==e.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[N]=[]}function R(e){e.buffered=[],e.bufferedIndex=0,e.allBuffers=!0,e.allNoop=!0}function D(e){let t=this instanceof r(21544);if(!t&&!s(D,this))return new D(e);this._writableState=new M(e,this,t),e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&b(e.signal,this)),g.call(this,e),y.construct(this,()=>{let e=this._writableState;e.writing||q(this,e),H(this,e)})}function L(e,t,r,n){let o;let a=e._writableState;if("function"==typeof r)n=r,r=a.defaultEncoding;else{if(r){if("buffer"!==r&&!m.isEncoding(r))throw new P(r)}else r=a.defaultEncoding;"function"!=typeof n&&(n=k)}if(null===t)throw new C;if(!a.objectMode){if("string"==typeof t)!1!==a.decodeStrings&&(t=m.from(t,r),r="buffer");else if(t instanceof m)r="buffer";else if(g._isUint8Array(t))t=g._uint8ArrayToBuffer(t),r="buffer";else throw new E("chunk",["string","Buffer","Uint8Array"],t)}return(a.ending?o=new O:a.destroyed&&(o=new _("write")),o)?(i.nextTick(n,o),T(e,o,!0),o):(a.pendingcb++,function(e,t,r,n,i){let o=t.objectMode?1:r.length;t.length+=o;let a=t.length<t.highWaterMark;return a||(t.needDrain=!0),t.writing||t.corked||t.errored||!t.constructed?(t.buffered.push({chunk:r,encoding:n,callback:i}),t.allBuffers&&"buffer"!==n&&(t.allBuffers=!1),t.allNoop&&i!==k&&(t.allNoop=!1)):(t.writelen=o,t.writecb=i,t.writing=!0,t.sync=!0,e._write(r,n,t.onwrite),t.sync=!1),a&&!t.errored&&!t.destroyed}(e,a,t,r,n))}function B(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new _("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function U(e,t,r,n){--t.pendingcb,n(r),z(t),T(e,r)}function j(e,t){let r=e._writableState,n=r.sync,o=r.writecb;if("function"!=typeof o){T(e,new A);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,t?(t.stack,r.errored||(r.errored=t),e._readableState&&!e._readableState.errored&&(e._readableState.errored=t),n?i.nextTick(U,e,r,t,o):U(e,r,t,o)):(r.buffered.length>r.bufferedIndex&&q(e,r),n?null!==r.afterWriteTickInfo&&r.afterWriteTickInfo.cb===o?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:o,stream:e,state:r},i.nextTick($,r.afterWriteTickInfo)):F(e,r,1,o))}function $({stream:e,state:t,count:r,cb:n}){return t.afterWriteTickInfo=null,F(e,t,r,n)}function F(e,t,r,n){for(t.ending||e.destroyed||0!==t.length||!t.needDrain||(t.needDrain=!1,e.emit("drain"));r-- >0;)t.pendingcb--,n();t.destroyed&&z(t),H(e,t)}function z(e){var t,r;if(e.writing)return;for(let r=e.bufferedIndex;r<e.buffered.length;++r){let{chunk:n,callback:i}=e.buffered[r],o=e.objectMode?1:n.length;e.length-=o,i(null!==(t=e.errored)&&void 0!==t?t:new _("write"))}let n=e[N].splice(0);for(let t=0;t<n.length;t++)n[t](null!==(r=e.errored)&&void 0!==r?r:new _("end"));R(e)}function q(e,t){if(t.corked||t.bufferProcessing||t.destroyed||!t.constructed)return;let{buffered:r,bufferedIndex:n,objectMode:i}=t,a=r.length-n;if(!a)return;let s=n;if(t.bufferProcessing=!0,a>1&&e._writev){t.pendingcb-=a-1;let n=t.allNoop?k:e=>{for(let t=s;t<r.length;++t)r[t].callback(e)},i=t.allNoop&&0===s?r:o(r,s);i.allBuffers=t.allBuffers,B(e,t,!0,t.length,i,"",n),R(t)}else{do{let{chunk:n,encoding:o,callback:a}=r[s];r[s++]=null,B(e,t,!1,i?1:n.length,n,o,a)}while(s<r.length&&!t.writing);s===r.length?R(t):s>256?(r.splice(0,s),t.bufferedIndex=0):t.bufferedIndex=s}t.bufferProcessing=!1}function G(e){return e.ending&&!e.destroyed&&e.constructed&&0===e.length&&!e.errored&&0===e.buffered.length&&!e.finished&&!e.writing&&!e.errorEmitted&&!e.closeEmitted}function H(e,t,r){G(t)&&(t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.finalCalled=!0,function(e,t){let r=!1;function n(n){if(r){T(e,null!=n?n:A());return}if(r=!0,t.pendingcb--,n){let r=t[N].splice(0);for(let e=0;e<r.length;e++)r[e](n);T(e,n,t.sync)}else G(t)&&(t.prefinished=!0,e.emit("prefinish"),t.pendingcb++,i.nextTick(V,e,t))}t.sync=!0,t.pendingcb++;try{e._final(n)}catch(e){n(e)}t.sync=!1}(e,t))),0===t.pendingcb&&(r?(t.pendingcb++,i.nextTick((e,t)=>{G(t)?V(e,t):t.pendingcb--},e,t)):G(t)&&(t.pendingcb++,V(e,t))))}function V(e,t){t.pendingcb--,t.finished=!0;let r=t[N].splice(0);for(let e=0;e<r.length;e++)r[e]();if(e.emit("finish"),t.autoDestroy){let t=e._readableState;(!t||t.autoDestroy&&(t.endEmitted||!1===t.readable))&&e.destroy()}}M.prototype.getBuffer=function(){return o(this.buffered,this.bufferedIndex)},c(M.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),c(D,h,{__proto__:null,value:function(e){return!!s(this,e)||this===D&&e&&e._writableState instanceof M}}),D.prototype.pipe=function(){T(this,new S)},D.prototype.write=function(e,t,r){return!0===L(this,e,t,r)},D.prototype.cork=function(){this._writableState.corked++},D.prototype.uncork=function(){let e=this._writableState;e.corked&&(e.corked--,e.writing||q(this,e))},D.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=d(e)),!m.isEncoding(e))throw new P(e);return this._writableState.defaultEncoding=e,this},D.prototype._write=function(e,t,r){if(this._writev)this._writev([{chunk:e,encoding:t}],r);else throw new x("_write()")},D.prototype._writev=null,D.prototype.end=function(e,t,r){let n;let o=this._writableState;if("function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e){let r=L(this,e,t);r instanceof a&&(n=r)}return o.corked&&(o.corked=1,this.uncork()),n||(o.errored||o.ending?o.finished?n=new I("end"):o.destroyed&&(n=new _("end")):(o.ending=!0,H(this,o,!0),o.ended=!0)),"function"==typeof r&&(n||o.finished?i.nextTick(r,n):o[N].push(r)),this},l(D.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(e){this._writableState&&(this._writableState.destroyed=e)}},writable:{__proto__:null,get(){let e=this._writableState;return!!e&&!1!==e.writable&&!e.destroyed&&!e.errored&&!e.ending&&!e.ended},set(e){this._writableState&&(this._writableState.writable=!!e)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){let e=this._writableState;return!!e&&!e.destroyed&&!e.ending&&e.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(!1!==this._writableState.writable&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});let W=y.destroy;function Z(){return void 0===n&&(n={}),n}D.prototype.destroy=function(e,t){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[N].length)&&i.nextTick(z,r),W.call(this,e,t),this},D.prototype._undestroy=y.undestroy,D.prototype._destroy=function(e,t){t(e)},D.prototype[p.captureRejectionSymbol]=function(e){this.destroy(e)},D.fromWeb=function(e,t){return Z().newStreamWritableFromWritableStream(e,t)},D.toWeb=function(e){return Z().newWritableStreamFromStreamWritable(e)}},62518:function(e,t,r){"use strict";let{ArrayIsArray:n,ArrayPrototypeIncludes:i,ArrayPrototypeJoin:o,ArrayPrototypeMap:a,NumberIsInteger:s,NumberIsNaN:c,NumberMAX_SAFE_INTEGER:l,NumberMIN_SAFE_INTEGER:u,NumberParseInt:d,ObjectPrototypeHasOwnProperty:f,RegExpPrototypeExec:h,String:p,StringPrototypeToUpperCase:g,StringPrototypeTrim:m}=r(56770),{hideStackFrames:y,codes:{ERR_SOCKET_BAD_PORT:b,ERR_INVALID_ARG_TYPE:w,ERR_INVALID_ARG_VALUE:v,ERR_OUT_OF_RANGE:E,ERR_UNKNOWN_SIGNAL:x}}=r(56367),{normalizeEncoding:A}=r(1088),{isAsyncFunction:S,isArrayBufferView:_}=r(1088).types,I={},C=/^[0-7]+$/,O=y((e,t,r=u,n=l)=>{if("number"!=typeof e)throw new w(t,"number",e);if(!s(e))throw new E(t,"an integer",e);if(e<r||e>n)throw new E(t,`>= ${r} && <= ${n}`,e)}),P=y((e,t,r=-2147483648,n=2147483647)=>{if("number"!=typeof e)throw new w(t,"number",e);if(!s(e))throw new E(t,"an integer",e);if(e<r||e>n)throw new E(t,`>= ${r} && <= ${n}`,e)}),T=y((e,t,r=!1)=>{if("number"!=typeof e)throw new w(t,"number",e);if(!s(e))throw new E(t,"an integer",e);let n=r?1:0;if(e<n||e>4294967295)throw new E(t,`>= ${n} && <= 4294967295`,e)});function k(e,t){if("string"!=typeof e)throw new w(t,"string",e)}let N=y((e,t,r)=>{if(!i(r,e))throw new v(t,e,"must be one of: "+o(a(r,e=>"string"==typeof e?`'${e}'`:p(e)),", "))});function M(e,t){if("boolean"!=typeof e)throw new w(t,"boolean",e)}function R(e,t,r){return null!=e&&f(e,t)?e[t]:r}let D=y((e,t,r=null)=>{let i=R(r,"allowArray",!1),o=R(r,"allowFunction",!1);if(!R(r,"nullable",!1)&&null===e||!i&&n(e)||"object"!=typeof e&&(!o||"function"!=typeof e))throw new w(t,"Object",e)}),L=y((e,t)=>{if(null!=e&&"object"!=typeof e&&"function"!=typeof e)throw new w(t,"a dictionary",e)}),B=y((e,t,r=0)=>{if(!n(e))throw new w(t,"Array",e);if(e.length<r)throw new v(t,e,`must be longer than ${r}`)}),U=y((e,t="buffer")=>{if(!_(e))throw new w(t,["Buffer","TypedArray","DataView"],e)}),j=y((e,t)=>{if(void 0!==e&&(null===e||"object"!=typeof e||!("aborted"in e)))throw new w(t,"AbortSignal",e)}),$=y((e,t)=>{if("function"!=typeof e)throw new w(t,"Function",e)}),F=y((e,t)=>{if("function"!=typeof e||S(e))throw new w(t,"Function",e)}),z=y((e,t)=>{if(void 0!==e)throw new w(t,"undefined",e)}),q=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function G(e,t){if(void 0===e||!h(q,e))throw new v(t,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}e.exports={isInt32:function(e){return e===(0|e)},isUint32:function(e){return e===e>>>0},parseFileMode:function(e,t,r){if(void 0===e&&(e=r),"string"==typeof e){if(null===h(C,e))throw new v(t,e,"must be a 32-bit unsigned integer or an octal string");e=d(e,8)}return T(e,t),e},validateArray:B,validateStringArray:function(e,t){B(e,t);for(let r=0;r<e.length;r++)k(e[r],`${t}[${r}]`)},validateBooleanArray:function(e,t){B(e,t);for(let r=0;r<e.length;r++)M(e[r],`${t}[${r}]`)},validateAbortSignalArray:function(e,t){B(e,t);for(let r=0;r<e.length;r++){let n=e[r],i=`${t}[${r}]`;if(null==n)throw new w(i,"AbortSignal",n);j(n,i)}},validateBoolean:M,validateBuffer:U,validateDictionary:L,validateEncoding:function(e,t){let r=A(t),n=e.length;if("hex"===r&&n%2!=0)throw new v("encoding",t,`is invalid for data of length ${n}`)},validateFunction:$,validateInt32:P,validateInteger:O,validateNumber:function(e,t,r,n){if("number"!=typeof e)throw new w(t,"number",e);if(null!=r&&e<r||null!=n&&e>n||(null!=r||null!=n)&&c(e))throw new E(t,`${null!=r?`>= ${r}`:""}${null!=r&&null!=n?" && ":""}${null!=n?`<= ${n}`:""}`,e)},validateObject:D,validateOneOf:N,validatePlainFunction:F,validatePort:function(e,t="Port",r=!0){if("number"!=typeof e&&"string"!=typeof e||"string"==typeof e&&0===m(e).length||+e!=+e>>>0||e>65535||0===e&&!r)throw new b(t,e,r);return 0|e},validateSignalName:function(e,t="signal"){if(k(e,t),void 0===I[e]){if(void 0!==I[g(e)])throw new x(e+" (signals must use all capital letters)");throw new x(e)}},validateString:k,validateUint32:T,validateUndefined:z,validateUnion:function(e,t,r){if(!i(r,e))throw new w(t,`('${o(r,"|")}')`,e)},validateAbortSignal:j,validateLinkHeaderValue:function(e){if("string"==typeof e)return G(e,"hints"),e;if(n(e)){let t=e.length,r="";if(0===t)return r;for(let n=0;n<t;n++){let i=e[n];G(i,"hints"),r+=i,n!==t-1&&(r+=", ")}return r}throw new v("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},80578:function(e,t,r){"use strict";let n=r(78674),i=r(99557),o=n.Readable.destroy;e.exports=n.Readable,e.exports._uint8ArrayToBuffer=n._uint8ArrayToBuffer,e.exports._isUint8Array=n._isUint8Array,e.exports.isDisturbed=n.isDisturbed,e.exports.isErrored=n.isErrored,e.exports.isReadable=n.isReadable,e.exports.Readable=n.Readable,e.exports.Writable=n.Writable,e.exports.Duplex=n.Duplex,e.exports.Transform=n.Transform,e.exports.PassThrough=n.PassThrough,e.exports.addAbortSignal=n.addAbortSignal,e.exports.finished=n.finished,e.exports.destroy=n.destroy,e.exports.destroy=o,e.exports.pipeline=n.pipeline,e.exports.compose=n.compose,Object.defineProperty(n,"promises",{configurable:!0,enumerable:!0,get:()=>i}),e.exports.Stream=n.Stream,e.exports.default=e.exports},56367:function(e,t,r){"use strict";let{format:n,inspect:i}=r(54618),{AggregateError:o}=r(56770),a=globalThis.AggregateError||o,s=Symbol("kIsNodeError"),c=["string","function","number","object","Function","Object","boolean","bigint","symbol"],l=/^([A-Z][a-z0-9]*)+$/,u={};function d(e,t){if(!e)throw new u.ERR_INTERNAL_ASSERTION(t)}function f(e){let t="",r=e.length,n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function h(e,t,r){r||(r=Error);class i extends r{constructor(...r){super(function(e,t,r){if("function"==typeof t)return d(t.length<=r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${t.length}).`),t(...r);let i=(t.match(/%[dfijoOs]/g)||[]).length;return(d(i===r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${i}).`),0===r.length)?t:n(t,...r)}(e,t,r))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(i.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),i.prototype.code=e,i.prototype[s]=!0,u[e]=i}function p(e){let t="__node_internal_"+e.name;return Object.defineProperty(e,"name",{value:t}),e}class g extends Error{constructor(e="The operation was aborted",t){if(void 0!==t&&"object"!=typeof t)throw new u.ERR_INVALID_ARG_TYPE("options","Object",t);super(e,t),this.code="ABORT_ERR",this.name="AbortError"}}h("ERR_ASSERTION","%s",Error),h("ERR_INVALID_ARG_TYPE",(e,t,r)=>{d("string"==typeof e,"'name' must be a string"),Array.isArray(t)||(t=[t]);let n="The ";e.endsWith(" argument")?n+=`${e} `:n+=`"${e}" ${e.includes(".")?"property":"argument"} `,n+="must be ";let o=[],a=[],s=[];for(let e of t)d("string"==typeof e,"All expected entries have to be of type string"),c.includes(e)?o.push(e.toLowerCase()):l.test(e)?a.push(e):(d("object"!==e,'The value "object" should be written as "Object"'),s.push(e));if(a.length>0){let e=o.indexOf("object");-1!==e&&(o.splice(o,e,1),a.push("Object"))}if(o.length>0){switch(o.length){case 1:n+=`of type ${o[0]}`;break;case 2:n+=`one of type ${o[0]} or ${o[1]}`;break;default:{let e=o.pop();n+=`one of type ${o.join(", ")}, or ${e}`}}(a.length>0||s.length>0)&&(n+=" or ")}if(a.length>0){switch(a.length){case 1:n+=`an instance of ${a[0]}`;break;case 2:n+=`an instance of ${a[0]} or ${a[1]}`;break;default:{let e=a.pop();n+=`an instance of ${a.join(", ")}, or ${e}`}}s.length>0&&(n+=" or ")}switch(s.length){case 0:break;case 1:s[0].toLowerCase()!==s[0]&&(n+="an "),n+=`${s[0]}`;break;case 2:n+=`one of ${s[0]} or ${s[1]}`;break;default:{let e=s.pop();n+=`one of ${s.join(", ")}, or ${e}`}}if(null==r)n+=`. Received ${r}`;else if("function"==typeof r&&r.name)n+=`. Received function ${r.name}`;else if("object"==typeof r){var u;if(null!==(u=r.constructor)&&void 0!==u&&u.name)n+=`. Received an instance of ${r.constructor.name}`;else{let e=i(r,{depth:-1});n+=`. Received ${e}`}}else{let e=i(r,{colors:!1});e.length>25&&(e=`${e.slice(0,25)}...`),n+=`. Received type ${typeof r} (${e})`}return n},TypeError),h("ERR_INVALID_ARG_VALUE",(e,t,r="is invalid")=>{let n=i(t);n.length>128&&(n=n.slice(0,128)+"...");let o=e.includes(".")?"property":"argument";return`The ${o} '${e}' ${r}. Received ${n}`},TypeError),h("ERR_INVALID_RETURN_VALUE",(e,t,r)=>{var n;let i=null!=r&&null!==(n=r.constructor)&&void 0!==n&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${e} to be returned from the "${t}" function but got ${i}.`},TypeError),h("ERR_MISSING_ARGS",(...e)=>{let t;d(e.length>0,"At least one arg needs to be specified");let r=e.length;switch(e=(Array.isArray(e)?e:[e]).map(e=>`"${e}"`).join(" or "),r){case 1:t+=`The ${e[0]} argument`;break;case 2:t+=`The ${e[0]} and ${e[1]} arguments`;break;default:{let r=e.pop();t+=`The ${e.join(", ")}, and ${r} arguments`}}return`${t} must be specified`},TypeError),h("ERR_OUT_OF_RANGE",(e,t,r)=>{let n;if(d(t,'Missing "range" argument'),Number.isInteger(r)&&Math.abs(r)>4294967296)n=f(String(r));else if("bigint"==typeof r){n=String(r);let e=BigInt(2)**BigInt(32);(r>e||r<-e)&&(n=f(n)),n+="n"}else n=i(r);return`The value of "${e}" is out of range. It must be ${t}. Received ${n}`},RangeError),h("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),h("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),h("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),h("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),h("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),h("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),h("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),h("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),h("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),h("ERR_STREAM_WRITE_AFTER_END","write after end",Error),h("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),e.exports={AbortError:g,aggregateTwoErrors:p(function(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;let r=new a([t,e],t.message);return r.code=t.code,r}return e||t}),hideStackFrames:p,codes:u}},56770:function(e){"use strict";class t extends Error{constructor(e){if(!Array.isArray(e))throw TypeError(`Expected input to be an Array, got ${typeof e}`);let t="";for(let r=0;r<e.length;r++)t+=`    ${e[r].stack}
`;super(t),this.name="AggregateError",this.errors=e}}e.exports={AggregateError:t,ArrayIsArray:e=>Array.isArray(e),ArrayPrototypeIncludes:(e,t)=>e.includes(t),ArrayPrototypeIndexOf:(e,t)=>e.indexOf(t),ArrayPrototypeJoin:(e,t)=>e.join(t),ArrayPrototypeMap:(e,t)=>e.map(t),ArrayPrototypePop:(e,t)=>e.pop(t),ArrayPrototypePush:(e,t)=>e.push(t),ArrayPrototypeSlice:(e,t,r)=>e.slice(t,r),Error,FunctionPrototypeCall:(e,t,...r)=>e.call(t,...r),FunctionPrototypeSymbolHasInstance:(e,t)=>Function.prototype[Symbol.hasInstance].call(e,t),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(e,t)=>Object.defineProperties(e,t),ObjectDefineProperty:(e,t,r)=>Object.defineProperty(e,t,r),ObjectGetOwnPropertyDescriptor:(e,t)=>Object.getOwnPropertyDescriptor(e,t),ObjectKeys:e=>Object.keys(e),ObjectSetPrototypeOf:(e,t)=>Object.setPrototypeOf(e,t),Promise,PromisePrototypeCatch:(e,t)=>e.catch(t),PromisePrototypeThen:(e,t,r)=>e.then(t,r),PromiseReject:e=>Promise.reject(e),PromiseResolve:e=>Promise.resolve(e),ReflectApply:Reflect.apply,RegExpPrototypeTest:(e,t)=>e.test(t),SafeSet:Set,String,StringPrototypeSlice:(e,t,r)=>e.slice(t,r),StringPrototypeToLowerCase:e=>e.toLowerCase(),StringPrototypeToUpperCase:e=>e.toUpperCase(),StringPrototypeTrim:e=>e.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet:(e,t,r)=>e.set(t,r),Boolean,Uint8Array}},1088:function(e,t,r){"use strict";let n=r(82957),{format:i,inspect:o}=r(54618),{codes:{ERR_INVALID_ARG_TYPE:a}}=r(56367),{kResistStopPropagation:s,AggregateError:c,SymbolDispose:l}=r(56770),AbortSignal=globalThis.AbortSignal||r(78918).AbortSignal,u=globalThis.AbortController||r(78918).AbortController,d=Object.getPrototypeOf(async function(){}).constructor,f=globalThis.Blob||n.Blob,h=(e,t)=>{if(void 0!==e&&(null===e||"object"!=typeof e||!("aborted"in e)))throw new a(t,"AbortSignal",e)},p=(e,t)=>{if("function"!=typeof e)throw new a(t,"Function",e)};e.exports={AggregateError:c,kEmptyObject:Object.freeze({}),once(e){let t=!1;return function(...r){t||(t=!0,e.apply(this,r))}},createDeferredPromise:function(){let e,t;return{promise:new Promise((r,n)=>{e=r,t=n}),resolve:e,reject:t}},promisify:e=>new Promise((t,r)=>{e((e,...n)=>e?r(e):t(...n))}),debuglog:()=>function(){},format:i,inspect:o,types:{isAsyncFunction:e=>e instanceof d,isArrayBufferView:e=>ArrayBuffer.isView(e)},isBlob:void 0!==f?function(e){return e instanceof f}:function(e){return!1},deprecate:(e,t)=>e,addAbortListener:r(55445).addAbortListener||function(e,t){let r;if(void 0===e)throw new a("signal","AbortSignal",e);return h(e,"signal"),p(t,"listener"),e.aborted?queueMicrotask(()=>t()):(e.addEventListener("abort",t,{__proto__:null,once:!0,[s]:!0}),r=()=>{e.removeEventListener("abort",t)}),{__proto__:null,[l](){var e;null===(e=r)||void 0===e||e()}}},AbortSignalAny:AbortSignal.any||function(e){if(1===e.length)return e[0];let t=new u,r=()=>t.abort();return e.forEach(e=>{h(e,"signals"),e.addEventListener("abort",r,{once:!0})}),t.signal.addEventListener("abort",()=>{e.forEach(e=>e.removeEventListener("abort",r))},{once:!0}),t.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},54618:function(e){"use strict";e.exports={format:(e,...t)=>e.replace(/%([sdifj])/g,function(...[e,r]){let n=t.shift();if("f"===r)return n.toFixed(6);if("j"===r)return JSON.stringify(n);if("s"!==r||"object"!=typeof n)return n.toString();{let e=n.constructor!==Object?n.constructor.name:"";return`${e} {}`.trim()}}),inspect(e){switch(typeof e){case"string":if(e.includes("'")){if(!e.includes('"'))return`"${e}"`;if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}return`'${e}'`;case"number":if(isNaN(e))return"NaN";if(Object.is(e,-0))return String(e);return e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}}}},78674:function(e,t,r){"use strict";let{Buffer:n}=r(82957),{ObjectDefineProperty:i,ObjectKeys:o,ReflectApply:a}=r(56770),{promisify:{custom:s}}=r(1088),{streamReturningOperators:c,promiseReturningOperators:l}=r(53296),{codes:{ERR_ILLEGAL_CONSTRUCTOR:u}}=r(56367),d=r(44581),{setDefaultHighWaterMark:f,getDefaultHighWaterMark:h}=r(7181),{pipeline:p}=r(9237),{destroyer:g}=r(28589),m=r(80618),y=r(99557),b=r(96636),w=e.exports=r(17497).Stream;for(let e of(w.isDestroyed=b.isDestroyed,w.isDisturbed=b.isDisturbed,w.isErrored=b.isErrored,w.isReadable=b.isReadable,w.isWritable=b.isWritable,w.Readable=r(40476),o(c))){let t=c[e];function v(...e){if(new.target)throw u();return w.Readable.from(a(t,this,e))}i(v,"name",{__proto__:null,value:t.name}),i(v,"length",{__proto__:null,value:t.length}),i(w.Readable.prototype,e,{__proto__:null,value:v,enumerable:!1,configurable:!0,writable:!0})}for(let e of o(l)){let t=l[e];function E(...e){if(new.target)throw u();return a(t,this,e)}i(E,"name",{__proto__:null,value:t.name}),i(E,"length",{__proto__:null,value:t.length}),i(w.Readable.prototype,e,{__proto__:null,value:E,enumerable:!1,configurable:!0,writable:!0})}w.Writable=r(76243),w.Duplex=r(21544),w.Transform=r(18798),w.PassThrough=r(87173),w.pipeline=p;let{addAbortSignal:x}=r(20185);w.addAbortSignal=x,w.finished=m,w.destroy=g,w.compose=d,w.setDefaultHighWaterMark=f,w.getDefaultHighWaterMark=h,i(w,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>y}),i(p,s,{__proto__:null,enumerable:!0,get:()=>y.pipeline}),i(m,s,{__proto__:null,enumerable:!0,get:()=>y.finished}),w.Stream=w,w._isUint8Array=function(e){return e instanceof Uint8Array},w._uint8ArrayToBuffer=function(e){return n.from(e.buffer,e.byteOffset,e.byteLength)}},99557:function(e,t,r){"use strict";let{ArrayPrototypePop:n,Promise:i}=r(56770),{isIterable:o,isNodeStream:a,isWebStream:s}=r(96636),{pipelineImpl:c}=r(9237),{finished:l}=r(80618);r(78674),e.exports={finished:l,pipeline:function(...e){return new i((t,r)=>{let i,l;let u=e[e.length-1];if(u&&"object"==typeof u&&!a(u)&&!o(u)&&!s(u)){let t=n(e);i=t.signal,l=t.end}c(e,(e,n)=>{e?r(e):t(n)},{signal:i,end:l})})}}},73306:function(e,t,r){var n=r(82957),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(e,t,r){if("number"==typeof e)throw TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return n.SlowBuffer(e)}},98365:function(e,t,r){"use strict";let n=Symbol("SemVer ANY");class i{static get ANY(){return n}constructor(e,t){if(t=o(t),e instanceof i){if(!!t.loose===e.loose)return e;e=e.value}l("comparator",e=e.trim().split(/\s+/).join(" "),t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===n?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}parse(e){let t=this.options.loose?a[s.COMPARATORLOOSE]:a[s.COMPARATOR],r=e.match(t);if(!r)throw TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new u(r[2],this.options.loose):this.semver=n}toString(){return this.value}test(e){if(l("Comparator.test",e,this.options.loose),this.semver===n||e===n)return!0;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}return c(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof i))throw TypeError("a Comparator is required");return""===this.operator?""===this.value||new d(e.value,t).test(this.value):""===e.operator?""===e.value||new d(this.value,t).test(e.semver):!((t=o(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0")))&&!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||c(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||c(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">"))}}e.exports=i;let o=r(56573),{safeRe:a,t:s}=r(61834),c=r(74526),l=r(37481),u=r(61269),d=r(96308)},96308:function(e,t,r){"use strict";let n=/\s+/g;class i{constructor(e,t){if(t=a(t),e instanceof i){if(!!t.loose===e.loose&&!!t.includePrerelease===e.includePrerelease)return e;return new i(e.raw,t)}if(e instanceof s)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(n," "),this.set=this.raw.split("||").map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let e=this.set[0];if(this.set=this.set.filter(e=>!y(e[0])),0===this.set.length)this.set=[e];else if(this.set.length>1){for(let e of this.set)if(1===e.length&&b(e[0])){this.set=[e];break}}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let t=this.set[e];for(let e=0;e<t.length;e++)e>0&&(this.formatted+=" "),this.formatted+=t[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let t=((this.options.includePrerelease&&g)|(this.options.loose&&m))+":"+e,r=o.get(t);if(r)return r;let n=this.options.loose,i=n?u[d.HYPHENRANGELOOSE]:u[d.HYPHENRANGE];c("hyphen replace",e=e.replace(i,T(this.options.includePrerelease))),c("comparator trim",e=e.replace(u[d.COMPARATORTRIM],f)),c("tilde trim",e=e.replace(u[d.TILDETRIM],h)),c("caret trim",e=e.replace(u[d.CARETTRIM],p));let a=e.split(" ").map(e=>v(e,this.options)).join(" ").split(/\s+/).map(e=>P(e,this.options));n&&(a=a.filter(e=>(c("loose invalid filter",e,this.options),!!e.match(u[d.COMPARATORLOOSE])))),c("range list",a);let l=new Map;for(let e of a.map(e=>new s(e,this.options))){if(y(e))return[e];l.set(e.value,e)}l.size>1&&l.has("")&&l.delete("");let b=[...l.values()];return o.set(t,b),b}intersects(e,t){if(!(e instanceof i))throw TypeError("a Range is required");return this.set.some(r=>w(r,t)&&e.set.some(e=>w(e,t)&&r.every(r=>e.every(e=>r.intersects(e,t)))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new l(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(k(this.set[t],e,this.options))return!0;return!1}}e.exports=i;let o=new(r(88911)),a=r(56573),s=r(98365),c=r(37481),l=r(61269),{safeRe:u,t:d,comparatorTrimReplace:f,tildeTrimReplace:h,caretTrimReplace:p}=r(61834),{FLAG_INCLUDE_PRERELEASE:g,FLAG_LOOSE:m}=r(52310),y=e=>"<0.0.0-0"===e.value,b=e=>""===e.value,w=(e,t)=>{let r=!0,n=e.slice(),i=n.pop();for(;r&&n.length;)r=n.every(e=>i.intersects(e,t)),i=n.pop();return r},v=(e,t)=>(c("comp",e=e.replace(u[d.BUILD],""),t),c("caret",e=S(e,t)),c("tildes",e=x(e,t)),c("xrange",e=I(e,t)),c("stars",e=O(e,t)),e),E=e=>!e||"x"===e.toLowerCase()||"*"===e,x=(e,t)=>e.trim().split(/\s+/).map(e=>A(e,t)).join(" "),A=(e,t)=>{let r=t.loose?u[d.TILDELOOSE]:u[d.TILDE];return e.replace(r,(t,r,n,i,o)=>{let a;return c("tilde",e,t,r,n,i,o),E(r)?a="":E(n)?a=`>=${r}.0.0 <${+r+1}.0.0-0`:E(i)?a=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`:o?(c("replaceTilde pr",o),a=`>=${r}.${n}.${i}-${o} <${r}.${+n+1}.0-0`):a=`>=${r}.${n}.${i} <${r}.${+n+1}.0-0`,c("tilde return",a),a})},S=(e,t)=>e.trim().split(/\s+/).map(e=>_(e,t)).join(" "),_=(e,t)=>{c("caret",e,t);let r=t.loose?u[d.CARETLOOSE]:u[d.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,(t,r,i,o,a)=>{let s;return c("caret",e,t,r,i,o,a),E(r)?s="":E(i)?s=`>=${r}.0.0${n} <${+r+1}.0.0-0`:E(o)?s="0"===r?`>=${r}.${i}.0${n} <${r}.${+i+1}.0-0`:`>=${r}.${i}.0${n} <${+r+1}.0.0-0`:a?(c("replaceCaret pr",a),s="0"===r?"0"===i?`>=${r}.${i}.${o}-${a} <${r}.${i}.${+o+1}-0`:`>=${r}.${i}.${o}-${a} <${r}.${+i+1}.0-0`:`>=${r}.${i}.${o}-${a} <${+r+1}.0.0-0`):(c("no pr"),s="0"===r?"0"===i?`>=${r}.${i}.${o}${n} <${r}.${i}.${+o+1}-0`:`>=${r}.${i}.${o}${n} <${r}.${+i+1}.0-0`:`>=${r}.${i}.${o} <${+r+1}.0.0-0`),c("caret return",s),s})},I=(e,t)=>(c("replaceXRanges",e,t),e.split(/\s+/).map(e=>C(e,t)).join(" ")),C=(e,t)=>{e=e.trim();let r=t.loose?u[d.XRANGELOOSE]:u[d.XRANGE];return e.replace(r,(r,n,i,o,a,s)=>{c("xRange",e,r,n,i,o,a,s);let l=E(i),u=l||E(o),d=u||E(a);return"="===n&&d&&(n=""),s=t.includePrerelease?"-0":"",l?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&d?(u&&(o=0),a=0,">"===n?(n=">=",u?(i=+i+1,o=0):o=+o+1,a=0):"<="===n&&(n="<",u?i=+i+1:o=+o+1),"<"===n&&(s="-0"),r=`${n+i}.${o}.${a}${s}`):u?r=`>=${i}.0.0${s} <${+i+1}.0.0-0`:d&&(r=`>=${i}.${o}.0${s} <${i}.${+o+1}.0-0`),c("xRange return",r),r})},O=(e,t)=>(c("replaceStars",e,t),e.trim().replace(u[d.STAR],"")),P=(e,t)=>(c("replaceGTE0",e,t),e.trim().replace(u[t.includePrerelease?d.GTE0PRE:d.GTE0],"")),T=e=>(t,r,n,i,o,a,s,c,l,u,d,f)=>(r=E(n)?"":E(i)?`>=${n}.0.0${e?"-0":""}`:E(o)?`>=${n}.${i}.0${e?"-0":""}`:a?`>=${r}`:`>=${r}${e?"-0":""}`,c=E(l)?"":E(u)?`<${+l+1}.0.0-0`:E(d)?`<${l}.${+u+1}.0-0`:f?`<=${l}.${u}.${d}-${f}`:e?`<${l}.${u}.${+d+1}-0`:`<=${c}`,`${r} ${c}`.trim()),k=(e,t,r)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(c(e[r].semver),e[r].semver!==s.ANY&&e[r].semver.prerelease.length>0){let n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0}},61269:function(e,t,r){"use strict";let n=r(37481),{MAX_LENGTH:i,MAX_SAFE_INTEGER:o}=r(52310),{safeRe:a,t:s}=r(61834),c=r(56573),{compareIdentifiers:l}=r(13751);class u{constructor(e,t){if(t=c(t),e instanceof u){if(!!t.loose===e.loose&&!!t.includePrerelease===e.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>i)throw TypeError(`version is longer than ${i} characters`);n("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let r=e.trim().match(t.loose?a[s.LOOSE]:a[s.FULL]);if(!r)throw TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>o||this.major<0)throw TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){let t=+e;if(t>=0&&t<o)return t}return e}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(n("SemVer.compare",this.version,this.options,e),!(e instanceof u)){if("string"==typeof e&&e===this.version)return 0;e=new u(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return(e instanceof u||(e=new u(e,this.options)),this.major<e.major)?-1:this.major>e.major?1:this.minor<e.minor?-1:this.minor>e.minor?1:this.patch<e.patch?-1:this.patch>e.patch?1:0}comparePre(e){if(e instanceof u||(e=new u(e,this.options)),this.prerelease.length&&!e.prerelease.length)return -1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let r=this.prerelease[t],i=e.prerelease[t];if(n("prerelease compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return -1;if(r===i)continue;else return l(r,i)}while(++t)}compareBuild(e){e instanceof u||(e=new u(e,this.options));let t=0;do{let r=this.build[t],i=e.build[t];if(n("build compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return -1;if(r===i)continue;else return l(r,i)}while(++t)}inc(e,t,r){if(e.startsWith("pre")){if(!t&&!1===r)throw Error("invalid increment argument: identifier is empty");if(t){let e=`-${t}`.match(this.options.loose?a[s.PRERELEASELOOSE]:a[s.PRERELEASE]);if(!e||e[1]!==t)throw Error(`invalid identifier: ${t}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,r),this.inc("pre",t,r);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,r),this.inc("pre",t,r);break;case"release":if(0===this.prerelease.length)throw Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{let e=Number(r)?1:0;if(0===this.prerelease.length)this.prerelease=[e];else{let n=this.prerelease.length;for(;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);if(-1===n){if(t===this.prerelease.join(".")&&!1===r)throw Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let n=[t,e];!1===r&&(n=[t]),0===l(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=n):this.prerelease=n}break}default:throw Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=u},74423:function(e,t,r){"use strict";let n=r(86472);e.exports=(e,t)=>{let r=n(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}},74526:function(e,t,r){"use strict";let n=r(84429),i=r(54084),o=r(91877),a=r(54159),s=r(1749),c=r(74063);e.exports=(e,t,r,l)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return n(e,r,l);case"!=":return i(e,r,l);case">":return o(e,r,l);case">=":return a(e,r,l);case"<":return s(e,r,l);case"<=":return c(e,r,l);default:throw TypeError(`Invalid operator: ${t}`)}}},6028:function(e,t,r){"use strict";let n=r(61269),i=r(86472),{safeRe:o,t:a}=r(61834);e.exports=(e,t)=>{if(e instanceof n)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let r=null;if((t=t||{}).rtl){let n;let i=t.includePrerelease?o[a.COERCERTLFULL]:o[a.COERCERTL];for(;(n=i.exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&n.index+n[0].length===r.index+r[0].length||(r=n),i.lastIndex=n.index+n[1].length+n[2].length;i.lastIndex=-1}else r=e.match(t.includePrerelease?o[a.COERCEFULL]:o[a.COERCE]);if(null===r)return null;let s=r[2],c=r[3]||"0",l=r[4]||"0",u=t.includePrerelease&&r[5]?`-${r[5]}`:"",d=t.includePrerelease&&r[6]?`+${r[6]}`:"";return i(`${s}.${c}.${l}${u}${d}`,t)}},47239:function(e,t,r){"use strict";let n=r(61269);e.exports=(e,t,r)=>{let i=new n(e,r),o=new n(t,r);return i.compare(o)||i.compareBuild(o)}},78754:function(e,t,r){"use strict";let n=r(75625);e.exports=(e,t)=>n(e,t,!0)},75625:function(e,t,r){"use strict";let n=r(61269);e.exports=(e,t,r)=>new n(e,r).compare(new n(t,r))},42921:function(e,t,r){"use strict";let n=r(86472);e.exports=(e,t)=>{let r=n(e,null,!0),i=n(t,null,!0),o=r.compare(i);if(0===o)return null;let a=o>0,s=a?r:i,c=a?i:r,l=!!s.prerelease.length;if(c.prerelease.length&&!l){if(!c.patch&&!c.minor)return"major";if(0===c.compareMain(s))return c.minor&&!c.patch?"minor":"patch"}let u=l?"pre":"";return r.major!==i.major?u+"major":r.minor!==i.minor?u+"minor":r.patch!==i.patch?u+"patch":"prerelease"}},84429:function(e,t,r){"use strict";let n=r(75625);e.exports=(e,t,r)=>0===n(e,t,r)},91877:function(e,t,r){"use strict";let n=r(75625);e.exports=(e,t,r)=>n(e,t,r)>0},54159:function(e,t,r){"use strict";let n=r(75625);e.exports=(e,t,r)=>n(e,t,r)>=0},60827:function(e,t,r){"use strict";let n=r(61269);e.exports=(e,t,r,i,o)=>{"string"==typeof r&&(o=i,i=r,r=void 0);try{return new n(e instanceof n?e.version:e,r).inc(t,i,o).version}catch(e){return null}}},1749:function(e,t,r){"use strict";let n=r(75625);e.exports=(e,t,r)=>0>n(e,t,r)},74063:function(e,t,r){"use strict";let n=r(75625);e.exports=(e,t,r)=>0>=n(e,t,r)},87176:function(e,t,r){"use strict";let n=r(61269);e.exports=(e,t)=>new n(e,t).major},38161:function(e,t,r){"use strict";let n=r(61269);e.exports=(e,t)=>new n(e,t).minor},54084:function(e,t,r){"use strict";let n=r(75625);e.exports=(e,t,r)=>0!==n(e,t,r)},86472:function(e,t,r){"use strict";let n=r(61269);e.exports=(e,t,r=!1)=>{if(e instanceof n)return e;try{return new n(e,t)}catch(e){if(!r)return null;throw e}}},35516:function(e,t,r){"use strict";let n=r(61269);e.exports=(e,t)=>new n(e,t).patch},95936:function(e,t,r){"use strict";let n=r(86472);e.exports=(e,t)=>{let r=n(e,t);return r&&r.prerelease.length?r.prerelease:null}},723:function(e,t,r){"use strict";let n=r(75625);e.exports=(e,t,r)=>n(t,e,r)},27415:function(e,t,r){"use strict";let n=r(47239);e.exports=(e,t)=>e.sort((e,r)=>n(r,e,t))},60875:function(e,t,r){"use strict";let n=r(96308);e.exports=(e,t,r)=>{try{t=new n(t,r)}catch(e){return!1}return t.test(e)}},63535:function(e,t,r){"use strict";let n=r(47239);e.exports=(e,t)=>e.sort((e,r)=>n(e,r,t))},24121:function(e,t,r){"use strict";let n=r(86472);e.exports=(e,t)=>{let r=n(e,t);return r?r.version:null}},67374:function(e,t,r){"use strict";let n=r(61834),i=r(52310),o=r(61269),a=r(13751),s=r(86472),c=r(24121),l=r(74423),u=r(60827),d=r(42921),f=r(87176),h=r(38161),p=r(35516),g=r(95936),m=r(75625),y=r(723),b=r(78754),w=r(47239),v=r(63535),E=r(27415),x=r(91877),A=r(1749),S=r(84429),_=r(54084),I=r(54159),C=r(74063),O=r(74526),P=r(6028),T=r(98365),k=r(96308),N=r(60875),M=r(72705),R=r(96018),D=r(75899),L=r(36977),B=r(93274),U=r(55040),j=r(96953),$=r(18123),F=r(61679),z=r(72298),q=r(67411);e.exports={parse:s,valid:c,clean:l,inc:u,diff:d,major:f,minor:h,patch:p,prerelease:g,compare:m,rcompare:y,compareLoose:b,compareBuild:w,sort:v,rsort:E,gt:x,lt:A,eq:S,neq:_,gte:I,lte:C,cmp:O,coerce:P,Comparator:T,Range:k,satisfies:N,toComparators:M,maxSatisfying:R,minSatisfying:D,minVersion:L,validRange:B,outside:U,gtr:j,ltr:$,intersects:F,simplifyRange:z,subset:q,SemVer:o,re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:i.SEMVER_SPEC_VERSION,RELEASE_TYPES:i.RELEASE_TYPES,compareIdentifiers:a.compareIdentifiers,rcompareIdentifiers:a.rcompareIdentifiers}},52310:function(e){"use strict";let t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},37481:function(e,t,r){"use strict";var n=r(25566);let i="object"==typeof n&&n.env&&n.env.NODE_DEBUG&&/\bsemver\b/i.test(n.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=i},13751:function(e){"use strict";let t=/^[0-9]+$/,r=(e,r)=>{if("number"==typeof e&&"number"==typeof r)return e===r?0:e<r?-1:1;let n=t.test(e),i=t.test(r);return n&&i&&(e=+e,r=+r),e===r?0:n&&!i?-1:i&&!n?1:e<r?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}},88911:function(e){"use strict";class t{constructor(){this.max=1e3,this.map=new Map}get(e){let t=this.map.get(e);if(void 0!==t)return this.map.delete(e),this.map.set(e,t),t}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){let e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}e.exports=t},56573:function(e){"use strict";let t=Object.freeze({loose:!0}),r=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:r},61834:function(e,t,r){"use strict";let{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:i,MAX_LENGTH:o}=r(52310),a=r(37481),s=(t=e.exports={}).re=[],c=t.safeRe=[],l=t.src=[],u=t.safeSrc=[],d=t.t={},f=0,h="[a-zA-Z0-9-]",p=[["\\s",1],["\\d",o],[h,i]],g=e=>{for(let[t,r]of p)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e},m=(e,t,r)=>{let n=g(t),i=f++;a(e,i,t),d[e]=i,l[i]=t,u[i]=n,s[i]=new RegExp(t,r?"g":void 0),c[i]=new RegExp(n,r?"g":void 0)};m("NUMERICIDENTIFIER","0|[1-9]\\d*"),m("NUMERICIDENTIFIERLOOSE","\\d+"),m("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${h}*`),m("MAINVERSION",`(${l[d.NUMERICIDENTIFIER]})\\.(${l[d.NUMERICIDENTIFIER]})\\.(${l[d.NUMERICIDENTIFIER]})`),m("MAINVERSIONLOOSE",`(${l[d.NUMERICIDENTIFIERLOOSE]})\\.(${l[d.NUMERICIDENTIFIERLOOSE]})\\.(${l[d.NUMERICIDENTIFIERLOOSE]})`),m("PRERELEASEIDENTIFIER",`(?:${l[d.NONNUMERICIDENTIFIER]}|${l[d.NUMERICIDENTIFIER]})`),m("PRERELEASEIDENTIFIERLOOSE",`(?:${l[d.NONNUMERICIDENTIFIER]}|${l[d.NUMERICIDENTIFIERLOOSE]})`),m("PRERELEASE",`(?:-(${l[d.PRERELEASEIDENTIFIER]}(?:\\.${l[d.PRERELEASEIDENTIFIER]})*))`),m("PRERELEASELOOSE",`(?:-?(${l[d.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[d.PRERELEASEIDENTIFIERLOOSE]})*))`),m("BUILDIDENTIFIER",`${h}+`),m("BUILD",`(?:\\+(${l[d.BUILDIDENTIFIER]}(?:\\.${l[d.BUILDIDENTIFIER]})*))`),m("FULLPLAIN",`v?${l[d.MAINVERSION]}${l[d.PRERELEASE]}?${l[d.BUILD]}?`),m("FULL",`^${l[d.FULLPLAIN]}$`),m("LOOSEPLAIN",`[v=\\s]*${l[d.MAINVERSIONLOOSE]}${l[d.PRERELEASELOOSE]}?${l[d.BUILD]}?`),m("LOOSE",`^${l[d.LOOSEPLAIN]}$`),m("GTLT","((?:<|>)?=?)"),m("XRANGEIDENTIFIERLOOSE",`${l[d.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),m("XRANGEIDENTIFIER",`${l[d.NUMERICIDENTIFIER]}|x|X|\\*`),m("XRANGEPLAIN",`[v=\\s]*(${l[d.XRANGEIDENTIFIER]})(?:\\.(${l[d.XRANGEIDENTIFIER]})(?:\\.(${l[d.XRANGEIDENTIFIER]})(?:${l[d.PRERELEASE]})?${l[d.BUILD]}?)?)?`),m("XRANGEPLAINLOOSE",`[v=\\s]*(${l[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[d.XRANGEIDENTIFIERLOOSE]})(?:${l[d.PRERELEASELOOSE]})?${l[d.BUILD]}?)?)?`),m("XRANGE",`^${l[d.GTLT]}\\s*${l[d.XRANGEPLAIN]}$`),m("XRANGELOOSE",`^${l[d.GTLT]}\\s*${l[d.XRANGEPLAINLOOSE]}$`),m("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),m("COERCE",`${l[d.COERCEPLAIN]}(?:$|[^\\d])`),m("COERCEFULL",l[d.COERCEPLAIN]+`(?:${l[d.PRERELEASE]})?`+`(?:${l[d.BUILD]})?`+"(?:$|[^\\d])"),m("COERCERTL",l[d.COERCE],!0),m("COERCERTLFULL",l[d.COERCEFULL],!0),m("LONETILDE","(?:~>?)"),m("TILDETRIM",`(\\s*)${l[d.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",m("TILDE",`^${l[d.LONETILDE]}${l[d.XRANGEPLAIN]}$`),m("TILDELOOSE",`^${l[d.LONETILDE]}${l[d.XRANGEPLAINLOOSE]}$`),m("LONECARET","(?:\\^)"),m("CARETTRIM",`(\\s*)${l[d.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",m("CARET",`^${l[d.LONECARET]}${l[d.XRANGEPLAIN]}$`),m("CARETLOOSE",`^${l[d.LONECARET]}${l[d.XRANGEPLAINLOOSE]}$`),m("COMPARATORLOOSE",`^${l[d.GTLT]}\\s*(${l[d.LOOSEPLAIN]})$|^$`),m("COMPARATOR",`^${l[d.GTLT]}\\s*(${l[d.FULLPLAIN]})$|^$`),m("COMPARATORTRIM",`(\\s*)${l[d.GTLT]}\\s*(${l[d.LOOSEPLAIN]}|${l[d.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",m("HYPHENRANGE",`^\\s*(${l[d.XRANGEPLAIN]})\\s+-\\s+(${l[d.XRANGEPLAIN]})\\s*$`),m("HYPHENRANGELOOSE",`^\\s*(${l[d.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[d.XRANGEPLAINLOOSE]})\\s*$`),m("STAR","(<|>)?=?\\s*\\*"),m("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),m("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},96953:function(e,t,r){"use strict";let n=r(55040);e.exports=(e,t,r)=>n(e,t,">",r)},61679:function(e,t,r){"use strict";let n=r(96308);e.exports=(e,t,r)=>(e=new n(e,r),t=new n(t,r),e.intersects(t,r))},18123:function(e,t,r){"use strict";let n=r(55040);e.exports=(e,t,r)=>n(e,t,"<",r)},96018:function(e,t,r){"use strict";let n=r(61269),i=r(96308);e.exports=(e,t,r)=>{let o=null,a=null,s=null;try{s=new i(t,r)}catch(e){return null}return e.forEach(e=>{s.test(e)&&(!o||-1===a.compare(e))&&(a=new n(o=e,r))}),o}},75899:function(e,t,r){"use strict";let n=r(61269),i=r(96308);e.exports=(e,t,r)=>{let o=null,a=null,s=null;try{s=new i(t,r)}catch(e){return null}return e.forEach(e=>{s.test(e)&&(!o||1===a.compare(e))&&(a=new n(o=e,r))}),o}},36977:function(e,t,r){"use strict";let n=r(61269),i=r(96308),o=r(91877);e.exports=(e,t)=>{e=new i(e,t);let r=new n("0.0.0");if(e.test(r)||(r=new n("0.0.0-0"),e.test(r)))return r;r=null;for(let t=0;t<e.set.length;++t){let i=e.set[t],a=null;i.forEach(e=>{let t=new n(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":(!a||o(t,a))&&(a=t);break;case"<":case"<=":break;default:throw Error(`Unexpected operation: ${e.operator}`)}}),a&&(!r||o(r,a))&&(r=a)}return r&&e.test(r)?r:null}},55040:function(e,t,r){"use strict";let n=r(61269),i=r(98365),{ANY:o}=i,a=r(96308),s=r(60875),c=r(91877),l=r(1749),u=r(74063),d=r(54159);e.exports=(e,t,r,f)=>{let h,p,g,m,y;switch(e=new n(e,f),t=new a(t,f),r){case">":h=c,p=u,g=l,m=">",y=">=";break;case"<":h=l,p=d,g=c,m="<",y="<=";break;default:throw TypeError('Must provide a hilo val of "<" or ">"')}if(s(e,t,f))return!1;for(let r=0;r<t.set.length;++r){let n=t.set[r],a=null,s=null;if(n.forEach(e=>{e.semver===o&&(e=new i(">=0.0.0")),a=a||e,s=s||e,h(e.semver,a.semver,f)?a=e:g(e.semver,s.semver,f)&&(s=e)}),a.operator===m||a.operator===y||(!s.operator||s.operator===m)&&p(e,s.semver)||s.operator===y&&g(e,s.semver))return!1}return!0}},72298:function(e,t,r){"use strict";let n=r(60875),i=r(75625);e.exports=(e,t,r)=>{let o=[],a=null,s=null,c=e.sort((e,t)=>i(e,t,r));for(let e of c)n(e,t,r)?(s=e,a||(a=e)):(s&&o.push([a,s]),s=null,a=null);a&&o.push([a,null]);let l=[];for(let[e,t]of o)e===t?l.push(e):t||e!==c[0]?t?e===c[0]?l.push(`<=${t}`):l.push(`${e} - ${t}`):l.push(`>=${e}`):l.push("*");let u=l.join(" || "),d="string"==typeof t.raw?t.raw:String(t);return u.length<d.length?u:t}},67411:function(e,t,r){"use strict";let n=r(96308),i=r(98365),{ANY:o}=i,a=r(60875),s=r(75625),c=[new i(">=0.0.0-0")],l=[new i(">=0.0.0")],u=(e,t,r)=>{let n,i,u,h,p,g,m;if(e===t)return!0;if(1===e.length&&e[0].semver===o){if(1===t.length&&t[0].semver===o)return!0;e=r.includePrerelease?c:l}if(1===t.length&&t[0].semver===o){if(r.includePrerelease)return!0;t=l}let y=new Set;for(let t of e)">"===t.operator||">="===t.operator?n=d(n,t,r):"<"===t.operator||"<="===t.operator?i=f(i,t,r):y.add(t.semver);if(y.size>1||n&&i&&((u=s(n.semver,i.semver,r))>0||0===u&&(">="!==n.operator||"<="!==i.operator)))return null;for(let e of y){if(n&&!a(e,String(n),r)||i&&!a(e,String(i),r))return null;for(let n of t)if(!a(e,String(n),r))return!1;return!0}let b=!!i&&!r.includePrerelease&&!!i.semver.prerelease.length&&i.semver,w=!!n&&!r.includePrerelease&&!!n.semver.prerelease.length&&n.semver;for(let e of(b&&1===b.prerelease.length&&"<"===i.operator&&0===b.prerelease[0]&&(b=!1),t)){if(m=m||">"===e.operator||">="===e.operator,g=g||"<"===e.operator||"<="===e.operator,n){if(w&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===w.major&&e.semver.minor===w.minor&&e.semver.patch===w.patch&&(w=!1),">"===e.operator||">="===e.operator){if((h=d(n,e,r))===e&&h!==n)return!1}else if(">="===n.operator&&!a(n.semver,String(e),r))return!1}if(i){if(b&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===b.major&&e.semver.minor===b.minor&&e.semver.patch===b.patch&&(b=!1),"<"===e.operator||"<="===e.operator){if((p=f(i,e,r))===e&&p!==i)return!1}else if("<="===i.operator&&!a(i.semver,String(e),r))return!1}if(!e.operator&&(i||n)&&0!==u)return!1}return(!n||!g||!!i||0===u)&&(!i||!m||!!n||0===u)&&!w&&!b},d=(e,t,r)=>{if(!e)return t;let n=s(e.semver,t.semver,r);return n>0?e:n<0?t:">"===t.operator&&">="===e.operator?t:e},f=(e,t,r)=>{if(!e)return t;let n=s(e.semver,t.semver,r);return n<0?e:n>0?t:"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,r={})=>{if(e===t)return!0;e=new n(e,r),t=new n(t,r);let i=!1;e:for(let n of e.set){for(let e of t.set){let t=u(n,e,r);if(i=i||null!==t,t)continue e}if(i)return!1}return!0}},72705:function(e,t,r){"use strict";let n=r(96308);e.exports=(e,t)=>new n(e,t).set.map(e=>e.map(e=>e.value).join(" ").trim().split(" "))},93274:function(e,t,r){"use strict";let n=r(96308);e.exports=(e,t)=>{try{return new n(e,t).range||"*"}catch(e){return null}}},69301:function(e,t,r){"use strict";var n=r(50071),i=r(33832),o=r(40927)(),a=r(50297),s=r(53842),c=n("%Math.floor%");e.exports=function(e,t){if("function"!=typeof e)throw new s("`fn` is not a function");if("number"!=typeof t||t<0||t>4294967295||c(t)!==t)throw new s("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],n=!0,l=!0;if("length"in e&&a){var u=a(e,"length");u&&!u.configurable&&(n=!1),u&&!u.writable&&(l=!1)}return(n||l||!r)&&(o?i(e,"length",t,!0,!0):i(e,"length",t)),e}},64582:function(e,t,r){"use strict";var n=r(73306).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){var t;if(!e)return"utf8";for(;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=l,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=u,this.end=d,t=3;break;default:this.write=f,this.end=h;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if((192&t[0])!=128)return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if((192&t[1])!=128)return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&(192&t[2])!=128)return e.lastNeed=2,""}}(this,e,0);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):void(e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length)}function c(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function u(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){var t,r;if(0===e.length)return"";if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=a(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=a(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=a(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},65768:function(e,t){"use strict";function r(e,t,r){return t<=e&&e<=r}function n(e){if(void 0===e)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function i(e){this.tokens=[].slice.call(e)}function o(e,t){if(e)throw TypeError("Decoder error");return t||65533}i.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(e){if(Array.isArray(e))for(;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(;e.length;)this.tokens.push(e.shift());else this.tokens.push(e)}};var a="utf-8";function s(e,t){if(!(this instanceof s))return new s(e,t);if((e=void 0!==e?String(e).toLowerCase():a)!==a)throw Error("Encoding not supported. Only utf-8 is supported");t=n(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!t.fatal,this._ignoreBOM=!!t.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function c(e,t){if(!(this instanceof c))return new c(e,t);if((e=void 0!==e?String(e).toLowerCase():a)!==a)throw Error("Encoding not supported. Only utf-8 is supported");t=n(t),this._streaming=!1,this._encoder=null,this._options={fatal:!!t.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}function l(e){var t=e.fatal,n=0,i=0,a=0,s=128,c=191;this.handler=function(e,l){if(-1===l&&0!==a)return a=0,o(t);if(-1===l)return -1;if(0===a){if(r(l,0,127))return l;if(r(l,194,223))a=1,n=l-192;else if(r(l,224,239))224===l&&(s=160),237===l&&(c=159),a=2,n=l-224;else{if(!r(l,240,244))return o(t);240===l&&(s=144),244===l&&(c=143),a=3,n=l-240}return n<<=6*a,null}if(!r(l,s,c))return n=a=i=0,s=128,c=191,e.prepend(l),o(t);if(s=128,c=191,i+=1,n+=l-128<<6*(a-i),i!==a)return null;var u=n;return n=a=i=0,u}}function u(e){e.fatal,this.handler=function(e,t){if(-1===t)return -1;if(r(t,0,127))return t;r(t,128,2047)?(n=1,i=192):r(t,2048,65535)?(n=2,i=224):r(t,65536,1114111)&&(n=3,i=240);for(var n,i,o=[(t>>6*n)+i];n>0;){var a=t>>6*(n-1);o.push(128|63&a),n-=1}return o}}s.prototype={decode:function(e,t){r="object"==typeof e&&e instanceof ArrayBuffer?new Uint8Array(e):"object"==typeof e&&"buffer"in e&&e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(0),t=n(t),this._streaming||(this._decoder=new l({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!t.stream;for(var r,o,a=new i(r),s=[];!a.endOfStream()&&-1!==(o=this._decoder.handler(a,a.read()));)null!==o&&(Array.isArray(o)?s.push.apply(s,o):s.push(o));if(!this._streaming){do{if(-1===(o=this._decoder.handler(a,a.read())))break;if(null===o)continue;Array.isArray(o)?s.push.apply(s,o):s.push(o)}while(!a.endOfStream());this._decoder=null}return!s.length||-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===s[0]?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),function(e){for(var t="",r=0;r<e.length;++r){var n=e[r];n<=65535?t+=String.fromCharCode(n):(n-=65536,t+=String.fromCharCode((n>>10)+55296,(1023&n)+56320))}return t}(s)}},c.prototype={encode:function(e,t){e=e?String(e):"",t=n(t),this._streaming||(this._encoder=new u(this._options)),this._streaming=!!t.stream;for(var r,o=[],a=new i(function(e){for(var t=String(e),r=t.length,n=0,i=[];n<r;){var o=t.charCodeAt(n);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319){if(n===r-1)i.push(65533);else{var a=e.charCodeAt(n+1);if(56320<=a&&a<=57343){var s=1023&o,c=1023&a;i.push(65536+(s<<10)+c),n+=1}else i.push(65533)}}n+=1}return i}(e));!a.endOfStream()&&-1!==(r=this._encoder.handler(a,a.read()));)Array.isArray(r)?o.push.apply(o,r):o.push(r);if(!this._streaming){for(;-1!==(r=this._encoder.handler(a,a.read()));)Array.isArray(r)?o.push.apply(o,r):o.push(r);this._encoder=null}return new Uint8Array(o)}},t.TextEncoder=c,t.TextDecoder=s},24369:function(e,t,r){"use strict";var n=r(2265),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=n.useState,a=n.useEffect,s=n.useLayoutEffect,c=n.useDebugValue;function l(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!i(e,r)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=o({inst:{value:r,getSnapshot:t}}),i=n[0].inst,u=n[1];return s(function(){i.value=r,i.getSnapshot=t,l(i)&&u({inst:i})},[e,r,t]),a(function(){return l(i)&&u({inst:i}),e(function(){l(i)&&u({inst:i})})},[e]),c(r),r};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:u},82558:function(e,t,r){"use strict";e.exports=r(24369)},58550:function(e,t,r){"use strict";r.d(t,{v4:function(){return n.Z}});var n=r(99222)},99222:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});for(var n,i=new Uint8Array(16),o=r(66737),a=[],s=0;s<256;++s)a.push((s+256).toString(16).substr(1));var c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(a[e[t+0]]+a[e[t+1]]+a[e[t+2]]+a[e[t+3]]+"-"+a[e[t+4]]+a[e[t+5]]+"-"+a[e[t+6]]+a[e[t+7]]+"-"+a[e[t+8]]+a[e[t+9]]+"-"+a[e[t+10]]+a[e[t+11]]+a[e[t+12]]+a[e[t+13]]+a[e[t+14]]+a[e[t+15]]).toLowerCase();if(!(0,o.Z)(r))throw TypeError("Stringified UUID is invalid");return r},l=function(e,t,r){var o=(e=e||{}).random||(e.rng||function(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)})();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){r=r||0;for(var a=0;a<16;++a)t[r+a]=o[a];return t}return c(o)}},66737:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,i=function(e){return"string"==typeof e&&n.test(e)}},69917:function(e){e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},71794:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertExhaustive=t.assertStruct=t.assert=t.AssertionError=void 0;let n=r(12776),i=r(46562);function o(e,t){return"string"==typeof e?.prototype?.constructor?.name?new e({message:t}):e({message:t})}class a extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}t.AssertionError=a,t.assert=function(e,t="Assertion failed.",r=a){if(!e){if(t instanceof Error)throw t;throw o(r,t)}},t.assertStruct=function(e,t,r="Assertion failed",s=a){try{(0,n.assert)(e,t)}catch(e){throw o(s,`${r}: ${(0,i.getErrorMessage)(e).replace(/\.$/u,"")}.`)}},t.assertExhaustive=function(e){throw Error("Invalid branch reached. Should be detected during compilation.")}},34932:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.base64=void 0;let n=r(12776),i=r(71794);t.base64=(e,t={})=>{let r,o;let a=t.paddingRequired??!1,s=t.characterSet??"base64";return"base64"===s?r=String.raw`[A-Za-z0-9+\/]`:((0,i.assert)("base64url"===s),r=String.raw`[-_A-Za-z0-9]`),o=a?RegExp(`^(?:${r}{4})*(?:${r}{3}=|${r}{2}==)?$`,"u"):RegExp(`^(?:${r}{4})*(?:${r}{2,3}|${r}{3}=|${r}{2}==)?$`,"u"),(0,n.pattern)(e,o)}},15209:function(e,t,r){"use strict";var n=r(82957).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.areUint8ArraysEqual=t.createDataView=t.concatBytes=t.valueToBytes=t.base64ToBytes=t.stringToBytes=t.numberToBytes=t.signedBigIntToBytes=t.bigIntToBytes=t.hexToBytes=t.bytesToBase64=t.bytesToString=t.bytesToNumber=t.bytesToSignedBigInt=t.bytesToBigInt=t.bytesToHex=t.assertIsBytes=t.isBytes=void 0;let i=r(25291),o=r(71794),a=r(84460),s=function(){let e=[];return()=>{if(0===e.length)for(let t=0;t<256;t++)e.push(t.toString(16).padStart(2,"0"));return e}}();function c(e){return e instanceof Uint8Array}function l(e){(0,o.assert)(c(e),"Value must be a Uint8Array.")}function u(e){if(l(e),0===e.length)return"0x";let t=s(),r=Array(e.length);for(let n=0;n<e.length;n++)r[n]=t[e[n]];return(0,a.add0x)(r.join(""))}function d(e){return l(e),BigInt(u(e))}function f(e){if(e?.toLowerCase?.()==="0x")return new Uint8Array;(0,a.assertIsHexString)(e);let t=(0,a.remove0x)(e).toLowerCase(),r=t.length%2==0?t:`0${t}`,n=new Uint8Array(r.length/2);for(let e=0;e<n.length;e++){let t=r.charCodeAt(2*e),i=r.charCodeAt(2*e+1),o=t-(t<58?48:87),a=i-(i<58?48:87);n[e]=16*o+a}return n}function h(e){return(0,o.assert)("bigint"==typeof e,"Value must be a bigint."),(0,o.assert)(e>=BigInt(0),"Value must be a non-negative bigint."),f(e.toString(16))}function p(e){return(0,o.assert)("number"==typeof e,"Value must be a number."),(0,o.assert)(e>=0,"Value must be a non-negative number."),(0,o.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToBytes` instead."),f(e.toString(16))}function g(e){return(0,o.assert)("string"==typeof e,"Value must be a string."),new TextEncoder().encode(e)}function m(e){if("bigint"==typeof e)return h(e);if("number"==typeof e)return p(e);if("string"==typeof e)return e.startsWith("0x")?f(e):g(e);if(c(e))return e;throw TypeError(`Unsupported value type: "${typeof e}".`)}t.isBytes=c,t.assertIsBytes=l,t.bytesToHex=u,t.bytesToBigInt=d,t.bytesToSignedBigInt=function(e){l(e);let t=BigInt(0);for(let r of e)t=(t<<BigInt(8))+BigInt(r);return BigInt.asIntN(8*e.length,t)},t.bytesToNumber=function(e){l(e);let t=d(e);return(0,o.assert)(t<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(t)},t.bytesToString=function(e){return l(e),new TextDecoder().decode(e)},t.bytesToBase64=function(e){return l(e),i.base64.encode(e)},t.hexToBytes=f,t.bigIntToBytes=h,t.signedBigIntToBytes=function(e,t){(0,o.assert)("bigint"==typeof e,"Value must be a bigint."),(0,o.assert)("number"==typeof t,"Byte length must be a number."),(0,o.assert)(t>0,"Byte length must be greater than 0."),(0,o.assert)(function(e,t){(0,o.assert)(t>0);let r=e>>BigInt(31);return!((~e&r)+(e&~r)>>BigInt(8*t+-1))}(e,t),"Byte length is too small to represent the given value.");let r=e,n=new Uint8Array(t);for(let e=0;e<n.length;e++)n[e]=Number(BigInt.asUintN(8,r)),r>>=BigInt(8);return n.reverse()},t.numberToBytes=p,t.stringToBytes=g,t.base64ToBytes=function(e){return(0,o.assert)("string"==typeof e,"Value must be a string."),i.base64.decode(e)},t.valueToBytes=m,t.concatBytes=function(e){let t=Array(e.length),r=0;for(let n=0;n<e.length;n++){let i=m(e[n]);t[n]=i,r+=i.length}let n=new Uint8Array(r);for(let e=0,r=0;e<t.length;e++)n.set(t[e],r),r+=t[e].length;return n},t.createDataView=function(e){return void 0!==n&&e instanceof n?new DataView(e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)):new DataView(e.buffer,e.byteOffset,e.byteLength)},t.areUint8ArraysEqual=function(e,t){let r=e.byteLength^t.byteLength,n=Math.max(e.byteLength,t.byteLength);for(let i=0;i<n;i++)r|=(e[i]??0)^(t[i]??0);return 0===r}},17433:function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.toCaipAssetId=t.toCaipAssetType=t.toCaipAccountId=t.toCaipChainId=t.parseCaipAssetId=t.parseCaipAssetType=t.parseCaipAccountId=t.parseCaipChainId=t.isCaipAssetId=t.isCaipAssetType=t.isCaipTokenId=t.isCaipAssetReference=t.isCaipAssetNamespace=t.isCaipAccountAddress=t.isCaipAccountId=t.isCaipReference=t.isCaipNamespace=t.isCaipChainId=t.KnownCaipNamespace=t.CaipAssetTypeOrIdStruct=t.CaipAssetIdStruct=t.CaipAssetTypeStruct=t.CaipTokenIdStruct=t.CaipAssetReferenceStruct=t.CaipAssetNamespaceStruct=t.CaipAccountAddressStruct=t.CaipAccountIdStruct=t.CaipReferenceStruct=t.CaipNamespaceStruct=t.CaipChainIdStruct=t.CAIP_ASSET_ID_REGEX=t.CAIP_ASSET_TYPE_REGEX=t.CAIP_TOKEN_ID_REGEX=t.CAIP_ASSET_REFERENCE_REGEX=t.CAIP_ASSET_NAMESPACE_REGEX=t.CAIP_ACCOUNT_ADDRESS_REGEX=t.CAIP_ACCOUNT_ID_REGEX=t.CAIP_REFERENCE_REGEX=t.CAIP_NAMESPACE_REGEX=t.CAIP_CHAIN_ID_REGEX=void 0;let i=r(12608);function o(e){return"string"==typeof e&&t.CAIP_NAMESPACE_REGEX.test(e)}function a(e){return"string"==typeof e&&t.CAIP_REFERENCE_REGEX.test(e)}function s(e){return"string"==typeof e&&t.CAIP_ACCOUNT_ADDRESS_REGEX.test(e)}function c(e){return"string"==typeof e&&t.CAIP_ASSET_NAMESPACE_REGEX.test(e)}function l(e){return"string"==typeof e&&t.CAIP_ASSET_REFERENCE_REGEX.test(e)}function u(e){return"string"==typeof e&&t.CAIP_TOKEN_ID_REGEX.test(e)}t.CAIP_CHAIN_ID_REGEX=/^(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})$/u,t.CAIP_NAMESPACE_REGEX=/^[-a-z0-9]{3,8}$/u,t.CAIP_REFERENCE_REGEX=/^[-_a-zA-Z0-9]{1,32}$/u,t.CAIP_ACCOUNT_ID_REGEX=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})):(?<accountAddress>[-.%a-zA-Z0-9]{1,128})$/u,t.CAIP_ACCOUNT_ADDRESS_REGEX=/^[-.%a-zA-Z0-9]{1,128}$/u,t.CAIP_ASSET_NAMESPACE_REGEX=/^[-a-z0-9]{3,8}$/u,t.CAIP_ASSET_REFERENCE_REGEX=/^[-.%a-zA-Z0-9]{1,128}$/u,t.CAIP_TOKEN_ID_REGEX=/^[-.%a-zA-Z0-9]{1,78}$/u,t.CAIP_ASSET_TYPE_REGEX=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})$/u,t.CAIP_ASSET_ID_REGEX=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})\/(?<tokenId>[-.%a-zA-Z0-9]{1,78})$/u,t.CaipChainIdStruct=(0,i.definePattern)("CaipChainId",t.CAIP_CHAIN_ID_REGEX),t.CaipNamespaceStruct=(0,i.definePattern)("CaipNamespace",t.CAIP_NAMESPACE_REGEX),t.CaipReferenceStruct=(0,i.definePattern)("CaipReference",t.CAIP_REFERENCE_REGEX),t.CaipAccountIdStruct=(0,i.definePattern)("CaipAccountId",t.CAIP_ACCOUNT_ID_REGEX),t.CaipAccountAddressStruct=(0,i.definePattern)("CaipAccountAddress",t.CAIP_ACCOUNT_ADDRESS_REGEX),t.CaipAssetNamespaceStruct=(0,i.definePattern)("CaipAssetNamespace",t.CAIP_ASSET_NAMESPACE_REGEX),t.CaipAssetReferenceStruct=(0,i.definePattern)("CaipAssetReference",t.CAIP_ASSET_REFERENCE_REGEX),t.CaipTokenIdStruct=(0,i.definePattern)("CaipTokenId",t.CAIP_TOKEN_ID_REGEX),t.CaipAssetTypeStruct=(0,i.definePattern)("CaipAssetType",t.CAIP_ASSET_TYPE_REGEX),t.CaipAssetIdStruct=(0,i.definePattern)("CaipAssetId",t.CAIP_ASSET_ID_REGEX),t.CaipAssetTypeOrIdStruct=(0,i.definePattern)("CaipAssetTypeOrId",/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})(\/(?<tokenId>[-.%a-zA-Z0-9]{1,78}))?$/u),(n=t.KnownCaipNamespace||(t.KnownCaipNamespace={})).Bip122="bip122",n.Solana="solana",n.Tron="tron",n.Eip155="eip155",n.Wallet="wallet",t.isCaipChainId=function(e){return"string"==typeof e&&t.CAIP_CHAIN_ID_REGEX.test(e)},t.isCaipNamespace=o,t.isCaipReference=a,t.isCaipAccountId=function(e){return"string"==typeof e&&t.CAIP_ACCOUNT_ID_REGEX.test(e)},t.isCaipAccountAddress=s,t.isCaipAssetNamespace=c,t.isCaipAssetReference=l,t.isCaipTokenId=u,t.isCaipAssetType=function(e){return"string"==typeof e&&t.CAIP_ASSET_TYPE_REGEX.test(e)},t.isCaipAssetId=function(e){return"string"==typeof e&&t.CAIP_ASSET_ID_REGEX.test(e)},t.parseCaipChainId=function(e){let r=t.CAIP_CHAIN_ID_REGEX.exec(e);if(!r?.groups)throw Error("Invalid CAIP chain ID.");return{namespace:r.groups.namespace,reference:r.groups.reference}},t.parseCaipAccountId=function(e){let r=t.CAIP_ACCOUNT_ID_REGEX.exec(e);if(!r?.groups)throw Error("Invalid CAIP account ID.");return{address:r.groups.accountAddress,chainId:r.groups.chainId,chain:{namespace:r.groups.namespace,reference:r.groups.reference}}},t.parseCaipAssetType=function(e){let r=t.CAIP_ASSET_TYPE_REGEX.exec(e);if(!r?.groups)throw Error("Invalid CAIP asset type.");return{assetNamespace:r.groups.assetNamespace,assetReference:r.groups.assetReference,chainId:r.groups.chainId,chain:{namespace:r.groups.namespace,reference:r.groups.reference}}},t.parseCaipAssetId=function(e){let r=t.CAIP_ASSET_ID_REGEX.exec(e);if(!r?.groups)throw Error("Invalid CAIP asset ID.");return{assetNamespace:r.groups.assetNamespace,assetReference:r.groups.assetReference,tokenId:r.groups.tokenId,chainId:r.groups.chainId,chain:{namespace:r.groups.namespace,reference:r.groups.reference}}},t.toCaipChainId=function(e,r){if(!o(e))throw Error(`Invalid "namespace", must match: ${t.CAIP_NAMESPACE_REGEX.toString()}`);if(!a(r))throw Error(`Invalid "reference", must match: ${t.CAIP_REFERENCE_REGEX.toString()}`);return`${e}:${r}`},t.toCaipAccountId=function(e,r,n){if(!o(e))throw Error(`Invalid "namespace", must match: ${t.CAIP_NAMESPACE_REGEX.toString()}`);if(!a(r))throw Error(`Invalid "reference", must match: ${t.CAIP_REFERENCE_REGEX.toString()}`);if(!s(n))throw Error(`Invalid "accountAddress", must match: ${t.CAIP_ACCOUNT_ADDRESS_REGEX.toString()}`);return`${e}:${r}:${n}`},t.toCaipAssetType=function(e,r,n,i){if(!o(e))throw Error(`Invalid "namespace", must match: ${t.CAIP_NAMESPACE_REGEX.toString()}`);if(!a(r))throw Error(`Invalid "reference", must match: ${t.CAIP_REFERENCE_REGEX.toString()}`);if(!c(n))throw Error(`Invalid "assetNamespace", must match: ${t.CAIP_ASSET_NAMESPACE_REGEX.toString()}`);if(!l(i))throw Error(`Invalid "assetReference", must match: ${t.CAIP_ASSET_REFERENCE_REGEX.toString()}`);return`${e}:${r}/${n}:${i}`},t.toCaipAssetId=function(e,r,n,i,s){if(!o(e))throw Error(`Invalid "namespace", must match: ${t.CAIP_NAMESPACE_REGEX.toString()}`);if(!a(r))throw Error(`Invalid "reference", must match: ${t.CAIP_REFERENCE_REGEX.toString()}`);if(!c(n))throw Error(`Invalid "assetNamespace", must match: ${t.CAIP_ASSET_NAMESPACE_REGEX.toString()}`);if(!l(i))throw Error(`Invalid "assetReference", must match: ${t.CAIP_ASSET_REFERENCE_REGEX.toString()}`);if(!u(s))throw Error(`Invalid "tokenId", must match: ${t.CAIP_TOKEN_ID_REGEX.toString()}`);return`${e}:${r}/${n}:${i}/${s}`}},26819:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChecksumStruct=void 0;let n=r(12776),i=r(34932);t.ChecksumStruct=(0,n.size)((0,i.base64)((0,n.string)(),{paddingRequired:!0}),44,44)},46262:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createHex=t.createBytes=t.createBigInt=t.createNumber=void 0;let n=r(12776),i=r(71794),o=r(15209),a=r(84460),s=(0,n.union)([(0,n.number)(),(0,n.bigint)(),(0,n.string)(),a.StrictHexStruct]),c=(0,n.coerce)((0,n.number)(),s,Number),l=(0,n.coerce)((0,n.bigint)(),s,BigInt);(0,n.union)([a.StrictHexStruct,(0,n.instance)(Uint8Array)]);let u=(0,n.coerce)((0,n.instance)(Uint8Array),(0,n.union)([a.StrictHexStruct]),o.hexToBytes),d=(0,n.coerce)(a.StrictHexStruct,(0,n.instance)(Uint8Array),o.bytesToHex);t.createNumber=function(e){try{let t=(0,n.create)(e,c);return(0,i.assert)(Number.isFinite(t),`Expected a number-like value, got "${e}".`),t}catch(t){if(t instanceof n.StructError)throw Error(`Expected a number-like value, got "${e}".`);throw t}},t.createBigInt=function(e){try{return(0,n.create)(e,l)}catch(e){if(e instanceof n.StructError)throw Error(`Expected a number-like value, got "${String(e.value)}".`);throw e}},t.createBytes=function(e){if("string"==typeof e&&"0x"===e.toLowerCase())return new Uint8Array;try{return(0,n.create)(e,u)}catch(e){if(e instanceof n.StructError)throw Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}},t.createHex=function(e){if(e instanceof Uint8Array&&0===e.length||"string"==typeof e&&"0x"===e.toLowerCase())return"0x";try{return(0,n.create)(e,d)}catch(e){if(e instanceof n.StructError)throw Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}}},24444:function(e,t){"use strict";var r,n,i=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},o=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r};Object.defineProperty(t,"__esModule",{value:!0}),t.FrozenSet=t.FrozenMap=void 0;class a{get size(){return i(this,r,"f").size}[(r=new WeakMap,Symbol.iterator)](){return i(this,r,"f")[Symbol.iterator]()}constructor(e){r.set(this,void 0),o(this,r,new Map(e),"f"),Object.freeze(this)}entries(){return i(this,r,"f").entries()}forEach(e,t){return i(this,r,"f").forEach((r,n,i)=>e.call(t,r,n,this))}get(e){return i(this,r,"f").get(e)}has(e){return i(this,r,"f").has(e)}keys(){return i(this,r,"f").keys()}values(){return i(this,r,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([e,t])=>`${String(e)} => ${String(t)}`).join(", ")} `:""}}`}}t.FrozenMap=a;class s{get size(){return i(this,n,"f").size}[(n=new WeakMap,Symbol.iterator)](){return i(this,n,"f")[Symbol.iterator]()}constructor(e){n.set(this,void 0),o(this,n,new Set(e),"f"),Object.freeze(this)}entries(){return i(this,n,"f").entries()}forEach(e,t){return i(this,n,"f").forEach((r,n,i)=>e.call(t,r,n,this))}has(e){return i(this,n,"f").has(e)}keys(){return i(this,n,"f").keys()}values(){return i(this,n,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(e=>String(e)).join(", ")} `:""}}`}}t.FrozenSet=s,Object.freeze(a),Object.freeze(a.prototype),Object.freeze(s),Object.freeze(s.prototype)},67770:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},46562:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wrapError=t.getErrorMessage=t.isErrorWithStack=t.isErrorWithMessage=t.isErrorWithCode=void 0;let n=r(76346),i=r(44607);function o(e){return"object"==typeof e&&null!==e&&"code"in e}function a(e){return"object"==typeof e&&null!==e&&"message"in e}t.isErrorWithCode=o,t.isErrorWithMessage=a,t.isErrorWithStack=function(e){return"object"==typeof e&&null!==e&&"stack"in e},t.getErrorMessage=function(e){return a(e)&&"string"==typeof e.message?e.message:(0,i.isNullOrUndefined)(e)?"":String(e)},t.wrapError=function(e,t){if(e instanceof Error||(0,i.isObject)(e)&&"Error"===e.constructor.name){let r;return r=2===Error.length?Error(t,{cause:e}):new n.ErrorWithCause(t,{cause:e}),o(e)&&(r.code=e.code),r}return t.length>0?Error(`${String(e)}: ${t}`):Error(String(e))}},2693:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha256=void 0;let n=r(89470);async function i(e){return"crypto"in globalThis&&"object"==typeof globalThis.crypto&&globalThis.crypto.subtle?.digest?new Uint8Array(await globalThis.crypto.subtle.digest("SHA-256",e)):(0,n.sha256)(e)}t.sha256=i},84460:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.remove0x=t.add0x=t.isValidHexAddress=t.isValidHexAddressUnmemoized=t.isValidChecksumAddress=t.isValidChecksumAddressUnmemoized=t.getChecksumAddress=t.getChecksumAddressUnmemoized=t.assertIsStrictHexString=t.assertIsHexString=t.isHexChecksumAddress=t.isHexAddress=t.isStrictHexString=t.isHexString=t.HexChecksumAddressStruct=t.HexAddressStruct=t.StrictHexStruct=t.HexStruct=void 0;let n=r(12776),i=r(32517),o=r(8946),a=r(71794),s=/^(?:0x)?[0-9a-f]+$/iu,c=/^0x[0-9a-f]+$/iu,l=/^0x[0-9a-f]{40}$/u,u=/^0x[0-9a-fA-F]{40}$/u;t.HexStruct=(0,n.pattern)((0,n.string)(),s),t.StrictHexStruct=(0,n.pattern)((0,n.string)(),c),t.HexAddressStruct=(0,n.pattern)((0,n.string)(),l),t.HexChecksumAddressStruct=(0,n.pattern)((0,n.string)(),u);let d=e=>"string"==typeof e;function f(e){return d(e)&&s.test(e)}function h(e){return d(e)&&c.test(e)}function p(e){return d(e)&&l.test(e)}function g(e){return d(e)&&u.test(e)}function m(e){(0,a.assert)(g(e),"Invalid hex address.");let t=w(e).toLowerCase(),r=(0,i.keccak_256)(t),{length:n}=t,o=Array(n);for(let e=0;e<n;e++){let n=e>>1,i=1&e,a=r[n],s=0===i?a>>4:15&a;o[e]=s>=8?t[e].toUpperCase():t[e]}return`0x${o.join("")}`}function y(e){return!!g(e)&&(0,t.getChecksumAddress)(e)===e}function b(e){return p(e)||(0,t.isValidChecksumAddress)(e)}function w(e){return e.startsWith("0x")||e.startsWith("0X")?e.substring(2):e}t.isHexString=f,t.isStrictHexString=h,t.isHexAddress=p,t.isHexChecksumAddress=g,t.assertIsHexString=function(e){(0,a.assert)(f(e),"Value must be a hexadecimal string.")},t.assertIsStrictHexString=function(e){(0,a.assert)(h(e),'Value must be a hexadecimal string, starting with "0x".')},t.getChecksumAddressUnmemoized=m,t.getChecksumAddress=(0,o.memoize)(m),t.isValidChecksumAddressUnmemoized=y,t.isValidChecksumAddress=(0,o.memoize)(y),t.isValidHexAddressUnmemoized=b,t.isValidHexAddress=(0,o.memoize)(b),t.add0x=function(e){return e.startsWith("0x")?e:e.startsWith("0X")?`0x${e.substring(2)}`:`0x${e}`},t.remove0x=w},60885:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.unitMap=t.getValueOfUnit=t.numberToString=t.fromWei=t.toWei=t.remove0x=t.add0x=t.isValidChecksumAddress=t.getChecksumAddress=t.isValidHexAddress=t.assertIsStrictHexString=t.assertIsHexString=t.isHexChecksumAddress=t.isHexAddress=t.isStrictHexString=t.isHexString=t.HexChecksumAddressStruct=t.HexAddressStruct=t.StrictHexStruct=t.HexStruct=void 0,i(r(71794),t),i(r(34932),t),i(r(15209),t),i(r(17433),t),i(r(26819),t),i(r(46262),t),i(r(24444),t),i(r(67770),t),i(r(46562),t),i(r(2693),t);var o=r(84460);Object.defineProperty(t,"HexStruct",{enumerable:!0,get:function(){return o.HexStruct}}),Object.defineProperty(t,"StrictHexStruct",{enumerable:!0,get:function(){return o.StrictHexStruct}}),Object.defineProperty(t,"HexAddressStruct",{enumerable:!0,get:function(){return o.HexAddressStruct}}),Object.defineProperty(t,"HexChecksumAddressStruct",{enumerable:!0,get:function(){return o.HexChecksumAddressStruct}}),Object.defineProperty(t,"isHexString",{enumerable:!0,get:function(){return o.isHexString}}),Object.defineProperty(t,"isStrictHexString",{enumerable:!0,get:function(){return o.isStrictHexString}}),Object.defineProperty(t,"isHexAddress",{enumerable:!0,get:function(){return o.isHexAddress}}),Object.defineProperty(t,"isHexChecksumAddress",{enumerable:!0,get:function(){return o.isHexChecksumAddress}}),Object.defineProperty(t,"assertIsHexString",{enumerable:!0,get:function(){return o.assertIsHexString}}),Object.defineProperty(t,"assertIsStrictHexString",{enumerable:!0,get:function(){return o.assertIsStrictHexString}}),Object.defineProperty(t,"isValidHexAddress",{enumerable:!0,get:function(){return o.isValidHexAddress}}),Object.defineProperty(t,"getChecksumAddress",{enumerable:!0,get:function(){return o.getChecksumAddress}}),Object.defineProperty(t,"isValidChecksumAddress",{enumerable:!0,get:function(){return o.isValidChecksumAddress}}),Object.defineProperty(t,"add0x",{enumerable:!0,get:function(){return o.add0x}}),Object.defineProperty(t,"remove0x",{enumerable:!0,get:function(){return o.remove0x}}),i(r(22729),t),i(r(19630),t),i(r(46024),t),i(r(44607),t),i(r(60739),t),i(r(54855),t),i(r(27910),t),i(r(12608),t),i(r(69351),t),i(r(95860),t),i(r(5502),t);var a=r(23390);Object.defineProperty(t,"toWei",{enumerable:!0,get:function(){return a.toWei}}),Object.defineProperty(t,"fromWei",{enumerable:!0,get:function(){return a.fromWei}}),Object.defineProperty(t,"numberToString",{enumerable:!0,get:function(){return a.numberToString}}),Object.defineProperty(t,"getValueOfUnit",{enumerable:!0,get:function(){return a.getValueOfUnit}}),Object.defineProperty(t,"unitMap",{enumerable:!0,get:function(){return a.unitMap}})},22729:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getJsonRpcIdValidator=t.assertIsJsonRpcError=t.isJsonRpcError=t.assertIsJsonRpcFailure=t.isJsonRpcFailure=t.assertIsJsonRpcSuccess=t.isJsonRpcSuccess=t.assertIsJsonRpcResponse=t.isJsonRpcResponse=t.assertIsPendingJsonRpcResponse=t.isPendingJsonRpcResponse=t.JsonRpcResponseStruct=t.JsonRpcFailureStruct=t.JsonRpcSuccessStruct=t.PendingJsonRpcResponseStruct=t.assertIsJsonRpcRequest=t.isJsonRpcRequest=t.assertIsJsonRpcNotification=t.isJsonRpcNotification=t.JsonRpcNotificationStruct=t.JsonRpcRequestStruct=t.JsonRpcParamsStruct=t.JsonRpcErrorStruct=t.JsonRpcIdStruct=t.JsonRpcVersionStruct=t.jsonrpc2=t.getJsonSize=t.getSafeJson=t.isValidJson=t.JsonStruct=t.UnsafeJsonStruct=t.exactOptional=t.object=void 0;let n=r(12776),i=r(71794),o=r(44607);function a({path:e,branch:t}){let r=e[e.length-1];return(0,o.hasProperty)(t[t.length-2],r)}function s(e){return new n.Struct({...e,type:`optional ${e.type}`,validator:(t,r)=>!a(r)||e.validator(t,r),refiner:(t,r)=>!a(r)||e.refiner(t,r)})}function c(e){return(0,n.create)(e,t.JsonStruct)}t.object=e=>(0,n.object)(e),t.exactOptional=s,t.UnsafeJsonStruct=(0,n.define)("JSON",e=>(function e(t){if(null===t||"boolean"==typeof t||"string"==typeof t||"number"==typeof t&&Number.isFinite(t))return!0;if("object"==typeof t){let r=!0;if(Array.isArray(t)){for(let n=0;n<t.length;n++)if(!e(t[n])){r=!1;break}return r}let n=Object.entries(t);for(let t=0;t<n.length;t++)if("string"!=typeof n[t][0]||!e(n[t][1])){r=!1;break}return r}return!1})(e)),t.JsonStruct=(0,n.coerce)(t.UnsafeJsonStruct,(0,n.refine)((0,n.any)(),"JSON",e=>(0,n.is)(e,t.UnsafeJsonStruct)),e=>JSON.parse(JSON.stringify(e,(e,t)=>{if("__proto__"!==e&&"constructor"!==e)return t}))),t.isValidJson=function(e){try{return c(e),!0}catch{return!1}},t.getSafeJson=c,t.getJsonSize=function(e){(0,i.assertStruct)(e,t.JsonStruct,"Invalid JSON value");let r=JSON.stringify(e);return new TextEncoder().encode(r).byteLength},t.jsonrpc2="2.0",t.JsonRpcVersionStruct=(0,n.literal)(t.jsonrpc2),t.JsonRpcIdStruct=(0,n.nullable)((0,n.union)([(0,n.number)(),(0,n.string)()])),t.JsonRpcErrorStruct=(0,t.object)({code:(0,n.integer)(),message:(0,n.string)(),data:s(t.JsonStruct),stack:s((0,n.string)())}),t.JsonRpcParamsStruct=(0,n.union)([(0,n.record)((0,n.string)(),t.JsonStruct),(0,n.array)(t.JsonStruct)]),t.JsonRpcRequestStruct=(0,t.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,method:(0,n.string)(),params:s(t.JsonRpcParamsStruct)}),t.JsonRpcNotificationStruct=(0,t.object)({jsonrpc:t.JsonRpcVersionStruct,method:(0,n.string)(),params:s(t.JsonRpcParamsStruct)}),t.isJsonRpcNotification=function(e){return(0,n.is)(e,t.JsonRpcNotificationStruct)},t.assertIsJsonRpcNotification=function(e,r){(0,i.assertStruct)(e,t.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",r)},t.isJsonRpcRequest=function(e){return(0,n.is)(e,t.JsonRpcRequestStruct)},t.assertIsJsonRpcRequest=function(e,r){(0,i.assertStruct)(e,t.JsonRpcRequestStruct,"Invalid JSON-RPC request",r)},t.PendingJsonRpcResponseStruct=(0,n.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:(0,n.optional)((0,n.unknown)()),error:(0,n.optional)(t.JsonRpcErrorStruct)}),t.JsonRpcSuccessStruct=(0,t.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:t.JsonStruct}),t.JsonRpcFailureStruct=(0,t.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,error:t.JsonRpcErrorStruct}),t.JsonRpcResponseStruct=(0,n.union)([t.JsonRpcSuccessStruct,t.JsonRpcFailureStruct]),t.isPendingJsonRpcResponse=function(e){return(0,n.is)(e,t.PendingJsonRpcResponseStruct)},t.assertIsPendingJsonRpcResponse=function(e,r){(0,i.assertStruct)(e,t.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",r)},t.isJsonRpcResponse=function(e){return(0,n.is)(e,t.JsonRpcResponseStruct)},t.assertIsJsonRpcResponse=function(e,r){(0,i.assertStruct)(e,t.JsonRpcResponseStruct,"Invalid JSON-RPC response",r)},t.isJsonRpcSuccess=function(e){return(0,n.is)(e,t.JsonRpcSuccessStruct)},t.assertIsJsonRpcSuccess=function(e,r){(0,i.assertStruct)(e,t.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",r)},t.isJsonRpcFailure=function(e){return(0,n.is)(e,t.JsonRpcFailureStruct)},t.assertIsJsonRpcFailure=function(e,r){(0,i.assertStruct)(e,t.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",r)},t.isJsonRpcError=function(e){return(0,n.is)(e,t.JsonRpcErrorStruct)},t.assertIsJsonRpcError=function(e,r){(0,i.assertStruct)(e,t.JsonRpcErrorStruct,"Invalid JSON-RPC error",r)},t.getJsonRpcIdValidator=function(e){let{permitEmptyString:t,permitFractions:r,permitNull:n}={permitEmptyString:!0,permitFractions:!1,permitNull:!0,...e};return e=>!!("number"==typeof e&&(r||Number.isInteger(e))||"string"==typeof e&&(t||e.length>0)||n&&null===e)}},19630:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},46024:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createModuleLogger=t.createProjectLogger=void 0;let i=(0,n(r(31464)).default)("metamask");t.createProjectLogger=function(e){return i.extend(e)},t.createModuleLogger=function(e,t){return e.extend(t)}},44607:function(e,t){"use strict";var r;function n(e){return 127>=e.charCodeAt(0)}Object.defineProperty(t,"__esModule",{value:!0}),t.calculateNumberSize=t.calculateStringSize=t.isASCII=t.isPlainObject=t.ESCAPE_CHARACTERS_REGEXP=t.JsonSize=t.getKnownPropertyNames=t.hasProperty=t.isObject=t.isNullOrUndefined=t.isNonEmptyArray=void 0,t.isNonEmptyArray=function(e){return Array.isArray(e)&&e.length>0},t.isNullOrUndefined=function(e){return null==e},t.isObject=function(e){return!!e&&"object"==typeof e&&!Array.isArray(e)},t.hasProperty=(e,t)=>Object.hasOwnProperty.call(e,t),t.getKnownPropertyNames=function(e){return Object.getOwnPropertyNames(e)},(r=t.JsonSize||(t.JsonSize={}))[r.Null=4]="Null",r[r.Comma=1]="Comma",r[r.Wrapper=1]="Wrapper",r[r.True=4]="True",r[r.False=5]="False",r[r.Quote=1]="Quote",r[r.Colon=1]="Colon",r[r.Date=24]="Date",t.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu,t.isPlainObject=function(e){if("object"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}},t.isASCII=n,t.calculateStringSize=function(e){return e.split("").reduce((e,t)=>n(t)?e+1:e+2,0)+(e.match(t.ESCAPE_CHARACTERS_REGEXP)??[]).length},t.calculateNumberSize=function(e){return e.toString().length}},60739:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hexToBigInt=t.hexToNumber=t.bigIntToHex=t.numberToHex=void 0;let n=r(71794),i=r(84460);t.numberToHex=e=>((0,n.assert)("number"==typeof e,"Value must be a number."),(0,n.assert)(e>=0,"Value must be a non-negative number."),(0,n.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,i.add0x)(e.toString(16))),t.bigIntToHex=e=>((0,n.assert)("bigint"==typeof e,"Value must be a bigint."),(0,n.assert)(e>=0,"Value must be a non-negative bigint."),(0,i.add0x)(e.toString(16))),t.hexToNumber=e=>{(0,i.assertIsHexString)(e);let t=parseInt(e,16);return(0,n.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `hexToBigInt` instead."),t},t.hexToBigInt=e=>((0,i.assertIsHexString)(e),BigInt((0,i.add0x)(e)))},54855:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},27910:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createDeferredPromise=void 0,t.createDeferredPromise=function({suppressUnhandledRejection:e=!1}={}){let t,r;let n=new Promise((e,n)=>{t=e,r=n});return e&&n.catch(e=>{}),{promise:n,resolve:t,reject:r}}},12608:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.definePattern=void 0;let n=r(12776);t.definePattern=function(e,t){return(0,n.define)(e,e=>"string"==typeof e&&t.test(e))}},69351:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.timeSince=t.inMilliseconds=t.Duration=void 0,(r=t.Duration||(t.Duration={}))[r.Millisecond=1]="Millisecond",r[r.Second=1e3]="Second",r[r.Minute=6e4]="Minute",r[r.Hour=36e5]="Hour",r[r.Day=864e5]="Day",r[r.Week=6048e5]="Week",r[r.Year=31536e6]="Year";let n=e=>Number.isInteger(e)&&e>=0,i=(e,t)=>{if(!n(e))throw Error(`"${t}" must be a non-negative integer. Received: "${e}".`)};t.inMilliseconds=function(e,t){return i(e,"count"),e*t},t.timeSince=function(e){return i(e,"timestamp"),Date.now()-e}},95860:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},23390:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toWei=t.fromWei=t.numberToString=t.getValueOfUnit=t.unitMap=t.numericToBigInt=void 0;let r=BigInt(0),n=BigInt(-1);function i(e){if("string"==typeof e||"number"==typeof e)return BigInt(e);if("bigint"==typeof e)return e;throw Error(`Cannot convert ${typeof e} to BigInt`)}t.numericToBigInt=i,t.unitMap={noether:"0",wei:"1",kwei:"1000",Kwei:"1000",babbage:"1000",femtoether:"1000",mwei:"1000000",Mwei:"1000000",lovelace:"1000000",picoether:"1000000",gwei:"1000000000",Gwei:"1000000000",shannon:"1000000000",nanoether:"1000000000",nano:"1000000000",szabo:"1000000000000",microether:"1000000000000",micro:"1000000000000",finney:"1000000000000000",milliether:"1000000000000000",milli:"1000000000000000",ether:"1000000000000000000",kether:"1000000000000000000000",grand:"1000000000000000000000",mether:"1000000000000000000000000",gether:"1000000000000000000000000000",tether:"1000000000000000000000000000000"};let o=Object.fromEntries(Object.entries(t.unitMap).map(([e,t])=>[e,BigInt(t)])),a=Object.fromEntries(Object.entries(t.unitMap).map(([e,t])=>[e,t.length-1||1])),s=/^-?[0-9.]+$/u,c=/^([0-9]*[1-9]|0)(0*)/u,l=/\B(?=(\d{3})+(?!\d))/gu;function u(e){if("string"==typeof e){if(!s.test(e))throw Error(`while converting number to string, invalid number value '${e}', should be a number matching (^-?[0-9.]+).`);return e}if("number"==typeof e)return String(e);if("bigint"==typeof e)return e.toString();throw Error(`while converting number to string, invalid number value '${String(e)}' type ${typeof e}.`)}t.getValueOfUnit=function(e="ether"){let r=o[e.toLowerCase()];if(void 0===r)throw Error(`The unit provided ${e} doesn't exist, please use the one of the following units ${JSON.stringify(t.unitMap,null,2)}`);return r},t.numberToString=u,t.fromWei=function(e,s,u){let d=i(e),f=d<r,h=s.toLowerCase(),p=o[h],g=a[h],m=u??{};if(void 0===p)throw Error(`The unit provided ${s} doesn't exist, please use the one of the following units ${JSON.stringify(t.unitMap,null,2)}`);if(p===r)return f?"-0":"0";f&&(d*=n);let y=(d%p).toString();if(y=y.padStart(g,"0"),!m.pad){let e=y.match(c);y=e?.[1]??"0"}let b=(d/p).toString();m.commify&&(b=b.replace(l,","));let w=`${b}${"0"===y?"":`.${y}`}`;return f&&(w=`-${w}`),w},t.toWei=function(e,i){let s=i.toLowerCase(),c=o[s],l=a[s];if(void 0===c)throw Error(`The unit provided ${i} doesn't exist, please use the one of the following units ${JSON.stringify(t.unitMap,null,2)}`);if(c===r)return r;if("bigint"==typeof e&&"wei"===s)return e;if("bigint"==typeof e)return e*c;let d=u(e),f=d.startsWith("-");if(f&&(d=d.substring(1)),"."===d)throw Error(`While converting number ${e} to wei, invalid value`);let h=d.split(".");if(h.length>2)throw Error(`While converting number ${e} to wei,  too many decimal points`);let p=h[0],g=h[1];if(p||(p="0"),g||(g="0"),g.length>l)throw Error(`While converting number ${e} to wei, too many decimal places`);g=g.padEnd(l,"0");let m=BigInt(p)*c+BigInt(g);return f&&(m*=n),m}},5502:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.satisfiesVersionRange=t.gtRange=t.gtVersion=t.assertIsSemVerRange=t.assertIsSemVerVersion=t.isValidSemVerRange=t.isValidSemVerVersion=t.VersionRangeStruct=t.VersionStruct=void 0;let n=r(12776),i=r(67374),o=r(71794);t.VersionStruct=(0,n.refine)((0,n.string)(),"Version",e=>null!==(0,i.valid)(e)||`Expected SemVer version, got "${e}"`),t.VersionRangeStruct=(0,n.refine)((0,n.string)(),"Version range",e=>null!==(0,i.validRange)(e)||`Expected SemVer range, got "${e}"`),t.isValidSemVerVersion=function(e){return(0,n.is)(e,t.VersionStruct)},t.isValidSemVerRange=function(e){return(0,n.is)(e,t.VersionRangeStruct)},t.assertIsSemVerVersion=function(e){(0,o.assertStruct)(e,t.VersionStruct)},t.assertIsSemVerRange=function(e){(0,o.assertStruct)(e,t.VersionRangeStruct)},t.gtVersion=function(e,t){return(0,i.gt)(e,t)},t.gtRange=function(e,t){return(0,i.gtr)(e,t)},t.satisfiesVersionRange=function(e,t){return(0,i.satisfies)(e,t,{includePrerelease:!0})}},24258:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StructError=void 0;class r extends TypeError{constructor(e,t){let r;let{message:n,explanation:i,...o}=e,{path:a}=e,s=0===a.length?n:`At path: ${a.join(".")} -- ${n}`;super(i??s),null!=i&&(this.cause=s),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}t.StructError=r},12776:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(24258),t),i(r(72561),t),i(r(19043),t),i(r(87450),t),i(r(93272),t),i(r(74597),t)},72561:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validate=t.is=t.mask=t.create=t.assert=t.ExactOptionalStruct=t.Struct=void 0;let n=r(24258),i=r(40629);class o{constructor(e){let{type:t,schema:r,validator:n,refiner:o,coercer:a=e=>e,entries:s=function*(){}}=e;this.type=t,this.schema=r,this.entries=s,this.coercer=a,n?this.validator=(e,t)=>{let r=n(e,t);return(0,i.toFailures)(r,t,this,e)}:this.validator=()=>[],o?this.refiner=(e,t)=>{let r=o(e,t);return(0,i.toFailures)(r,t,this,e)}:this.refiner=()=>[]}assert(e,t){return c(e,this,t)}create(e,t){return l(e,this,t)}is(e){return d(e,this)}mask(e,t){return u(e,this,t)}validate(e,t={}){return f(e,this,t)}}t.Struct=o;let a="EXACT_OPTIONAL";class s extends o{constructor(e){super({...e,type:`exact optional ${e.type}`}),this.brand=a}static isExactOptional(e){return(0,i.isObject)(e)&&"brand"in e&&e.brand===a}}function c(e,t,r){let n=f(e,t,{message:r});if(n[0])throw n[0]}function l(e,t,r){let n=f(e,t,{coerce:!0,message:r});if(!n[0])return n[1];throw n[0]}function u(e,t,r){let n=f(e,t,{coerce:!0,mask:!0,message:r});if(!n[0])return n[1];throw n[0]}function d(e,t){return!f(e,t)[0]}function f(e,t,r={}){let o=(0,i.run)(e,t,r),a=(0,i.shiftIterator)(o);return a[0]?[new n.StructError(a[0],function*(){for(let e of o)e[0]&&(yield e[0])}),void 0]:[void 0,a[1]]}t.ExactOptionalStruct=s,t.assert=c,t.create=l,t.mask=u,t.is=d,t.validate=f},19043:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trimmed=t.defaulted=t.coerce=void 0;let n=r(72561),i=r(40629),o=r(93272);function a(e,t,r){return new n.Struct({...e,coercer:(i,o)=>(0,n.is)(i,t)?e.coercer(r(i,o),o):e.coercer(i,o)})}t.coerce=a,t.defaulted=function(e,t,r={}){return a(e,(0,o.unknown)(),e=>{let n="function"==typeof t?t():t;if(void 0===e)return n;if(!r.strict&&(0,i.isPlainObject)(e)&&(0,i.isPlainObject)(n)){let t={...e},r=!1;for(let e in n)void 0===t[e]&&(t[e]=n[e],r=!0);if(r)return t}return e})},t.trimmed=function(e){return a(e,(0,o.string)(),e=>e.trim())}},87450:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.refine=t.size=t.pattern=t.nonempty=t.min=t.max=t.empty=void 0;let n=r(72561),i=r(40629);function o(e){return e instanceof Map||e instanceof Set?e.size:e.length}function a(e,t,r){return new n.Struct({...e,*refiner(n,o){yield*e.refiner(n,o);let a=r(n,o);for(let r of(0,i.toFailures)(a,o,e,n))yield{...r,refinement:t}}})}t.empty=function(e){return a(e,"empty",t=>{let r=o(t);return 0===r||`Expected an empty ${e.type} but received one with a size of \`${r}\``})},t.max=function(e,t,r={}){let{exclusive:n}=r;return a(e,"max",r=>n?r<t:r<=t||`Expected a ${e.type} less than ${n?"":"or equal to "}${t} but received \`${r}\``)},t.min=function(e,t,r={}){let{exclusive:n}=r;return a(e,"min",r=>n?r>t:r>=t||`Expected a ${e.type} greater than ${n?"":"or equal to "}${t} but received \`${r}\``)},t.nonempty=function(e){return a(e,"nonempty",t=>o(t)>0||`Expected a nonempty ${e.type} but received an empty one`)},t.pattern=function(e,t){return a(e,"pattern",r=>t.test(r)||`Expected a ${e.type} matching \`/${t.source}/\` but received "${r}"`)},t.size=function(e,t,r=t){let n=`Expected a ${e.type}`,i=t===r?`of \`${t}\``:`between \`${t}\` and \`${r}\``;return a(e,"size",e=>{if("number"==typeof e||e instanceof Date)return t<=e&&e<=r||`${n} ${i} but received \`${e}\``;if(e instanceof Map||e instanceof Set){let{size:o}=e;return t<=o&&o<=r||`${n} with a size ${i} but received one with a size of \`${o}\``}let{length:o}=e;return t<=o&&o<=r||`${n} with a length ${i} but received one with a length of \`${o}\``})},t.refine=a},93272:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unknown=t.union=t.type=t.tuple=t.string=t.set=t.regexp=t.record=t.exactOptional=t.optional=t.object=t.number=t.nullable=t.never=t.map=t.literal=t.intersection=t.integer=t.instance=t.func=t.enums=t.date=t.boolean=t.bigint=t.array=t.any=void 0;let n=r(72561),i=r(40629),o=r(74597);function a(){return(0,o.define)("never",()=>!1)}t.any=function(){return(0,o.define)("any",()=>!0)},t.array=function(e){return new n.Struct({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(let[r,n]of t.entries())yield[r,n,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${(0,i.print)(e)}`})},t.bigint=function(){return(0,o.define)("bigint",e=>"bigint"==typeof e)},t.boolean=function(){return(0,o.define)("boolean",e=>"boolean"==typeof e)},t.date=function(){return(0,o.define)("date",e=>e instanceof Date&&!isNaN(e.getTime())||`Expected a valid \`Date\` object, but received: ${(0,i.print)(e)}`)},t.enums=function(e){let t={},r=e.map(e=>(0,i.print)(e)).join();for(let r of e)t[r]=r;return new n.Struct({type:"enums",schema:t,validator:t=>e.includes(t)||`Expected one of \`${r}\`, but received: ${(0,i.print)(t)}`})},t.func=function(){return(0,o.define)("func",e=>"function"==typeof e||`Expected a function, but received: ${(0,i.print)(e)}`)},t.instance=function(e){return(0,o.define)("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${(0,i.print)(t)}`)},t.integer=function(){return(0,o.define)("integer",e=>"number"==typeof e&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${(0,i.print)(e)}`)},t.intersection=function(e){return new n.Struct({type:"intersection",schema:null,*entries(t,r){for(let{entries:n}of e)yield*n(t,r)},*validator(t,r){for(let{validator:n}of e)yield*n(t,r)},*refiner(t,r){for(let{refiner:n}of e)yield*n(t,r)}})},t.literal=function(e){let t=(0,i.print)(e),r=typeof e;return new n.Struct({type:"literal",schema:"string"===r||"number"===r||"boolean"===r?e:null,validator:r=>r===e||`Expected the literal \`${t}\`, but received: ${(0,i.print)(r)}`})},t.map=function(e,t){return new n.Struct({type:"map",schema:null,*entries(r){if(e&&t&&r instanceof Map)for(let[n,i]of r.entries())yield[n,n,e],yield[n,i,t]},coercer:e=>e instanceof Map?new Map(e):e,validator:e=>e instanceof Map||`Expected a \`Map\` object, but received: ${(0,i.print)(e)}`})},t.never=a,t.nullable=function(e){return new n.Struct({...e,validator:(t,r)=>null===t||e.validator(t,r),refiner:(t,r)=>null===t||e.refiner(t,r)})},t.number=function(){return(0,o.define)("number",e=>"number"==typeof e&&!isNaN(e)||`Expected a number, but received: ${(0,i.print)(e)}`)},t.object=function(e){let t=e?Object.keys(e):[],r=a();return new n.Struct({type:"object",schema:e??null,*entries(o){if(e&&(0,i.isObject)(o)){let i=new Set(Object.keys(o));for(let r of t){i.delete(r);let t=e[r];(!n.ExactOptionalStruct.isExactOptional(t)||Object.prototype.hasOwnProperty.call(o,r))&&(yield[r,o[r],e[r]])}for(let e of i)yield[e,o[e],r]}},validator:e=>(0,i.isObject)(e)||`Expected an object, but received: ${(0,i.print)(e)}`,coercer:e=>(0,i.isObject)(e)?{...e}:e})},t.optional=function(e){return new n.Struct({...e,validator:(t,r)=>void 0===t||e.validator(t,r),refiner:(t,r)=>void 0===t||e.refiner(t,r)})},t.exactOptional=function(e){return new n.ExactOptionalStruct(e)},t.record=function(e,t){return new n.Struct({type:"record",schema:null,*entries(r){if((0,i.isObject)(r))for(let n in r){let i=r[n];yield[n,n,e],yield[n,i,t]}},validator:e=>(0,i.isObject)(e)||`Expected an object, but received: ${(0,i.print)(e)}`})},t.regexp=function(){return(0,o.define)("regexp",e=>e instanceof RegExp)},t.set=function(e){return new n.Struct({type:"set",schema:null,*entries(t){if(e&&t instanceof Set)for(let r of t)yield[r,r,e]},coercer:e=>e instanceof Set?new Set(e):e,validator:e=>e instanceof Set||`Expected a \`Set\` object, but received: ${(0,i.print)(e)}`})},t.string=function(){return(0,o.define)("string",e=>"string"==typeof e||`Expected a string, but received: ${(0,i.print)(e)}`)},t.tuple=function(e){let t=a();return new n.Struct({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){let n=Math.max(e.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],e[i]||t]}},validator:e=>Array.isArray(e)||`Expected an array, but received: ${(0,i.print)(e)}`})},t.type=function(e){let t=Object.keys(e);return new n.Struct({type:"type",schema:e,*entries(r){if((0,i.isObject)(r))for(let n of t)yield[n,r[n],e[n]]},validator:e=>(0,i.isObject)(e)||`Expected an object, but received: ${(0,i.print)(e)}`,coercer:e=>(0,i.isObject)(e)?{...e}:e})},t.union=function(e){let t=e.map(e=>e.type).join(" | ");return new n.Struct({type:"union",schema:null,coercer(t){for(let r of e){let[e,n]=r.validate(t,{coerce:!0});if(!e)return n}return t},validator(r,n){let o=[];for(let t of e){let[...e]=(0,i.run)(r,t,n),[a]=e;if(!a?.[0])return[];for(let[t]of e)t&&o.push(t)}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${(0,i.print)(r)}`,...o]}})},t.unknown=function(){return(0,o.define)("unknown",()=>!0)}},74597:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pick=t.partial=t.omit=t.lazy=t.dynamic=t.deprecated=t.define=t.assign=void 0;let n=r(72561),i=r(93272);t.assign=function(...e){let t=e[0]?.type==="type",r=Object.assign({},...e.map(({schema:e})=>e));return t?(0,i.type)(r):(0,i.object)(r)},t.define=function(e,t){return new n.Struct({type:e,schema:null,validator:t})},t.deprecated=function(e,t){return new n.Struct({...e,refiner:(t,r)=>void 0===t||e.refiner(t,r),validator:(r,n)=>void 0===r||(t(r,n),e.validator(r,n))})},t.dynamic=function(e){return new n.Struct({type:"dynamic",schema:null,*entries(t,r){let n=e(t,r);yield*n.entries(t,r)},validator:(t,r)=>e(t,r).validator(t,r),coercer:(t,r)=>e(t,r).coercer(t,r),refiner:(t,r)=>e(t,r).refiner(t,r)})},t.lazy=function(e){let t;return new n.Struct({type:"lazy",schema:null,*entries(r,n){t??(t=e()),yield*t.entries(r,n)},validator:(r,n)=>(t??(t=e()),t.validator(r,n)),coercer:(r,n)=>(t??(t=e()),t.coercer(r,n)),refiner:(r,n)=>(t??(t=e()),t.refiner(r,n))})},t.omit=function(e,t){let{schema:r}=e,n={...r};for(let e of t)delete n[e];return"type"===e.type?(0,i.type)(n):(0,i.object)(n)},t.partial=function(e){let t=e instanceof n.Struct,r=t?{...e.schema}:{...e};for(let e in r)r[e]=(0,i.optional)(r[e]);return t&&"type"===e.type?(0,i.type)(r):(0,i.object)(r)},t.pick=function(e,t){let{schema:r}=e,n={};for(let e of t)n[e]=r[e];return"type"===e.type?(0,i.type)(n):(0,i.object)(n)}},40629:function(e,t){"use strict";function r(e){return"object"==typeof e&&null!==e}function n(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function i(e,t,r,i){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});let{path:o,branch:a}=t,{type:s}=r,{refinement:c,message:l=`Expected a value of type \`${s}\`${c?` with refinement \`${c}\``:""}, but received: \`${n(i)}\``}=e;return{value:i,type:s,refinement:c,key:o[o.length-1],path:o,branch:a,...e,message:l}}Object.defineProperty(t,"__esModule",{value:!0}),t.run=t.toFailures=t.toFailure=t.shiftIterator=t.print=t.isPlainObject=t.isObject=void 0,t.isObject=r,t.isPlainObject=function(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;let t=Object.getPrototypeOf(e);return null===t||t===Object.prototype},t.print=n,t.shiftIterator=function(e){let{done:t,value:r}=e.next();return t?void 0:r},t.toFailure=i,t.toFailures=function*(e,t,n,o){var a;for(let s of(r(a=e)&&"function"==typeof a[Symbol.iterator]||(e=[e]),e)){let e=i(s,t,n,o);e&&(yield e)}},t.run=function* e(t,n,i={}){let{path:o=[],branch:a=[t],coerce:s=!1,mask:c=!1}=i,l={path:o,branch:a};if(s&&(t=n.coercer(t,l),c&&"type"!==n.type&&r(n.schema)&&r(t)&&!Array.isArray(t)))for(let e in t)void 0===n.schema[e]&&delete t[e];let u="valid";for(let e of n.validator(t,l))e.explanation=i.message,u="not_valid",yield[e,void 0];for(let[d,f,h]of n.entries(t,l))for(let n of e(f,h,{path:void 0===d?o:[...o,d],branch:void 0===d?a:[...a,f],coerce:s,mask:c,message:i.message}))n[0]?(u=null===n[0].refinement||void 0===n[0].refinement?"not_valid":"not_refined",yield[n[0],void 0]):s&&(f=n[1],void 0===d?t=f:t instanceof Map?t.set(d,f):t instanceof Set?t.add(f):r(t)&&(void 0!==f||d in t)&&(t[d]=f));if("not_valid"!==u)for(let e of n.refiner(t,l))e.explanation=i.message,u="not_refined",yield[e,void 0];"valid"===u&&(yield[void 0,t])}},36760:function(e,t){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=o(e,function(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)n.call(e,r)&&e[r]&&(t=o(t,r));return t}(r)))}return e}function o(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0!==(r=(function(){return i}).apply(t,[]))&&(e.exports=r)}()},78046:function(e,t,r){"use strict";var n=r(25566),i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{createFinalURL:()=>A,createPathBasedClient:()=>m,createQuerySerializer:()=>v,default:()=>f,defaultBodySerializer:()=>x,defaultPathSerializer:()=>E,mergeHeaders:()=>S,randomID:()=>d,removeTrailingSlash:()=>_,serializeArrayParam:()=>w,serializeObjectParam:()=>b,serializePrimitiveParam:()=>y,wrapAsPathBasedClient:()=>g}),e.exports=((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of a(t))s.call(e,c)||c===r||i(e,c,{get:()=>t[c],enumerable:!(n=o(t,c))||n.enumerable});return e})(i({},"__esModule",{value:!0}),c);var l=/\{[^{}]+\}/g,u=()=>"object"==typeof n&&Number.parseInt(n?.versions?.node?.substring(0,2))>=18&&n.versions.undici;function d(){return Math.random().toString(36).slice(2,11)}function f(e){let{baseUrl:t="",Request:r=globalThis.Request,fetch:n=globalThis.fetch,querySerializer:i,bodySerializer:o,headers:a,requestInitExt:s,...c}={...e};s=u()?s:void 0,t=_(t);let l=[];async function f(e,u){let f,h,p;let{baseUrl:g,fetch:m=n,Request:y=r,headers:b,params:w={},parseAs:E="json",querySerializer:I,bodySerializer:C=o??x,body:O,...P}=u||{},T=t;g&&(T=_(g)??t);let k="function"==typeof i?i:v(i);I&&(k="function"==typeof I?I:v({..."object"==typeof i?i:{},...I}));let N=void 0===O?void 0:C(O,S(a,b,w.header)),M=S(void 0===N||N instanceof FormData?{}:{"Content-Type":"application/json"},a,b,w.header),R={redirect:"follow",...c,...P,body:N,headers:M},D=new r(A(e,{baseUrl:T,params:w,querySerializer:k}),R);for(let e in P)e in D||(D[e]=P[e]);if(l.length){for(let t of(f=d(),h=Object.freeze({baseUrl:T,fetch:m,parseAs:E,querySerializer:k,bodySerializer:C}),l))if(t&&"object"==typeof t&&"function"==typeof t.onRequest){let n=await t.onRequest({request:D,schemaPath:e,params:w,options:h,id:f});if(n){if(n instanceof r)D=n;else if(n instanceof Response){p=n;break}else throw Error("onRequest: must return new Request() or Response() when modifying the request")}}}if(!p){try{p=await m(D,s)}catch(r){let t=r;if(l.length)for(let r=l.length-1;r>=0;r--){let n=l[r];if(n&&"object"==typeof n&&"function"==typeof n.onError){let r=await n.onError({request:D,error:t,schemaPath:e,params:w,options:h,id:f});if(r){if(r instanceof Response){t=void 0,p=r;break}if(r instanceof Error){t=r;continue}throw Error("onError: must return new Response() or instance of Error")}}}if(t)throw t}if(l.length)for(let t=l.length-1;t>=0;t--){let r=l[t];if(r&&"object"==typeof r&&"function"==typeof r.onResponse){let t=await r.onResponse({request:D,response:p,schemaPath:e,params:w,options:h,id:f});if(t){if(!(t instanceof Response))throw Error("onResponse: must return new Response() when modifying the response");p=t}}}}if(204===p.status||"HEAD"===D.method||"0"===p.headers.get("Content-Length"))return p.ok?{data:void 0,response:p}:{error:void 0,response:p};if(p.ok)return"stream"===E?{data:p.body,response:p}:{data:await p[E](),response:p};let L=await p.text();try{L=JSON.parse(L)}catch{}return{error:L,response:p}}return{request:(e,t,r)=>f(t,{...r,method:e.toUpperCase()}),GET:(e,t)=>f(e,{...t,method:"GET"}),PUT:(e,t)=>f(e,{...t,method:"PUT"}),POST:(e,t)=>f(e,{...t,method:"POST"}),DELETE:(e,t)=>f(e,{...t,method:"DELETE"}),OPTIONS:(e,t)=>f(e,{...t,method:"OPTIONS"}),HEAD:(e,t)=>f(e,{...t,method:"HEAD"}),PATCH:(e,t)=>f(e,{...t,method:"PATCH"}),TRACE:(e,t)=>f(e,{...t,method:"TRACE"}),use(...e){for(let t of e)if(t){if("object"!=typeof t||!("onRequest"in t||"onResponse"in t||"onError"in t))throw Error("Middleware must be an object with one of `onRequest()`, `onResponse() or `onError()`");l.push(t)}},eject(...e){for(let t of e){let e=l.indexOf(t);-1!==e&&l.splice(e,1)}}}}var h=class{constructor(e,t){this.client=e,this.url=t}GET=e=>this.client.GET(this.url,e);PUT=e=>this.client.PUT(this.url,e);POST=e=>this.client.POST(this.url,e);DELETE=e=>this.client.DELETE(this.url,e);OPTIONS=e=>this.client.OPTIONS(this.url,e);HEAD=e=>this.client.HEAD(this.url,e);PATCH=e=>this.client.PATCH(this.url,e);TRACE=e=>this.client.TRACE(this.url,e)},p=class{constructor(){this.client=null}get(e,t){let r=new h(e,t);return this.client[t]=r,r}};function g(e){let t=new p,r=new Proxy(e,t);function n(){}n.prototype=r;let i=new n;return t.client=i,i}function m(e){return g(f(e))}function y(e,t,r){if(null==t)return"";if("object"==typeof t)throw Error("Deeply-nested arrays/objects arent supported. Provide your own `querySerializer()` to handle these.");return`${e}=${r?.allowReserved===!0?t:encodeURIComponent(t)}`}function b(e,t,r){if(!t||"object"!=typeof t)return"";let n=[],i={simple:",",label:".",matrix:";"}[r.style]||"&";if("deepObject"!==r.style&&!1===r.explode){for(let e in t)n.push(e,!0===r.allowReserved?t[e]:encodeURIComponent(t[e]));let i=n.join(",");switch(r.style){case"form":return`${e}=${i}`;case"label":return`.${i}`;case"matrix":return`;${e}=${i}`;default:return i}}for(let i in t){let o="deepObject"===r.style?`${e}[${i}]`:i;n.push(y(o,t[i],r))}let o=n.join(i);return"label"===r.style||"matrix"===r.style?`${i}${o}`:o}function w(e,t,r){if(!Array.isArray(t))return"";if(!1===r.explode){let n={form:",",spaceDelimited:"%20",pipeDelimited:"|"}[r.style]||",",i=(!0===r.allowReserved?t:t.map(e=>encodeURIComponent(e))).join(n);switch(r.style){case"simple":return i;case"label":return`.${i}`;case"matrix":return`;${e}=${i}`;default:return`${e}=${i}`}}let n={simple:",",label:".",matrix:";"}[r.style]||"&",i=[];for(let n of t)"simple"===r.style||"label"===r.style?i.push(!0===r.allowReserved?n:encodeURIComponent(n)):i.push(y(e,n,r));return"label"===r.style||"matrix"===r.style?`${n}${i.join(n)}`:i.join(n)}function v(e){return function(t){let r=[];if(t&&"object"==typeof t)for(let n in t){let i=t[n];if(null!=i){if(Array.isArray(i)){if(0===i.length)continue;r.push(w(n,i,{style:"form",explode:!0,...e?.array,allowReserved:e?.allowReserved||!1}));continue}if("object"==typeof i){r.push(b(n,i,{style:"deepObject",explode:!0,...e?.object,allowReserved:e?.allowReserved||!1}));continue}r.push(y(n,i,e))}}return r.join("&")}}function E(e,t){let r=e;for(let n of e.match(l)??[]){let e=n.substring(1,n.length-1),i=!1,o="simple";if(e.endsWith("*")&&(i=!0,e=e.substring(0,e.length-1)),e.startsWith(".")?(o="label",e=e.substring(1)):e.startsWith(";")&&(o="matrix",e=e.substring(1)),!t||void 0===t[e]||null===t[e])continue;let a=t[e];if(Array.isArray(a)){r=r.replace(n,w(e,a,{style:o,explode:i}));continue}if("object"==typeof a){r=r.replace(n,b(e,a,{style:o,explode:i}));continue}if("matrix"===o){r=r.replace(n,`;${y(e,a)}`);continue}r=r.replace(n,"label"===o?`.${encodeURIComponent(a)}`:encodeURIComponent(a))}return r}function x(e,t){return e instanceof FormData?e:t&&"application/x-www-form-urlencoded"===(t.get instanceof Function?t.get("Content-Type")??t.get("content-type"):t["Content-Type"]??t["content-type"])?new URLSearchParams(e).toString():JSON.stringify(e)}function A(e,t){let r=`${t.baseUrl}${e}`;t.params?.path&&(r=E(r,t.params.path));let n=t.querySerializer(t.params.query??{});return n.startsWith("?")&&(n=n.substring(1)),n&&(r+=`?${n}`),r}function S(...e){let t=new Headers;for(let r of e)if(r&&"object"==typeof r)for(let[e,n]of r instanceof Headers?r.entries():Object.entries(r))if(null===n)t.delete(e);else if(Array.isArray(n))for(let r of n)t.append(e,r);else void 0!==n&&t.set(e,n);return t}function _(e){return e.endsWith("/")?e.substring(0,e.length-1):e}},56127:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,r){var i;return(i=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==n(i)?i:i+"")in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{Z:function(){return i}})},31686:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(56127);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}},58590:function(e,t,r){"use strict";r.d(t,{v4:function(){return a}});for(var n,i=256,o=[];i--;)o[i]=(i+256).toString(16).substring(1);function a(){var e,t=0,r="";if(!n||i+16>256){for(n=Array(t=256);t--;)n[t]=256*Math.random()|0;t=i=0}for(;t<16;t++)e=n[i+t],6==t?r+=o[15&e|64]:8==t?r+=o[63&e|128]:r+=o[e],1&t&&t>1&&t<11&&(r+="-");return i++,r}},96069:function(e,t,r){"use strict";r.d(t,{UN:function(){return x}});var n=r(18341),i=r(10662),o=r(33024),a=r(27665),s=r(81025);let c=BigInt(0),l=BigInt(1),u=BigInt(2),d=BigInt(8),f={zip215:!0},h=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),p=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),g=BigInt(0),m=BigInt(1),y=BigInt(2);BigInt(3);let b=BigInt(5),w=BigInt(8);function v(e,t){let r=(0,a.wQ)(t*t*t,h),n=function(e){let t=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),o=e*e%h*e%h,s=(0,a.oA)(o,y,h)*o%h,c=(0,a.oA)(s,m,h)*e%h,l=(0,a.oA)(c,b,h)*c%h,u=(0,a.oA)(l,t,h)*l%h,d=(0,a.oA)(u,r,h)*u%h,f=(0,a.oA)(d,n,h)*d%h,p=(0,a.oA)(f,i,h)*f%h,g=(0,a.oA)(p,i,h)*f%h,w=(0,a.oA)(g,t,h)*l%h;return{pow_p_5_8:(0,a.oA)(w,y,h)*e%h,b2:o}}(e*(0,a.wQ)(r*r*t,h)).pow_p_5_8,i=(0,a.wQ)(e*r*n,h),o=(0,a.wQ)(t*i*i,h),s=i,c=(0,a.wQ)(i*p,h),l=o===e,u=o===(0,a.wQ)(-e,h),d=o===(0,a.wQ)(-e*p,h);return l&&(i=s),(u||d)&&(i=c),(0,a.Tu)(i,h)&&(i=(0,a.wQ)(-i,h)),{isValid:l||u,value:i}}let E=(0,a.gN)(h,void 0,!0),x=function(e){let t=function(e){let t=(0,o.K)(e);return s.FF(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}(e),{Fp:r,n:n,prehash:i,hash:h,randomBytes:p,nByteLength:g,h:m}=t,y=u<<BigInt(8*g)-l,b=r.create,w=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:r.sqrt(e*r.inv(t))}}catch(e){return{isValid:!1,value:c}}}),v=t.adjustScalarBytes||(e=>e),E=t.domain||((e,t,r)=>{if(t.length||r)throw Error("Contexts/pre-hash are not supported");return e}),x=e=>"bigint"==typeof e&&c<e,A=(e,t)=>x(e)&&x(t)&&e<t,S=e=>e===c||A(e,y);function _(e,t){if(A(e,t))return e;throw Error(`Expected valid scalar < ${t}, got ${typeof e} ${e}`)}function I(e){return e===c?e:_(e,n)}let C=new Map;function O(e){if(!(e instanceof P))throw Error("ExtendedPoint expected")}class P{constructor(e,t,r,n){if(this.ex=e,this.ey=t,this.ez=r,this.et=n,!S(e))throw Error("x required");if(!S(t))throw Error("y required");if(!S(r))throw Error("z required");if(!S(n))throw Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof P)throw Error("extended point not allowed");let{x:t,y:r}=e||{};if(!S(t)||!S(r))throw Error("invalid affine point");return new P(t,r,l,b(t*r))}static normalizeZ(e){let t=r.invertBatch(e.map(e=>e.ez));return e.map((e,r)=>e.toAffine(t[r])).map(P.fromAffine)}_setWindowSize(e){this._WINDOW_SIZE=e,C.delete(this)}assertValidity(){let{a:e,d:r}=t;if(this.is0())throw Error("bad point: ZERO");let{ex:n,ey:i,ez:o,et:a}=this,s=b(n*n),c=b(i*i),l=b(o*o),u=b(l*l),d=b(s*e);if(b(l*b(d+c))!==b(u+b(r*b(s*c))))throw Error("bad point: equation left != right (1)");if(b(n*i)!==b(o*a))throw Error("bad point: equation left != right (2)")}equals(e){O(e);let{ex:t,ey:r,ez:n}=this,{ex:i,ey:o,ez:a}=e,s=b(t*a),c=b(i*n),l=b(r*a),u=b(o*n);return s===c&&l===u}is0(){return this.equals(P.ZERO)}negate(){return new P(b(-this.ex),this.ey,this.ez,b(-this.et))}double(){let{a:e}=t,{ex:r,ey:n,ez:i}=this,o=b(r*r),a=b(n*n),s=b(u*b(i*i)),c=b(e*o),l=r+n,d=b(b(l*l)-o-a),f=c+a,h=f-s,p=c-a,g=b(d*h),m=b(f*p),y=b(d*p);return new P(g,m,b(h*f),y)}add(e){O(e);let{a:r,d:n}=t,{ex:i,ey:o,ez:a,et:s}=this,{ex:l,ey:d,ez:f,et:h}=e;if(r===BigInt(-1)){let e=b((o-i)*(d+l)),t=b((o+i)*(d-l)),r=b(t-e);if(r===c)return this.double();let n=b(a*u*h),p=b(s*u*f),g=p+n,m=t+e,y=p-n,w=b(g*r),v=b(m*y),E=b(g*y);return new P(w,v,b(r*m),E)}let p=b(i*l),g=b(o*d),m=b(s*n*h),y=b(a*f),w=b((i+o)*(l+d)-p-g),v=y-m,E=y+m,x=b(g-r*p),A=b(w*v),S=b(E*x),_=b(w*x);return new P(A,S,b(v*E),_)}subtract(e){return this.add(e.negate())}wNAF(e){return N.wNAFCached(this,C,e,P.normalizeZ)}multiply(e){let{p:t,f:r}=this.wNAF(_(e,n));return P.normalizeZ([t,r])[0]}multiplyUnsafe(e){let t=I(e);return t===c?k:this.equals(k)||t===l?this:this.equals(T)?this.wNAF(t).p:N.unsafeLadder(this,t)}isSmallOrder(){return this.multiplyUnsafe(m).is0()}isTorsionFree(){return N.unsafeLadder(this,n).is0()}toAffine(e){let{ex:t,ey:n,ez:i}=this,o=this.is0();null==e&&(e=o?d:r.inv(i));let a=b(t*e),s=b(n*e),u=b(i*e);if(o)return{x:c,y:l};if(u!==l)throw Error("invZ was invalid");return{x:a,y:s}}clearCofactor(){let{h:e}=t;return e===l?this:this.multiplyUnsafe(e)}static fromHex(e,n=!1){let{d:i,a:o}=t,a=r.BYTES,u=(e=(0,s.ql)("pointHex",e,a)).slice(),d=e[a-1];u[a-1]=-129&d;let f=s.ty(u);f===c||(n?_(f,y):_(f,r.ORDER));let h=b(f*f),{isValid:p,value:g}=w(b(h-l),b(i*h-o));if(!p)throw Error("Point.fromHex: invalid y coordinate");let m=(g&l)===l,v=(128&d)!=0;if(!n&&g===c&&v)throw Error("Point.fromHex: x=0 and x_0=1");return v!==m&&(g=b(-g)),P.fromAffine({x:g,y:f})}static fromPrivateKey(e){return R(e).point}toRawBytes(){let{x:e,y:t}=this.toAffine(),n=s.S5(t,r.BYTES);return n[n.length-1]|=e&l?128:0,n}toHex(){return s.ci(this.toRawBytes())}}P.BASE=new P(t.Gx,t.Gy,l,b(t.Gx*t.Gy)),P.ZERO=new P(c,l,l,c);let{BASE:T,ZERO:k}=P,N=(0,o.M)(P,8*g);function M(e){var t;return t=s.ty(e),(0,a.wQ)(t,n)}function R(e){e=(0,s.ql)("private key",e,g);let t=(0,s.ql)("hashed private key",h(e),2*g),r=v(t.slice(0,g)),n=t.slice(g,2*g),i=M(r),o=T.multiply(i),a=o.toRawBytes();return{head:r,prefix:n,scalar:i,point:o,pointBytes:a}}function D(e=new Uint8Array,...t){return M(h(E(s.eV(...t),(0,s.ql)("context",e),!!i)))}return T._setWindowSize(8),{CURVE:t,getPublicKey:function(e){return R(e).pointBytes},sign:function(e,t,o={}){var c;e=(0,s.ql)("message",e),i&&(e=i(e));let{prefix:l,scalar:u,pointBytes:d}=R(t),f=D(o.context,l,e),h=T.multiply(f).toRawBytes(),p=(c=f+D(o.context,h,d,e)*u,(0,a.wQ)(c,n));I(p);let m=s.eV(h,s.S5(p,r.BYTES));return(0,s.ql)("result",m,2*g)},verify:function(e,t,n,o=f){let a,c,l;let{context:u,zip215:d}=o,h=r.BYTES;e=(0,s.ql)("signature",e,2*h),t=(0,s.ql)("message",t),i&&(t=i(t));let p=s.ty(e.slice(h,2*h));try{a=P.fromHex(n,d),c=P.fromHex(e.slice(0,h),d),l=T.multiplyUnsafe(p)}catch(e){return!1}if(!d&&a.isSmallOrder())return!1;let g=D(u,c.toRawBytes(),a.toRawBytes(),t);return c.add(a.multiplyUnsafe(g)).subtract(l).clearCofactor().equals(P.ZERO)},ExtendedPoint:P,utils:{getExtendedPublicKey:R,randomPrivateKey:()=>p(r.BYTES),precompute:(e=8,t=P.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}}({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:E,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:w,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:n.o,randomBytes:i.O6,adjustScalarBytes:function(e){return e[0]&=248,e[31]&=127,e[31]|=64,e},uvRatio:v});function A(e){if(!(e instanceof C))throw Error("RistrettoPoint expected")}let S=e=>v(m,e),_=e=>x.CURVE.Fp.create(null&bytesToNumberLE(e));function I(e){let{d:t}=x.CURVE,r=x.CURVE.Fp.ORDER,n=x.CURVE.Fp.create,i=n(null*e*e),o=n((i+m)*null),a=BigInt(-1),s=n((a-t*i)*n(i+t)),{isValid:c,value:l}=v(o,s),u=n(l*e);isNegativeLE(u,r)||(u=n(-u)),c||(l=u),c||(a=i);let d=n(a*(i-m)*null-s),f=l*l,h=n((l+l)*s),p=n(null*d),g=n(m-f),y=n(m+f);return new x.ExtendedPoint(n(h*y),n(g*p),n(p*y),n(h*g))}class C{constructor(e){this.ep=e}static fromAffine(e){return new C(x.ExtendedPoint.fromAffine(e))}static hashToCurve(e){let t=I(_((e=ensureBytes("ristrettoHash",e,64)).slice(0,32))),r=I(_(e.slice(32,64)));return new C(t.add(r))}static fromHex(e){e=ensureBytes("ristrettoHex",e,32);let{a:t,d:r}=x.CURVE,n=x.CURVE.Fp.ORDER,i=x.CURVE.Fp.create,o="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",a=_(e);if(!equalBytes(numberToBytesLE(a,32),e)||isNegativeLE(a,n))throw Error(o);let s=i(a*a),c=i(m+t*s),l=i(m-t*s),u=i(c*c),d=i(l*l),f=i(t*r*u-d),{isValid:h,value:p}=S(i(f*d)),y=i(p*l),b=i(p*y*f),w=i((a+a)*y);isNegativeLE(w,n)&&(w=i(-w));let v=i(c*b),E=i(w*v);if(!h||isNegativeLE(E,n)||v===g)throw Error(o);return new C(new x.ExtendedPoint(w,v,m,E))}toRawBytes(){let e,{ex:t,ey:r,ez:n,et:i}=this.ep,o=x.CURVE.Fp.ORDER,a=x.CURVE.Fp.create,s=a(a(n+r)*a(n-r)),c=a(t*r),l=a(c*c),{value:u}=S(a(s*l)),d=a(u*s),f=a(u*c),h=a(d*f*i);if(isNegativeLE(i*h,o)){let n=a(null*r),i=a(null*t);t=n,r=i,e=a(null*d)}else e=f;isNegativeLE(t*h,o)&&(r=a(-r));let p=a((n-r)*e);return isNegativeLE(p,o)&&(p=a(-p)),numberToBytesLE(p,32)}toHex(){return bytesToHex(this.toRawBytes())}toString(){return this.toHex()}equals(e){A(e);let{ex:t,ey:r}=this.ep,{ex:n,ey:i}=e.ep,o=x.CURVE.Fp.create,a=o(t*i)===o(r*n),s=o(r*i)===o(t*n);return a||s}add(e){return A(e),new C(this.ep.add(e.ep))}subtract(e){return A(e),new C(this.ep.subtract(e.ep))}multiply(e){return new C(this.ep.multiply(e))}multiplyUnsafe(e){return new C(this.ep.multiplyUnsafe(e))}double(){return new C(this.ep.double())}negate(){return new C(this.ep.negate())}}},8822:function(e,t,r){"use strict";function n([e,t]){return`${e}=${function e(t){return Array.isArray(t)?"%5B"+t.map(e).join("%2C%20")+"%5D":"bigint"==typeof t?`${t}n`:encodeURIComponent(String(null!=t&&null===Object.getPrototypeOf(t)?{...t}:t))}(t)}`}r.d(t,{GH:function(){return d},bP:function(){return l}});var i,o=class extends Error{cause=this.cause;context;constructor(...[e,t]){let r,i;if(t){let{cause:e,...n}=t;e&&(i={cause:e}),Object.keys(n).length>0&&(r=n)}super(function(e,t={}){{let r=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(r+=` '${btoa(Object.entries(t).map(n).join("&"))}'`),`${r}\``}}(e,r),i),this.context={__code:e,...r},this.name="SolanaError"}};function a(e){return"fixedSize"in e&&"number"==typeof e.fixedSize}var s=((i=s||{})[i.Little=0]="Little",i[i.Big=1]="Big",i);function c(e){return e?.endian!==1}var l=(e={})=>{var t,r;return Object.freeze({...r={fixedSize:(t={config:e,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,t,r)=>e.setBigUint64(0,BigInt(t),r),size:8}).size,write(e,r,n){t.range&&function(e,t,r,n){if(n<t||n>r)throw new o(8078011,{codecDescription:e,max:r,min:t,value:n})}(t.name,t.range[0],t.range[1],e);let i=new ArrayBuffer(t.size);return t.set(new DataView(i),e,c(t.config)),r.set(new Uint8Array(i),n),n+t.size}},encode:e=>{let t=new Uint8Array("fixedSize"in r?r.fixedSize:r.getSizeFromValue(e));return r.write(e,t,0),t}})},u=(e={})=>{var t,r;return Object.freeze({...r={fixedSize:(t={config:e,get:(e,t)=>e.getBigUint64(0,t),name:"u64",size:8}).size,read(e,r=0){!function(e,t,r=0){if(t.length-r<=0)throw new o(8078e3,{codecDescription:e})}(t.name,e,r),function(e,t,r,n=0){let i=r.length-n;if(i<t)throw new o(8078001,{bytesLength:i,codecDescription:e,expected:t})}(t.name,t.size,e,r);let n=new DataView(function(e,t,r){let n=e.byteOffset+(t??0),i=r??e.byteLength;return e.buffer.slice(n,n+i)}(e,r,t.size));return[t.get(n,c(t.config)),r+t.size]}},decode:(e,t=0)=>r.read(e,t)[0]})},d=(e={})=>(function(e,t){if(a(e)!==a(t))throw new o(8078004);if(a(e)&&a(t)&&e.fixedSize!==t.fixedSize)throw new o(8078005,{decoderFixedSize:t.fixedSize,encoderFixedSize:e.fixedSize});if(!a(e)&&!a(t)&&e.maxSize!==t.maxSize)throw new o(8078006,{decoderMaxSize:t.maxSize,encoderMaxSize:e.maxSize});return{...t,...e,decode:t.decode,encode:e.encode,read:t.read,write:e.write}})(l(e),u(e))},77684:function(e,t,r){"use strict";r.d(t,{G:function(){return n}});let n="solana:signAndSendTransaction"},34402:function(e,t,r){"use strict";r.d(t,{g:function(){return n}});let n="solana:signMessage"},10282:function(e,t,r){"use strict";r.d(t,{R:function(){return n}});let n="solana:signTransaction"},36154:function(e,t,r){"use strict";let n,i;r.d(t,{M:function(){return u}});var o,a=function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},s=function(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r};let c=new Set,l={};function u(){if(i||(i=Object.freeze({register:d,get:f,on:h}),"undefined"==typeof window))return i;let e=Object.freeze({register:d});try{window.addEventListener("wallet-standard:register-wallet",({detail:t})=>t(e))}catch(e){console.error("wallet-standard:register-wallet event listener could not be added\n",e)}try{window.dispatchEvent(new g(e))}catch(e){console.error("wallet-standard:app-ready event could not be dispatched\n",e)}return i}function d(...e){return(e=e.filter(e=>!c.has(e))).length?(e.forEach(e=>{n=void 0,c.add(e)}),l.register?.forEach(t=>p(()=>t(...e))),function(){e.forEach(e=>{n=void 0,c.delete(e)}),l.unregister?.forEach(t=>p(()=>t(...e)))}):()=>{}}function f(){return n||(n=[...c]),n}function h(e,t){return l[e]?.push(t)||(l[e]=[t]),function(){l[e]=l[e]?.filter(e=>t!==e)}}function p(e){try{e()}catch(e){console.error(e)}}class g extends Event{get detail(){return a(this,o,"f")}get type(){return"wallet-standard:app-ready"}constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),o.set(this,void 0),s(this,o,e,"f")}preventDefault(){throw Error("preventDefault cannot be called")}stopImmediatePropagation(){throw Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw Error("stopPropagation cannot be called")}}o=new WeakMap},59186:function(e,t,r){"use strict";r.d(t,{V:function(){return n}});let n="standard:connect"},36807:function(e,t,r){"use strict";r.d(t,{AWt:function(){return sv},$dT:function(){return sE},zl_:function(){return sx},_xQ:function(){return nv},O6B:function(){return cJ},rVF:function(){return sS},FpL:function(){return s_},E12:function(){return cd},ukW:function(){return cQ},gn4:function(){return nl},H1S:function(){return nn},IkP:function(){return oE},hFY:function(){return ni},hu8:function(){return c0},WGe:function(){return sN},xQU:function(){return sU},peR:function(){return sL},m$A:function(){return sO},vBi:function(){return s$},Spz:function(){return sB},HIp:function(){return sD},E0T:function(){return nd},P56:function(){return i2},GqV:function(){return ns},wvx:function(){return oy},$0m:function(){return r7},Z42:function(){return na},oIp:function(){return r9},Bvr:function(){return s6},Au2:function(){return sI},jdp:function(){return sC},guN:function(){return r$},iGn:function(){return i5},rhL:function(){return r5},DaH:function(){return r4},ouN:function(){return oS},bW6:function(){return np},NmC:function(){return og},kCb:function(){return cg},L9d:function(){return s5},Y31:function(){return oA},DJo:function(){return op},i5x:function(){return ca},OOD:function(){return cc},_fD:function(){return cs},Gpr:function(){return i6},hA9:function(){return o_},cOS:function(){return sW},_HE:function(){return sV},D6H:function(){return cm},waw:function(){return ng},xjP:function(){return i4},O4P:function(){return i3},TiP:function(){return i9},HhN:function(){return nh},YmJ:function(){return sP},rjm:function(){return sT},DtP:function(){return r1},YTu:function(){return cK},jUY:function(){return r3},rFo:function(){return cq},BwD:function(){return nu},sa_:function(){return r2},UGU:function(){return rQ},Ggh:function(){return cV},xWS:function(){return c_},b$m:function(){return r0},Ih8:function(){return cx},h1R:function(){return cI},h9F:function(){return ny},Q8x:function(){return sq},Hs$:function(){return sG},o8e:function(){return cw},qt8:function(){return cy},DdM:function(){return cC},H4H:function(){return cL},nfW:function(){return cj},Q01:function(){return cR},ing:function(){return ck},p8o:function(){return c$},B95:function(){return cz},alS:function(){return cF},L5o:function(){return cb},EJd:function(){return cD},Z26:function(){return cN},PMr:function(){return cM},hHR:function(){return cB},ONw:function(){return cH},naP:function(){return cT},JTI:function(){return cU},M_r:function(){return cv},jvJ:function(){return cS},KCv:function(){return nt},qJM:function(){return ox},wrP:function(){return cf},IPd:function(){return nr},cwA:function(){return rj},DQe:function(){return rU},iPz:function(){return nc},heJ:function(){return s3},WPw:function(){return r8},_vH:function(){return nw},uwg:function(){return cZ},k$y:function(){return nm},Llj:function(){return sF},ENt:function(){return sz},c4l:function(){return om},NbI:function(){return sH}});var n=r(25566),i=function(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},o=function(e,t,r){this.name=e,this.version=t,this.os=r,this.type="browser"},a=function(e){this.version=e,this.type="node",this.name="node",this.os=n.platform},s=function(e,t,r,n){this.name=e,this.version=t,this.os=r,this.bot=n,this.type="bot-device"},c=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},l=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},u=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,d=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],f=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]],h=r(40537),p=r(76454),g=r(3897);class m extends Error{constructor(e,t={}){let r=(()=>{if(t.cause instanceof m){if(t.cause.details)return t.cause.details;if(t.cause.shortMessage)return t.cause.shortMessage}return t.cause&&"details"in t.cause&&"string"==typeof t.cause.details?t.cause.details:t.cause?.message?t.cause.message:t.details})(),n=t.cause instanceof m&&t.cause.docsPath||t.docsPath,i=`https://oxlib.sh${n??""}`;super([e||"An error occurred.",...t.metaMessages?["",...t.metaMessages]:[],...r||n?["",r?`Details: ${r}`:void 0,n?`See: ${i}`:void 0]:[]].filter(e=>"string"==typeof e).join("\n"),t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"ox@0.1.1"}),this.cause=t.cause,this.details=r,this.docs=i,this.docsPath=n,this.shortMessage=e}walk(e){return function e(t,r){return r?.(t)?t:t&&"object"==typeof t&&"cause"in t&&t.cause?e(t.cause,r):r?null:t}(this,e)}}function y(e,t){if(I(e)>t)throw new T({givenSize:I(e),maxSize:t})}function b(e,t={}){let{dir:r,size:n=32}=t;if(0===n)return e;let i=e.replace("0x","");if(i.length>2*n)throw new N({size:Math.ceil(i.length/2),targetSize:n,type:"Hex"});return`0x${i["right"===r?"padEnd":"padStart"](2*n,"0")}`}function w(e,t,r){return JSON.stringify(e,(e,r)=>"function"==typeof t?t(e,r):"bigint"==typeof r?r.toString()+"#__bigint":r,r)}let v=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function E(e){return e instanceof Uint8Array?x(e):Array.isArray(e)?x(new Uint8Array(e)):e}function x(e,t={}){let r="";for(let t=0;t<e.length;t++)r+=v[e[t]];let n=`0x${r}`;return"number"==typeof t.size?(y(n,t.size),S(n,t.size)):n}function A(e,t={}){let r;let{signed:n,size:i}=t,o=BigInt(e);i?r=n?(1n<<8n*BigInt(i)-1n)-1n:2n**(8n*BigInt(i))-1n:"number"==typeof e&&(r=BigInt(Number.MAX_SAFE_INTEGER));let a="bigint"==typeof r&&n?-r-1n:0;if(r&&o>r||o<a){let t="bigint"==typeof e?"n":"";throw new C({max:r?`${r}${t}`:void 0,min:`${a}${t}`,signed:n,size:i,value:`${e}${t}`})}let s=(n&&o<0?(1n<<BigInt(8*i))+BigInt(o):o).toString(16),c=`0x${s}`;return i?b(c,{dir:"left",size:i}):c}function S(e,t){return b(e,{dir:"right",size:t})}function _(e,t,r,n={}){let{strict:i}=n;!function(e,t){if("number"==typeof t&&t>0&&t>I(e)-1)throw new k({offset:t,position:"start",size:I(e)})}(e,t);let o=`0x${e.replace("0x","").slice((t??0)*2,(r??e.length)*2)}`;return i&&function(e,t,r){if("number"==typeof t&&"number"==typeof r&&I(e)!==r-t)throw new k({offset:r,position:"end",size:I(e)})}(o,t,r),o}function I(e){return Math.ceil((e.length-2)/2)}class C extends m{constructor({max:e,min:t,signed:r,size:n,value:i}){super(`Number \`${i}\` is not in safe${n?` ${8*n}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${t}\` to \`${e}\`)`:`(above \`${t}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class O extends m{constructor(e){super(`Value \`${"object"==typeof e?w(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class P extends m{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class T extends m{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class k extends m{constructor({offset:e,position:t,size:r}){super(`Slice ${"start"===t?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class N extends m{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}class M extends m{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${I(E(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class R extends m{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class D extends m{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}let L="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function B(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function U(e,...t){if(!(e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function j(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function $(e,t){U(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}function F(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function z(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function q(e,t){return e<<32-t|e>>>t}let G=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]?e=>e:function(e){for(let r=0;r<e.length;r++){var t;e[r]=(t=e[r])<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}return e};function H(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}(e)),U(e),e}class V{}function W(e){let t=t=>e().update(H(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function Z(e=32){if(L&&"function"==typeof L.getRandomValues)return L.getRandomValues(new Uint8Array(e));if(L&&"function"==typeof L.randomBytes)return Uint8Array.from(L.randomBytes(e));throw Error("crypto.getRandomValues must be defined")}class K extends V{constructor(e,t,r,n){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.buffer=new Uint8Array(e),this.view=z(this.buffer)}update(e){j(this),U(e=H(e));let{view:t,buffer:r,blockLen:n}=this,i=e.length;for(let o=0;o<i;){let a=Math.min(n-this.pos,i-o);if(a===n){let t=z(e);for(;n<=i-o;o+=n)this.process(t,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){j(this),$(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:n,isLE:i}=this,{pos:o}=this;t[o++]=128,F(this.buffer.subarray(o)),this.padOffset>n-o&&(this.process(r,0),o=0);for(let e=o;e<n;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),o=BigInt(4294967295),a=Number(r>>i&o),s=Number(r&o),c=n?4:0,l=n?0:4;e.setUint32(t+c,a,n),e.setUint32(t+l,s,n)}(r,n-8,BigInt(8*this.length),i),this.process(r,0);let a=z(e),s=this.outputLen;if(s%4)throw Error("_sha2: outputLen should be aligned to 32bit");let c=s/4,l=this.get();if(c>l.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)a.setUint32(4*e,l[e],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=i,e.length=n,e.pos=a,n%t&&e.buffer.set(r),e}clone(){return this._cloneInto()}}let Y=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),J=BigInt(4294967296-1),X=BigInt(32);function Q(e,t=!1){let r=e.length,n=new Uint32Array(r),i=new Uint32Array(r);for(let o=0;o<r;o++){let{h:r,l:a}=function(e,t=!1){return t?{h:Number(e&J),l:Number(e>>X&J)}:{h:0|Number(e>>X&J),l:0|Number(e&J)}}(e[o],t);[n[o],i[o]]=[r,a]}return[n,i]}let ee=(e,t,r)=>e<<r|t>>>32-r,et=(e,t,r)=>t<<r|e>>>32-r,er=(e,t,r)=>t<<r-32|e>>>64-r,en=(e,t,r)=>e<<r-32|t>>>64-r,ei=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),eo=new Uint32Array(64);class ea extends K{constructor(e=32){super(64,e,8,!1),this.A=0|Y[0],this.B=0|Y[1],this.C=0|Y[2],this.D=0|Y[3],this.E=0|Y[4],this.F=0|Y[5],this.G=0|Y[6],this.H=0|Y[7]}get(){let{A:e,B:t,C:r,D:n,E:i,F:o,G:a,H:s}=this;return[e,t,r,n,i,o,a,s]}set(e,t,r,n,i,o,a,s){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|a,this.H=0|s}process(e,t){for(let r=0;r<16;r++,t+=4)eo[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=eo[e-15],r=eo[e-2],n=q(t,7)^q(t,18)^t>>>3,i=q(r,17)^q(r,19)^r>>>10;eo[e]=i+eo[e-7]+n+eo[e-16]|0}let{A:r,B:n,C:i,D:o,E:a,F:s,G:c,H:l}=this;for(let e=0;e<64;e++){var u,d,f,h;let t=l+(q(a,6)^q(a,11)^q(a,25))+((u=a)&s^~u&c)+ei[e]+eo[e]|0,p=(q(r,2)^q(r,13)^q(r,22))+((d=r)&(f=n)^d&(h=i)^f&h)|0;l=c,c=s,s=a,a=o+t|0,o=i,i=n,n=r,r=t+p|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,s=s+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(r,n,i,o,a,s,c,l)}roundClean(){F(eo)}destroy(){this.set(0,0,0,0,0,0,0,0),F(this.buffer)}}let es=Q(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e)));es[0],es[1];let ec=W(()=>new ea);class el extends V{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,function(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.createHasher");B(e.outputLen),B(e.blockLen)}(e);let r=H(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),F(i)}update(e){return j(this),this.iHash.update(e),this}digestInto(e){j(this),U(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:o,outputLen:a}=this;return e.finished=n,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let eu=(e,t,r)=>new el(e,t).update(r).digest();eu.create=(e,t)=>new el(e,t);let ed=BigInt(0),ef=BigInt(1);function eh(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function ep(e){if(!eh(e))throw Error("Uint8Array expected")}function eg(e,t){if("boolean"!=typeof t)throw Error(e+" boolean expected, got "+t)}function em(e){let t=e.toString(16);return 1&t.length?"0"+t:t}function ey(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return""===e?ed:BigInt("0x"+e)}let eb="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,ew=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function ev(e){if(ep(e),eb)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=ew[e[r]];return t}let eE={_0:48,_9:57,A:65,F:70,a:97,f:102};function ex(e){return e>=eE._0&&e<=eE._9?e-eE._0:e>=eE.A&&e<=eE.F?e-(eE.A-10):e>=eE.a&&e<=eE.f?e-(eE.a-10):void 0}function eA(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);if(eb)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=ex(e.charCodeAt(i)),o=ex(e.charCodeAt(i+1));if(void 0===r||void 0===o)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+o}return n}function eS(e){return ey(ev(e))}function e_(e){return ep(e),ey(ev(Uint8Array.from(e).reverse()))}function eI(e,t){return eA(e.toString(16).padStart(2*t,"0"))}function eC(e,t){return eI(e,t).reverse()}function eO(e,t,r){let n;if("string"==typeof t)try{n=eA(t)}catch(t){throw Error(e+" must be hex string or Uint8Array, cause: "+t)}else if(eh(t))n=Uint8Array.from(t);else throw Error(e+" must be hex string or Uint8Array");let i=n.length;if("number"==typeof r&&i!==r)throw Error(e+" of length "+r+" expected, got "+i);return n}function eP(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];ep(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}let eT=e=>"bigint"==typeof e&&ed<=e;function ek(e,t,r){return eT(e)&&eT(t)&&eT(r)&&t<=e&&e<r}function eN(e,t,r,n){if(!ek(t,r,n))throw Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}let eM=e=>(ef<<BigInt(e))-ef,eR=e=>new Uint8Array(e),eD=e=>Uint8Array.from(e),eL={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||eh(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function eB(e,t,r={}){let n=(t,r,n)=>{let i=eL[r];if("function"!=typeof i)throw Error("invalid validator function");let o=e[t];if((!n||void 0!==o)&&!i(o,e))throw Error("param "+String(t)+" is invalid. Expected "+r+", got "+o)};for(let[e,r]of Object.entries(t))n(e,r,!1);for(let[e,t]of Object.entries(r))n(e,t,!0);return e}function eU(e){let t=new WeakMap;return(r,...n)=>{let i=t.get(r);if(void 0!==i)return i;let o=e(r,...n);return t.set(r,o),o}}let ej=BigInt(0),e$=BigInt(1),eF=BigInt(2),ez=BigInt(3),eq=BigInt(4),eG=BigInt(5),eH=BigInt(8);function eV(e,t){let r=e%t;return r>=ej?r:t+r}function eW(e,t,r){let n=e;for(;t-- >ej;)n*=n,n%=r;return n}function eZ(e,t){if(e===ej)throw Error("invert: expected non-zero number");if(t<=ej)throw Error("invert: expected positive modulus, got "+t);let r=eV(e,t),n=t,i=ej,o=e$,a=e$,s=ej;for(;r!==ej;){let e=n/r,t=n%r,c=i-a*e,l=o-s*e;n=r,r=t,i=a,o=s,a=c,s=l}if(n!==e$)throw Error("invert: does not exist");return eV(i,t)}function eK(e,t){let r=(e.ORDER+e$)/eq,n=e.pow(t,r);if(!e.eql(e.sqr(n),t))throw Error("Cannot find square root");return n}function eY(e,t){let r=(e.ORDER-eG)/eH,n=e.mul(t,eF),i=e.pow(n,r),o=e.mul(t,i),a=e.mul(e.mul(o,eF),i),s=e.mul(o,e.sub(a,e.ONE));if(!e.eql(e.sqr(s),t))throw Error("Cannot find square root");return s}let eJ=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function eX(e,t,r=!1){let n=Array(t.length).fill(r?e.ZERO:void 0),i=t.reduce((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r)),e.ONE),o=e.inv(i);return t.reduceRight((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r)),o),n}function eQ(e,t){let r=(e.ORDER-e$)/eF,n=e.pow(t,r),i=e.eql(n,e.ONE),o=e.eql(n,e.ZERO),a=e.eql(n,e.neg(e.ONE));if(!i&&!o&&!a)throw Error("invalid Legendre symbol result");return i?1:o?0:-1}function e0(e,t){void 0!==t&&B(t);let r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function e1(e,t,r=!1,n={}){let i;if(e<=ej)throw Error("invalid field: expected ORDER > 0, got "+e);let{nBitLength:o,nByteLength:a}=e0(e,t);if(a>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let s=Object.freeze({ORDER:e,isLE:r,BITS:o,BYTES:a,MASK:eM(o),ZERO:ej,ONE:e$,create:t=>eV(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error("invalid field element: expected bigint, got "+typeof t);return ej<=t&&t<e},is0:e=>e===ej,isOdd:e=>(e&e$)===e$,neg:t=>eV(-t,e),eql:(e,t)=>e===t,sqr:t=>eV(t*t,e),add:(t,r)=>eV(t+r,e),sub:(t,r)=>eV(t-r,e),mul:(t,r)=>eV(t*r,e),pow:(e,t)=>(function(e,t,r){if(r<ej)throw Error("invalid exponent, negatives unsupported");if(r===ej)return e.ONE;if(r===e$)return t;let n=e.ONE,i=t;for(;r>ej;)r&e$&&(n=e.mul(n,i)),i=e.sqr(i),r>>=e$;return n})(s,e,t),div:(t,r)=>eV(t*eZ(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>eZ(t,e),sqrt:n.sqrt||(t=>(!i&&(i=e%eq===ez?eK:e%eH===eG?eY:function(e){if(e<BigInt(3))throw Error("sqrt is not defined for small field");let t=e-e$,r=0;for(;t%eF===ej;)t/=eF,r++;let n=eF,i=e1(e);for(;1===eQ(i,n);)if(n++>1e3)throw Error("Cannot find square root: probably non-prime P");if(1===r)return eK;let o=i.pow(n,t),a=(t+e$)/eF;return function(e,n){if(e.is0(n))return n;if(1!==eQ(e,n))throw Error("Cannot find square root");let i=r,s=e.mul(e.ONE,o),c=e.pow(n,t),l=e.pow(n,a);for(;!e.eql(c,e.ONE);){if(e.is0(c))return e.ZERO;let t=1,r=e.sqr(c);for(;!e.eql(r,e.ONE);)if(t++,r=e.sqr(r),t===i)throw Error("Cannot find square root");let n=e$<<BigInt(i-t-1),o=e.pow(s,n);i=t,s=e.sqr(o),c=e.mul(c,s),l=e.mul(l,o)}return l}}(e)),i(s,t))),toBytes:e=>r?eC(e,a):eI(e,a),fromBytes:e=>{if(e.length!==a)throw Error("Field.fromBytes: expected "+a+" bytes, got "+e.length);return r?e_(e):eS(e)},invertBatch:e=>eX(s,e),cmov:(e,t,r)=>r?t:e});return Object.freeze(s)}function e2(e){if("bigint"!=typeof e)throw Error("field order must be bigint");return Math.ceil(e.toString(2).length/8)}function e3(e){let t=e2(e);return t+Math.ceil(t/2)}let e6=BigInt(0),e5=BigInt(1);function e8(e,t){let r=t.negate();return e?r:t}function e4(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw Error("invalid window size, expected [1.."+t+"], got W="+e)}function e9(e,t){e4(e,t);let r=Math.ceil(t/e)+1,n=2**(e-1),i=2**e;return{windows:r,windowSize:n,mask:eM(e),maxNumber:i,shiftBy:BigInt(e)}}function e7(e,t,r){let{windowSize:n,mask:i,maxNumber:o,shiftBy:a}=r,s=Number(e&i),c=e>>a;s>n&&(s-=o,c+=e5);let l=t*n,u=l+Math.abs(s)-1;return{nextN:c,offset:u,isZero:0===s,isNeg:s<0,isNegF:t%2!=0,offsetF:l}}let te=new WeakMap,tt=new WeakMap;function tr(e){return tt.get(e)||1}function tn(e){return eB(e.Fp,eJ.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),eB(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...e0(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function ti(e){void 0!==e.lowS&&eg("lowS",e.lowS),void 0!==e.prehash&&eg("prehash",e.prehash)}class to extends Error{constructor(e=""){super(e)}}let ta={Err:to,_tlv:{encode:(e,t)=>{let{Err:r}=ta;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");let n=t.length/2,i=em(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");let o=n>127?em(i.length/2|128):"";return em(e)+o+i+t},decode(e,t){let{Err:r}=ta,n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");let i=t[n++],o=0;if(128&i){let e=127&i;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");let a=t.subarray(n,n+e);if(a.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===a[0])throw new r("tlv.decode(long): zero leftmost byte");for(let e of a)o=o<<8|e;if(n+=e,o<128)throw new r("tlv.decode(long): not minimal encoding")}else o=i;let a=t.subarray(n,n+o);if(a.length!==o)throw new r("tlv.decode: wrong value length");return{v:a,l:t.subarray(n+o)}}},_int:{encode(e){let{Err:t}=ta;if(e<ts)throw new t("integer: negative integers are not allowed");let r=em(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){let{Err:t}=ta;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return eS(e)}},toSig(e){let{Err:t,_int:r,_tlv:n}=ta,i=eO("signature",e),{v:o,l:a}=n.decode(48,i);if(a.length)throw new t("invalid signature: left bytes after parsing");let{v:s,l:c}=n.decode(2,o),{v:l,l:u}=n.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(s),s:r.decode(l)}},hexFromSig(e){let{_tlv:t,_int:r}=ta,n=t.encode(2,r.encode(e.r)),i=t.encode(2,r.encode(e.s));return t.encode(48,n+i)}},ts=BigInt(0),tc=BigInt(1),tl=(BigInt(2),BigInt(3)),tu=BigInt(4),td=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),tf=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),th=BigInt(0),tp=BigInt(1),tg=BigInt(2),tm=(e,t)=>(e+t/tg)/t,ty=e1(td,void 0,void 0,{sqrt:function(e){let t=BigInt(3),r=BigInt(6),n=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),s=BigInt(88),c=e*e*e%td,l=c*c*e%td,u=eW(l,t,td)*l%td,d=eW(u,t,td)*l%td,f=eW(d,tg,td)*c%td,h=eW(f,n,td)*f%td,p=eW(h,i,td)*h%td,g=eW(p,a,td)*p%td,m=eW(g,s,td)*g%td,y=eW(m,a,td)*p%td,b=eW(y,t,td)*l%td,w=eW(b,o,td)*h%td,v=eW(w,r,td)*c%td,E=eW(v,tg,td);if(!ty.eql(ty.sqr(E),e))throw Error("Cannot find square root");return E}}),tb=function(e,t){let r=t=>(function(e){let t=function(e){let t=tn(e);return eB(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:r,n:n,nByteLength:i,nBitLength:o}=t,a=r.BYTES+1,s=2*r.BYTES+1;function c(e){return eV(e,n)}let{ProjectivePoint:l,normPrivateKeyToScalar:u,weierstrassEquation:d,isWithinCurveOrder:f}=function(e){var t;let r=function(e){let t=tn(e);eB(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});let{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw Error("invalid endo: CURVE.a must be 0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}(e),{Fp:n}=r,i=e1(r.n,r.nBitLength),o=r.toBytes||((e,t,r)=>{let i=t.toAffine();return eP(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),a=r.fromBytes||(e=>{let t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function s(e){let{a:t,b:i}=r,o=n.sqr(e),a=n.mul(o,e);return n.add(n.add(a,n.mul(e,t)),i)}function c(e,t){let r=n.sqr(t),i=s(e);return n.eql(r,i)}if(!c(r.Gx,r.Gy))throw Error("bad curve params: generator point");let l=n.mul(n.pow(r.a,tl),tu),u=n.mul(n.sqr(r.b),BigInt(27));if(n.is0(n.add(l,u)))throw Error("bad curve params: a or b");function d(e){let t;let{allowedPrivateKeyLengths:n,nByteLength:i,wrapPrivateKey:o,n:a}=r;if(n&&"bigint"!=typeof e){if(eh(e)&&(e=ev(e)),"string"!=typeof e||!n.includes(e.length))throw Error("invalid private key");e=e.padStart(2*i,"0")}try{t="bigint"==typeof e?e:eS(eO("private key",e,i))}catch(t){throw Error("invalid private key, expected hex or "+i+" bytes, got "+typeof e)}return o&&(t=eV(t,a)),eN("private key",t,tc,a),t}function f(e){if(!(e instanceof g))throw Error("ProjectivePoint expected")}let h=eU((e,t)=>{let{px:r,py:i,pz:o}=e;if(n.eql(o,n.ONE))return{x:r,y:i};let a=e.is0();null==t&&(t=a?n.ONE:n.inv(o));let s=n.mul(r,t),c=n.mul(i,t),l=n.mul(o,t);if(a)return{x:n.ZERO,y:n.ZERO};if(!n.eql(l,n.ONE))throw Error("invZ was invalid");return{x:s,y:c}}),p=eU(e=>{if(e.is0()){if(r.allowInfinityPoint&&!n.is0(e.py))return;throw Error("bad point: ZERO")}let{x:t,y:i}=e.toAffine();if(!n.isValid(t)||!n.isValid(i))throw Error("bad point: x or y not FE");if(!c(t,i))throw Error("bad point: equation left != right");if(!e.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0});class g{constructor(e,t,r){if(null==e||!n.isValid(e))throw Error("x required");if(null==t||!n.isValid(t)||n.is0(t))throw Error("y required");if(null==r||!n.isValid(r))throw Error("z required");this.px=e,this.py=t,this.pz=r,Object.freeze(this)}static fromAffine(e){let{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw Error("invalid affine point");if(e instanceof g)throw Error("projective point not allowed");let i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?g.ZERO:new g(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){let t=eX(n,e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(g.fromAffine)}static fromHex(e){let t=g.fromAffine(a(eO("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return g.BASE.multiply(d(e))}static msm(e,t){return function(e,t,r,n){!function(e,t){if(!Array.isArray(e))throw Error("array expected");e.forEach((e,r)=>{if(!(e instanceof t))throw Error("invalid point at index "+r)})}(r,e),function(e,t){if(!Array.isArray(e))throw Error("array of scalars expected");e.forEach((e,r)=>{if(!t.isValid(e))throw Error("invalid scalar at index "+r)})}(n,t);let i=r.length,o=n.length;if(i!==o)throw Error("arrays of points and scalars must have equal length");let a=e.ZERO,s=function(e){let t;for(t=0;e>ed;e>>=ef,t+=1);return t}(BigInt(i)),c=1;s>12?c=s-3:s>4?c=s-2:s>0&&(c=2);let l=eM(c),u=Array(Number(l)+1).fill(a),d=Math.floor((t.BITS-1)/c)*c,f=a;for(let e=d;e>=0;e-=c){u.fill(a);for(let t=0;t<o;t++){let i=Number(n[t]>>BigInt(e)&l);u[i]=u[i].add(r[t])}let t=a;for(let e=u.length-1,r=a;e>0;e--)r=r.add(u[e]),t=t.add(r);if(f=f.add(t),0!==e)for(let e=0;e<c;e++)f=f.double()}return f}(g,i,e,t)}_setWindowSize(e){b.setWindowSize(this,e)}assertValidity(){p(this)}hasEvenY(){let{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw Error("Field doesn't support isOdd")}equals(e){f(e);let{px:t,py:r,pz:i}=this,{px:o,py:a,pz:s}=e,c=n.eql(n.mul(t,s),n.mul(o,i)),l=n.eql(n.mul(r,s),n.mul(a,i));return c&&l}negate(){return new g(this.px,n.neg(this.py),this.pz)}double(){let{a:e,b:t}=r,i=n.mul(t,tl),{px:o,py:a,pz:s}=this,c=n.ZERO,l=n.ZERO,u=n.ZERO,d=n.mul(o,o),f=n.mul(a,a),h=n.mul(s,s),p=n.mul(o,a);return p=n.add(p,p),u=n.mul(o,s),u=n.add(u,u),c=n.mul(e,u),l=n.mul(i,h),l=n.add(c,l),c=n.sub(f,l),l=n.add(f,l),l=n.mul(c,l),c=n.mul(p,c),u=n.mul(i,u),h=n.mul(e,h),p=n.sub(d,h),p=n.mul(e,p),p=n.add(p,u),u=n.add(d,d),d=n.add(u,d),d=n.add(d,h),d=n.mul(d,p),l=n.add(l,d),h=n.mul(a,s),h=n.add(h,h),d=n.mul(h,p),c=n.sub(c,d),u=n.mul(h,f),u=n.add(u,u),new g(c,l,u=n.add(u,u))}add(e){f(e);let{px:t,py:i,pz:o}=this,{px:a,py:s,pz:c}=e,l=n.ZERO,u=n.ZERO,d=n.ZERO,h=r.a,p=n.mul(r.b,tl),m=n.mul(t,a),y=n.mul(i,s),b=n.mul(o,c),w=n.add(t,i),v=n.add(a,s);w=n.mul(w,v),v=n.add(m,y),w=n.sub(w,v),v=n.add(t,o);let E=n.add(a,c);return v=n.mul(v,E),E=n.add(m,b),v=n.sub(v,E),E=n.add(i,o),l=n.add(s,c),E=n.mul(E,l),l=n.add(y,b),E=n.sub(E,l),d=n.mul(h,v),l=n.mul(p,b),d=n.add(l,d),l=n.sub(y,d),d=n.add(y,d),u=n.mul(l,d),y=n.add(m,m),y=n.add(y,m),b=n.mul(h,b),v=n.mul(p,v),y=n.add(y,b),b=n.sub(m,b),b=n.mul(h,b),v=n.add(v,b),m=n.mul(y,v),u=n.add(u,m),m=n.mul(E,v),l=n.mul(w,l),l=n.sub(l,m),m=n.mul(w,y),d=n.mul(E,d),new g(l,u,d=n.add(d,m))}subtract(e){return this.add(e.negate())}is0(){return this.equals(g.ZERO)}wNAF(e){return b.wNAFCached(this,e,g.normalizeZ)}multiplyUnsafe(e){let{endo:t,n:i}=r;eN("scalar",e,ts,i);let o=g.ZERO;if(e===ts)return o;if(this.is0()||e===tc)return this;if(!t||b.hasPrecomputes(this))return b.wNAFCachedUnsafe(this,e,g.normalizeZ);let{k1neg:a,k1:s,k2neg:c,k2:l}=t.splitScalar(e),u=o,d=o,f=this;for(;s>ts||l>ts;)s&tc&&(u=u.add(f)),l&tc&&(d=d.add(f)),f=f.double(),s>>=tc,l>>=tc;return a&&(u=u.negate()),c&&(d=d.negate()),d=new g(n.mul(d.px,t.beta),d.py,d.pz),u.add(d)}multiply(e){let t,i;let{endo:o,n:a}=r;if(eN("scalar",e,tc,a),o){let{k1neg:r,k1:a,k2neg:s,k2:c}=o.splitScalar(e),{p:l,f:u}=this.wNAF(a),{p:d,f:f}=this.wNAF(c);l=b.constTimeNegate(r,l),d=b.constTimeNegate(s,d),d=new g(n.mul(d.px,o.beta),d.py,d.pz),t=l.add(d),i=u.add(f)}else{let{p:r,f:n}=this.wNAF(e);t=r,i=n}return g.normalizeZ([t,i])[0]}multiplyAndAddUnsafe(e,t,r){let n=g.BASE,i=(e,t)=>t!==ts&&t!==tc&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),o=i(this,t).add(i(e,r));return o.is0()?void 0:o}toAffine(e){return h(this,e)}isTorsionFree(){let{h:e,isTorsionFree:t}=r;if(e===tc)return!0;if(t)return t(g,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:e,clearCofactor:t}=r;return e===tc?this:t?t(g,this):this.multiplyUnsafe(r.h)}toRawBytes(e=!0){return eg("isCompressed",e),this.assertValidity(),o(g,this,e)}toHex(e=!0){return eg("isCompressed",e),ev(this.toRawBytes(e))}}g.BASE=new g(r.Gx,r.Gy,n.ONE),g.ZERO=new g(n.ZERO,n.ONE,n.ZERO);let{endo:m,nBitLength:y}=r,b=(t=m?Math.ceil(y/2):y,{constTimeNegate:e8,hasPrecomputes:e=>1!==tr(e),unsafeLadder(e,t,r=g.ZERO){let n=e;for(;t>e6;)t&e5&&(r=r.add(n)),n=n.double(),t>>=e5;return r},precomputeWindow(e,r){let{windows:n,windowSize:i}=e9(r,t),o=[],a=e,s=a;for(let e=0;e<n;e++){s=a,o.push(s);for(let e=1;e<i;e++)s=s.add(a),o.push(s);a=s.double()}return o},wNAF(e,r,n){let i=g.ZERO,o=g.BASE,a=e9(e,t);for(let e=0;e<a.windows;e++){let{nextN:t,offset:s,isZero:c,isNeg:l,isNegF:u,offsetF:d}=e7(n,e,a);n=t,c?o=o.add(e8(u,r[d])):i=i.add(e8(l,r[s]))}return{p:i,f:o}},wNAFUnsafe(e,r,n,i=g.ZERO){let o=e9(e,t);for(let e=0;e<o.windows&&n!==e6;e++){let{nextN:t,offset:a,isZero:s,isNeg:c}=e7(n,e,o);if(n=t,!s){let e=r[a];i=i.add(c?e.negate():e)}}return i},getPrecomputes(e,t,r){let n=te.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&te.set(t,r(n))),n},wNAFCached(e,t,r){let n=tr(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)},wNAFCachedUnsafe(e,t,r,n){let i=tr(e);return 1===i?this.unsafeLadder(e,t,n):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),t,n)},setWindowSize(e,r){e4(r,t),tt.set(e,r),te.delete(e)}});return{CURVE:r,ProjectivePoint:g,normPrivateKeyToScalar:d,weierstrassEquation:s,isWithinCurveOrder:function(e){return ek(e,tc,r.n)}}}({...t,toBytes(e,t,n){let i=t.toAffine(),o=r.toBytes(i.x);return(eg("isCompressed",n),n)?eP(Uint8Array.from([t.hasEvenY()?2:3]),o):eP(Uint8Array.from([4]),o,r.toBytes(i.y))},fromBytes(e){let t=e.length,n=e[0],i=e.subarray(1);if(t===a&&(2===n||3===n)){let e;let t=eS(i);if(!ek(t,tc,r.ORDER))throw Error("Point is not on curve");let o=d(t);try{e=r.sqrt(o)}catch(e){throw Error("Point is not on curve"+(e instanceof Error?": "+e.message:""))}return(1&n)==1!=((e&tc)===tc)&&(e=r.neg(e)),{x:t,y:e}}if(t===s&&4===n)return{x:r.fromBytes(i.subarray(0,r.BYTES)),y:r.fromBytes(i.subarray(r.BYTES,2*r.BYTES))};throw Error("invalid Point, expected length of "+a+", or uncompressed "+s+", got "+t)}}),h=(e,t,r)=>eS(e.slice(t,r));class p{constructor(e,t,r){eN("r",e,tc,n),eN("s",t,tc,n),this.r=e,this.s=t,null!=r&&(this.recovery=r),Object.freeze(this)}static fromCompact(e){return new p(h(e=eO("compactSignature",e,2*i),0,i),h(e,i,2*i))}static fromDER(e){let{r:t,s:r}=ta.toSig(eO("DER",e));return new p(t,r)}assertValidity(){}addRecoveryBit(e){return new p(this.r,this.s,e)}recoverPublicKey(e){let{r:i,s:o,recovery:a}=this,s=y(eO("msgHash",e));if(null==a||![0,1,2,3].includes(a))throw Error("recovery id invalid");let u=2===a||3===a?i+t.n:i;if(u>=r.ORDER)throw Error("recovery id 2 or 3 invalid");let d=(1&a)==0?"02":"03",f=l.fromHex(d+ev(eI(u,r.BYTES))),h=eZ(u,n),p=c(-s*h),g=c(o*h),m=l.BASE.multiplyAndAddUnsafe(f,p,g);if(!m)throw Error("point at infinify");return m.assertValidity(),m}hasHighS(){return this.s>n>>tc}normalizeS(){return this.hasHighS()?new p(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return eA(this.toDERHex())}toDERHex(){return ta.hexFromSig(this)}toCompactRawBytes(){return eA(this.toCompactHex())}toCompactHex(){return ev(eI(this.r,i))+ev(eI(this.s,i))}}function g(e){if("bigint"==typeof e)return!1;if(e instanceof l)return!0;let n=eO("key",e).length,o=r.BYTES,a=o+1;if(!t.allowedPrivateKeyLengths&&i!==a)return n===a||n===2*o+1}let m=t.bits2int||function(e){if(e.length>8192)throw Error("input is too large");let t=eS(e),r=8*e.length-o;return r>0?t>>BigInt(r):t},y=t.bits2int_modN||function(e){return c(m(e))},b=eM(o);function w(e){return eN("num < 2^"+o,e,ts,b),eI(e,i)}let v={lowS:t.lowS,prehash:!1},E={lowS:t.lowS,prehash:!1};return l.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return l.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(!0===g(e))throw Error("first arg must be private key");if(!1===g(t))throw Error("second arg must be public key");return l.fromHex(t).multiply(u(e)).toRawBytes(r)},sign:function(e,i,o=v){let{seed:a,k2sig:s}=function(e,i,o=v){if(["recovered","canonical"].some(e=>e in o))throw Error("sign() legacy options not supported");let{hash:a,randomBytes:s}=t,{lowS:d,prehash:h,extraEntropy:g}=o;null==d&&(d=!0),e=eO("msgHash",e),ti(o),h&&(e=eO("prehashed msgHash",a(e)));let b=y(e),E=u(i),x=[w(E),w(b)];if(null!=g&&!1!==g){let e=!0===g?s(r.BYTES):g;x.push(eO("extraEntropy",e))}return{seed:eP(...x),k2sig:function(e){let t=m(e);if(!f(t))return;let r=eZ(t,n),i=l.BASE.multiply(t).toAffine(),o=c(i.x);if(o===ts)return;let a=c(r*c(b+o*E));if(a===ts)return;let s=(i.x===o?0:2)|Number(i.y&tc),u=a;if(d&&a>n>>tc)u=a>n>>tc?c(-a):a,s^=1;return new p(o,u,s)}}}(e,i,o);return(function(e,t,r){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let n=eR(e),i=eR(e),o=0,a=()=>{n.fill(1),i.fill(0),o=0},s=(...e)=>r(i,n,...e),c=(e=eR(0))=>{i=s(eD([0]),e),n=s(),0!==e.length&&(i=s(eD([1]),e),n=s())},l=()=>{if(o++>=1e3)throw Error("drbg: tried 1000 values");let e=0,r=[];for(;e<t;){let t=(n=s()).slice();r.push(t),e+=n.length}return eP(...r)};return(e,t)=>{let r;for(a(),c(e);!(r=t(l()));)c();return a(),r}})(t.hash.outputLen,t.nByteLength,t.hmac)(a,s)},verify:function(e,r,i,o=E){let a,s;r=eO("msgHash",r),i=eO("publicKey",i);let{lowS:u,prehash:d,format:f}=o;if(ti(o),"strict"in o)throw Error("options.strict was renamed to lowS");if(void 0!==f&&"compact"!==f&&"der"!==f)throw Error("format must be compact or der");let h="string"==typeof e||eh(e),g=!h&&!f&&"object"==typeof e&&null!==e&&"bigint"==typeof e.r&&"bigint"==typeof e.s;if(!h&&!g)throw Error("invalid signature, expected Uint8Array, hex string or Signature instance");try{if(g&&(s=new p(e.r,e.s)),h){try{"compact"!==f&&(s=p.fromDER(e))}catch(e){if(!(e instanceof ta.Err))throw e}s||"der"===f||(s=p.fromCompact(e))}a=l.fromHex(i)}catch(e){return!1}if(!s||u&&s.hasHighS())return!1;d&&(r=t.hash(r));let{r:m,s:b}=s,w=y(r),v=eZ(b,n),x=c(w*v),A=c(m*v),S=l.BASE.multiplyAndAddUnsafe(a,x,A)?.toAffine();return!!S&&c(S.x)===m},ProjectivePoint:l,Signature:p,utils:{isValidPrivateKey(e){try{return u(e),!0}catch(e){return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{let e=e3(t.n);return function(e,t,r=!1){let n=e.length,i=e2(t),o=e3(t);if(n<16||n<o||n>1024)throw Error("expected "+o+"-1024 bytes of input, got "+n);let a=eV(r?e_(e):eS(e),t-e$)+e$;return r?eC(a,i):eI(a,i)}(t.randomBytes(e),t.n)},precompute:(e=8,t=l.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}})({...e,hash:t,hmac:(e,...r)=>eu(t,e,function(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];U(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}(...r)),randomBytes:Z});return{...r(t),create:r}}({a:th,b:BigInt(7),Fp:ty,n:tf,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-tp*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=BigInt("0x100000000000000000000000000000000"),o=tm(t*e,tf),a=tm(-r*e,tf),s=eV(e-o*t-a*n,tf),c=eV(-o*r-a*t,tf),l=s>i,u=c>i;if(l&&(s=tf-s),u&&(c=tf-c),s>i||c>i)throw Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:l,k1:s,k2neg:u,k2:c}}}},ec),tw={zero:48,nine:57,A:65,F:70,a:97,f:102};function tv(e){return e>=tw.zero&&e<=tw.nine?e-tw.zero:e>=tw.A&&e<=tw.F?e-(tw.A-10):e>=tw.a&&e<=tw.f?e-(tw.a-10):void 0}let tE=new TextEncoder;class tx extends m{constructor(e){super(`Value \`${"object"==typeof e?w(e):e}\` of type \`${typeof e}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}}class tA extends m{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class tS extends m{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}class t_ extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){let t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){let e=this.keys().next().value;e&&this.delete(e)}return this}}let tI={checksum:new t_(8192)}.checksum,tC=BigInt(0),tO=BigInt(1),tP=BigInt(2),tT=BigInt(7),tk=BigInt(256),tN=BigInt(113),tM=[],tR=[],tD=[];for(let e=0,t=tO,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],tM.push(2*(5*n+r)),tR.push((e+1)*(e+2)/2%64);let i=tC;for(let e=0;e<7;e++)(t=(t<<tO^(t>>tT)*tN)%tk)&tP&&(i^=tO<<(tO<<BigInt(e))-tO);tD.push(i)}let tL=Q(tD,!0),tB=tL[0],tU=tL[1],tj=(e,t,r)=>r>32?er(e,t,r):ee(e,t,r),t$=(e,t,r)=>r>32?en(e,t,r):et(e,t,r);class tF extends V{constructor(e,t,r,n=!1,i=24){var o;if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=i,B(r),!(0<e&&e<200))throw Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=new Uint32Array((o=this.state).buffer,o.byteOffset,Math.floor(o.byteLength/4))}clone(){return this._cloneInto()}keccak(){G(this.state32),function(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let n=(t+8)%10,i=(t+2)%10,o=r[i],a=r[i+1],s=tj(o,a,1)^r[n],c=t$(o,a,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=s,e[t+r+1]^=c}let t=e[2],i=e[3];for(let r=0;r<24;r++){let n=tR[r],o=tj(t,i,n),a=t$(t,i,n),s=tM[r];t=e[s],i=e[s+1],e[s]=o,e[s+1]=a}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=tB[n],e[1]^=tU[n]}F(r)}(this.state32,this.rounds),G(this.state32),this.posOut=0,this.pos=0}update(e){j(this),U(e=H(e));let{blockLen:t,state:r}=this,n=e.length;for(let i=0;i<n;){let o=Math.min(t-this.pos,n-i);for(let t=0;t<o;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,(128&t)!=0&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){j(this,!1),U(e),this.finish();let t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();let o=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+o),n),this.posOut+=o,n+=o}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return B(e),this.xofInto(new Uint8Array(e))}digestInto(e){if($(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,F(this.state)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:o}=this;return e||(e=new tF(t,r,n,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=o,e.destroyed=this.destroyed,e}}let tz=W(()=>new tF(136,1,32));function tq(e,t={}){let{as:r="string"==typeof e?"Hex":"Bytes"}=t,n=tz(e instanceof Uint8Array?e:"string"==typeof e?function(e,t={}){let{size:r}=t,n=e;r&&(y(e,r),n=S(e,r));let i=n.slice(2);i.length%2&&(i=`0${i}`);let o=i.length/2,a=new Uint8Array(o);for(let e=0,t=0;e<o;e++){let r=tv(i.charCodeAt(t++)),n=tv(i.charCodeAt(t++));if(void 0===r||void 0===n)throw new m(`Invalid byte sequence ("${i[t-2]}${i[t-1]}" in "${i}").`);a[e]=16*r+n}return a}(e):e instanceof Uint8Array?e:new Uint8Array(e));return"Bytes"===r?n:x(n)}function tG(e,t={}){let{compressed:r}=t,{prefix:n,x:i,y:o}=e;if(!1===r||"bigint"==typeof i&&"bigint"==typeof o){if(4!==n)throw new tW({prefix:n,cause:new tK});return}if(!0===r||"bigint"==typeof i&&void 0===o){if(3!==n&&2!==n)throw new tW({prefix:n,cause:new tZ});return}throw new tV({publicKey:e})}function tH(e){if(132!==e.length&&130!==e.length&&68!==e.length)throw new tY({publicKey:e});return 130===e.length?{prefix:4,x:BigInt(_(e,0,32)),y:BigInt(_(e,32,64))}:132===e.length?{prefix:Number(_(e,0,1)),x:BigInt(_(e,1,33)),y:BigInt(_(e,33,65))}:{prefix:Number(_(e,0,1)),x:BigInt(_(e,1,33))}}class tV extends m{constructor({publicKey:e}){super(`Value \`${w(e)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}}class tW extends m{constructor({prefix:e,cause:t}){super(`Prefix "${e}" is invalid.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}}class tZ extends m{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}}class tK extends m{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}}class tY extends m{constructor({publicKey:e}){super(`Value \`${e}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${I(E(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}}let tJ=/^0x[a-fA-F0-9]{40}$/;function tX(e,t={}){let{strict:r=!0}=t;if(!tJ.test(e))throw new t0({address:e,cause:new t1});if(r){if(e.toLowerCase()===e)return;if(tQ(e)!==e)throw new t0({address:e,cause:new t2})}}function tQ(e){if(tI.has(e))return tI.get(e);tX(e,{strict:!1});let t=e.substring(2).toLowerCase(),r=tq(function(e,t={}){let{size:r}=t,n=tE.encode(e);return"number"==typeof r?(!function(e,t){if(e.length>t)throw new tA({givenSize:e.length,maxSize:t})}(n,r),function(e,t={}){let{dir:r,size:n=32}=t;if(0===n)return e;if(e.length>n)throw new tS({size:e.length,targetSize:n,type:"Bytes"});let i=new Uint8Array(n);for(let t=0;t<n;t++){let o="right"===r;i[o?t:n-t-1]=e[o?t:e.length-t-1]}return i}(n,{dir:"right",size:r})):n}(t),{as:"Bytes"}),n=t.split("");for(let e=0;e<40;e+=2)r[e>>1]>>4>=8&&n[e]&&(n[e]=n[e].toUpperCase()),(15&r[e>>1])>=8&&n[e+1]&&(n[e+1]=n[e+1].toUpperCase());let i=`0x${n.join("")}`;return tI.set(e,i),i}class t0 extends m{constructor({address:e,cause:t}){super(`Address "${e}" is invalid.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class t1 extends m{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class t2 extends m{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}var t3=function(e){if(e.length>=255)throw TypeError("Alphabet too long");let t=new Uint8Array(256);for(let e=0;e<t.length;e++)t[e]=255;for(let r=0;r<e.length;r++){let n=e.charAt(r),i=n.charCodeAt(0);if(255!==t[i])throw TypeError(n+" is ambiguous");t[i]=r}let r=e.length,n=e.charAt(0),i=Math.log(r)/Math.log(256),o=Math.log(256)/Math.log(r);function a(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;let o=0,a=0,s=0;for(;e[o]===n;)a++,o++;let c=(e.length-o)*i+1>>>0,l=new Uint8Array(c);for(;o<e.length;){let n=e.charCodeAt(o);if(n>255)return;let i=t[n];if(255===i)return;let a=0;for(let e=c-1;(0!==i||a<s)&&-1!==e;e--,a++)i+=r*l[e]>>>0,l[e]=i%256>>>0,i=i/256>>>0;if(0!==i)throw Error("Non-zero carry");s=a,o++}let u=c-s;for(;u!==c&&0===l[u];)u++;let d=new Uint8Array(a+(c-u)),f=a;for(;u!==c;)d[f++]=l[u++];return d}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";let i=0,a=0,s=0,c=t.length;for(;s!==c&&0===t[s];)s++,i++;let l=(c-s)*o+1>>>0,u=new Uint8Array(l);for(;s!==c;){let e=t[s],n=0;for(let t=l-1;(0!==e||n<a)&&-1!==t;t--,n++)e+=256*u[t]>>>0,u[t]=e%r>>>0,e=e/r>>>0;if(0!==e)throw Error("Non-zero carry");a=n,s++}let d=l-a;for(;d!==l&&0===u[d];)d++;let f=n.repeat(i);for(;d<l;++d)f+=e.charAt(u[d]);return f},decodeUnsafe:a,decode:function(e){let t=a(e);if(t)return t;throw Error("Non-base"+r+" character")}}}("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");function t6(e){return`${e<0?"-":""}0x${Math.abs(e).toString(16).padStart(2,"0")}`}class t5{type;data;constructor(e,t){this.type=e,this.data=t}}class t8 extends Error{constructor(e){super(e),Object.setPrototypeOf(this,Object.create(t8.prototype)),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:t8.name})}}function t4(e,t,r){e.setUint32(t,Math.floor(r/4294967296)),e.setUint32(t+4,r)}function t9(e,t){return 4294967296*e.getInt32(t)+e.getUint32(t+4)}let t7={type:-1,encode:function(e){return e instanceof Date?function({sec:e,nsec:t}){if(e>=0&&t>=0&&e<=17179869183){if(0===t&&e<=4294967295){let t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,e),t}{let r=e/4294967296,n=new Uint8Array(8),i=new DataView(n.buffer);return i.setUint32(0,t<<2|3&r),i.setUint32(4,4294967295&e),n}}{let r=new Uint8Array(12),n=new DataView(r.buffer);return n.setUint32(0,t),t4(n,4,e),r}}(function(e){let t=e.getTime(),r=Math.floor(t/1e3),n=(t-1e3*r)*1e6,i=Math.floor(n/1e9);return{sec:r+i,nsec:n-1e9*i}}(e)):null},decode:function(e){let t=function(e){let t=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:return{sec:t.getUint32(0),nsec:0};case 8:{let e=t.getUint32(0);return{sec:(3&e)*4294967296+t.getUint32(4),nsec:e>>>2}}case 12:return{sec:t9(t,4),nsec:t.getUint32(0)};default:throw new t8(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${e.length}`)}}(e);return new Date(1e3*t.sec+t.nsec/1e6)}};class re{static defaultCodec=new re;__brand;builtInEncoders=[];builtInDecoders=[];encoders=[];decoders=[];constructor(){this.register(t7)}register({type:e,encode:t,decode:r}){if(e>=0)this.encoders[e]=t,this.decoders[e]=r;else{let n=-1-e;this.builtInEncoders[n]=t,this.builtInDecoders[n]=r}}tryToEncode(e,t){for(let r=0;r<this.builtInEncoders.length;r++){let n=this.builtInEncoders[r];if(null!=n){let i=n(e,t);if(null!=i)return new t5(-1-r,i)}}for(let r=0;r<this.encoders.length;r++){let n=this.encoders[r];if(null!=n){let i=n(e,t);if(null!=i)return new t5(r,i)}}return e instanceof t5?e:null}decode(e,t,r){let n=t<0?this.builtInDecoders[-1-t]:this.decoders[t];return n?n(e,t,r):new t5(t,e)}}let rt=new TextEncoder;function rr(e,t,r){let n=t,i=n+r,o=[],a="";for(;n<i;){let t=e[n++];if((128&t)==0)o.push(t);else if((224&t)==192){let r=63&e[n++];o.push((31&t)<<6|r)}else if((240&t)==224){let r=63&e[n++],i=63&e[n++];o.push((31&t)<<12|r<<6|i)}else if((248&t)==240){let r=(7&t)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++];r>65535&&(r-=65536,o.push(r>>>10&1023|55296),r=56320|1023&r),o.push(r)}else o.push(t);o.length>=4096&&(a+=String.fromCharCode(...o),o.length=0)}return o.length>0&&(a+=String.fromCharCode(...o)),a}let rn=new TextDecoder;function ri(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer||"undefined"!=typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer?new Uint8Array(e):Uint8Array.from(e)}class ro{hit=0;miss=0;caches;maxKeyLength;maxLengthPerKey;constructor(e=16,t=16){this.maxKeyLength=e,this.maxLengthPerKey=t,this.caches=[];for(let e=0;e<this.maxKeyLength;e++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,t,r){let n=this.caches[r-1];t:for(let i of n){let n=i.bytes;for(let i=0;i<r;i++)if(n[i]!==e[t+i])continue t;return i.str}return null}store(e,t){let r=this.caches[e.length-1],n={bytes:e,str:t};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=n:r.push(n)}decode(e,t,r){let n=this.find(e,t,r);if(null!=n)return this.hit++,n;this.miss++;let i=rr(e,t,r),o=Uint8Array.prototype.slice.call(e,t,t+r);return this.store(o,i),i}}let ra="array",rs="map_key",rc="map_value",rl=e=>{if("string"==typeof e||"number"==typeof e)return e;throw new t8("The type of key must be string or number but "+typeof e)};class ru{stack=[];stackHeadPosition=-1;get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){let t=this.getUninitializedStateFromPool();t.type=ra,t.position=0,t.size=e,t.array=Array(e)}pushMapState(e){let t=this.getUninitializedStateFromPool();t.type=rs,t.readCount=0,t.size=e,t.map={}}getUninitializedStateFromPool(){return this.stackHeadPosition++,this.stackHeadPosition===this.stack.length&&this.stack.push({type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null}),this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw Error("Invalid stack state. Released state is not on top of the stack.");e.type===ra&&(e.size=0,e.array=void 0,e.position=0,e.type=void 0),(e.type===rs||e.type===rc)&&(e.size=0,e.map=void 0,e.readCount=0,e.type=void 0),this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}let rd=new DataView(new ArrayBuffer(0)),rf=new Uint8Array(rd.buffer);try{rd.getInt8(0)}catch(e){if(!(e instanceof RangeError))throw Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}let rh=RangeError("Insufficient data"),rp=new ro;class rg{extensionCodec;context;useBigInt64;rawStrings;maxStrLength;maxBinLength;maxArrayLength;maxMapLength;maxExtLength;keyDecoder;mapKeyConverter;totalPos=0;pos=0;view=rd;bytes=rf;headByte=-1;stack=new ru;entered=!1;constructor(e){this.extensionCodec=e?.extensionCodec??re.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.rawStrings=e?.rawStrings??!1,this.maxStrLength=e?.maxStrLength??4294967295,this.maxBinLength=e?.maxBinLength??4294967295,this.maxArrayLength=e?.maxArrayLength??4294967295,this.maxMapLength=e?.maxMapLength??4294967295,this.maxExtLength=e?.maxExtLength??4294967295,this.keyDecoder=e?.keyDecoder!==void 0?e.keyDecoder:rp,this.mapKeyConverter=e?.mapKeyConverter??rl}clone(){return new rg({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=-1,this.stack.reset()}setBuffer(e){let t=ri(e);this.bytes=t,this.view=new DataView(t.buffer,t.byteOffset,t.byteLength),this.pos=0}appendBuffer(e){if(-1!==this.headByte||this.hasRemaining(1)){let t=this.bytes.subarray(this.pos),r=ri(e),n=new Uint8Array(t.length+r.length);n.set(t),n.set(r,t.length),this.setBuffer(n)}else this.setBuffer(e)}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){let{view:t,pos:r}=this;return RangeError(`Extra ${t.byteLength-r} of ${t.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);let t=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return t}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){let t=this.clone();yield*t.decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{let t;this.entered=!0;let r=!1;for await(let n of e){if(r)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(n);try{t=this.doDecodeSync(),r=!0}catch(e){if(!(e instanceof RangeError))throw e}this.totalPos+=this.pos}if(r){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return t}let{headByte:n,pos:i,totalPos:o}=this;throw RangeError(`Insufficient data in parsing ${t6(n)} at ${o} (${i} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async *decodeMultiAsync(e,t){if(this.entered){let r=this.clone();yield*r.decodeMultiAsync(e,t);return}try{this.entered=!0;let r=t,n=-1;for await(let i of e){if(t&&0===n)throw this.createExtraByteError(this.totalPos);this.appendBuffer(i),r&&(n=this.readArraySize(),r=!1,this.complete());try{for(;yield this.doDecodeSync(),0!=--n;);}catch(e){if(!(e instanceof RangeError))throw e}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){r:for(;;){let e;let t=this.readHeadByte();if(t>=224)e=t-256;else if(t<192){if(t<128)e=t;else if(t<144){let r=t-128;if(0!==r){this.pushMapState(r),this.complete();continue}e={}}else if(t<160){let r=t-144;if(0!==r){this.pushArrayState(r),this.complete();continue}e=[]}else{let r=t-160;e=this.decodeString(r,0)}}else if(192===t)e=null;else if(194===t)e=!1;else if(195===t)e=!0;else if(202===t)e=this.readF32();else if(203===t)e=this.readF64();else if(204===t)e=this.readU8();else if(205===t)e=this.readU16();else if(206===t)e=this.readU32();else if(207===t)e=this.useBigInt64?this.readU64AsBigInt():this.readU64();else if(208===t)e=this.readI8();else if(209===t)e=this.readI16();else if(210===t)e=this.readI32();else if(211===t)e=this.useBigInt64?this.readI64AsBigInt():this.readI64();else if(217===t){let t=this.lookU8();e=this.decodeString(t,1)}else if(218===t){let t=this.lookU16();e=this.decodeString(t,2)}else if(219===t){let t=this.lookU32();e=this.decodeString(t,4)}else if(220===t){let t=this.readU16();if(0!==t){this.pushArrayState(t),this.complete();continue}e=[]}else if(221===t){let t=this.readU32();if(0!==t){this.pushArrayState(t),this.complete();continue}e=[]}else if(222===t){let t=this.readU16();if(0!==t){this.pushMapState(t),this.complete();continue}e={}}else if(223===t){let t=this.readU32();if(0!==t){this.pushMapState(t),this.complete();continue}e={}}else if(196===t){let t=this.lookU8();e=this.decodeBinary(t,1)}else if(197===t){let t=this.lookU16();e=this.decodeBinary(t,2)}else if(198===t){let t=this.lookU32();e=this.decodeBinary(t,4)}else if(212===t)e=this.decodeExtension(1,0);else if(213===t)e=this.decodeExtension(2,0);else if(214===t)e=this.decodeExtension(4,0);else if(215===t)e=this.decodeExtension(8,0);else if(216===t)e=this.decodeExtension(16,0);else if(199===t){let t=this.lookU8();e=this.decodeExtension(t,1)}else if(200===t){let t=this.lookU16();e=this.decodeExtension(t,2)}else if(201===t){let t=this.lookU32();e=this.decodeExtension(t,4)}else throw new t8(`Unrecognized type byte: ${t6(t)}`);this.complete();let r=this.stack;for(;r.length>0;){let t=r.top();if(t.type===ra){if(t.array[t.position]=e,t.position++,t.position===t.size)e=t.array,r.release(t);else continue r}else if(t.type===rs){if("__proto__"===e)throw new t8("The key __proto__ is not allowed");t.key=this.mapKeyConverter(e),t.type=rc;continue r}else if(t.map[t.key]=e,t.readCount++,t.readCount===t.size)e=t.map,r.release(t);else{t.key=null,t.type=rs;continue r}}return e}}readHeadByte(){return -1===this.headByte&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=-1}readArraySize(){let e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:if(e<160)return e-144;throw new t8(`Unrecognized array type byte: ${t6(e)}`)}}pushMapState(e){if(e>this.maxMapLength)throw new t8(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new t8(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,t){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,t):this.decodeBinary(e,t)}decodeUtf8String(e,t){let r;if(e>this.maxStrLength)throw new t8(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+t+e)throw rh;let n=this.pos+t;if(this.stateIsMapKey()&&this.keyDecoder?.canBeCached(e))r=this.keyDecoder.decode(this.bytes,n,e);else{var i;i=this.bytes,r=e>200?function(e,t,r){let n=e.subarray(t,t+r);return rn.decode(n)}(i,n,e):rr(i,n,e)}return this.pos+=t+e,r}stateIsMapKey(){return this.stack.length>0&&this.stack.top().type===rs}decodeBinary(e,t){if(e>this.maxBinLength)throw new t8(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+t))throw rh;let r=this.pos+t,n=this.bytes.subarray(r,r+e);return this.pos+=t+e,n}decodeExtension(e,t){if(e>this.maxExtLength)throw new t8(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);let r=this.view.getInt8(this.pos+t),n=this.decodeBinary(e,t+1);return this.extensionCodec.decode(n,r,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){let e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){let e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){let e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){let e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){let e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){let e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){var e,t;let r=(e=this.view,t=this.pos,4294967296*e.getUint32(t)+e.getUint32(t+4));return this.pos+=8,r}readI64(){let e=t9(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){let e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){let e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){let e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){let e=this.view.getFloat64(this.pos);return this.pos+=8,e}}class rm{extensionCodec;context;useBigInt64;maxDepth;initialBufferSize;sortKeys;forceFloat32;ignoreUndefined;forceIntegerToFloat;pos;view;bytes;entered=!1;constructor(e){this.extensionCodec=e?.extensionCodec??re.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.maxDepth=e?.maxDepth??100,this.initialBufferSize=e?.initialBufferSize??2048,this.sortKeys=e?.sortKeys??!1,this.forceFloat32=e?.forceFloat32??!1,this.ignoreUndefined=e?.ignoreUndefined??!1,this.forceIntegerToFloat=e?.forceIntegerToFloat??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new rm({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,t){if(t>this.maxDepth)throw Error(`Too deep objects in depth ${t}`);null==e?this.encodeNil():"boolean"==typeof e?this.encodeBoolean(e):"number"==typeof e?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):"string"==typeof e?this.encodeString(e):this.useBigInt64&&"bigint"==typeof e?this.encodeBigInt64(e):this.encodeObject(e,t)}ensureBufferSizeToWrite(e){let t=this.pos+e;this.view.byteLength<t&&this.resizeBuffer(2*t)}resizeBuffer(e){let t=new ArrayBuffer(e),r=new Uint8Array(t),n=new DataView(t);r.set(this.bytes),this.view=n,this.bytes=r}encodeNil(){this.writeU8(192)}encodeBoolean(e){!1===e?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){var t,r,n;let i=function(e){let t=e.length,r=0,n=0;for(;n<t;){let i=e.charCodeAt(n++);if((4294967168&i)==0){r++;continue}if((4294965248&i)==0)r+=2;else{if(i>=55296&&i<=56319&&n<t){let t=e.charCodeAt(n);(64512&t)==56320&&(++n,i=((1023&i)<<10)+(1023&t)+65536)}(4294901760&i)==0?r+=3:r+=4}}return r}(e);this.ensureBufferSizeToWrite(5+i),this.writeStringHeader(i),t=e,r=this.bytes,n=this.pos,t.length>50?rt.encodeInto(t,r.subarray(n)):function(e,t,r){let n=e.length,i=r,o=0;for(;o<n;){let r=e.charCodeAt(o++);if((4294967168&r)==0){t[i++]=r;continue}if((4294965248&r)==0)t[i++]=r>>6&31|192;else{if(r>=55296&&r<=56319&&o<n){let t=e.charCodeAt(o);(64512&t)==56320&&(++o,r=((1023&r)<<10)+(1023&t)+65536)}(4294901760&r)==0?t[i++]=r>>12&15|224:(t[i++]=r>>18&7|240,t[i++]=r>>12&63|128),t[i++]=r>>6&63|128}t[i++]=63&r|128}}(t,r,n),this.pos+=i}encodeObject(e,t){let r=this.extensionCodec.tryToEncode(e,this.context);if(null!=r)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,t);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if("object"==typeof e)this.encodeMap(e,t);else throw Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){let t=e.byteLength;if(t<256)this.writeU8(196),this.writeU8(t);else if(t<65536)this.writeU8(197),this.writeU16(t);else if(t<4294967296)this.writeU8(198),this.writeU32(t);else throw Error(`Too large binary: ${t}`);let r=ri(e);this.writeU8a(r)}encodeArray(e,t){let r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<4294967296)this.writeU8(221),this.writeU32(r);else throw Error(`Too large array: ${r}`);for(let r of e)this.doEncode(r,t+1)}countWithoutUndefined(e,t){let r=0;for(let n of t)void 0!==e[n]&&r++;return r}encodeMap(e,t){let r=Object.keys(e);this.sortKeys&&r.sort();let n=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(n<16)this.writeU8(128+n);else if(n<65536)this.writeU8(222),this.writeU16(n);else if(n<4294967296)this.writeU8(223),this.writeU32(n);else throw Error(`Too large map object: ${n}`);for(let n of r){let r=e[n];this.ignoreUndefined&&void 0===r||(this.encodeString(n),this.doEncode(r,t+1))}}encodeExtension(e){if("function"==typeof e.data){let t=e.data(this.pos+6),r=t.length;if(r>=4294967296)throw Error(`Too large extension object: ${r}`);this.writeU8(201),this.writeU32(r),this.writeI8(e.type),this.writeU8a(t);return}let t=e.data.length;if(1===t)this.writeU8(212);else if(2===t)this.writeU8(213);else if(4===t)this.writeU8(214);else if(8===t)this.writeU8(215);else if(16===t)this.writeU8(216);else if(t<256)this.writeU8(199),this.writeU8(t);else if(t<65536)this.writeU8(200),this.writeU16(t);else if(t<4294967296)this.writeU8(201),this.writeU32(t);else throw Error(`Too large extension object: ${t}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){let t=e.length;this.ensureBufferSizeToWrite(t),this.bytes.set(e,this.pos),this.pos+=t}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){var t,r;this.ensureBufferSizeToWrite(8),t=this.view,r=this.pos,t.setUint32(r,e/4294967296),t.setUint32(r+4,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),t4(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}}function ry(e,t){return!!Array.isArray(t)&&(0===t.length||(e?t.every(e=>"string"==typeof e):t.every(e=>Number.isSafeInteger(e))))}function rb(e,t){if("string"!=typeof t)throw Error(`${e}: string expected`);return!0}function rw(e){if(!Number.isSafeInteger(e))throw Error(`invalid integer: ${e}`)}function rv(e){if(!Array.isArray(e))throw Error("array expected")}function rE(e,t){if(!ry(!0,t))throw Error(`${e}: array of strings expected`)}function rx(...e){let t=e=>e,r=(e,t)=>r=>e(t(r));return{encode:e.map(e=>e.encode).reduceRight(r,t),decode:e.map(e=>e.decode).reduce(r,t)}}function rA(e){let t="string"==typeof e?e.split(""):e,r=t.length;rE("alphabet",t);let n=new Map(t.map((e,t)=>[e,t]));return{encode:n=>(rv(n),n.map(n=>{if(!Number.isSafeInteger(n)||n<0||n>=r)throw Error(`alphabet.encode: digit index outside alphabet "${n}". Allowed: ${e}`);return t[n]})),decode:t=>(rv(t),t.map(t=>{rb("alphabet.decode",t);let r=n.get(t);if(void 0===r)throw Error(`Unknown letter: "${t}". Allowed: ${e}`);return r}))}}function rS(e=""){return rb("join",e),{encode:t=>(rE("join.decode",t),t.join(e)),decode:t=>(rb("join.decode",t),t.split(e))}}let r_=(e,t)=>0===t?e:r_(t,e%t),rI=(e,t)=>e+(t-r_(e,t)),rC=(()=>{let e=[];for(let t=0;t<40;t++)e.push(2**t);return e})();function rO(e,t,r,n){if(rv(e),t<=0||t>32)throw Error(`convertRadix2: wrong from=${t}`);if(r<=0||r>32)throw Error(`convertRadix2: wrong to=${r}`);if(rI(t,r)>32)throw Error(`convertRadix2: carry overflow from=${t} to=${r} carryBits=${rI(t,r)}`);let i=0,o=0,a=rC[t],s=rC[r]-1,c=[];for(let n of e){if(rw(n),n>=a)throw Error(`convertRadix2: invalid data word=${n} from=${t}`);if(i=i<<t|n,o+t>32)throw Error(`convertRadix2: carry overflow pos=${o} from=${t}`);for(o+=t;o>=r;o-=r)c.push((i>>o-r&s)>>>0);let e=rC[o];if(void 0===e)throw Error("invalid carry");i&=e-1}if(i=i<<r-o&s,!n&&o>=t)throw Error("Excess padding");if(!n&&i>0)throw Error(`Non-zero padding: ${i}`);return n&&o>0&&c.push(i>>>0),c}let rP=rx(function(e,t=!1){if(rw(5),e>32)throw Error("radix2: bits should be in (0..32]");if(rI(8,e)>32||rI(e,8)>32)throw Error("radix2: carry overflow");return{encode:r=>{var n;if(!((n=r)instanceof Uint8Array||ArrayBuffer.isView(n)&&"Uint8Array"===n.constructor.name))throw Error("radix2.encode input should be Uint8Array");return rO(Array.from(r),8,e,!t)},decode:r=>((function(e,t){if(!ry(!1,t))throw Error(`${e}: array of numbers expected`)})("radix2.decode",r),Uint8Array.from(rO(r,e,8,t)))}}(5),rA("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),function(e,t="="){return rw(5),rb("padding",t),{encode(e){for(rE("padding.encode",e);5*e.length%8;)e.push(t);return e},decode(r){rE("padding.decode",r);let n=r.length;if(n*e%8)throw Error("padding: invalid, string should have whole number of bytes");for(;n>0&&r[n-1]===t;n--)if((n-1)*e%8==0)throw Error("padding: invalid, string has too much padding");return r.slice(0,n)}}}(5),rS("")),rT=("function"==typeof Uint8Array.from([]).toBase64&&Uint8Array.fromBase64,[996825010,642813549,513874426,1027748829,705979059]);"function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex||function(e){if("function"!=typeof e)throw Error("function expected")}(e=>{if("string"!=typeof e||e.length%2!=0)throw TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()});var rk=r(46633),rN=r(98862);let rM={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var rR=r(84041),rD=r(15133),rL=r(25566),rB=r(82957).Buffer;function rU(e){let[t,r]=e.split(":");return{namespace:t,reference:r}}function rj(e){let[t,r,n]=e.split(":");return{namespace:t,reference:r,address:n}}function r$(e,t=[]){let r=[];return Object.keys(e).forEach(n=>{if(t.length&&!t.includes(n))return;let i=e[n];r.push(...i.accounts)}),r}function rF(e,t){return e.includes(":")?[e]:t.chains||[]}var rz=Object.defineProperty,rq=Object.defineProperties,rG=Object.getOwnPropertyDescriptors,rH=Object.getOwnPropertySymbols,rV=Object.prototype.hasOwnProperty,rW=Object.prototype.propertyIsEnumerable,rZ=(e,t,r)=>t in e?rz(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,rK=(e,t)=>{for(var r in t||(t={}))rV.call(t,r)&&rZ(e,r,t[r]);if(rH)for(var r of rH(t))rW.call(t,r)&&rZ(e,r,t[r]);return e},rY=(e,t)=>rq(e,rG(t)),rJ=(e,t,r)=>rZ(e,"symbol"!=typeof t?t+"":t,r);let rX={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"};function rQ(){return"u">typeof rL&&"u">typeof rL.versions&&"u">typeof rL.versions.node}function r0(){return!(0,p.getDocument)()&&!!(0,p.getNavigator)()&&"ReactNative"===navigator.product}function r1(){return r0()&&"u">typeof global&&"u">typeof(null==global?void 0:global.Platform)&&(null==global?void 0:global.Platform.OS)==="android"}function r2(){return r0()&&"u">typeof global&&"u">typeof(null==global?void 0:global.Platform)&&(null==global?void 0:global.Platform.OS)==="ios"}function r3(){return!rQ()&&!!(0,p.getNavigator)()&&!!(0,p.getDocument)()}function r6(){return r0()?rX.reactNative:rQ()?rX.node:r3()?rX.browser:rX.unknown}function r5(){var e;try{return r0()&&"u">typeof global&&"u">typeof(null==global?void 0:global.Application)?null==(e=global.Application)?void 0:e.applicationId:void 0}catch{return}}function r8(e){var t,r;let n=r4();try{return null!=e&&e.url&&n.url&&new URL(e.url).host!==new URL(n.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${e.url} differs from the actual page url:${n.url}. This is probably unintended and can lead to issues.`),e.url=n.url),null!=(t=e?.icons)&&t.length&&e.icons.length>0&&(e.icons=e.icons.filter(e=>""!==e)),rY(rK(rK({},n),e),{url:e?.url||n.url,name:e?.name||n.name,description:e?.description||n.description,icons:null!=(r=e?.icons)&&r.length&&e.icons.length>0?e.icons:n.icons})}catch(t){return console.warn("Error populating app metadata",t),e||n}}function r4(){return(0,g.D)()||{name:"",description:"",url:"",icons:[""]}}function r9(e,t,r){let h=function(){if(r6()===rX.reactNative&&"u">typeof global&&"u">typeof(null==global?void 0:global.Platform)){let{OS:e,Version:t}=global.Platform;return[e,t].join("-")}let e="undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new l:"undefined"!=typeof navigator?function(e){var t=""!==e&&d.reduce(function(t,r){var n=r[0],i=r[1];if(t)return t;var o=i.exec(e);return!!o&&[n,o]},!1);if(!t)return null;var r=t[0],n=t[1];if("searchbot"===r)return new c;var a=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);a?a.length<3&&(a=i(i([],a,!0),function(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}(3-a.length),!0)):a=[];var l=a.join("."),h=function(e){for(var t=0,r=f.length;t<r;t++){var n=f[t],i=n[0];if(n[1].exec(e))return i}return null}(e),p=u.exec(e);return p&&p[1]?new s(r,l,h,p[1]):new o(r,l,h)}(navigator.userAgent):void 0!==n&&n.version?new a(n.version.slice(1)):null;if(null===e)return"unknown";let t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return"browser"===e.type?[t,e.name,e.version].join("-"):[t,e.version].join("-")}(),g=function(){var e;let t=r6();return t===rX.browser?[t,(null==(e=(0,p.getLocation)())?void 0:e.host)||"unknown"].join(":"):t}();return[[e,t].join("-"),["js",r].join("-"),h,g].join("/")}function r7({protocol:e,version:t,relayUrl:r,sdkVersion:n,auth:i,projectId:o,useOnCloseEvent:a,bundleId:s,packageName:c}){let l=r.split("?"),u=r9(e,t,n),d=function(e,t){let r=new URLSearchParams(e);return Object.entries(t).sort(([e],[t])=>e.localeCompare(t)).forEach(([e,t])=>{null!=t&&r.set(e,String(t))}),r.toString()}(l[1]||"",{auth:i,ua:u,projectId:o,useOnCloseEvent:a||void 0,packageName:c||void 0,bundleId:s||void 0});return l[0]+"?"+d}function ne(e,t){return e.filter(e=>t.includes(e)).length===e.length}function nt(e){return Object.fromEntries(e.entries())}function nr(e){return new Map(Object.entries(e))}function nn(e=h.FIVE_MINUTES,t){let r,n,i,o;let a=(0,h.toMiliseconds)(e||h.FIVE_MINUTES);return{resolve:e=>{i&&r&&(clearTimeout(i),r(e),o=Promise.resolve(e))},reject:e=>{i&&n&&(clearTimeout(i),n(e))},done:()=>new Promise((e,s)=>{if(o)return e(o);i=setTimeout(()=>{let e=Error(t);o=Promise.reject(e),s(e)},a),r=e,n=s})}}function ni(e,t,r){return new Promise(async(n,i)=>{let o=setTimeout(()=>i(Error(r)),t);try{let t=await e;n(t)}catch(e){i(e)}clearTimeout(o)})}function no(e,t){if("string"==typeof t&&t.startsWith(`${e}:`))return t;if("topic"===e.toLowerCase()){if("string"!=typeof t)throw Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}if("id"===e.toLowerCase()){if("number"!=typeof t)throw Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw Error(`Unknown expirer target type: ${e}`)}function na(e){return no("topic",e)}function ns(e){return no("id",e)}function nc(e){let[t,r]=e.split(":"),n={id:void 0,topic:void 0};if("topic"===t&&"string"==typeof r)n.topic=r;else if("id"===t&&Number.isInteger(Number(r)))n.id=Number(r);else throw Error(`Invalid target, expected id:number or topic:string, got ${t}:${r}`);return n}function nl(e,t){return(0,h.fromMiliseconds)((t||Date.now())+(0,h.toMiliseconds)(e))}function nu(e){return Date.now()>=(0,h.toMiliseconds)(e)}function nd(e,t){return`${e}${t?`:${t}`:""}`}function nf(e=[],t=[]){return[...new Set([...e,...t])]}async function nh({id:e,topic:t,wcDeepLink:r}){var n;try{if(!r)return;let i="string"==typeof r?JSON.parse(r):r,o=i?.href;if("string"!=typeof o)return;let a=function(e,t,r){let n=`requestId=${t}&sessionTopic=${r}`;e.endsWith("/")&&(e=e.slice(0,-1));let i=`${e}`;if(e.startsWith("https://t.me")){let t=e.includes("?")?"&startapp=":"?startapp=";i=`${i}${t}${function(e,t=!1){let r=rB.from(e).toString("base64");return t?r.replace(/[=]/g,""):r}(n,!0)}`}else i=`${i}/wc?${n}`;return i}(o,e,t),s=r6();if(s===rX.browser){let e;if(!(null!=(n=(0,p.getDocument)())&&n.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}e="_self",function(){try{return window.self!==window.top}catch{return!1}}()?e="_top":("u">typeof window&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)||a.startsWith("https://")||a.startsWith("http://"))&&(e="_blank"),window.open(a,e,"noreferrer noopener")}else s===rX.reactNative&&"u">typeof(null==global?void 0:global.Linking)&&await global.Linking.openURL(a)}catch(e){console.error(e)}}async function np(e,t){let r="";try{if(r3()&&(r=localStorage.getItem(t)))return r;r=await e.getItem(t)}catch(e){console.error(e)}return r}function ng(e,t){if(!e.includes(t))return null;let r=e.split(/([&,?,=])/),n=r.indexOf(t);return r[n+2]}function nm(){return"u">typeof crypto&&null!=crypto&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,e=>{let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}function ny(){return"u">typeof rL&&"true"===rL.env.IS_VITEST}function nb(e){return rB.from(e,"base64").toString("utf-8")}function nw(e){return new Promise(t=>setTimeout(t,e))}class nv{constructor({limit:e}){rJ(this,"limit"),rJ(this,"set"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){let e=this.set.values().next().value;e&&this.set.delete(e)}this.set.add(e)}}has(e){return this.set.has(e)}}let nE=BigInt(4294967296-1),nx=BigInt(32);function nA(e,t=!1){return t?{h:Number(e&nE),l:Number(e>>nx&nE)}:{h:0|Number(e>>nx&nE),l:0|Number(e&nE)}}function nS(e,t=!1){let r=e.length,n=new Uint32Array(r),i=new Uint32Array(r);for(let o=0;o<r;o++){let{h:r,l:a}=nA(e[o],t);[n[o],i[o]]=[r,a]}return[n,i]}let n_=(e,t,r)=>e>>>r,nI=(e,t,r)=>e<<32-r|t>>>r,nC=(e,t,r)=>e>>>r|t<<32-r,nO=(e,t,r)=>e<<32-r|t>>>r,nP=(e,t,r)=>e<<64-r|t>>>r-32,nT=(e,t,r)=>e>>>r-32|t<<64-r,nk=(e,t)=>t,nN=(e,t)=>e,nM=(e,t,r)=>e<<r|t>>>32-r,nR=(e,t,r)=>t<<r|e>>>32-r,nD=(e,t,r)=>t<<r-32|e>>>64-r,nL=(e,t,r)=>e<<r-32|t>>>64-r;function nB(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/4294967296|0)|0,l:0|i}}let nU=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),nj=(e,t,r,n)=>t+r+n+(e/4294967296|0)|0,n$=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),nF=(e,t,r,n,i)=>t+r+n+i+(e/4294967296|0)|0,nz=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0),nq=(e,t,r,n,i,o)=>t+r+n+i+o+(e/4294967296|0)|0,nG="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function nH(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function nV(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function nW(e,...t){if(!nH(e))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function nZ(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.createHasher");nV(e.outputLen),nV(e.blockLen)}function nK(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function nY(e,t){nW(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}function nJ(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function nX(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function nQ(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function n0(e,t){return e<<32-t|e>>>t}let n1=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];function n2(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}let n3=n1?e=>e:e=>n2(e),n6=n1?e=>e:function(e){for(let t=0;t<e.length;t++)e[t]=n2(e[t]);return e},n5="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,n8=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function n4(e){if(nW(e),n5)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=n8[e[r]];return t}let n9={_0:48,_9:57,A:65,F:70,a:97,f:102};function n7(e){return e>=n9._0&&e<=n9._9?e-n9._0:e>=n9.A&&e<=n9.F?e-(n9.A-10):e>=n9.a&&e<=n9.f?e-(n9.a-10):void 0}function ie(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);if(n5)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=n7(e.charCodeAt(i)),o=n7(e.charCodeAt(i+1));if(void 0===r||void 0===o)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+o}return n}function it(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function ir(e){return"string"==typeof e&&(e=it(e)),nW(e),e}function ii(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];nW(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}class io{}function ia(e){let t=t=>e().update(ir(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function is(e=32){if(nG&&"function"==typeof nG.getRandomValues)return nG.getRandomValues(new Uint8Array(e));if(nG&&"function"==typeof nG.randomBytes)return Uint8Array.from(nG.randomBytes(e));throw Error("crypto.getRandomValues must be defined")}let ic=BigInt(0),il=BigInt(1),iu=BigInt(2),id=BigInt(7),ih=BigInt(256),ip=BigInt(113),ig=[],im=[],iy=[];for(let e=0,t=il,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],ig.push(2*(5*n+r)),im.push((e+1)*(e+2)/2%64);let i=ic;for(let e=0;e<7;e++)(t=(t<<il^(t>>id)*ip)%ih)&iu&&(i^=il<<(il<<BigInt(e))-il);iy.push(i)}let ib=nS(iy,!0),iw=ib[0],iv=ib[1],iE=(e,t,r)=>r>32?nD(e,t,r):nM(e,t,r),ix=(e,t,r)=>r>32?nL(e,t,r):nR(e,t,r);class iA extends io{constructor(e,t,r,n=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=i,nV(r),!(0<e&&e<200))throw Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=nJ(this.state)}clone(){return this._cloneInto()}keccak(){n6(this.state32),function(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let n=(t+8)%10,i=(t+2)%10,o=r[i],a=r[i+1],s=iE(o,a,1)^r[n],c=ix(o,a,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=s,e[t+r+1]^=c}let t=e[2],i=e[3];for(let r=0;r<24;r++){let n=im[r],o=iE(t,i,n),a=ix(t,i,n),s=ig[r];t=e[s],i=e[s+1],e[s]=o,e[s+1]=a}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=iw[n],e[1]^=iv[n]}nX(r)}(this.state32,this.rounds),n6(this.state32),this.posOut=0,this.pos=0}update(e){nK(this),nW(e=ir(e));let{blockLen:t,state:r}=this,n=e.length;for(let i=0;i<n;){let o=Math.min(t-this.pos,n-i);for(let t=0;t<o;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,(128&t)!=0&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){nK(this,!1),nW(e),this.finish();let t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();let o=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+o),n),this.posOut+=o,n+=o}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return nV(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(nY(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,nX(this.state)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:o}=this;return e||(e=new iA(t,r,n,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=o,e.destroyed=this.destroyed,e}}let iS=ia(()=>new iA(136,1,32));class i_ extends io{constructor(e,t,r,n){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.buffer=new Uint8Array(e),this.view=nQ(this.buffer)}update(e){nK(this),nW(e=ir(e));let{view:t,buffer:r,blockLen:n}=this,i=e.length;for(let o=0;o<i;){let a=Math.min(n-this.pos,i-o);if(a===n){let t=nQ(e);for(;n<=i-o;o+=n)this.process(t,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){nK(this),nY(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:n,isLE:i}=this,{pos:o}=this;t[o++]=128,nX(this.buffer.subarray(o)),this.padOffset>n-o&&(this.process(r,0),o=0);for(let e=o;e<n;e++)t[e]=0;(function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),o=BigInt(4294967295),a=Number(r>>i&o),s=Number(r&o),c=n?4:0,l=n?0:4;e.setUint32(t+c,a,n),e.setUint32(t+l,s,n)})(r,n-8,BigInt(8*this.length),i),this.process(r,0);let a=nQ(e),s=this.outputLen;if(s%4)throw Error("_sha2: outputLen should be aligned to 32bit");let c=s/4,l=this.get();if(c>l.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)a.setUint32(4*e,l[e],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=i,e.length=n,e.pos=a,n%t&&e.buffer.set(r),e}clone(){return this._cloneInto()}}let iI=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),iC=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),iO=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),iP=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),iT=new Uint32Array(64);class ik extends i_{constructor(e=32){super(64,e,8,!1),this.A=0|iI[0],this.B=0|iI[1],this.C=0|iI[2],this.D=0|iI[3],this.E=0|iI[4],this.F=0|iI[5],this.G=0|iI[6],this.H=0|iI[7]}get(){let{A:e,B:t,C:r,D:n,E:i,F:o,G:a,H:s}=this;return[e,t,r,n,i,o,a,s]}set(e,t,r,n,i,o,a,s){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|a,this.H=0|s}process(e,t){for(let r=0;r<16;r++,t+=4)iT[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=iT[e-15],r=iT[e-2],n=n0(t,7)^n0(t,18)^t>>>3,i=n0(r,17)^n0(r,19)^r>>>10;iT[e]=i+iT[e-7]+n+iT[e-16]|0}let{A:r,B:n,C:i,D:o,E:a,F:s,G:c,H:l}=this;for(let e=0;e<64;e++){var u,d,f,h;let t=l+(n0(a,6)^n0(a,11)^n0(a,25))+((u=a)&s^~u&c)+iP[e]+iT[e]|0,p=(n0(r,2)^n0(r,13)^n0(r,22))+((d=r)&(f=n)^d&(h=i)^f&h)|0;l=c,c=s,s=a,a=o+t|0,o=i,i=n,n=r,r=t+p|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,s=s+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(r,n,i,o,a,s,c,l)}roundClean(){nX(iT)}destroy(){this.set(0,0,0,0,0,0,0,0),nX(this.buffer)}}let iN=nS(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),iM=iN[0],iR=iN[1],iD=new Uint32Array(80),iL=new Uint32Array(80);class iB extends i_{constructor(e=64){super(128,e,16,!1),this.Ah=0|iO[0],this.Al=0|iO[1],this.Bh=0|iO[2],this.Bl=0|iO[3],this.Ch=0|iO[4],this.Cl=0|iO[5],this.Dh=0|iO[6],this.Dl=0|iO[7],this.Eh=0|iO[8],this.El=0|iO[9],this.Fh=0|iO[10],this.Fl=0|iO[11],this.Gh=0|iO[12],this.Gl=0|iO[13],this.Hh=0|iO[14],this.Hl=0|iO[15]}get(){let{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:o,Dh:a,Dl:s,Eh:c,El:l,Fh:u,Fl:d,Gh:f,Gl:h,Hh:p,Hl:g}=this;return[e,t,r,n,i,o,a,s,c,l,u,d,f,h,p,g]}set(e,t,r,n,i,o,a,s,c,l,u,d,f,h,p,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|o,this.Dh=0|a,this.Dl=0|s,this.Eh=0|c,this.El=0|l,this.Fh=0|u,this.Fl=0|d,this.Gh=0|f,this.Gl=0|h,this.Hh=0|p,this.Hl=0|g}process(e,t){for(let r=0;r<16;r++,t+=4)iD[r]=e.getUint32(t),iL[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){let t=0|iD[e-15],r=0|iL[e-15],n=nC(t,r,1)^nC(t,r,8)^n_(t,r,7),i=nO(t,r,1)^nO(t,r,8)^nI(t,r,7),o=0|iD[e-2],a=0|iL[e-2],s=nC(o,a,19)^nP(o,a,61)^n_(o,a,6),c=n$(i,nO(o,a,19)^nT(o,a,61)^nI(o,a,6),iL[e-7],iL[e-16]),l=nF(c,n,s,iD[e-7],iD[e-16]);iD[e]=0|l,iL[e]=0|c}let{Ah:r,Al:n,Bh:i,Bl:o,Ch:a,Cl:s,Dh:c,Dl:l,Eh:u,El:d,Fh:f,Fl:h,Gh:p,Gl:g,Hh:m,Hl:y}=this;for(let e=0;e<80;e++){let t=nC(u,d,14)^nC(u,d,18)^nP(u,d,41),b=nO(u,d,14)^nO(u,d,18)^nT(u,d,41),w=u&f^~u&p,v=nz(y,b,d&h^~d&g,iR[e],iL[e]),E=nq(v,m,t,w,iM[e],iD[e]),x=0|v,A=nC(r,n,28)^nP(r,n,34)^nP(r,n,39),S=nO(r,n,28)^nT(r,n,34)^nT(r,n,39),_=r&i^r&a^i&a,I=n&o^n&s^o&s;m=0|p,y=0|g,p=0|f,g=0|h,f=0|u,h=0|d,({h:u,l:d}=nB(0|c,0|l,0|E,0|x)),c=0|a,l=0|s,a=0|i,s=0|o,i=0|r,o=0|n;let C=nU(x,S,I);r=nj(C,E,A,_),n=0|C}({h:r,l:n}=nB(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:o}=nB(0|this.Bh,0|this.Bl,0|i,0|o)),({h:a,l:s}=nB(0|this.Ch,0|this.Cl,0|a,0|s)),({h:c,l:l}=nB(0|this.Dh,0|this.Dl,0|c,0|l)),({h:u,l:d}=nB(0|this.Eh,0|this.El,0|u,0|d)),({h:f,l:h}=nB(0|this.Fh,0|this.Fl,0|f,0|h)),({h:p,l:g}=nB(0|this.Gh,0|this.Gl,0|p,0|g)),({h:m,l:y}=nB(0|this.Hh,0|this.Hl,0|m,0|y)),this.set(r,n,i,o,a,s,c,l,u,d,f,h,p,g,m,y)}roundClean(){nX(iD,iL)}destroy(){nX(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class iU extends iB{constructor(){super(48),this.Ah=0|iC[0],this.Al=0|iC[1],this.Bh=0|iC[2],this.Bl=0|iC[3],this.Ch=0|iC[4],this.Cl=0|iC[5],this.Dh=0|iC[6],this.Dl=0|iC[7],this.Eh=0|iC[8],this.El=0|iC[9],this.Fh=0|iC[10],this.Fl=0|iC[11],this.Gh=0|iC[12],this.Gl=0|iC[13],this.Hh=0|iC[14],this.Hl=0|iC[15]}}let ij=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class i$ extends iB{constructor(){super(32),this.Ah=0|ij[0],this.Al=0|ij[1],this.Bh=0|ij[2],this.Bl=0|ij[3],this.Ch=0|ij[4],this.Cl=0|ij[5],this.Dh=0|ij[6],this.Dl=0|ij[7],this.Eh=0|ij[8],this.El=0|ij[9],this.Fh=0|ij[10],this.Fl=0|ij[11],this.Gh=0|ij[12],this.Gl=0|ij[13],this.Hh=0|ij[14],this.Hl=0|ij[15]}}let iF=ia(()=>new ik),iz=ia(()=>new iB),iq=ia(()=>new iU),iG=ia(()=>new i$),iH=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),iV=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),iW=new Uint32Array(32);function iZ(e,t,r,n,i,o){let a=i[o],s=i[o+1],c=iW[2*e],l=iW[2*e+1],u=iW[2*t],d=iW[2*t+1],f=iW[2*r],h=iW[2*r+1],p=iW[2*n],g=iW[2*n+1],m=nU(c,u,a);l=nj(m,l,d,s),c=0|m,({Dh:g,Dl:p}={Dh:g^l,Dl:p^c}),({Dh:g,Dl:p}={Dh:nk(g,p),Dl:nN(g)}),({h,l:f}=nB(h,f,g,p)),({Bh:d,Bl:u}={Bh:d^h,Bl:u^f}),({Bh:d,Bl:u}={Bh:nC(d,u,24),Bl:nO(d,u,24)}),iW[2*e]=c,iW[2*e+1]=l,iW[2*t]=u,iW[2*t+1]=d,iW[2*r]=f,iW[2*r+1]=h,iW[2*n]=p,iW[2*n+1]=g}function iK(e,t,r,n,i,o){let a=i[o],s=i[o+1],c=iW[2*e],l=iW[2*e+1],u=iW[2*t],d=iW[2*t+1],f=iW[2*r],h=iW[2*r+1],p=iW[2*n],g=iW[2*n+1],m=nU(c,u,a);l=nj(m,l,d,s),c=0|m,({Dh:g,Dl:p}={Dh:g^l,Dl:p^c}),({Dh:g,Dl:p}={Dh:nC(g,p,16),Dl:nO(g,p,16)}),({h,l:f}=nB(h,f,g,p)),({Bh:d,Bl:u}={Bh:d^h,Bl:u^f}),({Bh:d,Bl:u}={Bh:nP(d,u,63),Bl:nT(d,u,63)}),iW[2*e]=c,iW[2*e+1]=l,iW[2*t]=u,iW[2*t+1]=d,iW[2*r]=f,iW[2*r+1]=h,iW[2*n]=p,iW[2*n+1]=g}class iY extends io{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,nV(e),nV(t),this.blockLen=e,this.outputLen=t,this.buffer=new Uint8Array(e),this.buffer32=nJ(this.buffer)}update(e){nK(this),nW(e=ir(e));let{blockLen:t,buffer:r,buffer32:n}=this,i=e.length,o=e.byteOffset,a=e.buffer;for(let s=0;s<i;){this.pos===t&&(n6(n),this.compress(n,0,!1),n6(n),this.pos=0);let c=Math.min(t-this.pos,i-s),l=o+s;if(c===t&&!(l%4)&&s+c<i){let e=new Uint32Array(a,l,Math.floor((i-s)/4));n6(e);for(let r=0;s+t<i;r+=n.length,s+=t)this.length+=t,this.compress(e,r,!1);n6(e);continue}r.set(e.subarray(s,s+c),this.pos),this.pos+=c,this.length+=c,s+=c}return this}digestInto(e){nK(this),nY(e,this);let{pos:t,buffer32:r}=this;this.finished=!0,nX(this.buffer.subarray(t)),n6(r),this.compress(r,0,!0),n6(r);let n=nJ(e);this.get().forEach((e,t)=>n[t]=n3(e))}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){let{buffer:t,length:r,finished:n,destroyed:i,outputLen:o,pos:a}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.buffer.set(t),e.destroyed=i,e.finished=n,e.length=r,e.pos=a,e.outputLen=o,e}clone(){return this._cloneInto()}}class iJ extends iY{constructor(e={}){let t=void 0===e.dkLen?64:e.dkLen;super(128,t),this.v0l=0|iV[0],this.v0h=0|iV[1],this.v1l=0|iV[2],this.v1h=0|iV[3],this.v2l=0|iV[4],this.v2h=0|iV[5],this.v3l=0|iV[6],this.v3h=0|iV[7],this.v4l=0|iV[8],this.v4h=0|iV[9],this.v5l=0|iV[10],this.v5h=0|iV[11],this.v6l=0|iV[12],this.v6h=0|iV[13],this.v7l=0|iV[14],this.v7h=0|iV[15],function(e,t={},r,n,i){if(nV(64),e<0||e>64)throw Error("outputLen bigger than keyLen");let{key:o,salt:a,personalization:s}=t;if(void 0!==o&&(o.length<1||o.length>64))throw Error("key length must be undefined or 1.."+r);if(void 0!==a&&16!==a.length)throw Error("salt must be undefined or 16");if(void 0!==s&&16!==s.length)throw Error("personalization must be undefined or 16")}(t,e,64,0,0);let{key:r,personalization:n,salt:i}=e,o=0;if(void 0!==r&&(o=(r=ir(r)).length),this.v0l^=this.outputLen|o<<8|16842752,void 0!==i){let e=nJ(i=ir(i));this.v4l^=n3(e[0]),this.v4h^=n3(e[1]),this.v5l^=n3(e[2]),this.v5h^=n3(e[3])}if(void 0!==n){let e=nJ(n=ir(n));this.v6l^=n3(e[0]),this.v6h^=n3(e[1]),this.v7l^=n3(e[2]),this.v7h^=n3(e[3])}if(void 0!==r){let e=new Uint8Array(this.blockLen);e.set(r),this.update(e)}}get(){let{v0l:e,v0h:t,v1l:r,v1h:n,v2l:i,v2h:o,v3l:a,v3h:s,v4l:c,v4h:l,v5l:u,v5h:d,v6l:f,v6h:h,v7l:p,v7h:g}=this;return[e,t,r,n,i,o,a,s,c,l,u,d,f,h,p,g]}set(e,t,r,n,i,o,a,s,c,l,u,d,f,h,p,g){this.v0l=0|e,this.v0h=0|t,this.v1l=0|r,this.v1h=0|n,this.v2l=0|i,this.v2h=0|o,this.v3l=0|a,this.v3h=0|s,this.v4l=0|c,this.v4h=0|l,this.v5l=0|u,this.v5h=0|d,this.v6l=0|f,this.v6h=0|h,this.v7l=0|p,this.v7h=0|g}compress(e,t,r){this.get().forEach((e,t)=>iW[t]=e),iW.set(iV,16);let{h:n,l:i}=nA(BigInt(this.length));iW[24]=iV[8]^i,iW[25]=iV[9]^n,r&&(iW[28]=~iW[28],iW[29]=~iW[29]);let o=0;for(let r=0;r<12;r++)iZ(0,4,8,12,e,t+2*iH[o++]),iK(0,4,8,12,e,t+2*iH[o++]),iZ(1,5,9,13,e,t+2*iH[o++]),iK(1,5,9,13,e,t+2*iH[o++]),iZ(2,6,10,14,e,t+2*iH[o++]),iK(2,6,10,14,e,t+2*iH[o++]),iZ(3,7,11,15,e,t+2*iH[o++]),iK(3,7,11,15,e,t+2*iH[o++]),iZ(0,5,10,15,e,t+2*iH[o++]),iK(0,5,10,15,e,t+2*iH[o++]),iZ(1,6,11,12,e,t+2*iH[o++]),iK(1,6,11,12,e,t+2*iH[o++]),iZ(2,7,8,13,e,t+2*iH[o++]),iK(2,7,8,13,e,t+2*iH[o++]),iZ(3,4,9,14,e,t+2*iH[o++]),iK(3,4,9,14,e,t+2*iH[o++]);this.v0l^=iW[0]^iW[16],this.v0h^=iW[1]^iW[17],this.v1l^=iW[2]^iW[18],this.v1h^=iW[3]^iW[19],this.v2l^=iW[4]^iW[20],this.v2h^=iW[5]^iW[21],this.v3l^=iW[6]^iW[22],this.v3h^=iW[7]^iW[23],this.v4l^=iW[8]^iW[24],this.v4h^=iW[9]^iW[25],this.v5l^=iW[10]^iW[26],this.v5h^=iW[11]^iW[27],this.v6l^=iW[12]^iW[28],this.v6h^=iW[13]^iW[29],this.v7l^=iW[14]^iW[30],this.v7h^=iW[15]^iW[31],nX(iW)}destroy(){this.destroyed=!0,nX(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}let iX=function(e){let t=(t,r)=>e(r).update(ir(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t}(e=>new iJ(e));function iQ(e){let t=`Ethereum Signed Message:
${e.length}`,r=new TextEncoder().encode(t+e);return"0x"+rB.from(iS(r)).toString("hex")}async function i0(e,t,r,n,i,o){switch(r.t){case"eip191":return await function(e,t,r){let n=function(e){if(130!==e.length&&132!==e.length)throw new M({signature:e});let t=BigInt(_(e,0,32)),r=BigInt(_(e,32,64)),n=(()=>{let t=Number(`0x${e.slice(130)}`);if(!Number.isNaN(t))try{return function(e){if(0===e||27===e)return 0;if(1===e||28===e)return 1;if(e>=35)return e%2==0?1:0;throw new D({value:e})}(t)}catch{throw new R({value:t})}})();return void 0===n?{r:t,s:r}:{r:t,s:r,yParity:n}}(r);return(function(e,t={}){let r=tq(`0x${(function(e,t={}){tG(e);let{prefix:r,x:n,y:i}=e,{includePrefix:o=!0}=t;return function(...e){return`0x${e.reduce((e,t)=>e+t.replace("0x",""),"")}`}(o?A(r,{size:1}):"0x",A(n,{size:32}),"bigint"==typeof i?A(i,{size:32}):"0x")})(e).slice(4)}`).substring(26);return function(e,t={}){let{checksum:r=!1}=t;return(tX(e),r)?tQ(e):e}(`0x${r}`,t)})(function(e){let{payload:t,signature:r}=e,{r:n,s:i,yParity:o}=r;return function(e){let t=(()=>{if(function(e,t={}){let{strict:r=!1}=t;try{return!function(e,t={}){let{strict:r=!1}=t;if(!e||"string"!=typeof e)throw new O(e);if(r&&!/^0x[0-9a-fA-F]*$/.test(e)||!e.startsWith("0x"))throw new P(e)}(e,{strict:r}),!0}catch{return!1}}(e))return tH(e);if(function(e){try{return!function(e){if(!(e instanceof Uint8Array)&&(!e||"object"!=typeof e||!("BYTES_PER_ELEMENT"in e)||1!==e.BYTES_PER_ELEMENT||"Uint8Array"!==e.constructor.name))throw new tx(e)}(e),!0}catch{return!1}}(e))return tH(x(e));let{prefix:t,x:r,y:n}=e;return"bigint"==typeof r&&"bigint"==typeof n?{prefix:t??4,x:r,y:n}:{prefix:t,x:r}})();return tG(t),t}(new tb.Signature(BigInt(n),BigInt(i)).addRecoveryBit(o).recoverPublicKey(E(t).substring(2)))}({payload:iQ(t),signature:n})).toLowerCase()===e.toLowerCase()}(e,t,r.s);case"eip1271":return await i1(e,t,r.s,n,i,o);default:throw Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}async function i1(e,t,r,n,i,o){let a=rU(n);if(!a.namespace||!a.reference)throw Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${n}`);try{let a="0x1626ba7e",s=r.substring(2),c=(s.length/2).toString(16).padStart(64,"0"),l=(t.startsWith("0x")?t:iQ(t)).substring(2),u=await fetch(`${o||"https://rpc.walletconnect.org/v1"}/?chainId=${n}&projectId=${i}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:Date.now()+Math.floor(1e3*Math.random()),jsonrpc:"2.0",method:"eth_call",params:[{to:e,data:a+l+"0000000000000000000000000000000000000000000000000000000000000040"+c+s},"latest"]})}),{result:d}=await u.json();return!!d&&d.slice(0,a.length).toLowerCase()===a.toLowerCase()}catch(e){return console.error("isValidEip1271Signature: ",e),!1}}function i2(e){let t=atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);let n=r[0];if(0===n)throw Error("No signatures found");if(r.length<1+64*n)throw Error("Transaction data too short for claimed signature count");if(r.length<100)throw Error("Transaction too short");let i=rB.from(e,"base64").slice(1,65);return t3.encode(i)}function i3(e){let t=new Uint8Array(rB.from(e,"base64")),r=Array.from("TransactionData::").map(e=>e.charCodeAt(0)),n=new Uint8Array(r.length+t.length);n.set(r),n.set(t,r.length);let i=iX(n,{dkLen:32});return t3.encode(i)}function i6(e){let t=new Uint8Array(iF(function(e){if(e instanceof Uint8Array)return e;if(Array.isArray(e))return new Uint8Array(e);if("object"==typeof e&&null!=e&&e.data)return new Uint8Array(Object.values(e.data));if("object"==typeof e&&e)return new Uint8Array(Object.values(e));throw Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}(e)));return t3.encode(t)}function i5(e){var t;let r=(t=rB.from(e,"base64"),new rg(void 0).decode(t)).txn;if(!r)throw Error("Invalid signed transaction: missing 'txn' field");let n=new rm(void 0).encodeSharedRef(r),i=rB.from("TX"),o=iG(rB.concat([i,rB.from(n)]));return rP.encode(o).replace(/=+$/,"")}function i8(e){let t=[],r=BigInt(e);for(;r>=BigInt(128);)t.push(Number(r&BigInt(127)|BigInt(128))),r>>=BigInt(7);return t.push(Number(r)),rB.from(t)}function i4(e){let t=rB.from(e.signed.bodyBytes,"base64"),r=rB.from(e.signed.authInfoBytes,"base64"),n=rB.from(e.signature.signature,"base64"),i=[];i.push(rB.from([10])),i.push(i8(t.length)),i.push(t),i.push(rB.from([18])),i.push(i8(r.length)),i.push(r),i.push(rB.from([26])),i.push(i8(n.length)),i.push(n);let o=iF(rB.concat(i));return rB.from(o).toString("hex").toUpperCase()}function i9(e){var t,r;let n=[];try{if("string"==typeof e)return n.push(e),n;if("object"!=typeof e)return n;null!=e&&e.id&&n.push(e.id);let i=null==(r=null==(t=e?.capabilities)?void 0:t.caip345)?void 0:r.transactionHashes;i&&n.push(...i)}catch(e){console.warn("getWalletSendCallsHashes failed: ",e)}return n}var i7=Object.defineProperty,oe=Object.defineProperties,ot=Object.getOwnPropertyDescriptors,or=Object.getOwnPropertySymbols,on=Object.prototype.hasOwnProperty,oi=Object.prototype.propertyIsEnumerable,oo=(e,t,r)=>t in e?i7(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,oa=(e,t)=>{for(var r in t||(t={}))on.call(t,r)&&oo(e,r,t[r]);if(or)for(var r of or(t))oi.call(t,r)&&oo(e,r,t[r]);return e},os=(e,t)=>oe(e,ot(t));let oc="did:pkh:",ol={eip155:"Ethereum",solana:"Solana",bip122:"Bitcoin"},ou=e=>e?ol[e]||e:"",od=e=>e?.split(":"),of=e=>{let t=e&&od(e);if(t)return e.includes(oc)?t[3]:t[1]},oh=e=>{let t=e&&od(e);if(t)return e.includes(oc)?t[2]:t[0]},op=e=>{let t=e&&od(e);if(t)return t[2]+":"+t[3]},og=e=>{let t=e&&od(e);if(t)return t.pop()};async function om(e){let{cacao:t,projectId:r}=e,{s:n,p:i}=t,o=oy(i,i.iss),a=og(i.iss);return await i0(a,o,n,op(i.iss),r)}let oy=(e,t)=>{let r=oh(t);if(!r)throw Error("Invalid issuer: "+t);let n=`${e.domain} wants you to sign in with your ${ou(r)} account:`,i=og(t);if(!e.aud&&!e.uri)throw Error("Either `aud` or `uri` is required to construct the message");let o=e.statement||void 0,a=`URI: ${e.aud||e.uri}`,s=`Version: ${e.version}`,c=`Chain ID: ${of(t)}`,l=`Nonce: ${e.nonce}`,u=`Issued At: ${e.iat}`,d=e.exp?`Expiration Time: ${e.exp}`:void 0,f=e.nbf?`Not Before: ${e.nbf}`:void 0,h=e.requestId?`Request ID: ${e.requestId}`:void 0,p=e.resources?`Resources:${e.resources.map(e=>`
- ${e}`).join("")}`:void 0,g=o_(e.resources);return g&&(o=function(e="",t){ob(t);let r="I further authorize the stated URI to perform the following actions on my behalf: ";if(e.includes(r))return e;let n=[],i=0;Object.keys(t.att).forEach(e=>{let r=Object.keys(t.att[e]).map(e=>({ability:e.split("/")[0],action:e.split("/")[1]}));r.sort((e,t)=>e.action.localeCompare(t.action));let o={};r.forEach(e=>{o[e.ability]||(o[e.ability]=[]),o[e.ability].push(e.action)});let a=Object.keys(o).map(t=>(i++,`(${i}) '${t}': '${o[t].join("', '")}' for '${e}'.`));n.push(a.join(", ").replace(".,","."))});let o=n.join(" "),a=`${r}${o}`;return`${e?e+" ":""}${a}`}(o,ov(g))),[n,i,"",o,"",a,s,c,l,u,d,f,h,p].filter(e=>null!=e).join(`
`)};function ob(e){if(!e)throw Error("No recap provided, value is undefined");if(!e.att)throw Error("No `att` property found");let t=Object.keys(e.att);if(!(null!=t&&t.length))throw Error("No resources found in `att` property");t.forEach(t=>{let r=e.att[t];if(Array.isArray(r)||"object"!=typeof r)throw Error(`Resource must be an object: ${t}`);if(!Object.keys(r).length)throw Error(`Resource object is empty: ${t}`);Object.keys(r).forEach(e=>{let t=r[e];if(!Array.isArray(t))throw Error(`Ability limits ${e} must be an array of objects, found: ${t}`);if(!t.length)throw Error(`Value of ${e} is empty array, must be an array with objects`);t.forEach(t=>{if("object"!=typeof t)throw Error(`Ability limits (${e}) must be an array of objects, found: ${t}`)})})})}function ow(e){return ob(e),`urn:recap:${rB.from(JSON.stringify(e)).toString("base64").replace(/=/g,"")}`}function ov(e){var t;let r=(t=e.replace("urn:recap:",""),JSON.parse(rB.from(t,"base64").toString("utf-8")));return ob(r),r}function oE(e,t,r){return ow(function(e,t,r,n={}){return r?.sort((e,t)=>e.localeCompare(t)),{att:{[e]:function(e,t,r={}){return Object.assign({},...(t=t?.sort((e,t)=>e.localeCompare(t))).map(t=>({[`${e}/${t}`]:[r]})))}(t,r,n)}}}(e,t,r))}function ox(e,t){return ow(function(e,t){ob(e),ob(t);let r=Object.keys(e.att).concat(Object.keys(t.att)).sort((e,t)=>e.localeCompare(t)),n={att:{}};return r.forEach(r=>{var i,o;Object.keys((null==(i=e.att)?void 0:i[r])||{}).concat(Object.keys((null==(o=t.att)?void 0:o[r])||{})).sort((e,t)=>e.localeCompare(t)).forEach(i=>{var o,a;n.att[r]=os(oa({},n.att[r]),{[i]:(null==(o=e.att[r])?void 0:o[i])||(null==(a=t.att[r])?void 0:a[i])})})}),n}(ov(e),ov(t)))}function oA(e){var t;let r=ov(e);ob(r);let n=null==(t=r.att)?void 0:t.eip155;return n?Object.keys(n).map(e=>e.split("/")[1]):[]}function oS(e){let t=ov(e);ob(t);let r=[];return Object.values(t.att).forEach(e=>{Object.values(e).forEach(e=>{var t;null!=(t=e?.[0])&&t.chains&&r.push(e[0].chains)})}),[...new Set(r.flat())]}function o_(e){if(!e)return;let t=e?.[e.length-1];return t&&t.includes("urn:recap:")?t:void 0}function oI(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function oC(e){if("boolean"!=typeof e)throw Error(`boolean expected, not ${e}`)}function oO(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function oP(e,...t){if(!oI(e))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function oT(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function ok(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function oN(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}let oM=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];function oR(e){if("string"==typeof e)e=function(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}(e);else if(oI(e))e=oB(e);else throw Error("Uint8Array expected, got "+typeof e);return e}function oD(e,t,r=!0){if(void 0===t)return new Uint8Array(e);if(t.length!==e)throw Error("invalid output length, expected "+e+", got: "+t.length);if(r&&t.byteOffset%4!=0)throw Error("invalid output, must be aligned");return t}function oL(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),o=BigInt(4294967295),a=Number(r>>i&o),s=Number(r&o),c=n?4:0,l=n?0:4;e.setUint32(t+c,a,n),e.setUint32(t+l,s,n)}function oB(e){return Uint8Array.from(e)}let oU=e=>Uint8Array.from(e.split("").map(e=>e.charCodeAt(0))),oj=oU("expand 16-byte k"),o$=oU("expand 32-byte k"),oF=ok(oj),oz=ok(o$);function oq(e,t){return e<<t|e>>>32-t}function oG(e){return e.byteOffset%4==0}let oH=4294967296-1,oV=new Uint32Array,oW=(e,t)=>255&e[t++]|(255&e[t++])<<8;class oZ{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,oP(e=oR(e),32);let t=oW(e,0),r=oW(e,2),n=oW(e,4),i=oW(e,6),o=oW(e,8),a=oW(e,10),s=oW(e,12),c=oW(e,14);this.r[0]=8191&t,this.r[1]=(t>>>13|r<<3)&8191,this.r[2]=(r>>>10|n<<6)&7939,this.r[3]=(n>>>7|i<<9)&8191,this.r[4]=(i>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|s<<5)&8065,this.r[8]=(s>>>8|c<<8)&8191,this.r[9]=c>>>5&127;for(let t=0;t<8;t++)this.pad[t]=oW(e,16+2*t)}process(e,t,r=!1){let{h:n,r:i}=this,o=i[0],a=i[1],s=i[2],c=i[3],l=i[4],u=i[5],d=i[6],f=i[7],h=i[8],p=i[9],g=oW(e,t+0),m=oW(e,t+2),y=oW(e,t+4),b=oW(e,t+6),w=oW(e,t+8),v=oW(e,t+10),E=oW(e,t+12),x=oW(e,t+14),A=n[0]+(8191&g),S=n[1]+((g>>>13|m<<3)&8191),_=n[2]+((m>>>10|y<<6)&8191),I=n[3]+((y>>>7|b<<9)&8191),C=n[4]+((b>>>4|w<<12)&8191),O=n[5]+(w>>>1&8191),P=n[6]+((w>>>14|v<<2)&8191),T=n[7]+((v>>>11|E<<5)&8191),k=n[8]+((E>>>8|x<<8)&8191),N=n[9]+(x>>>5|(r?0:2048)),M=0,R=0+A*o+5*p*S+5*h*_+5*f*I+5*d*C;M=R>>>13,R&=8191,R+=5*u*O+5*l*P+5*c*T+5*s*k+5*a*N,M+=R>>>13,R&=8191;let D=M+A*a+S*o+5*p*_+5*h*I+5*f*C;M=D>>>13,D&=8191,D+=5*d*O+5*u*P+5*l*T+5*c*k+5*s*N,M+=D>>>13,D&=8191;let L=M+A*s+S*a+_*o+5*p*I+5*h*C;M=L>>>13,L&=8191,L+=5*f*O+5*d*P+5*u*T+5*l*k+5*c*N,M+=L>>>13,L&=8191;let B=M+A*c+S*s+_*a+I*o+5*p*C;M=B>>>13,B&=8191,B+=5*h*O+5*f*P+5*d*T+5*u*k+5*l*N,M+=B>>>13,B&=8191;let U=M+A*l+S*c+_*s+I*a+C*o;M=U>>>13,U&=8191,U+=5*p*O+5*h*P+5*f*T+5*d*k+5*u*N,M+=U>>>13,U&=8191;let j=M+A*u+S*l+_*c+I*s+C*a;M=j>>>13,j&=8191,j+=O*o+5*p*P+5*h*T+5*f*k+5*d*N,M+=j>>>13,j&=8191;let $=M+A*d+S*u+_*l+I*c+C*s;M=$>>>13,$&=8191,$+=O*a+P*o+5*p*T+5*h*k+5*f*N,M+=$>>>13,$&=8191;let F=M+A*f+S*d+_*u+I*l+C*c;M=F>>>13,F&=8191,F+=O*s+P*a+T*o+5*p*k+5*h*N,M+=F>>>13,F&=8191;let z=M+A*h+S*f+_*d+I*u+C*l;M=z>>>13,z&=8191,z+=O*c+P*s+T*a+k*o+5*p*N,M+=z>>>13,z&=8191;let q=M+A*p+S*h+_*f+I*d+C*u;M=q>>>13,q&=8191,q+=O*l+P*c+T*s+k*a+N*o,M+=q>>>13,q&=8191,R=8191&(M=(M=(M<<2)+M|0)+R|0),M>>>=13,D+=M,n[0]=R,n[1]=D,n[2]=L,n[3]=B,n[4]=U,n[5]=j,n[6]=$,n[7]=F,n[8]=z,n[9]=q}finalize(){let{h:e,pad:t}=this,r=new Uint16Array(10),n=e[1]>>>13;e[1]&=8191;for(let t=2;t<10;t++)e[t]+=n,n=e[t]>>>13,e[t]&=8191;e[0]+=5*n,n=e[0]>>>13,e[0]&=8191,e[1]+=n,n=e[1]>>>13,e[1]&=8191,e[2]+=n,r[0]=e[0]+5,n=r[0]>>>13,r[0]&=8191;for(let t=1;t<10;t++)r[t]=e[t]+n,n=r[t]>>>13,r[t]&=8191;r[9]-=8192;let i=(1^n)-1;for(let e=0;e<10;e++)r[e]&=i;i=~i;for(let t=0;t<10;t++)e[t]=e[t]&i|r[t];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+t[0];e[0]=65535&o;for(let r=1;r<8;r++)o=(e[r]+t[r]|0)+(o>>>16)|0,e[r]=65535&o;oN(r)}update(e){oT(this),oP(e=oR(e));let{buffer:t,blockLen:r}=this,n=e.length;for(let i=0;i<n;){let o=Math.min(r-this.pos,n-i);if(o===r){for(;r<=n-i;i+=r)this.process(e,i);continue}t.set(e.subarray(i,i+o),this.pos),this.pos+=o,i+=o,this.pos===r&&(this.process(t,0,!1),this.pos=0)}return this}destroy(){oN(this.h,this.r,this.buffer,this.pad)}digestInto(e){oT(this),function(e,t){oP(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}(e,this),this.finished=!0;let{buffer:t,h:r}=this,{pos:n}=this;if(n){for(t[n++]=1;n<16;n++)t[n]=0;this.process(t,0,!0)}this.finalize();let i=0;for(let t=0;t<8;t++)e[i++]=r[t]>>>0,e[i++]=r[t]>>>8;return e}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}}let oK=function(e){let t=(t,r)=>e(r).update(oR(t)).digest(),r=e(new Uint8Array(32));return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t}(e=>new oZ(e)),oY=function(e,t){let{allowShortKeys:r,extendNonceFn:n,counterLength:i,counterRight:o,rounds:a}=function(e,t){if(null==t||"object"!=typeof t)throw Error("options must be defined");return Object.assign(e,t)}({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if("function"!=typeof e)throw Error("core must be a function");return oO(i),oO(a),oC(o),oC(r),(t,s,c,l,u=0)=>{oP(t),oP(s),oP(c);let d=c.length;if(void 0===l&&(l=new Uint8Array(d)),oP(l),oO(u),u<0||u>=oH)throw Error("arx: counter overflow");if(l.length<d)throw Error(`arx: output (${l.length}) is shorter than data (${d})`);let f=[],h=t.length,p,g;if(32===h)f.push(p=oB(t)),g=oz;else if(16===h&&r)(p=new Uint8Array(32)).set(t),p.set(t,16),g=oF,f.push(p);else throw Error(`arx: invalid 32-byte key, got length=${h}`);oG(s)||f.push(s=oB(s));let m=ok(p);if(n){if(24!==s.length)throw Error("arx: extended nonce must be 24 bytes");n(g,m,ok(s.subarray(0,16)),m),s=s.subarray(16)}let y=16-i;if(y!==s.length)throw Error(`arx: nonce must be ${y} or 16 bytes`);if(12!==y){let e=new Uint8Array(12);e.set(s,o?0:12-s.length),s=e,f.push(s)}return function(e,t,r,n,i,o,a,s){let c=i.length,l=new Uint8Array(64),u=ok(l),d=oG(i)&&oG(o),f=d?ok(i):oV,h=d?ok(o):oV;for(let p=0;p<c;a++){if(e(t,r,n,u,a,s),a>=oH)throw Error("arx: counter overflow");let g=Math.min(64,c-p);if(d&&64===g){let e=p/4;if(p%4!=0)throw Error("arx: invalid block position");for(let t=0,r;t<16;t++)h[r=e+t]=f[r]^u[t];p+=64;continue}for(let e=0,t;e<g;e++)o[t=p+e]=i[t]^l[e];p+=g}}(e,g,m,ok(s),c,l,u,a),oN(...f),l}}(function(e,t,r,n,i,o=20){let a=e[0],s=e[1],c=e[2],l=e[3],u=t[0],d=t[1],f=t[2],h=t[3],p=t[4],g=t[5],m=t[6],y=t[7],b=r[0],w=r[1],v=r[2],E=a,x=s,A=c,S=l,_=u,I=d,C=f,O=h,P=p,T=g,k=m,N=y,M=i,R=b,D=w,L=v;for(let e=0;e<o;e+=2)P=P+(M=oq(M^(E=E+_|0),16))|0,E=E+(_=oq(_^P,12))|0,P=P+(M=oq(M^E,8))|0,_=oq(_^P,7),T=T+(R=oq(R^(x=x+I|0),16))|0,x=x+(I=oq(I^T,12))|0,T=T+(R=oq(R^x,8))|0,I=oq(I^T,7),k=k+(D=oq(D^(A=A+C|0),16))|0,A=A+(C=oq(C^k,12))|0,k=k+(D=oq(D^A,8))|0,C=oq(C^k,7),N=N+(L=oq(L^(S=S+O|0),16))|0,S=S+(O=oq(O^N,12))|0,N=N+(L=oq(L^S,8))|0,O=oq(O^N,7),k=k+(L=oq(L^(E=E+I|0),16))|0,E=E+(I=oq(I^k,12))|0,k=k+(L=oq(L^E,8))|0,I=oq(I^k,7),N=N+(M=oq(M^(x=x+C|0),16))|0,x=x+(C=oq(C^N,12))|0,N=N+(M=oq(M^x,8))|0,C=oq(C^N,7),P=P+(R=oq(R^(A=A+O|0),16))|0,A=A+(O=oq(O^P,12))|0,P=P+(R=oq(R^A,8))|0,O=oq(O^P,7),T=T+(D=oq(D^(S=S+_|0),16))|0,S=S+(_=oq(_^T,12))|0,T=T+(D=oq(D^S,8))|0,_=oq(_^T,7);let B=0;n[B++]=a+E|0,n[B++]=s+x|0,n[B++]=c+A|0,n[B++]=l+S|0,n[B++]=u+_|0,n[B++]=d+I|0,n[B++]=f+C|0,n[B++]=h+O|0,n[B++]=p+P|0,n[B++]=g+T|0,n[B++]=m+k|0,n[B++]=y+N|0,n[B++]=i+M|0,n[B++]=b+R|0,n[B++]=w+D|0,n[B++]=v+L|0},{counterRight:!1,counterLength:4,allowShortKeys:!1}),oJ=new Uint8Array(16),oX=(e,t)=>{e.update(t);let r=t.length%16;r&&e.update(oJ.subarray(r))},oQ=new Uint8Array(32);function o0(e,t,r,n,i){let o=e(t,r,oQ),a=oK.create(o);i&&oX(a,i),oX(a,n);let s=function(e,t,r){oC(r);let n=new Uint8Array(16),i=new DataView(n.buffer,n.byteOffset,n.byteLength);return oL(i,0,BigInt(t),r),oL(i,8,BigInt(e),r),n}(n.length,i?i.length:0,!0);a.update(s);let c=a.digest();return oN(o,s),c}let o1=((e,t)=>{function r(n,...i){if(oP(n),!oM)throw Error("Non little-endian hardware is not yet supported");if(void 0!==e.nonceLength){let t=i[0];if(!t)throw Error("nonce / iv required");e.varSizeNonce?oP(t):oP(t,e.nonceLength)}let o=e.tagLength;o&&void 0!==i[1]&&oP(i[1]);let a=t(n,...i),s=(e,t)=>{if(void 0!==t){if(2!==e)throw Error("cipher output not supported");oP(t)}},c=!1;return{encrypt(e,t){if(c)throw Error("cannot encrypt() twice with same key + nonce");return c=!0,oP(e),s(a.encrypt.length,t),a.encrypt(e,t)},decrypt(e,t){if(oP(e),o&&e.length<o)throw Error("invalid ciphertext length: smaller than tagLength="+o);return s(a.decrypt.length,t),a.decrypt(e,t)}}}return Object.assign(r,e),r})({blockSize:64,nonceLength:12,tagLength:16},(e,t,r)=>({encrypt(n,i){let o=n.length;(i=oD(o+16,i,!1)).set(n);let a=i.subarray(0,-16);oY(e,t,a,a,1);let s=o0(oY,e,t,a,r);return i.set(s,o),oN(s),i},decrypt(n,i){i=oD(n.length-16,i,!1);let o=n.subarray(0,-16),a=n.subarray(-16),s=o0(oY,e,t,o,r);if(!function(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return 0===r}(a,s))throw Error("invalid tag");return i.set(n.subarray(0,-16)),oY(e,t,i,i,1),oN(s),i}}));class o2 extends io{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,nZ(e);let r=ir(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),nX(i)}update(e){return nK(this),this.iHash.update(e),this}digestInto(e){nK(this),nW(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:o,outputLen:a}=this;return e.finished=n,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let o3=(e,t,r)=>new o2(e,t).update(r).digest();o3.create=(e,t)=>new o2(e,t);let o6=Uint8Array.from([0]),o5=Uint8Array.of(),o8=(e,t,r,n,i)=>{var o;return function(e,t,r,n=32){nZ(e),nV(n);let i=e.outputLen;if(n>255*i)throw Error("Length should be <= 255*HashLen");let o=Math.ceil(n/i);void 0===r&&(r=o5);let a=new Uint8Array(o*i),s=o3.create(e,t),c=s._cloneInto(),l=new Uint8Array(s.outputLen);for(let e=0;e<o;e++)o6[0]=e+1,c.update(0===e?o5:l).update(r).update(o6).digestInto(l),a.set(l,i*e),s._cloneInto(c);return s.destroy(),c.destroy(),nX(l,o6),a.slice(0,n)}(e,(o=r,nZ(e),void 0===o&&(o=new Uint8Array(e.outputLen)),o3(e,ir(o),ir(t))),n,i)},o4=BigInt(0),o9=BigInt(1);function o7(e,t=""){if("boolean"!=typeof e)throw Error((t&&`"${t}"`)+"expected boolean, got type="+typeof e);return e}function ae(e,t,r=""){let n=nH(e),i=e?.length,o=void 0!==t;if(!n||o&&i!==t)throw Error((r&&`"${r}" `)+"expected Uint8Array"+(o?` of length ${t}`:"")+", got "+(n?`length=${i}`:`type=${typeof e}`));return e}function at(e){let t=e.toString(16);return 1&t.length?"0"+t:t}function ar(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return""===e?o4:BigInt("0x"+e)}function an(e){return nW(e),ar(n4(Uint8Array.from(e).reverse()))}function ai(e,t){return ie(e.toString(16).padStart(2*t,"0"))}function ao(e,t){return ai(e,t).reverse()}function aa(e,t,r){let n;if("string"==typeof t)try{n=ie(t)}catch(t){throw Error(e+" must be hex string or Uint8Array, cause: "+t)}else if(nH(t))n=Uint8Array.from(t);else throw Error(e+" must be hex string or Uint8Array");let i=n.length;if("number"==typeof r&&i!==r)throw Error(e+" of length "+r+" expected, got "+i);return n}let as=e=>"bigint"==typeof e&&o4<=e;function ac(e,t,r,n){if(!(as(t)&&as(r)&&as(n))||!(r<=t)||!(t<n))throw Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function al(e){let t;for(t=0;e>o4;e>>=o9,t+=1);return t}let au=e=>(o9<<BigInt(e))-o9;function ad(e,t,r={}){if(!e||"object"!=typeof e)throw Error("expected valid options object");function n(t,r,n){let i=e[t];if(n&&void 0===i)return;let o=typeof i;if(o!==r||null===i)throw Error(`param "${t}" is invalid: expected ${r}, got ${o}`)}Object.entries(t).forEach(([e,t])=>n(e,t,!1)),Object.entries(r).forEach(([e,t])=>n(e,t,!0))}function af(e){let t=new WeakMap;return(r,...n)=>{let i=t.get(r);if(void 0!==i)return i;let o=e(r,...n);return t.set(r,o),o}}let ah=BigInt(0),ap=BigInt(1),ag=BigInt(2),am=BigInt(3),ay=BigInt(4),ab=BigInt(5),aw=BigInt(7),av=BigInt(8),aE=BigInt(9),ax=BigInt(16);function aA(e,t){let r=e%t;return r>=ah?r:t+r}function aS(e,t,r){let n=e;for(;t-- >ah;)n*=n,n%=r;return n}function a_(e,t){if(e===ah)throw Error("invert: expected non-zero number");if(t<=ah)throw Error("invert: expected positive modulus, got "+t);let r=aA(e,t),n=t,i=ah,o=ap;for(;r!==ah;){let e=n/r,t=n%r,a=i-o*e;n=r,r=t,i=o,o=a}if(n!==ap)throw Error("invert: does not exist");return aA(i,t)}function aI(e,t,r){if(!e.eql(e.sqr(t),r))throw Error("Cannot find square root")}function aC(e,t){let r=(e.ORDER+ap)/ay,n=e.pow(t,r);return aI(e,n,t),n}function aO(e,t){let r=(e.ORDER-ab)/av,n=e.mul(t,ag),i=e.pow(n,r),o=e.mul(t,i),a=e.mul(e.mul(o,ag),i),s=e.mul(o,e.sub(a,e.ONE));return aI(e,s,t),s}function aP(e){if(e<am)throw Error("sqrt is not defined for small field");let t=e-ap,r=0;for(;t%ag===ah;)t/=ag,r++;let n=ag,i=aR(e);for(;1===aN(i,n);)if(n++>1e3)throw Error("Cannot find square root: probably non-prime P");if(1===r)return aC;let o=i.pow(n,t),a=(t+ap)/ag;return function(e,n){if(e.is0(n))return n;if(1!==aN(e,n))throw Error("Cannot find square root");let i=r,s=e.mul(e.ONE,o),c=e.pow(n,t),l=e.pow(n,a);for(;!e.eql(c,e.ONE);){if(e.is0(c))return e.ZERO;let t=1,r=e.sqr(c);for(;!e.eql(r,e.ONE);)if(t++,r=e.sqr(r),t===i)throw Error("Cannot find square root");let n=ap<<BigInt(i-t-1),o=e.pow(s,n);i=t,s=e.sqr(o),c=e.mul(c,s),l=e.mul(l,o)}return l}}let aT=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ak(e,t,r=!1){let n=Array(t.length).fill(r?e.ZERO:void 0),i=t.reduce((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r)),e.ONE),o=e.inv(i);return t.reduceRight((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r)),o),n}function aN(e,t){let r=(e.ORDER-ap)/ag,n=e.pow(t,r),i=e.eql(n,e.ONE),o=e.eql(n,e.ZERO),a=e.eql(n,e.neg(e.ONE));if(!i&&!o&&!a)throw Error("invalid Legendre symbol result");return i?1:o?0:-1}function aM(e,t){void 0!==t&&nV(t);let r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function aR(e,t,r=!1,n={}){let i;if(e<=ah)throw Error("invalid field: expected ORDER > 0, got "+e);let o,a,s=!1,c;if("object"==typeof t&&null!=t){if(n.sqrt||r)throw Error("cannot specify opts in two arguments");t.BITS&&(o=t.BITS),t.sqrt&&(a=t.sqrt),"boolean"==typeof t.isLE&&(r=t.isLE),"boolean"==typeof t.modFromBytes&&(s=t.modFromBytes),c=t.allowedLengths}else"number"==typeof t&&(o=t),n.sqrt&&(a=n.sqrt);let{nBitLength:l,nByteLength:u}=aM(e,o);if(u>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let d=Object.freeze({ORDER:e,isLE:r,BITS:l,BYTES:u,MASK:au(l),ZERO:ah,ONE:ap,allowedLengths:c,create:t=>aA(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error("invalid field element: expected bigint, got "+typeof t);return ah<=t&&t<e},is0:e=>e===ah,isValidNot0:e=>!d.is0(e)&&d.isValid(e),isOdd:e=>(e&ap)===ap,neg:t=>aA(-t,e),eql:(e,t)=>e===t,sqr:t=>aA(t*t,e),add:(t,r)=>aA(t+r,e),sub:(t,r)=>aA(t-r,e),mul:(t,r)=>aA(t*r,e),pow:(e,t)=>(function(e,t,r){if(r<ah)throw Error("invalid exponent, negatives unsupported");if(r===ah)return e.ONE;if(r===ap)return t;let n=e.ONE,i=t;for(;r>ah;)r&ap&&(n=e.mul(n,i)),i=e.sqr(i),r>>=ap;return n})(d,e,t),div:(t,r)=>aA(t*a_(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>a_(t,e),sqrt:a||(t=>(i||(i=e%ay===am?aC:e%av===ab?aO:e%ax===aE?function(e){let t=aR(e),r=aP(e),n=r(t,t.neg(t.ONE)),i=r(t,n),o=r(t,t.neg(n)),a=(e+aw)/ax;return(e,t)=>{let r=e.pow(t,a),s=e.mul(r,n),c=e.mul(r,i),l=e.mul(r,o),u=e.eql(e.sqr(s),t),d=e.eql(e.sqr(c),t);r=e.cmov(r,s,u),s=e.cmov(l,c,d);let f=e.eql(e.sqr(s),t),h=e.cmov(r,s,f);return aI(e,h,t),h}}(e):aP(e)),i(d,t))),toBytes:e=>r?ao(e,u):ai(e,u),fromBytes:(t,n=!0)=>{if(c){if(!c.includes(t.length)||t.length>u)throw Error("Field.fromBytes: expected "+c+" bytes, got "+t.length);let e=new Uint8Array(u);e.set(t,r?0:e.length-t.length),t=e}if(t.length!==u)throw Error("Field.fromBytes: expected "+u+" bytes, got "+t.length);let i=r?an(t):ar(n4(t));if(s&&(i=aA(i,e)),!n&&!d.isValid(i))throw Error("invalid field element: outside of range 0..ORDER");return i},invertBatch:e=>ak(d,e),cmov:(e,t,r)=>r?t:e});return Object.freeze(d)}function aD(e){if("bigint"!=typeof e)throw Error("field order must be bigint");return Math.ceil(e.toString(2).length/8)}function aL(e){let t=aD(e);return t+Math.ceil(t/2)}let aB=BigInt(0),aU=BigInt(1);function aj(e,t){let r=t.negate();return e?r:t}function a$(e,t){let r=ak(e.Fp,t.map(e=>e.Z));return t.map((t,n)=>e.fromAffine(t.toAffine(r[n])))}function aF(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw Error("invalid window size, expected [1.."+t+"], got W="+e)}function az(e,t){aF(e,t);let r=Math.ceil(t/e)+1,n=2**(e-1),i=2**e;return{windows:r,windowSize:n,mask:au(e),maxNumber:i,shiftBy:BigInt(e)}}function aq(e,t,r){let{windowSize:n,mask:i,maxNumber:o,shiftBy:a}=r,s=Number(e&i),c=e>>a;s>n&&(s-=o,c+=aU);let l=t*n;return{nextN:c,offset:l+Math.abs(s)-1,isZero:0===s,isNeg:s<0,isNegF:t%2!=0,offsetF:l}}let aG=new WeakMap,aH=new WeakMap;function aV(e){return aH.get(e)||1}function aW(e){if(e!==aB)throw Error("invalid wNAF")}class aZ{constructor(e,t){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=t}_unsafeLadder(e,t,r=this.ZERO){let n=e;for(;t>aB;)t&aU&&(r=r.add(n)),n=n.double(),t>>=aU;return r}precomputeWindow(e,t){let{windows:r,windowSize:n}=az(t,this.bits),i=[],o=e,a=o;for(let e=0;e<r;e++){a=o,i.push(a);for(let e=1;e<n;e++)a=a.add(o),i.push(a);o=a.double()}return i}wNAF(e,t,r){if(!this.Fn.isValid(r))throw Error("invalid scalar");let n=this.ZERO,i=this.BASE,o=az(e,this.bits);for(let e=0;e<o.windows;e++){let{nextN:a,offset:s,isZero:c,isNeg:l,isNegF:u,offsetF:d}=aq(r,e,o);r=a,c?i=i.add(aj(u,t[d])):n=n.add(aj(l,t[s]))}return aW(r),{p:n,f:i}}wNAFUnsafe(e,t,r,n=this.ZERO){let i=az(e,this.bits);for(let e=0;e<i.windows&&r!==aB;e++){let{nextN:o,offset:a,isZero:s,isNeg:c}=aq(r,e,i);if(r=o,!s){let e=t[a];n=n.add(c?e.negate():e)}}return aW(r),n}getPrecomputes(e,t,r){let n=aG.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&("function"==typeof r&&(n=r(n)),aG.set(t,n))),n}cached(e,t,r){let n=aV(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)}unsafe(e,t,r,n){let i=aV(e);return 1===i?this._unsafeLadder(e,t,n):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),t,n)}createCache(e,t){aF(t,this.bits),aH.set(e,t),aG.delete(e)}hasCache(e){return 1!==aV(e)}}function aK(e,t,r){if(!t)return aR(e,{isLE:r});if(t.ORDER!==e)throw Error("Field.ORDER must match order: Fp == p, Fn == n");return ad(t,aT.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"})),t}BigInt(0),BigInt(1),BigInt(2),BigInt(8),it("HashToScalar-");let aY=BigInt(0),aJ=BigInt(1),aX=BigInt(2),aQ=BigInt(1),a0=BigInt(2),a1=BigInt(3),a2=BigInt(5),a3=BigInt(8),a6=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed");function a5(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}let a8=aR({p:a6,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:a3,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")}.p,{isLE:!0}),a4=(()=>{let e=a8.ORDER;return function(e){let{P:t,type:r,adjustScalarBytes:n,powPminus2:i,randomBytes:o}=(ad(e,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...e})),a="x25519"===r;if(!a&&"x448"!==r)throw Error("invalid type");let s=o||is,c=a?255:448,l=a?32:56,u=BigInt(a?9:5),d=BigInt(a?121665:39081),f=a?aX**BigInt(254):aX**BigInt(447),h=f+(a?BigInt(8)*aX**BigInt(251)-aJ:BigInt(4)*aX**BigInt(445)-aJ)+aJ,p=e=>aA(e,t),g=ao(p(u),l);function m(e,r){let o=function(e,r){ac("u",e,aY,t),ac("scalar",r,f,h);let n=aJ,o=aY,a=e,s=aJ,l=aY;for(let t=BigInt(c-1);t>=aY;t--){let i=r>>t&aJ;l^=i,({x_2:n,x_3:a}=b(l,n,a)),({x_2:o,x_3:s}=b(l,o,s)),l=i;let c=n+o,u=p(c*c),f=n-o,h=p(f*f),g=u-h,m=a+s,y=p((a-s)*c),w=p(m*f),v=y+w,E=y-w;a=p(v*v),s=p(e*p(E*E)),n=p(u*h),o=p(g*(u+p(d*g)))}return{x_2:n,x_3:a}=b(l,n,a),{x_2:o,x_3:s}=b(l,o,s),p(n*i(o))}(function(e){let t=aa("u coordinate",e,l);return a&&(t[31]&=127),p(an(t))}(r),an(n(aa("scalar",e,l))));if(o===aY)throw Error("invalid private or public key received");return ao(p(o),l)}function y(e){return m(e,g)}function b(e,t,r){let n=p(e*(t-r));return{x_2:t=p(t-n),x_3:r=p(r+n)}}let w={secretKey:l,publicKey:l,seed:l},v=(e=s(l))=>(nW(e,w.seed),e);return{keygen:function(e){let t=v(e);return{secretKey:t,publicKey:y(t)}},getSharedSecret:(e,t)=>m(e,t),getPublicKey:e=>y(e),scalarMult:m,scalarMultBase:y,utils:{randomSecretKey:v,randomPrivateKey:v},GuBytes:g.slice(),lengths:w}}({P:e,type:"x25519",powPminus2:t=>{let{pow_p_5_8:r,b2:n}=function(e){let t=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),o=e*e%a6*e%a6,a=aS(o,a0,a6)*o%a6,s=aS(a,aQ,a6)*e%a6,c=aS(s,a2,a6)*s%a6,l=aS(c,t,a6)*c%a6,u=aS(l,r,a6)*l%a6,d=aS(u,n,a6)*u%a6,f=aS(d,i,a6)*d%a6,h=aS(f,i,a6)*d%a6,p=aS(h,t,a6)*c%a6;return{pow_p_5_8:aS(p,a0,a6)*e%a6,b2:o}}(t);return aA(aS(r,a1,e)*n,e)},adjustScalarBytes:a5})})(),a9=(e,t)=>(e+(e>=0?t:-t)/so)/t;function a7(e){if(!["compact","recovered","der"].includes(e))throw Error('Signature format must be "compact", "recovered", or "der"');return e}function se(e,t){let r={};for(let n of Object.keys(t))r[n]=void 0===e[n]?t[n]:e[n];return o7(r.lowS,"lowS"),o7(r.prehash,"prehash"),void 0!==r.format&&a7(r.format),r}class st extends Error{constructor(e=""){super(e)}}let sr={Err:st,_tlv:{encode:(e,t)=>{let{Err:r}=sr;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");let n=t.length/2,i=at(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");let o=n>127?at(i.length/2|128):"";return at(e)+o+i+t},decode(e,t){let{Err:r}=sr,n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");let i=t[n++],o=0;if(128&i){let e=127&i;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");let a=t.subarray(n,n+e);if(a.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===a[0])throw new r("tlv.decode(long): zero leftmost byte");for(let e of a)o=o<<8|e;if(n+=e,o<128)throw new r("tlv.decode(long): not minimal encoding")}else o=i;let a=t.subarray(n,n+o);if(a.length!==o)throw new r("tlv.decode: wrong value length");return{v:a,l:t.subarray(n+o)}}},_int:{encode(e){let{Err:t}=sr;if(e<sn)throw new t("integer: negative integers are not allowed");let r=at(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){let{Err:t}=sr;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return ar(n4(e))}},toSig(e){let{Err:t,_int:r,_tlv:n}=sr,i=aa("signature",e),{v:o,l:a}=n.decode(48,i);if(a.length)throw new t("invalid signature: left bytes after parsing");let{v:s,l:c}=n.decode(2,o),{v:l,l:u}=n.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(s),s:r.decode(l)}},hexFromSig(e){let{_tlv:t,_int:r}=sr,n=t.encode(2,r.encode(e.r)),i=t.encode(2,r.encode(e.s));return t.encode(48,n+i)}},sn=BigInt(0),si=BigInt(1),so=BigInt(2),sa=BigInt(3),ss=BigInt(4);function sc(e,t){let r;let{BYTES:n}=e;if("bigint"==typeof t)r=t;else{let i=aa("private key",t);try{r=e.fromBytes(i)}catch{throw Error(`invalid private key: expected ui8a of size ${n}, got ${typeof t}`)}}if(!e.isValidNot0(r))throw Error("invalid private key: out of range [1..N-1]");return r}function sl(e){return Uint8Array.of(e?2:3)}function su(e,t){return{secretKey:t.BYTES,publicKey:1+e.BYTES,publicKeyUncompressed:1+2*e.BYTES,publicKeyHasPrefix:!0,signature:2*t.BYTES}}function sd(e,t){let r=t=>(function(e){let{CURVE:t,curveOpts:r,hash:n,ecdsaOpts:i}=function(e){let{CURVE:t,curveOpts:r}=function(e){let t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},r=e.Fp,n=e.allowedPrivateKeyLengths?Array.from(new Set(e.allowedPrivateKeyLengths.map(e=>Math.ceil(e/2)))):void 0,i={Fp:r,Fn:aR(t.n,{BITS:e.nBitLength,allowedLengths:n,modFromBytes:e.wrapPrivateKey}),allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:i}}(e),n={hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:r,hash:e.hash,ecdsaOpts:n}}(e);return function(e,t){let r=t.Point;return Object.assign({},t,{ProjectivePoint:r,CURVE:Object.assign({},e,aM(r.Fn.ORDER,r.Fn.BITS))})}(e,function(e,t,r={}){nZ(t),ad(r,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});let n=r.randomBytes||is,i=r.hmac||((e,...r)=>o3(t,e,ii(...r))),{Fp:o,Fn:a}=e,{ORDER:s,BITS:c}=a,{keygen:l,getPublicKey:u,getSharedSecret:d,utils:f,lengths:h}=function(e,t={}){let{Fn:r}=e,n=t.randomBytes||is,i=Object.assign(su(e.Fp,r),{seed:aL(r.ORDER)});function o(e){try{return!!sc(r,e)}catch{return!1}}function a(e=n(i.seed)){return function(e,t,r=!1){let n=e.length,i=aD(t),o=aL(t);if(n<16||n<o||n>1024)throw Error("expected "+o+"-1024 bytes of input, got "+n);let a=aA(r?an(e):ar(n4(e)),t-ap)+ap;return r?ao(a,i):ai(a,i)}(ae(e,i.seed,"seed"),r.ORDER)}function s(t,n=!0){return e.BASE.multiply(sc(r,t)).toBytes(n)}function c(t){if("bigint"==typeof t)return!1;if(t instanceof e)return!0;let{secretKey:n,publicKey:o,publicKeyUncompressed:a}=i;if(r.allowedLengths||n===o)return;let s=aa("key",t).length;return s===o||s===a}return Object.freeze({getPublicKey:s,getSharedSecret:function(t,n,i=!0){if(!0===c(t))throw Error("first arg must be private key");if(!1===c(n))throw Error("second arg must be public key");let o=sc(r,t);return e.fromHex(n).multiply(o).toBytes(i)},keygen:function(e){let t=a(e);return{secretKey:t,publicKey:s(t)}},Point:e,utils:{isValidSecretKey:o,isValidPublicKey:function(t,r){let{publicKey:n,publicKeyUncompressed:o}=i;try{let i=t.length;return(!0!==r||i===n)&&(!1!==r||i===o)&&!!e.fromBytes(t)}catch{return!1}},randomSecretKey:a,isValidPrivateKey:o,randomPrivateKey:a,normPrivateKeyToScalar:e=>sc(r,e),precompute:(t=8,r=e.BASE)=>r.precompute(t,!1)},lengths:i})}(e,r),p={prehash:!1,lowS:"boolean"==typeof r.lowS&&r.lowS,format:void 0,extraEntropy:!1},g="compact";function m(e,t){if(!a.isValidNot0(t))throw Error(`invalid signature ${e}: out of range 1..Point.Fn.ORDER`);return t}class y{constructor(e,t,r){this.r=m("r",e),this.s=m("s",t),null!=r&&(this.recovery=r),Object.freeze(this)}static fromBytes(e,t=g){let r;if(!function(e,t){a7(t);let r=h.signature;ae(e,"compact"===t?r:"recovered"===t?r+1:void 0,`${t} signature`)}(e,t),"der"===t){let{r:t,s:r}=sr.toSig(ae(e));return new y(t,r)}"recovered"===t&&(r=e[0],t="compact",e=e.subarray(1));let n=a.BYTES,i=e.subarray(0,n),o=e.subarray(n,2*n);return new y(a.fromBytes(i),a.fromBytes(o),r)}static fromHex(e,t){return this.fromBytes(ie(e),t)}addRecoveryBit(e){return new y(this.r,this.s,e)}recoverPublicKey(t){let r=o.ORDER,{r:n,s:i,recovery:c}=this;if(null==c||![0,1,2,3].includes(c))throw Error("recovery id invalid");if(s*so<r&&c>1)throw Error("recovery id is ambiguous for h>1 curve");let l=2===c||3===c?n+s:n;if(!o.isValid(l))throw Error("recovery id 2 or 3 invalid");let u=o.toBytes(l),d=e.fromBytes(ii(sl((1&c)==0),u)),f=a.inv(l),h=w(aa("msgHash",t)),p=a.create(-h*f),g=a.create(i*f),m=e.BASE.multiplyUnsafe(p).add(d.multiplyUnsafe(g));if(m.is0())throw Error("point at infinify");return m.assertValidity(),m}hasHighS(){return this.s>s>>si}toBytes(e=g){if(a7(e),"der"===e)return ie(sr.hexFromSig(this));let t=a.toBytes(this.r),r=a.toBytes(this.s);if("recovered"===e){if(null==this.recovery)throw Error("recovery bit must be present");return ii(Uint8Array.of(this.recovery),t,r)}return ii(t,r)}toHex(e){return n4(this.toBytes(e))}assertValidity(){}static fromCompact(e){return y.fromBytes(aa("sig",e),"compact")}static fromDER(e){return y.fromBytes(aa("sig",e),"der")}normalizeS(){return this.hasHighS()?new y(this.r,a.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return n4(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return n4(this.toBytes("compact"))}}let b=r.bits2int||function(e){if(e.length>8192)throw Error("input is too large");let t=ar(n4(e)),r=8*e.length-c;return r>0?t>>BigInt(r):t},w=r.bits2int_modN||function(e){return a.create(b(e))},v=au(c);function E(e){return ac("num < 2^"+c,e,sn,v),a.toBytes(e)}function x(e,r){return ae(e,void 0,"message"),r?ae(t(e),void 0,"prehashed message"):e}return Object.freeze({keygen:l,getPublicKey:u,getSharedSecret:d,utils:f,lengths:h,Point:e,sign:function(r,o,c={}){let{seed:l,k2sig:u}=function(t,r,i){if(["recovered","canonical"].some(e=>e in i))throw Error("sign() legacy options not supported");let{lowS:o,prehash:c,extraEntropy:l}=se(i,p),u=w(t=x(t,c)),d=sc(a,r),f=[E(d),E(u)];if(null!=l&&!1!==l){let e=!0===l?n(h.secretKey):l;f.push(aa("extraEntropy",e))}return{seed:ii(...f),k2sig:function(t){let r=b(t);if(!a.isValidNot0(r))return;let n=a.inv(r),i=e.BASE.multiply(r).toAffine(),c=a.create(i.x);if(c===sn)return;let l=a.create(n*a.create(u+c*d));if(l===sn)return;let f=(i.x===c?0:2)|Number(i.y&si),h=l;return o&&l>s>>si&&(h=a.neg(l),f^=1),new y(c,h,f)}}}(r=aa("message",r),o,c);return(function(e,t,r){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let n=e=>new Uint8Array(e),i=e=>Uint8Array.of(e),o=n(e),a=n(e),s=0,c=()=>{o.fill(1),a.fill(0),s=0},l=(...e)=>r(a,o,...e),u=(e=n(0))=>{a=l(i(0),e),o=l(),0!==e.length&&(a=l(i(1),e),o=l())},d=()=>{if(s++>=1e3)throw Error("drbg: tried 1000 values");let e=0,r=[];for(;e<t;){let t=(o=l()).slice();r.push(t),e+=o.length}return ii(...r)};return(e,t)=>{let r;for(c(),u(e);!(r=t(d()));)u();return c(),r}})(t.outputLen,a.BYTES,i)(l,u)},verify:function(t,r,n,i={}){let{lowS:o,prehash:s,format:c}=se(i,p);if(n=aa("publicKey",n),r=x(aa("message",r),s),"strict"in i)throw Error("options.strict was renamed to lowS");let l=void 0===c?function(e){let t;let r="string"==typeof e||nH(e),n=!r&&null!==e&&"object"==typeof e&&"bigint"==typeof e.r&&"bigint"==typeof e.s;if(!r&&!n)throw Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(n)t=new y(e.r,e.s);else if(r){try{t=y.fromBytes(aa("sig",e),"der")}catch(e){if(!(e instanceof sr.Err))throw e}if(!t)try{t=y.fromBytes(aa("sig",e),"compact")}catch{return!1}}return t||!1}(t):y.fromBytes(aa("sig",t),c);if(!1===l)return!1;try{let t=e.fromBytes(n);if(o&&l.hasHighS())return!1;let{r:i,s:s}=l,c=w(r),u=a.inv(s),d=a.create(c*u),f=a.create(i*u),h=e.BASE.multiplyUnsafe(d).add(t.multiplyUnsafe(f));return!h.is0()&&a.create(h.x)===i}catch{return!1}},recoverPublicKey:function(e,t,r={}){let{prehash:n}=se(r,p);return t=x(t,n),y.fromBytes(e,"recovered").recoverPublicKey(t).toBytes()},Signature:y,hash:t})}(function(e,t={}){let r=function(e,t,r={},n){if(void 0===n&&(n="edwards"===e),!t||"object"!=typeof t)throw Error(`expected valid ${e} CURVE object`);for(let e of["p","n","h"]){let r=t[e];if(!("bigint"==typeof r&&r>aB))throw Error(`CURVE.${e} must be positive bigint`)}let i=aK(t.p,r.Fp,n),o=aK(t.n,r.Fn,n);for(let r of["Gx","Gy","a","weierstrass"===e?"b":"d"])if(!i.isValid(t[r]))throw Error(`CURVE.${r} must be valid field element of CURVE.Fp`);return{CURVE:t=Object.freeze(Object.assign({},t)),Fp:i,Fn:o}}("weierstrass",e,t),{Fp:n,Fn:i}=r,o=r.CURVE,{h:a,n:s}=o;ad(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});let{endo:c}=t;if(c&&(!n.is0(o.a)||"bigint"!=typeof c.beta||!Array.isArray(c.basises)))throw Error('invalid endo: expected "beta": bigint and "basises": array');let l=su(n,i);function u(){if(!n.isOdd)throw Error("compression is not supported: Field does not have .isOdd()")}let d=t.toBytes||function(e,t,r){let{x:i,y:o}=t.toAffine(),a=n.toBytes(i);return(o7(r,"isCompressed"),r)?(u(),ii(sl(!n.isOdd(o)),a)):ii(Uint8Array.of(4),a,n.toBytes(o))},f=t.fromBytes||function(e){ae(e,void 0,"Point");let{publicKey:t,publicKeyUncompressed:r}=l,i=e.length,o=e[0],a=e.subarray(1);if(i===t&&(2===o||3===o)){let e;let t=n.fromBytes(a);if(!n.isValid(t))throw Error("bad point: is not on curve, wrong x");let r=h(t);try{e=n.sqrt(r)}catch(e){throw Error("bad point: is not on curve, sqrt error"+(e instanceof Error?": "+e.message:""))}return u(),(1&o)==1!==n.isOdd(e)&&(e=n.neg(e)),{x:t,y:e}}if(i===r&&4===o){let e=n.BYTES,t=n.fromBytes(a.subarray(0,e)),r=n.fromBytes(a.subarray(e,2*e));if(!p(t,r))throw Error("bad point: is not on curve");return{x:t,y:r}}throw Error(`bad point: got length ${i}, expected compressed=${t} or uncompressed=${r}`)};function h(e){let t=n.sqr(e),r=n.mul(t,e);return n.add(n.add(r,n.mul(e,o.a)),o.b)}function p(e,t){let r=n.sqr(t),i=h(e);return n.eql(r,i)}if(!p(o.Gx,o.Gy))throw Error("bad curve params: generator point");let g=n.mul(n.pow(o.a,sa),ss),m=n.mul(n.sqr(o.b),BigInt(27));if(n.is0(n.add(g,m)))throw Error("bad curve params: a or b");function y(e,t,r=!1){if(!n.isValid(t)||r&&n.is0(t))throw Error(`bad point coordinate ${e}`);return t}function b(e){if(!(e instanceof A))throw Error("ProjectivePoint expected")}function w(e){if(!c||!c.basises)throw Error("no endo");return function(e,t,r){let[[n,i],[o,a]]=t,s=a9(a*e,r),c=a9(-i*e,r),l=e-s*n-c*o,u=-s*i-c*a,d=l<sn,f=u<sn;d&&(l=-l),f&&(u=-u);let h=au(Math.ceil(al(r)/2))+si;if(l<sn||l>=h||u<sn||u>=h)throw Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:d,k1:l,k2neg:f,k2:u}}(e,c.basises,i.ORDER)}let v=af((e,t)=>{let{X:r,Y:i,Z:o}=e;if(n.eql(o,n.ONE))return{x:r,y:i};let a=e.is0();null==t&&(t=a?n.ONE:n.inv(o));let s=n.mul(r,t),c=n.mul(i,t),l=n.mul(o,t);if(a)return{x:n.ZERO,y:n.ZERO};if(!n.eql(l,n.ONE))throw Error("invZ was invalid");return{x:s,y:c}}),E=af(e=>{if(e.is0()){if(t.allowInfinityPoint&&!n.is0(e.Y))return;throw Error("bad point: ZERO")}let{x:r,y:i}=e.toAffine();if(!n.isValid(r)||!n.isValid(i))throw Error("bad point: x or y not field elements");if(!p(r,i))throw Error("bad point: equation left != right");if(!e.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0});function x(e,t,r,i,o){return r=new A(n.mul(r.X,e),r.Y,r.Z),t=aj(i,t),r=aj(o,r),t.add(r)}class A{constructor(e,t,r){this.X=y("x",e),this.Y=y("y",t,!0),this.Z=y("z",r),Object.freeze(this)}static CURVE(){return o}static fromAffine(e){let{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw Error("invalid affine point");if(e instanceof A)throw Error("projective point not allowed");return n.is0(t)&&n.is0(r)?A.ZERO:new A(t,r,n.ONE)}static fromBytes(e){let t=A.fromAffine(f(ae(e,void 0,"point")));return t.assertValidity(),t}static fromHex(e){return A.fromBytes(aa("pointHex",e))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(e=8,t=!0){return _.createCache(this,e),t||this.multiply(sa),this}assertValidity(){E(this)}hasEvenY(){let{y:e}=this.toAffine();if(!n.isOdd)throw Error("Field doesn't support isOdd");return!n.isOdd(e)}equals(e){b(e);let{X:t,Y:r,Z:i}=this,{X:o,Y:a,Z:s}=e,c=n.eql(n.mul(t,s),n.mul(o,i)),l=n.eql(n.mul(r,s),n.mul(a,i));return c&&l}negate(){return new A(this.X,n.neg(this.Y),this.Z)}double(){let{a:e,b:t}=o,r=n.mul(t,sa),{X:i,Y:a,Z:s}=this,c=n.ZERO,l=n.ZERO,u=n.ZERO,d=n.mul(i,i),f=n.mul(a,a),h=n.mul(s,s),p=n.mul(i,a);return p=n.add(p,p),u=n.mul(i,s),u=n.add(u,u),c=n.mul(e,u),l=n.mul(r,h),l=n.add(c,l),c=n.sub(f,l),l=n.add(f,l),l=n.mul(c,l),c=n.mul(p,c),u=n.mul(r,u),h=n.mul(e,h),p=n.sub(d,h),p=n.mul(e,p),p=n.add(p,u),u=n.add(d,d),d=n.add(u,d),d=n.add(d,h),d=n.mul(d,p),l=n.add(l,d),h=n.mul(a,s),h=n.add(h,h),d=n.mul(h,p),c=n.sub(c,d),u=n.mul(h,f),u=n.add(u,u),new A(c,l,u=n.add(u,u))}add(e){b(e);let{X:t,Y:r,Z:i}=this,{X:a,Y:s,Z:c}=e,l=n.ZERO,u=n.ZERO,d=n.ZERO,f=o.a,h=n.mul(o.b,sa),p=n.mul(t,a),g=n.mul(r,s),m=n.mul(i,c),y=n.add(t,r),w=n.add(a,s);y=n.mul(y,w),w=n.add(p,g),y=n.sub(y,w),w=n.add(t,i);let v=n.add(a,c);return w=n.mul(w,v),v=n.add(p,m),w=n.sub(w,v),v=n.add(r,i),l=n.add(s,c),v=n.mul(v,l),l=n.add(g,m),v=n.sub(v,l),d=n.mul(f,w),l=n.mul(h,m),d=n.add(l,d),l=n.sub(g,d),d=n.add(g,d),u=n.mul(l,d),g=n.add(p,p),g=n.add(g,p),m=n.mul(f,m),w=n.mul(h,w),g=n.add(g,m),m=n.sub(p,m),m=n.mul(f,m),w=n.add(w,m),p=n.mul(g,w),u=n.add(u,p),p=n.mul(v,w),l=n.mul(y,l),l=n.sub(l,p),p=n.mul(y,g),d=n.mul(v,d),new A(l,u,d=n.add(d,p))}subtract(e){return this.add(e.negate())}is0(){return this.equals(A.ZERO)}multiply(e){let r,n;let{endo:o}=t;if(!i.isValidNot0(e))throw Error("invalid scalar: out of range");let a=e=>_.cached(this,e,e=>a$(A,e));if(o){let{k1neg:t,k1:i,k2neg:s,k2:c}=w(e),{p:l,f:u}=a(i),{p:d,f:f}=a(c);n=u.add(f),r=x(o.beta,l,d,t,s)}else{let{p:t,f:i}=a(e);r=t,n=i}return a$(A,[r,n])[0]}multiplyUnsafe(e){let{endo:r}=t;if(!i.isValid(e))throw Error("invalid scalar: out of range");if(e===sn||this.is0())return A.ZERO;if(e===si)return this;if(_.hasCache(this))return this.multiply(e);if(!r)return _.unsafe(this,e);{let{k1neg:t,k1:n,k2neg:i,k2:o}=w(e),{p1:a,p2:s}=function(e,t,r,n){let i=t,o=e.ZERO,a=e.ZERO;for(;r>aB||n>aB;)r&aU&&(o=o.add(i)),n&aU&&(a=a.add(i)),i=i.double(),r>>=aU,n>>=aU;return{p1:o,p2:a}}(A,this,n,o);return x(r.beta,a,s,t,i)}}multiplyAndAddUnsafe(e,t,r){let n=this.multiplyUnsafe(t).add(e.multiplyUnsafe(r));return n.is0()?void 0:n}toAffine(e){return v(this,e)}isTorsionFree(){let{isTorsionFree:e}=t;return a===si||(e?e(A,this):_.unsafe(this,s).is0())}clearCofactor(){let{clearCofactor:e}=t;return a===si?this:e?e(A,this):this.multiplyUnsafe(a)}isSmallOrder(){return this.multiplyUnsafe(a).is0()}toBytes(e=!0){return o7(e,"isCompressed"),this.assertValidity(),d(A,this,e)}toHex(e=!0){return n4(this.toBytes(e))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(e=!0){return this.toBytes(e)}_setWindowSize(e){this.precompute(e)}static normalizeZ(e){return a$(A,e)}static msm(e,t){return function(e,t,r,n){(function(e,t){if(!Array.isArray(e))throw Error("array expected");e.forEach((e,r)=>{if(!(e instanceof t))throw Error("invalid point at index "+r)})})(r,e),function(e,t){if(!Array.isArray(e))throw Error("array of scalars expected");e.forEach((e,r)=>{if(!t.isValid(e))throw Error("invalid scalar at index "+r)})}(n,t);let i=r.length,o=n.length;if(i!==o)throw Error("arrays of points and scalars must have equal length");let a=e.ZERO,s=al(BigInt(i)),c=1;s>12?c=s-3:s>4?c=s-2:s>0&&(c=2);let l=au(c),u=Array(Number(l)+1).fill(a),d=Math.floor((t.BITS-1)/c)*c,f=a;for(let e=d;e>=0;e-=c){u.fill(a);for(let t=0;t<o;t++){let i=Number(n[t]>>BigInt(e)&l);u[i]=u[i].add(r[t])}let t=a;for(let e=u.length-1,r=a;e>0;e--)r=r.add(u[e]),t=t.add(r);if(f=f.add(t),0!==e)for(let e=0;e<c;e++)f=f.double()}return f}(A,i,e,t)}static fromPrivateKey(e){return A.BASE.multiply(sc(i,e))}}A.BASE=new A(o.Gx,o.Gy,n.ONE),A.ZERO=new A(n.ZERO,n.ONE,n.ZERO),A.Fp=n,A.Fn=i;let S=i.BITS,_=new aZ(A,t.endo?Math.ceil(S/2):S);return A.BASE.precompute(8),A}(t,r),n,i))})({...e,hash:t});return{...r(t),create:r}}let sf={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},sh={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},sp={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},sg=aR(sf.p),sm=aR(sh.p),sy=aR(sp.p),sb=sd({...sf,Fp:sg,lowS:!1},iF);sd({...sh,Fp:sm,lowS:!1},iq),sd({...sp,Fp:sy,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},iz);let sw="base10",sv="base16",sE="base64pad",sx="base64url",sA="utf8",sS=1,s_=2;function sI(){let e=a4.utils.randomPrivateKey(),t=a4.getPublicKey(e);return{privateKey:(0,rN.BB)(e,sv),publicKey:(0,rN.BB)(t,sv)}}function sC(){let e=is(32);return(0,rN.BB)(e,sv)}function sO(e,t){let r=o8(iF,a4.getSharedSecret((0,rN.mL)(e,sv),(0,rN.mL)(t,sv)),void 0,void 0,32);return(0,rN.BB)(r,sv)}function sP(e){let t=iF((0,rN.mL)(e,sv));return(0,rN.BB)(t,sv)}function sT(e){let t=iF((0,rN.mL)(e,sA));return(0,rN.BB)(t,sv)}function sk(e){return(0,rN.mL)(`${e}`,sw)}function sN(e){return Number((0,rN.BB)(e,sw))}function sM(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function sR(e){let t=e.replace(/-/g,"+").replace(/_/g,"/"),r=(4-t.length%4)%4;return t+"=".repeat(r)}function sD(e){let t=sk("u">typeof e.type?e.type:0);if(sN(t)===sS&&typeof e.senderPublicKey>"u")throw Error("Missing sender public key for type 1 envelope");let r="u">typeof e.senderPublicKey?(0,rN.mL)(e.senderPublicKey,sv):void 0,n="u">typeof e.iv?(0,rN.mL)(e.iv,sv):is(12),i=sj({type:t,sealed:o1((0,rN.mL)(e.symKey,sv),n).encrypt((0,rN.mL)(e.message,sA)),iv:n,senderPublicKey:r});return e.encoding===sx?sM(i):i}function sL(e){let t=(0,rN.mL)(e.symKey,sv),{sealed:r,iv:n}=s$({encoded:e.encoded,encoding:e.encoding}),i=o1(t,n).decrypt(r);if(null===i)throw Error("Failed to decrypt");return(0,rN.BB)(i,sA)}function sB(e,t){let r=sk(s_),n=is(12),i=sj({type:r,sealed:(0,rN.mL)(e,sA),iv:n});return t===sx?sM(i):i}function sU(e,t){let{sealed:r}=s$({encoded:e,encoding:t});return(0,rN.BB)(r,sA)}function sj(e){if(sN(e.type)===s_)return(0,rN.BB)((0,rN.zo)([e.type,e.sealed]),sE);if(sN(e.type)===sS){if(typeof e.senderPublicKey>"u")throw Error("Missing sender public key for type 1 envelope");return(0,rN.BB)((0,rN.zo)([e.type,e.senderPublicKey,e.iv,e.sealed]),sE)}return(0,rN.BB)((0,rN.zo)([e.type,e.iv,e.sealed]),sE)}function s$(e){let t=(e.encoding||sE)===sx?sR(e.encoded):e.encoded,r=(0,rN.mL)(t,sE),n=r.slice(0,1);if(sN(n)===sS){let e=r.slice(1,33),t=r.slice(33,45);return{type:n,sealed:r.slice(45),iv:t,senderPublicKey:e}}if(sN(n)===s_)return{type:n,sealed:r.slice(1),iv:is(12)};let i=r.slice(1,13);return{type:n,sealed:r.slice(13),iv:i}}function sF(e,t){let r=s$({encoded:e,encoding:t?.encoding});return sz({type:sN(r.type),senderPublicKey:"u">typeof r.senderPublicKey?(0,rN.BB)(r.senderPublicKey,sv):void 0,receiverPublicKey:t?.receiverPublicKey})}function sz(e){let t=e?.type||0;if(t===sS){if(typeof e?.senderPublicKey>"u")throw Error("missing sender public key");if(typeof e?.receiverPublicKey>"u")throw Error("missing receiver public key")}return{type:t,senderPublicKey:e?.senderPublicKey,receiverPublicKey:e?.receiverPublicKey}}function sq(e){return e.type===sS&&"string"==typeof e.senderPublicKey&&"string"==typeof e.receiverPublicKey}function sG(e){return e.type===s_}function sH(e,t){let[r,n,i]=e.split("."),o=rB.from(sR(i),"base64");if(64!==o.length)throw Error("Invalid signature length");let a=o.slice(0,32),s=o.slice(32,64),c=iF(`${r}.${n}`),l=function(e){let t=rB.from(e.x,"base64"),r=rB.from(e.y,"base64");return(0,rN.zo)([new Uint8Array([4]),t,r])}(t);if(!sb.verify((0,rN.zo)([a,s]),c,l))throw Error("Invalid signature");return(0,rk.xp)(e).payload}function sV(e){return e?.relay||{protocol:"irn"}}function sW(e){let t=rM[e];if(typeof t>"u")throw Error(`Relay Protocol not supported: ${e}`);return t}var sZ=Object.defineProperty,sK=Object.defineProperties,sY=Object.getOwnPropertyDescriptors,sJ=Object.getOwnPropertySymbols,sX=Object.prototype.hasOwnProperty,sQ=Object.prototype.propertyIsEnumerable,s0=(e,t,r)=>t in e?sZ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,s1=(e,t)=>{for(var r in t||(t={}))sX.call(t,r)&&s0(e,r,t[r]);if(sJ)for(var r of sJ(t))sQ.call(t,r)&&s0(e,r,t[r]);return e},s2=(e,t)=>sK(e,sY(t));function s3(e){var t;if(!e.includes("wc:")){let t=nb(e);null!=t&&t.includes("wc:")&&(e=t)}let r=(e=(e=e.includes("wc://")?e.replace("wc://",""):e).includes("wc:")?e.replace("wc:",""):e).indexOf(":"),n=-1!==e.indexOf("?")?e.indexOf("?"):void 0,i=e.substring(0,r),o=e.substring(r+1,n).split("@"),a=Object.fromEntries(new URLSearchParams("u">typeof n?e.substring(n):"").entries()),s="string"==typeof a.methods?a.methods.split(","):void 0;return{protocol:i,topic:(t=o[0]).startsWith("//")?t.substring(2):t,version:parseInt(o[1],10),symKey:a.symKey,relay:function(e,t="-"){let r={},n="relay"+t;return Object.keys(e).forEach(t=>{if(t.startsWith(n)){let i=t.replace(n,""),o=e[t];r[i]=o}}),r}(a),methods:s,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function s6(e){let t=new URLSearchParams;return Object.entries(s1(s1(s2(s1({},function(e,t="-"){let r={};return Object.keys(e).forEach(n=>{e[n]&&(r["relay"+t+n]=e[n])}),r}(e.relay)),{symKey:e.symKey}),e.expiryTimestamp&&{expiryTimestamp:e.expiryTimestamp.toString()}),e.methods&&{methods:e.methods.join(",")})).sort(([e],[t])=>e.localeCompare(t)).forEach(([e,r])=>{void 0!==r&&t.append(e,String(r))}),`${e.protocol}:${e.topic}@${e.version}?${t}`}function s5(e,t,r){return`${e}?wc_ev=${r}&topic=${t}`}var s8=Object.defineProperty,s4=Object.defineProperties,s9=Object.getOwnPropertyDescriptors,s7=Object.getOwnPropertySymbols,ce=Object.prototype.hasOwnProperty,ct=Object.prototype.propertyIsEnumerable,cr=(e,t,r)=>t in e?s8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,cn=(e,t)=>{for(var r in t||(t={}))ce.call(t,r)&&cr(e,r,t[r]);if(s7)for(var r of s7(t))ct.call(t,r)&&cr(e,r,t[r]);return e},ci=(e,t)=>s4(e,s9(t));function co(e){let t=[];return e.forEach(e=>{let[r,n]=e.split(":");t.push(`${r}:${n}`)}),t}function ca(e){let t=[];return Object.values(e).forEach(e=>{t.push(...co(e.accounts))}),[...new Set(t)]}function cs(e){let t=[];return Object.values(e).forEach(e=>{t.push(...e.methods)}),[...new Set(t)]}function cc(e){let t=[];return Object.values(e).forEach(e=>{t.push(...e.events)}),[...new Set(t)]}function cl(e){return e.includes(":")}function cu(e){var t,r,n;let i={};if(!cb(e))return i;for(let[o,a]of Object.entries(e)){let e=cl(o)?[o]:a.chains,s=a.methods||[],c=a.events||[],l=cl(o)?o.split(":")[0]:o;i[l]=ci(cn({},i[l]),{chains:nf(e,null==(t=i[l])?void 0:t.chains),methods:nf(s,null==(r=i[l])?void 0:r.methods),events:nf(c,null==(n=i[l])?void 0:n.events)})}return i}function cd(e,t){let r=function(e){let t={};return e?.forEach(e=>{var r;let[n,i]=e.split(":");t[n]||(t[n]={accounts:[],chains:[],events:[],methods:[]}),t[n].accounts.push(e),null==(r=t[n].chains)||r.push(`${n}:${i}`)}),t}(t=t.map(e=>e.replace("did:pkh:","")));for(let[t,n]of Object.entries(r))n.methods?n.methods=nf(n.methods,e):n.methods=e,n.events=["chainChanged","accountsChanged"];return r}function cf(e,t){var r,n,i,o,a,s;let c=cu(e),l=cu(t),u={};for(let e of Object.keys(c).concat(Object.keys(l)))u[e]={chains:nf(null==(r=c[e])?void 0:r.chains,null==(n=l[e])?void 0:n.chains),methods:nf(null==(i=c[e])?void 0:i.methods,null==(o=l[e])?void 0:o.methods),events:nf(null==(a=c[e])?void 0:a.events,null==(s=l[e])?void 0:s.events)};return u}let ch={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},cp={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function cg(e,t){let{message:r,code:n}=cp[e];return{message:t?`${r} ${t}`:r,code:n}}function cm(e,t){let{message:r,code:n}=ch[e];return{message:t?`${r} ${t}`:r,code:n}}function cy(e,t){return!!Array.isArray(e)&&(!("u">typeof t)||!e.length||e.every(t))}function cb(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function cw(e){return typeof e>"u"}function cv(e,t){return!!(t&&cw(e))||"string"==typeof e&&!!e.trim().length}function cE(e,t){return!!(t&&cw(e))||"number"==typeof e&&!isNaN(e)}function cx(e,t){let{requiredNamespaces:r}=t,n=Object.keys(e.namespaces),i=Object.keys(r),o=!0;return!!ne(i,n)&&(n.forEach(t=>{let{accounts:n,methods:i,events:a}=e.namespaces[t],s=co(n),c=r[t];ne(rF(t,c),s)&&ne(c.methods,i)&&ne(c.events,a)||(o=!1)}),o)}function cA(e){return!!(cv(e,!1)&&e.includes(":"))&&2===e.split(":").length}function cS(e){function t(e){try{return"u">typeof new URL(e)}catch{return!1}}try{if(cv(e,!1)){if(t(e))return!0;let r=nb(e);return t(r)}}catch{}return!1}function c_(e){var t;return null==(t=e?.proposer)?void 0:t.publicKey}function cI(e){return e?.topic}function cC(e,t){let r=null;return cv(e?.publicKey,!1)||(r=cg("MISSING_OR_INVALID",`${t} controller public key should be a string`)),r}function cO(e){let t=!0;return cy(e)?e.length&&(t=e.every(e=>cv(e,!1))):t=!1,t}function cP(e,t){let r=null;return Object.values(e).forEach(e=>{var n;let i;if(r)return;let o=(n=`${t}, namespace`,i=null,cO(e?.methods)?cO(e?.events)||(i=cm("UNSUPPORTED_EVENTS",`${n}, events should be an array of strings or empty array for no events`)):i=cm("UNSUPPORTED_METHODS",`${n}, methods should be an array of strings or empty array for no methods`),i);o&&(r=o)}),r}function cT(e,t,r){let n=null;if(e&&cb(e)){let i;let o=cP(e,t);o&&(n=o);let a=(i=null,Object.entries(e).forEach(([e,n])=>{var o,a;let s;if(i)return;let c=(o=rF(e,n),a=`${t} ${r}`,s=null,cy(o)&&o.length?o.forEach(e=>{s||cA(e)||(s=cm("UNSUPPORTED_CHAINS",`${a}, chain ${e} should be a string and conform to "namespace:chainId" format`))}):cA(e)||(s=cm("UNSUPPORTED_CHAINS",`${a}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),s);c&&(i=c)}),i);a&&(n=a)}else n=cg("MISSING_OR_INVALID",`${t}, ${r} should be an object with data`);return n}function ck(e,t){let r=null;if(e&&cb(e)){let n;let i=cP(e,t);i&&(r=i);let o=(n=null,Object.values(e).forEach(e=>{var r,i;let o;if(n)return;let a=(r=e?.accounts,i=`${t} namespace`,o=null,cy(r)?r.forEach(e=>{o||function(e){if(cv(e,!1)&&e.includes(":")){let t=e.split(":");if(3===t.length){let e=t[0]+":"+t[1];return!!t[2]&&cA(e)}}return!1}(e)||(o=cm("UNSUPPORTED_ACCOUNTS",`${i}, account ${e} should be a string and conform to "namespace:chainId:address" format`))}):o=cm("UNSUPPORTED_ACCOUNTS",`${i}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),o);a&&(n=a)}),n);o&&(r=o)}else r=cg("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return r}function cN(e){return cv(e.protocol,!0)}function cM(e,t){let r=!1;return t&&!e?r=!0:e&&cy(e)&&e.length&&e.forEach(e=>{r=cN(e)}),r}function cR(e){return"number"==typeof e}function cD(e){return"u">typeof e}function cL(e){return!(!e||"object"!=typeof e||!e.code||!cE(e.code,!1)||!e.message||!cv(e.message,!1))}function cB(e){return!(cw(e)||!cv(e.method,!1))}function cU(e){return!(cw(e)||cw(e.result)&&cw(e.error)||!cE(e.id,!1)||!cv(e.jsonrpc,!1))}function cj(e){return!(cw(e)||!cv(e.name,!1))}function c$(e,t){return!(!cA(t)||!ca(e).includes(t))}function cF(e,t,r){return!!cv(r,!1)&&(function(e,t){let r=[];return Object.values(e).forEach(e=>{co(e.accounts).includes(t)&&r.push(...e.methods)}),r})(e,t).includes(r)}function cz(e,t,r){return!!cv(r,!1)&&(function(e,t){let r=[];return Object.values(e).forEach(e=>{co(e.accounts).includes(t)&&r.push(...e.events)}),r})(e,t).includes(r)}function cq(e,t,r){let n=null,i=function(e){let t={};return Object.keys(e).forEach(r=>{var n;r.includes(":")?t[r]=e[r]:null==(n=e[r].chains)||n.forEach(n=>{t[n]={methods:e[r].methods,events:e[r].events}})}),t}(e),o=function(e){let t={};return Object.keys(e).forEach(r=>{if(r.includes(":"))t[r]=e[r];else{let n=co(e[r].accounts);n?.forEach(n=>{t[n]={accounts:e[r].accounts.filter(e=>e.includes(`${n}:`)),methods:e[r].methods,events:e[r].events}})}}),t}(t),a=Object.keys(i),s=Object.keys(o),c=cG(Object.keys(e)),l=cG(Object.keys(t)),u=c.filter(e=>!l.includes(e));return u.length&&(n=cg("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(t).toString()}`)),ne(a,s)||(n=cg("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${a.toString()}
      Approved: ${s.toString()}`)),Object.keys(t).forEach(e=>{if(!e.includes(":")||n)return;let i=co(t[e].accounts);i.includes(e)||(n=cg("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${e}
        Required: ${e}
        Approved: ${i.toString()}`))}),a.forEach(e=>{n||(ne(i[e].methods,o[e].methods)?ne(i[e].events,o[e].events)||(n=cg("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${e}`)):n=cg("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${e}`))}),n}function cG(e){return[...new Set(e.map(e=>e.includes(":")?e.split(":")[0]:e))]}function cH(e,t){return cE(e,!1)&&e<=t.max&&e>=t.min}function cV(){let e=r6();return new Promise(t=>{switch(e){case rX.browser:t(r3()&&navigator?.onLine);break;case rX.reactNative:t(cW());break;case rX.node:default:t(!0)}})}async function cW(){if(r0()&&"u">typeof global&&null!=global&&global.NetInfo){let e=await (null==global?void 0:global.NetInfo.fetch());return e?.isConnected}return!0}function cZ(e){switch(r6()){case rX.browser:!r0()&&r3()&&(window.addEventListener("online",()=>e(!0)),window.addEventListener("offline",()=>e(!1)));break;case rX.reactNative:r0()&&"u">typeof global&&null!=global&&global.NetInfo&&global?.NetInfo.addEventListener(t=>e(t?.isConnected));case rX.node:}}function cK(){var e;return!(r3()&&(0,p.getDocument)())||(null==(e=(0,p.getDocument)())?void 0:e.visibilityState)==="visible"}let cY={};class cJ{static get(e){return cY[e]}static set(e,t){cY[e]=t}static delete(e){delete cY[e]}}function cX(e){return new Uint8Array(e.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function cQ(e){let t=Uint8Array.from(rB.from(e.signature,"hex")),r=function({publicKey:e,signature:t,payload:r}){var n,i;let o=cX(r.method),a=128|parseInt((null==(n=r.version)?void 0:n.toString())||"4"),s=function(e){let t=t3.decode(e)[0];return 42===t?0:60===t?2:1}(r.address),c="00"===r.era?new Uint8Array([0]):cX(r.era);if(1!==c.length&&2!==c.length)throw Error("Invalid era length");let l=parseInt(r.nonce,16),u=new Uint8Array([255&l,l>>8&255]),d=new Uint8Array([0,...e,s,...t,...c,...u,...function(e){if(e<BigInt(1)<<BigInt(6))return new Uint8Array([Number(e<<BigInt(2))]);if(e<BigInt(1)<<BigInt(14)){let t=e<<BigInt(2)|BigInt(1);return new Uint8Array([Number(t&BigInt(255)),Number(t>>BigInt(8)&BigInt(255))])}if(e<BigInt(1)<<BigInt(30)){let t=e<<BigInt(2)|BigInt(2);return new Uint8Array([Number(t&BigInt(255)),Number(t>>BigInt(8)&BigInt(255)),Number(t>>BigInt(16)&BigInt(255)),Number(t>>BigInt(24)&BigInt(255))])}throw Error("BigInt compact encoding not supported > 2^30")}(BigInt(`0x${(i=r.tip).startsWith("0x")?i.slice(2):i}`)),...o]);return new Uint8Array([...function(e){if(e<64)return new Uint8Array([e<<2]);if(e<16384){let t=e<<2|1;return new Uint8Array([255&t,t>>8&255])}if(e<1073741824){let t=e<<2|2;return new Uint8Array([255&t,t>>8&255,t>>16&255,t>>24&255])}throw Error("Compact encoding > 2^30 not supported")}(d.length+1),a,...d])}({publicKey:function(e){let t=t3.decode(e);if(t.length<33)throw Error("Too short to contain a public key");return t.slice(1,33)}(e.transaction.address),signature:t,payload:e.transaction});return function(e){let t=cX(e),r=(0,rR.blake2b)(t,void 0,32);return"0x"+rB.from(r).toString("hex")}(rB.from(r).toString("hex"))}function c0({logger:e,name:t}){let r="string"==typeof e?(0,rD.Rt)({opts:{level:e,name:t}}).logger:e;return r.level="string"==typeof e?e:e.level,r}},74061:function(e,t,r){"use strict";r.d(t,{L_7:function(){return ej},A7i:function(){return eN},AtH:function(){return e$},MTY:function(){return eM}});var n=r(36999);class i extends n.kb{constructor(e,t,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=(0,n.GL)(this.buffer)}update(e){(0,n.$h)(this),e=(0,n.O0)(e),(0,n.gk)(e);let{view:t,buffer:r,blockLen:i}=this,o=e.length;for(let a=0;a<o;){let s=Math.min(i-this.pos,o-a);if(s===i){let t=(0,n.GL)(e);for(;i<=o-a;a+=i)this.process(t,a);continue}r.set(e.subarray(a,a+s),this.pos),this.pos+=s,a+=s,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,n.$h)(this),(0,n.eB)(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:i,isLE:o}=this,{pos:a}=this;t[a++]=128,(0,n.ru)(this.buffer.subarray(a)),this.padOffset>i-a&&(this.process(r,0),a=0);for(let e=a;e<i;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),o=BigInt(4294967295),a=Number(r>>i&o),s=Number(r&o),c=n?4:0,l=n?0:4;e.setUint32(t+c,a,n),e.setUint32(t+l,s,n)}(r,i-8,BigInt(8*this.length),o),this.process(r,0);let s=(0,n.GL)(e),c=this.outputLen;if(c%4)throw Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,u=this.get();if(l>u.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)s.setUint32(4*e,u[e],o)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=i,e.length=n,e.pos=a,n%t&&e.buffer.set(r),e}clone(){return this._cloneInto()}}let o=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);var a=r(90874);let s=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),c=new Uint32Array(64);class l extends i{constructor(e=32){super(64,e,8,!1),this.A=0|o[0],this.B=0|o[1],this.C=0|o[2],this.D=0|o[3],this.E=0|o[4],this.F=0|o[5],this.G=0|o[6],this.H=0|o[7]}get(){let{A:e,B:t,C:r,D:n,E:i,F:o,G:a,H:s}=this;return[e,t,r,n,i,o,a,s]}set(e,t,r,n,i,o,a,s){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|a,this.H=0|s}process(e,t){for(let r=0;r<16;r++,t+=4)c[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=c[e-15],r=c[e-2],i=(0,n.np)(t,7)^(0,n.np)(t,18)^t>>>3,o=(0,n.np)(r,17)^(0,n.np)(r,19)^r>>>10;c[e]=o+c[e-7]+i+c[e-16]|0}let{A:r,B:i,C:o,D:a,E:l,F:u,G:d,H:f}=this;for(let e=0;e<64;e++){var h,p,g,m;let t=f+((0,n.np)(l,6)^(0,n.np)(l,11)^(0,n.np)(l,25))+((h=l)&u^~h&d)+s[e]+c[e]|0,y=((0,n.np)(r,2)^(0,n.np)(r,13)^(0,n.np)(r,22))+((p=r)&(g=i)^p&(m=o)^g&m)|0;f=d,d=u,u=l,l=a+t|0,a=o,o=i,i=r,r=t+y|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,a=a+this.D|0,l=l+this.E|0,u=u+this.F|0,d=d+this.G|0,f=f+this.H|0,this.set(r,i,o,a,l,u,d,f)}roundClean(){(0,n.ru)(c)}destroy(){this.set(0,0,0,0,0,0,0,0),(0,n.ru)(this.buffer)}}let u=a.Vl(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e)));u[0],u[1];let d=(0,n.V1)(()=>new l);class f extends n.kb{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,n.z3)(e);let r=(0,n.O0)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?e.create().update(r).digest():r);for(let e=0;e<o.length;e++)o[e]^=54;this.iHash.update(o),this.oHash=e.create();for(let e=0;e<o.length;e++)o[e]^=106;this.oHash.update(o),(0,n.ru)(o)}update(e){return(0,n.$h)(this),this.iHash.update(e),this}digestInto(e){(0,n.$h)(this),(0,n.gk)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:o,outputLen:a}=this;return e.finished=n,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let h=(e,t,r)=>new f(e,t).update(r).digest();h.create=(e,t)=>new f(e,t);let p=BigInt(0),g=BigInt(1);function m(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function y(e){if(!m(e))throw Error("Uint8Array expected")}function b(e,t){if("boolean"!=typeof t)throw Error(e+" boolean expected, got "+t)}function w(e){let t=e.toString(16);return 1&t.length?"0"+t:t}function v(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return""===e?p:BigInt("0x"+e)}let E="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,x=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function A(e){if(y(e),E)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=x[e[r]];return t}let S={_0:48,_9:57,A:65,F:70,a:97,f:102};function _(e){return e>=S._0&&e<=S._9?e-S._0:e>=S.A&&e<=S.F?e-(S.A-10):e>=S.a&&e<=S.f?e-(S.a-10):void 0}function I(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);if(E)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=_(e.charCodeAt(i)),o=_(e.charCodeAt(i+1));if(void 0===r||void 0===o)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+o}return n}function C(e){return v(A(e))}function O(e){return y(e),v(A(Uint8Array.from(e).reverse()))}function P(e,t){return I(e.toString(16).padStart(2*t,"0"))}function T(e,t){return P(e,t).reverse()}function k(e,t,r){let n;if("string"==typeof t)try{n=I(t)}catch(t){throw Error(e+" must be hex string or Uint8Array, cause: "+t)}else if(m(t))n=Uint8Array.from(t);else throw Error(e+" must be hex string or Uint8Array");let i=n.length;if("number"==typeof r&&i!==r)throw Error(e+" of length "+r+" expected, got "+i);return n}function N(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];y(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}let M=e=>"bigint"==typeof e&&p<=e;function R(e,t,r){return M(e)&&M(t)&&M(r)&&t<=e&&e<r}function D(e,t,r,n){if(!R(t,r,n))throw Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}let L=e=>(g<<BigInt(e))-g,B=e=>new Uint8Array(e),U=e=>Uint8Array.from(e),j={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||m(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function $(e,t,r={}){let n=(t,r,n)=>{let i=j[r];if("function"!=typeof i)throw Error("invalid validator function");let o=e[t];if((!n||void 0!==o)&&!i(o,e))throw Error("param "+String(t)+" is invalid. Expected "+r+", got "+o)};for(let[e,r]of Object.entries(t))n(e,r,!1);for(let[e,t]of Object.entries(r))n(e,t,!0);return e}function F(e){let t=new WeakMap;return(r,...n)=>{let i=t.get(r);if(void 0!==i)return i;let o=e(r,...n);return t.set(r,o),o}}let z=BigInt(0),q=BigInt(1),G=BigInt(2),H=BigInt(3),V=BigInt(4),W=BigInt(5),Z=BigInt(8);function K(e,t){let r=e%t;return r>=z?r:t+r}function Y(e,t,r){let n=e;for(;t-- >z;)n*=n,n%=r;return n}function J(e,t){if(e===z)throw Error("invert: expected non-zero number");if(t<=z)throw Error("invert: expected positive modulus, got "+t);let r=K(e,t),n=t,i=z,o=q,a=q,s=z;for(;r!==z;){let e=n/r,t=n%r,c=i-a*e,l=o-s*e;n=r,r=t,i=a,o=s,a=c,s=l}if(n!==q)throw Error("invert: does not exist");return K(i,t)}let X=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Q(e,t,r=!1){let n=Array(t.length).fill(r?e.ZERO:void 0),i=t.reduce((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r)),e.ONE),o=e.inv(i);return t.reduceRight((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r)),o),n}function ee(e,t){let r=function(e,t){let r=(e.ORDER-q)/G,n=e.pow(t,r),i=e.eql(n,e.ONE),o=e.eql(n,e.ZERO),a=e.eql(n,e.neg(e.ONE));if(!i&&!o&&!a)throw Error("Cannot find square root: probably non-prime P");return i?1:o?0:-1}(e,t);return 0===r||1===r}function et(e,t){void 0!==t&&(0,n.k8)(t);let r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function er(e,t,r=!1,n={}){let i;if(e<=z)throw Error("invalid field: expected ORDER > 0, got "+e);let{nBitLength:o,nByteLength:a}=et(e,t);if(a>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let s=Object.freeze({ORDER:e,isLE:r,BITS:o,BYTES:a,MASK:L(o),ZERO:z,ONE:q,create:t=>K(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error("invalid field element: expected bigint, got "+typeof t);return z<=t&&t<e},is0:e=>e===z,isOdd:e=>(e&q)===q,neg:t=>K(-t,e),eql:(e,t)=>e===t,sqr:t=>K(t*t,e),add:(t,r)=>K(t+r,e),sub:(t,r)=>K(t-r,e),mul:(t,r)=>K(t*r,e),pow:(e,t)=>(function(e,t,r){if(r<z)throw Error("invalid exponent, negatives unsupported");if(r===z)return e.ONE;if(r===q)return t;let n=e.ONE,i=t;for(;r>z;)r&q&&(n=e.mul(n,i)),i=e.sqr(i),r>>=q;return n})(s,e,t),div:(t,r)=>K(t*J(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>J(t,e),sqrt:n.sqrt||(t=>(!i&&(i=e%V===H?function(t,r){let n=t.pow(r,(e+q)/V);if(!t.eql(t.sqr(n),r))throw Error("Cannot find square root");return n}:e%Z===W?function(t,r){let n=t.mul(r,G),i=t.pow(n,(e-W)/Z),o=t.mul(r,i),a=t.mul(t.mul(o,G),i),s=t.mul(o,t.sub(a,t.ONE));if(!t.eql(t.sqr(s),r))throw Error("Cannot find square root");return s}:function(e){let t=e-q,r=0;for(;t%G===z;)t/=G,r++;let n=G,i=er(e);for(;n<e&&ee(i,n);)if(n++>1e3)throw Error("Cannot find square root: probably non-prime P");if(1===r){let t=(e+q)/V;return function(e,r){let n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw Error("Cannot find square root");return n}}let o=(t+q)/G;return function(e,i){if(!ee(e,i))throw Error("Cannot find square root");let a=r,s=e.pow(e.mul(e.ONE,n),t),c=e.pow(i,o),l=e.pow(i,t);for(;!e.eql(l,e.ONE);){if(e.eql(l,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(l);t<a&&!e.eql(r,e.ONE);t++)r=e.sqr(r);let r=e.pow(s,q<<BigInt(a-t-1));s=e.sqr(r),c=e.mul(c,r),l=e.mul(l,s),a=t}return c}}(e)),i(s,t))),toBytes:e=>r?T(e,a):P(e,a),fromBytes:e=>{if(e.length!==a)throw Error("Field.fromBytes: expected "+a+" bytes, got "+e.length);return r?O(e):C(e)},invertBatch:e=>Q(s,e),cmov:(e,t,r)=>r?t:e});return Object.freeze(s)}function en(e){if("bigint"!=typeof e)throw Error("field order must be bigint");return Math.ceil(e.toString(2).length/8)}function ei(e){let t=en(e);return t+Math.ceil(t/2)}let eo=BigInt(0),ea=BigInt(1);function es(e,t){let r=t.negate();return e?r:t}function ec(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw Error("invalid window size, expected [1.."+t+"], got W="+e)}function el(e,t){ec(e,t);let r=Math.ceil(t/e)+1,n=2**(e-1),i=2**e;return{windows:r,windowSize:n,mask:L(e),maxNumber:i,shiftBy:BigInt(e)}}function eu(e,t,r){let{windowSize:n,mask:i,maxNumber:o,shiftBy:a}=r,s=Number(e&i),c=e>>a;s>n&&(s-=o,c+=ea);let l=t*n,u=l+Math.abs(s)-1;return{nextN:c,offset:u,isZero:0===s,isNeg:s<0,isNegF:t%2!=0,offsetF:l}}let ed=new WeakMap,ef=new WeakMap;function eh(e){return ef.get(e)||1}function ep(e){return $(e.Fp,X.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),$(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...et(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function eg(e){void 0!==e.lowS&&b("lowS",e.lowS),void 0!==e.prehash&&b("prehash",e.prehash)}class em extends Error{constructor(e=""){super(e)}}let ey={Err:em,_tlv:{encode:(e,t)=>{let{Err:r}=ey;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");let n=t.length/2,i=w(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");let o=n>127?w(i.length/2|128):"";return w(e)+o+i+t},decode(e,t){let{Err:r}=ey,n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");let i=t[n++],o=0;if(128&i){let e=127&i;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");let a=t.subarray(n,n+e);if(a.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===a[0])throw new r("tlv.decode(long): zero leftmost byte");for(let e of a)o=o<<8|e;if(n+=e,o<128)throw new r("tlv.decode(long): not minimal encoding")}else o=i;let a=t.subarray(n,n+o);if(a.length!==o)throw new r("tlv.decode: wrong value length");return{v:a,l:t.subarray(n+o)}}},_int:{encode(e){let{Err:t}=ey;if(e<eb)throw new t("integer: negative integers are not allowed");let r=w(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){let{Err:t}=ey;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return C(e)}},toSig(e){let{Err:t,_int:r,_tlv:n}=ey,i=k("signature",e),{v:o,l:a}=n.decode(48,i);if(a.length)throw new t("invalid signature: left bytes after parsing");let{v:s,l:c}=n.decode(2,o),{v:l,l:u}=n.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(s),s:r.decode(l)}},hexFromSig(e){let{_tlv:t,_int:r}=ey,n=t.encode(2,r.encode(e.r)),i=t.encode(2,r.encode(e.s));return t.encode(48,n+i)}},eb=BigInt(0),ew=BigInt(1),ev=(BigInt(2),BigInt(3));BigInt(4);let eE=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),ex=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),eA=BigInt(1),eS=BigInt(2),e_=(e,t)=>(e+t/eS)/t,eI=er(eE,void 0,void 0,{sqrt:function(e){let t=BigInt(3),r=BigInt(6),n=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),s=BigInt(88),c=e*e*e%eE,l=c*c*e%eE,u=Y(l,t,eE)*l%eE,d=Y(u,t,eE)*l%eE,f=Y(d,eS,eE)*c%eE,h=Y(f,n,eE)*f%eE,p=Y(h,i,eE)*h%eE,g=Y(p,a,eE)*p%eE,m=Y(g,s,eE)*g%eE,y=Y(m,a,eE)*p%eE,b=Y(y,t,eE)*l%eE,w=Y(b,o,eE)*h%eE,v=Y(w,r,eE)*c%eE,E=Y(v,eS,eE);if(!eI.eql(eI.sqr(E),e))throw Error("Cannot find square root");return E}}),eC=function(e,t){let r=t=>(function(e){let t=function(e){let t=ep(e);return $(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:r,n:n}=t,i=r.BYTES+1,o=2*r.BYTES+1;function a(e){return K(e,n)}let{ProjectivePoint:s,normPrivateKeyToScalar:c,weierstrassEquation:l,isWithinCurveOrder:u}=function(e){var t;let r=function(e){let t=ep(e);$(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:n}=r,i=er(r.n,r.nBitLength),o=r.toBytes||((e,t,r)=>{let i=t.toAffine();return N(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),a=r.fromBytes||(e=>{let t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function s(e){let{a:t,b:i}=r,o=n.sqr(e),a=n.mul(o,e);return n.add(n.add(a,n.mul(e,t)),i)}if(!n.eql(n.sqr(r.Gy),s(r.Gx)))throw Error("bad generator point: equation left != right");function c(e){let t;let{allowedPrivateKeyLengths:n,nByteLength:i,wrapPrivateKey:o,n:a}=r;if(n&&"bigint"!=typeof e){if(m(e)&&(e=A(e)),"string"!=typeof e||!n.includes(e.length))throw Error("invalid private key");e=e.padStart(2*i,"0")}try{t="bigint"==typeof e?e:C(k("private key",e,i))}catch(t){throw Error("invalid private key, expected hex or "+i+" bytes, got "+typeof e)}return o&&(t=K(t,a)),D("private key",t,ew,a),t}function l(e){if(!(e instanceof f))throw Error("ProjectivePoint expected")}let u=F((e,t)=>{let{px:r,py:i,pz:o}=e;if(n.eql(o,n.ONE))return{x:r,y:i};let a=e.is0();null==t&&(t=a?n.ONE:n.inv(o));let s=n.mul(r,t),c=n.mul(i,t),l=n.mul(o,t);if(a)return{x:n.ZERO,y:n.ZERO};if(!n.eql(l,n.ONE))throw Error("invZ was invalid");return{x:s,y:c}}),d=F(e=>{if(e.is0()){if(r.allowInfinityPoint&&!n.is0(e.py))return;throw Error("bad point: ZERO")}let{x:t,y:i}=e.toAffine();if(!n.isValid(t)||!n.isValid(i))throw Error("bad point: x or y not FE");let o=n.sqr(i),a=s(t);if(!n.eql(o,a))throw Error("bad point: equation left != right");if(!e.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0});class f{constructor(e,t,r){if(null==e||!n.isValid(e))throw Error("x required");if(null==t||!n.isValid(t)||n.is0(t))throw Error("y required");if(null==r||!n.isValid(r))throw Error("z required");this.px=e,this.py=t,this.pz=r,Object.freeze(this)}static fromAffine(e){let{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw Error("invalid affine point");if(e instanceof f)throw Error("projective point not allowed");let i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?f.ZERO:new f(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){let t=Q(n,e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(f.fromAffine)}static fromHex(e){let t=f.fromAffine(a(k("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return f.BASE.multiply(c(e))}static msm(e,t){return function(e,t,r,n){if(!function(e,t){if(!Array.isArray(e))throw Error("array expected");e.forEach((e,r)=>{if(!(e instanceof t))throw Error("invalid point at index "+r)})}(r,e),!function(e,t){if(!Array.isArray(e))throw Error("array of scalars expected");e.forEach((e,r)=>{if(!t.isValid(e))throw Error("invalid scalar at index "+r)})}(n,t),r.length!==n.length)throw Error("arrays of points and scalars must have equal length");let i=e.ZERO,o=function(e){let t;for(t=0;e>p;e>>=g,t+=1);return t}(BigInt(r.length)),a=o>12?o-3:o>4?o-2:o?2:1,s=L(a),c=Array(Number(s)+1).fill(i),l=Math.floor((t.BITS-1)/a)*a,u=i;for(let e=l;e>=0;e-=a){c.fill(i);for(let t=0;t<n.length;t++){let i=Number(n[t]>>BigInt(e)&s);c[i]=c[i].add(r[t])}let t=i;for(let e=c.length-1,r=i;e>0;e--)r=r.add(c[e]),t=t.add(r);if(u=u.add(t),0!==e)for(let e=0;e<a;e++)u=u.double()}return u}(f,i,e,t)}_setWindowSize(e){y.setWindowSize(this,e)}assertValidity(){d(this)}hasEvenY(){let{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw Error("Field doesn't support isOdd")}equals(e){l(e);let{px:t,py:r,pz:i}=this,{px:o,py:a,pz:s}=e,c=n.eql(n.mul(t,s),n.mul(o,i)),u=n.eql(n.mul(r,s),n.mul(a,i));return c&&u}negate(){return new f(this.px,n.neg(this.py),this.pz)}double(){let{a:e,b:t}=r,i=n.mul(t,ev),{px:o,py:a,pz:s}=this,c=n.ZERO,l=n.ZERO,u=n.ZERO,d=n.mul(o,o),h=n.mul(a,a),p=n.mul(s,s),g=n.mul(o,a);return g=n.add(g,g),u=n.mul(o,s),u=n.add(u,u),c=n.mul(e,u),l=n.mul(i,p),l=n.add(c,l),c=n.sub(h,l),l=n.add(h,l),l=n.mul(c,l),c=n.mul(g,c),u=n.mul(i,u),p=n.mul(e,p),g=n.sub(d,p),g=n.mul(e,g),g=n.add(g,u),u=n.add(d,d),d=n.add(u,d),d=n.add(d,p),d=n.mul(d,g),l=n.add(l,d),p=n.mul(a,s),p=n.add(p,p),d=n.mul(p,g),c=n.sub(c,d),u=n.mul(p,h),u=n.add(u,u),new f(c,l,u=n.add(u,u))}add(e){l(e);let{px:t,py:i,pz:o}=this,{px:a,py:s,pz:c}=e,u=n.ZERO,d=n.ZERO,h=n.ZERO,p=r.a,g=n.mul(r.b,ev),m=n.mul(t,a),y=n.mul(i,s),b=n.mul(o,c),w=n.add(t,i),v=n.add(a,s);w=n.mul(w,v),v=n.add(m,y),w=n.sub(w,v),v=n.add(t,o);let E=n.add(a,c);return v=n.mul(v,E),E=n.add(m,b),v=n.sub(v,E),E=n.add(i,o),u=n.add(s,c),E=n.mul(E,u),u=n.add(y,b),E=n.sub(E,u),h=n.mul(p,v),u=n.mul(g,b),h=n.add(u,h),u=n.sub(y,h),h=n.add(y,h),d=n.mul(u,h),y=n.add(m,m),y=n.add(y,m),b=n.mul(p,b),v=n.mul(g,v),y=n.add(y,b),b=n.sub(m,b),b=n.mul(p,b),v=n.add(v,b),m=n.mul(y,v),d=n.add(d,m),m=n.mul(E,v),u=n.mul(w,u),u=n.sub(u,m),m=n.mul(w,y),h=n.mul(E,h),new f(u,d,h=n.add(h,m))}subtract(e){return this.add(e.negate())}is0(){return this.equals(f.ZERO)}wNAF(e){return y.wNAFCached(this,e,f.normalizeZ)}multiplyUnsafe(e){let{endo:t,n:i}=r;D("scalar",e,eb,i);let o=f.ZERO;if(e===eb)return o;if(this.is0()||e===ew)return this;if(!t||y.hasPrecomputes(this))return y.wNAFCachedUnsafe(this,e,f.normalizeZ);let{k1neg:a,k1:s,k2neg:c,k2:l}=t.splitScalar(e),u=o,d=o,h=this;for(;s>eb||l>eb;)s&ew&&(u=u.add(h)),l&ew&&(d=d.add(h)),h=h.double(),s>>=ew,l>>=ew;return a&&(u=u.negate()),c&&(d=d.negate()),d=new f(n.mul(d.px,t.beta),d.py,d.pz),u.add(d)}multiply(e){let t,i;let{endo:o,n:a}=r;if(D("scalar",e,ew,a),o){let{k1neg:r,k1:a,k2neg:s,k2:c}=o.splitScalar(e),{p:l,f:u}=this.wNAF(a),{p:d,f:h}=this.wNAF(c);l=y.constTimeNegate(r,l),d=y.constTimeNegate(s,d),d=new f(n.mul(d.px,o.beta),d.py,d.pz),t=l.add(d),i=u.add(h)}else{let{p:r,f:n}=this.wNAF(e);t=r,i=n}return f.normalizeZ([t,i])[0]}multiplyAndAddUnsafe(e,t,r){let n=f.BASE,i=(e,t)=>t!==eb&&t!==ew&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),o=i(this,t).add(i(e,r));return o.is0()?void 0:o}toAffine(e){return u(this,e)}isTorsionFree(){let{h:e,isTorsionFree:t}=r;if(e===ew)return!0;if(t)return t(f,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:e,clearCofactor:t}=r;return e===ew?this:t?t(f,this):this.multiplyUnsafe(r.h)}toRawBytes(e=!0){return b("isCompressed",e),this.assertValidity(),o(f,this,e)}toHex(e=!0){return b("isCompressed",e),A(this.toRawBytes(e))}}f.BASE=new f(r.Gx,r.Gy,n.ONE),f.ZERO=new f(n.ZERO,n.ONE,n.ZERO);let h=r.nBitLength,y=(t=r.endo?Math.ceil(h/2):h,{constTimeNegate:es,hasPrecomputes:e=>1!==eh(e),unsafeLadder(e,t,r=f.ZERO){let n=e;for(;t>eo;)t&ea&&(r=r.add(n)),n=n.double(),t>>=ea;return r},precomputeWindow(e,r){let{windows:n,windowSize:i}=el(r,t),o=[],a=e,s=a;for(let e=0;e<n;e++){s=a,o.push(s);for(let e=1;e<i;e++)s=s.add(a),o.push(s);a=s.double()}return o},wNAF(e,r,n){let i=f.ZERO,o=f.BASE,a=el(e,t);for(let e=0;e<a.windows;e++){let{nextN:t,offset:s,isZero:c,isNeg:l,isNegF:u,offsetF:d}=eu(n,e,a);n=t,c?o=o.add(es(u,r[d])):i=i.add(es(l,r[s]))}return{p:i,f:o}},wNAFUnsafe(e,r,n,i=f.ZERO){let o=el(e,t);for(let e=0;e<o.windows&&n!==eo;e++){let{nextN:t,offset:a,isZero:s,isNeg:c}=eu(n,e,o);if(n=t,!s){let e=r[a];i=i.add(c?e.negate():e)}}return i},getPrecomputes(e,t,r){let n=ed.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&ed.set(t,r(n))),n},wNAFCached(e,t,r){let n=eh(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)},wNAFCachedUnsafe(e,t,r,n){let i=eh(e);return 1===i?this.unsafeLadder(e,t,n):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),t,n)},setWindowSize(e,r){ec(r,t),ef.set(e,r),ed.delete(e)}});return{CURVE:r,ProjectivePoint:f,normPrivateKeyToScalar:c,weierstrassEquation:s,isWithinCurveOrder:function(e){return R(e,ew,r.n)}}}({...t,toBytes(e,t,n){let i=t.toAffine(),o=r.toBytes(i.x);return(b("isCompressed",n),n)?N(Uint8Array.from([t.hasEvenY()?2:3]),o):N(Uint8Array.from([4]),o,r.toBytes(i.y))},fromBytes(e){let t=e.length,n=e[0],a=e.subarray(1);if(t===i&&(2===n||3===n)){let e;let t=C(a);if(!R(t,ew,r.ORDER))throw Error("Point is not on curve");let i=l(t);try{e=r.sqrt(i)}catch(e){throw Error("Point is not on curve"+(e instanceof Error?": "+e.message:""))}return(1&n)==1!=((e&ew)===ew)&&(e=r.neg(e)),{x:t,y:e}}if(t===o&&4===n)return{x:r.fromBytes(a.subarray(0,r.BYTES)),y:r.fromBytes(a.subarray(r.BYTES,2*r.BYTES))};throw Error("invalid Point, expected length of "+i+", or uncompressed "+o+", got "+t)}}),d=e=>A(P(e,t.nByteLength)),f=(e,t,r)=>C(e.slice(t,r));class h{constructor(e,t,r){D("r",e,ew,n),D("s",t,ew,n),this.r=e,this.s=t,null!=r&&(this.recovery=r),Object.freeze(this)}static fromCompact(e){let r=t.nByteLength;return new h(f(e=k("compactSignature",e,2*r),0,r),f(e,r,2*r))}static fromDER(e){let{r:t,s:r}=ey.toSig(k("DER",e));return new h(t,r)}assertValidity(){}addRecoveryBit(e){return new h(this.r,this.s,e)}recoverPublicKey(e){let{r:i,s:o,recovery:c}=this,l=v(k("msgHash",e));if(null==c||![0,1,2,3].includes(c))throw Error("recovery id invalid");let u=2===c||3===c?i+t.n:i;if(u>=r.ORDER)throw Error("recovery id 2 or 3 invalid");let f=(1&c)==0?"02":"03",h=s.fromHex(f+d(u)),p=J(u,n),g=a(-l*p),m=a(o*p),y=s.BASE.multiplyAndAddUnsafe(h,g,m);if(!y)throw Error("point at infinify");return y.assertValidity(),y}hasHighS(){return this.s>n>>ew}normalizeS(){return this.hasHighS()?new h(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return I(this.toDERHex())}toDERHex(){return ey.hexFromSig(this)}toCompactRawBytes(){return I(this.toCompactHex())}toCompactHex(){return d(this.r)+d(this.s)}}function y(e){let t=m(e),r="string"==typeof e,n=(t||r)&&e.length;return t?n===i||n===o:r?n===2*i||n===2*o:e instanceof s}let w=t.bits2int||function(e){if(e.length>8192)throw Error("input is too large");let r=C(e),n=8*e.length-t.nBitLength;return n>0?r>>BigInt(n):r},v=t.bits2int_modN||function(e){return a(w(e))},E=L(t.nBitLength);function x(e){return D("num < 2^"+t.nBitLength,e,eb,E),P(e,t.nByteLength)}let S={lowS:t.lowS,prehash:!1},_={lowS:t.lowS,prehash:!1};return s.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return s.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(y(e))throw Error("first arg must be private key");if(!y(t))throw Error("second arg must be public key");return s.fromHex(t).multiply(c(e)).toRawBytes(r)},sign:function(e,i,o=S){let{seed:l,k2sig:d}=function(e,i,o=S){if(["recovered","canonical"].some(e=>e in o))throw Error("sign() legacy options not supported");let{hash:l,randomBytes:d}=t,{lowS:f,prehash:p,extraEntropy:g}=o;null==f&&(f=!0),e=k("msgHash",e),eg(o),p&&(e=k("prehashed msgHash",l(e)));let m=v(e),y=c(i),b=[x(y),x(m)];if(null!=g&&!1!==g){let e=!0===g?d(r.BYTES):g;b.push(k("extraEntropy",e))}return{seed:N(...b),k2sig:function(e){let t=w(e);if(!u(t))return;let r=J(t,n),i=s.BASE.multiply(t).toAffine(),o=a(i.x);if(o===eb)return;let c=a(r*a(m+o*y));if(c===eb)return;let l=(i.x===o?0:2)|Number(i.y&ew),d=c;if(f&&c>n>>ew)d=c>n>>ew?a(-c):c,l^=1;return new h(o,d,l)}}}(e,i,o);return(function(e,t,r){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let n=B(e),i=B(e),o=0,a=()=>{n.fill(1),i.fill(0),o=0},s=(...e)=>r(i,n,...e),c=(e=B(0))=>{i=s(U([0]),e),n=s(),0!==e.length&&(i=s(U([1]),e),n=s())},l=()=>{if(o++>=1e3)throw Error("drbg: tried 1000 values");let e=0,r=[];for(;e<t;){let t=(n=s()).slice();r.push(t),e+=n.length}return N(...r)};return(e,t)=>{let r;for(a(),c(e);!(r=t(l()));)c();return a(),r}})(t.hash.outputLen,t.nByteLength,t.hmac)(l,d)},verify:function(e,r,i,o=_){let c,l;r=k("msgHash",r),i=k("publicKey",i);let{lowS:u,prehash:d,format:f}=o;if(eg(o),"strict"in o)throw Error("options.strict was renamed to lowS");if(void 0!==f&&"compact"!==f&&"der"!==f)throw Error("format must be compact or der");let p="string"==typeof e||m(e),g=!p&&!f&&"object"==typeof e&&null!==e&&"bigint"==typeof e.r&&"bigint"==typeof e.s;if(!p&&!g)throw Error("invalid signature, expected Uint8Array, hex string or Signature instance");try{if(g&&(l=new h(e.r,e.s)),p){try{"compact"!==f&&(l=h.fromDER(e))}catch(e){if(!(e instanceof ey.Err))throw e}l||"der"===f||(l=h.fromCompact(e))}c=s.fromHex(i)}catch(e){return!1}if(!l||u&&l.hasHighS())return!1;d&&(r=t.hash(r));let{r:y,s:b}=l,w=v(r),E=J(b,n),x=a(w*E),A=a(y*E),S=s.BASE.multiplyAndAddUnsafe(c,x,A)?.toAffine();return!!S&&a(S.x)===y},ProjectivePoint:s,Signature:h,utils:{isValidPrivateKey(e){try{return c(e),!0}catch(e){return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{let e=ei(t.n);return function(e,t,r=!1){let n=e.length,i=en(t),o=ei(t);if(n<16||n<o||n>1024)throw Error("expected "+o+"-1024 bytes of input, got "+n);let a=K(r?O(e):C(e),t-q)+q;return r?T(a,i):P(a,i)}(t.randomBytes(e),t.n)},precompute:(e=8,t=s.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}})({...e,hash:t,hmac:(e,...r)=>h(t,e,(0,n.eV)(...r)),randomBytes:n.O6});return{...r(t),create:r}}({a:BigInt(0),b:BigInt(7),Fp:eI,n:ex,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-eA*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=BigInt("0x100000000000000000000000000000000"),o=e_(t*e,ex),a=e_(-r*e,ex),s=K(e-o*t-a*n,ex),c=K(-o*r-a*t,ex),l=s>i,u=c>i;if(l&&(s=ex-s),u&&(c=ex-c),s>i||c>i)throw Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:l,k1:s,k2neg:u,k2:c}}}},d);BigInt(0),eC.ProjectivePoint;var eO=r(49951);let eP=(0,eO.gn)(d);class eT extends Error{constructor(e,t,r){super(t??e.code),this.type=e,void 0!==r&&(this.stack=r)}getMetadata(){return this.type}toObject(){return{type:this.getMetadata(),message:this.message??"",stack:this.stack??"",className:this.constructor.name}}}function ek(e,t){return new eT({code:"ETHEREUMJS_DEFAULT_ERROR_CODE"},e,t)}function eN(e,t){return"string"==typeof e&&!!e.match(/^0x[0-9A-Fa-f]*$/)&&(void 0===t||!(t>0)||e.length===2+2*t)}Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));let eM=e=>{if("string"!=typeof e)throw ek(`[stripHexPrefix] input must be type 'string', received ${typeof e}`);return eN(e)?e.slice(2):e},eR=function(e){if("string"!=typeof e)throw ek(`This method only supports strings but input was: ${e}`)};BigInt(0);let eD=e=>{if(!e.startsWith("0x"))throw ek("input string must be 0x prefixed");return(0,eO.nr)(function(e){let t=e;if("string"!=typeof t)throw ek(`[padToEven] value must be type 'string', received ${typeof t}`);return t.length%2&&(t=`0${t}`),t}(eM(e)))},eL=[];for(let e=0;e<=65535;e++)eL[e]=BigInt(e);let eB=e=>{if(!Number.isSafeInteger(e)||e<0)throw ek(`Received an invalid integer type: ${e}`);return`0x${e.toString(16)}`},eU=e=>eD(eB(e)),ej=e=>"string"!=typeof e?e:eN(e)?e:`0x${e}`;BigInt("0xffffffffffffffff"),BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935"),eC.CURVE.n,eC.CURVE.n,BigInt(2),BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),eD("0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470"),eD("0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347"),eD("0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421"),eP(new Uint8Array),Uint8Array.from([128]),BigInt(-1),BigInt(0),BigInt(1),BigInt(2),BigInt(3),BigInt(7),BigInt(8),BigInt(27),BigInt(28),BigInt(31),BigInt(32),BigInt(64),BigInt(128),BigInt(255),BigInt(256),BigInt(96),BigInt(100),BigInt(160),BigInt(224),BigInt(7922816251426434e13),BigInt(1461501637330903e33),BigInt(2695994666715064e52),BigInt(1e9),BigInt(1e18),r(85531);let e$=function(e){try{eR(e)}catch{return!1}return/^0x[0-9a-fA-F]{40}$/.test(e)};new Uint8Array(0),eD("0x05"),eU(0),eU(1),BigInt(256),BigInt(31)},90874:function(e,t,r){"use strict";r.d(t,{$p:function(){return d},EP:function(){return f},FL:function(){return u},Fn:function(){return b},IH:function(){return m},Iq:function(){return s},NI:function(){return a},Ou:function(){return l},SD:function(){return p},Vl:function(){return o},Xb:function(){return w},ac:function(){return y},gm:function(){return h},m_:function(){return c},mk:function(){return g},pp:function(){return x},u8:function(){return v},zP:function(){return E}});let n=BigInt(4294967296-1),i=BigInt(32);function o(e,t=!1){let r=e.length,o=new Uint32Array(r),a=new Uint32Array(r);for(let s=0;s<r;s++){let{h:r,l:c}=function(e,t=!1){return t?{h:Number(e&n),l:Number(e>>i&n)}:{h:0|Number(e>>i&n),l:0|Number(e&n)}}(e[s],t);[o[s],a[s]]=[r,c]}return[o,a]}let a=(e,t,r)=>e>>>r,s=(e,t,r)=>e<<32-r|t>>>r,c=(e,t,r)=>e>>>r|t<<32-r,l=(e,t,r)=>e<<32-r|t>>>r,u=(e,t,r)=>e<<64-r|t>>>r-32,d=(e,t,r)=>e>>>r-32|t<<64-r,f=(e,t,r)=>e<<r|t>>>32-r,h=(e,t,r)=>t<<r|e>>>32-r,p=(e,t,r)=>t<<r-32|e>>>64-r,g=(e,t,r)=>e<<r-32|t>>>64-r;function m(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/4294967296|0)|0,l:0|i}}let y=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),b=(e,t,r,n)=>t+r+n+(e/4294967296|0)|0,w=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),v=(e,t,r,n,i)=>t+r+n+i+(e/4294967296|0)|0,E=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0),x=(e,t,r,n,i,o)=>t+r+n+i+o+(e/4294967296|0)|0},36999:function(e,t,r){"use strict";r.d(t,{kb:function(){return v},gk:function(){return o},$h:function(){return s},z3:function(){return a},k8:function(){return i},eB:function(){return c},ru:function(){return u},eV:function(){return w},V1:function(){return E},GL:function(){return d},nr:function(){return y},O6:function(){return x},np:function(){return f},Ux:function(){return h},O0:function(){return b},Jq:function(){return l}});let n="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function i(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function o(e,...t){if(!(e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function a(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.createHasher");i(e.outputLen),i(e.blockLen)}function s(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function c(e,t){o(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}function l(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function u(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function d(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function f(e,t){return e<<32-t|e>>>t}let h=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]?e=>e:function(e){for(let r=0;r<e.length;r++){var t;e[r]=(t=e[r])<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}return e},p="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,g={_0:48,_9:57,A:65,F:70,a:97,f:102};function m(e){return e>=g._0&&e<=g._9?e-g._0:e>=g.A&&e<=g.F?e-(g.A-10):e>=g.a&&e<=g.f?e-(g.a-10):void 0}function y(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);if(p)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=m(e.charCodeAt(i)),o=m(e.charCodeAt(i+1));if(void 0===r||void 0===o)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+o}return n}function b(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}(e)),o(e),e}function w(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];o(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}class v{}function E(e){let t=t=>e().update(b(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function x(e=32){if(n&&"function"==typeof n.getRandomValues)return n.getRandomValues(new Uint8Array(e));if(n&&"function"==typeof n.randomBytes)return Uint8Array.from(n.randomBytes(e));throw Error("crypto.getRandomValues must be defined")}},85531:function(e,t,r){"use strict";r.d(t,{wn:function(){return I}});var n=r(90874),i=r(36999);let o=BigInt(0),a=BigInt(1),s=BigInt(2),c=BigInt(7),l=BigInt(256),u=BigInt(113),d=[],f=[],h=[];for(let e=0,t=a,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],d.push(2*(5*n+r)),f.push((e+1)*(e+2)/2%64);let i=o;for(let e=0;e<7;e++)(t=(t<<a^(t>>c)*u)%l)&s&&(i^=a<<(a<<BigInt(e))-a);h.push(i)}let p=(0,n.Vl)(h,!0),g=p[0],m=p[1],y=(e,t,r)=>r>32?(0,n.SD)(e,t,r):(0,n.EP)(e,t,r),b=(e,t,r)=>r>32?(0,n.mk)(e,t,r):(0,n.gm)(e,t,r);class w extends i.kb{constructor(e,t,r,n=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=o,(0,i.k8)(r),!(0<e&&e<200))throw Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=(0,i.Jq)(this.state)}clone(){return this._cloneInto()}keccak(){(0,i.Ux)(this.state32),function(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let n=(t+8)%10,i=(t+2)%10,o=r[i],a=r[i+1],s=y(o,a,1)^r[n],c=b(o,a,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=s,e[t+r+1]^=c}let t=e[2],i=e[3];for(let r=0;r<24;r++){let n=f[r],o=y(t,i,n),a=b(t,i,n),s=d[r];t=e[s],i=e[s+1],e[s]=o,e[s+1]=a}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=g[n],e[1]^=m[n]}(0,i.ru)(r)}(this.state32,this.rounds),(0,i.Ux)(this.state32),this.posOut=0,this.pos=0}update(e){(0,i.$h)(this),e=(0,i.O0)(e),(0,i.gk)(e);let{blockLen:t,state:r}=this,n=e.length;for(let i=0;i<n;){let o=Math.min(t-this.pos,n-i);for(let t=0;t<o;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,(128&t)!=0&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){(0,i.$h)(this,!1),(0,i.gk)(e),this.finish();let t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();let o=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+o),n),this.posOut+=o,n+=o}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,i.k8)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,i.eB)(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,(0,i.ru)(this.state)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:o}=this;return e||(e=new w(t,r,n,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=o,e.destroyed=this.destroyed,e}}let v=(e,t,r)=>(0,i.V1)(()=>new w(t,e,r)),E=v(1,144,28),x=v(1,136,32),A=v(1,104,48),S=v(1,72,64);var _=r(49951);(0,_.gn)(E);let I=(()=>{let e=(0,_.gn)(x);return e.create=x.create,e})();(0,_.gn)(A),(0,_.gn)(S)},49951:function(e,t,r){"use strict";r.d(t,{nr:function(){return o},gn:function(){return a}});var n=r(36999);let i=n.gk;function o(e){let t=e.startsWith("0x")?e.substring(2):e;return(0,n.nr)(t)}function a(e){return t=>(i(t),e(t))}},68651:function(e,t,r){"use strict";r.d(t,{O:function(){return m}});var n=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,o=Math.floor,a="[BigNumber Error] ",s=a+"Number primitive has more than 15 significant digits: ",c=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13];function l(e){var t=0|e;return e>0||e===t?t:t-1}function u(e){for(var t,r,n=1,i=e.length,o=e[0]+"";n<i;){for(r=14-(t=e[n++]+"").length;r--;t="0"+t);o+=t}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function d(e,t){var r,n,i=e.c,o=t.c,a=e.s,s=t.s,c=e.e,l=t.e;if(!a||!s)return null;if(r=i&&!i[0],n=o&&!o[0],r||n)return r?n?0:-s:a;if(a!=s)return a;if(r=a<0,n=c==l,!i||!o)return n?0:!i^r?1:-1;if(!n)return c>l^r?1:-1;for(a=0,s=(c=i.length)<(l=o.length)?c:l;a<s;a++)if(i[a]!=o[a])return i[a]>o[a]^r?1:-1;return c==l?0:c>l^r?1:-1}function f(e,t,r,n){if(e<t||e>r||e!==o(e))throw Error(a+(n||"Argument")+("number"==typeof e?e<t||e>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function h(e){var t=e.c.length-1;return l(e.e/14)==t&&e.c[t]%2!=0}function p(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function g(e,t,r){var n,i;if(t<0){for(i=r+".";++t;i+=r);e=i+e}else if(n=e.length,++t>n){for(i=r,t-=n;--t;i+=r);e+=i}else t<n&&(e=e.slice(0,t)+"."+e.slice(t));return e}var m=function e(t){var r,m,y,b,w,v,E,x,A,S=U.prototype={constructor:U,toString:null,valueOf:null},_=new U(1),I=20,C=4,O=-7,P=21,T=-1e7,k=1e7,N=!1,M=1,R=0,D={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xa0",suffix:""},L="0123456789abcdefghijklmnopqrstuvwxyz",B=!0;function U(e,t){var r,i,a,c,l,u,d,h,p=this;if(!(p instanceof U))return new U(e,t);if(null==t){if(e&&!0===e._isBigNumber){p.s=e.s,!e.c||e.e>k?p.c=p.e=null:e.e<T?p.c=[p.e=0]:(p.e=e.e,p.c=e.c.slice());return}if((u="number"==typeof e)&&0*e==0){if(p.s=1/e<0?(e=-e,-1):1,e===~~e){for(c=0,l=e;l>=10;l/=10,c++);c>k?p.c=p.e=null:(p.e=c,p.c=[e]);return}h=String(e)}else{if(!n.test(h=String(e)))return A(p,h,u);p.s=45==h.charCodeAt(0)?(h=h.slice(1),-1):1}(c=h.indexOf("."))>-1&&(h=h.replace(".","")),(l=h.search(/e/i))>0?(c<0&&(c=l),c+=+h.slice(l+1),h=h.substring(0,l)):c<0&&(c=h.length)}else{if(f(t,2,L.length,"Base"),10==t&&B)return z(p=new U(e),I+p.e+1,C);if(h=String(e),u="number"==typeof e){if(0*e!=0)return A(p,h,u,t);if(p.s=1/e<0?(h=h.slice(1),-1):1,U.DEBUG&&h.replace(/^0\.0*|\./,"").length>15)throw Error(s+e)}else p.s=45===h.charCodeAt(0)?(h=h.slice(1),-1):1;for(r=L.slice(0,t),c=l=0,d=h.length;l<d;l++)if(0>r.indexOf(i=h.charAt(l))){if("."==i){if(l>c){c=d;continue}}else if(!a&&(h==h.toUpperCase()&&(h=h.toLowerCase())||h==h.toLowerCase()&&(h=h.toUpperCase()))){a=!0,l=-1,c=0;continue}return A(p,String(e),u,t)}u=!1,(c=(h=x(h,t,10,p.s)).indexOf("."))>-1?h=h.replace(".",""):c=h.length}for(l=0;48===h.charCodeAt(l);l++);for(d=h.length;48===h.charCodeAt(--d););if(h=h.slice(l,++d)){if(d-=l,u&&U.DEBUG&&d>15&&(e>9007199254740991||e!==o(e)))throw Error(s+p.s*e);if((c=c-l-1)>k)p.c=p.e=null;else if(c<T)p.c=[p.e=0];else{if(p.e=c,p.c=[],l=(c+1)%14,c<0&&(l+=14),l<d){for(l&&p.c.push(+h.slice(0,l)),d-=14;l<d;)p.c.push(+h.slice(l,l+=14));l=14-(h=h.slice(l)).length}else l-=d;for(;l--;h+="0");p.c.push(+h)}}else p.c=[p.e=0]}function j(e,t,r,n){var i,o,a,s,c;if(null==r?r=C:f(r,0,8),!e.c)return e.toString();if(i=e.c[0],a=e.e,null==t)c=u(e.c),c=1==n||2==n&&(a<=O||a>=P)?p(c,a):g(c,a,"0");else if(o=(e=z(new U(e),t,r)).e,s=(c=u(e.c)).length,1==n||2==n&&(t<=o||o<=O)){for(;s<t;c+="0",s++);c=p(c,o)}else if(t-=a+(2===n&&o>a),c=g(c,o,"0"),o+1>s){if(--t>0)for(c+=".";t--;c+="0");}else if((t+=o-s)>0)for(o+1==s&&(c+=".");t--;c+="0");return e.s<0&&i?"-"+c:c}function $(e,t){for(var r,n,i=1,o=new U(e[0]);i<e.length;i++)(n=new U(e[i])).s&&(r=d(o,n))!==t&&(0!==r||o.s!==t)||(o=n);return o}function F(e,t,r){for(var n=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,n++);return(r=n+14*r-1)>k?e.c=e.e=null:r<T?e.c=[e.e=0]:(e.e=r,e.c=t),e}function z(e,t,r,n){var a,s,l,u,d,f,h,p=e.c;if(p){n:{for(a=1,u=p[0];u>=10;u/=10,a++);if((s=t-a)<0)s+=14,l=t,h=o((d=p[f=0])/c[a-l-1]%10);else if((f=i((s+1)/14))>=p.length){if(n){for(;p.length<=f;p.push(0));d=h=0,a=1,s%=14,l=s-14+1}else break n}else{for(a=1,d=u=p[f];u>=10;u/=10,a++);s%=14,h=(l=s-14+a)<0?0:o(d/c[a-l-1]%10)}if(n=n||t<0||null!=p[f+1]||(l<0?d:d%c[a-l-1]),n=r<4?(h||n)&&(0==r||r==(e.s<0?3:2)):h>5||5==h&&(4==r||n||6==r&&(s>0?l>0?d/c[a-l]:0:p[f-1])%10&1||r==(e.s<0?8:7)),t<1||!p[0])return p.length=0,n?(t-=e.e+1,p[0]=c[(14-t%14)%14],e.e=-t||0):p[0]=e.e=0,e;if(0==s?(p.length=f,u=1,f--):(p.length=f+1,u=c[14-s],p[f]=l>0?o(d/c[a-l]%c[l])*u:0),n)for(;;){if(0==f){for(s=1,l=p[0];l>=10;l/=10,s++);for(l=p[0]+=u,u=1;l>=10;l/=10,u++);s!=u&&(e.e++,1e14==p[0]&&(p[0]=1));break}if(p[f]+=u,1e14!=p[f])break;p[f--]=0,u=1}for(s=p.length;0===p[--s];p.pop());}e.e>k?e.c=e.e=null:e.e<T&&(e.c=[e.e=0])}return e}function q(e){var t,r=e.e;return null===r?e.toString():(t=u(e.c),t=r<=O||r>=P?p(t,r):g(t,r,"0"),e.s<0?"-"+t:t)}return U.clone=e,U.ROUND_UP=0,U.ROUND_DOWN=1,U.ROUND_CEIL=2,U.ROUND_FLOOR=3,U.ROUND_HALF_UP=4,U.ROUND_HALF_DOWN=5,U.ROUND_HALF_EVEN=6,U.ROUND_HALF_CEIL=7,U.ROUND_HALF_FLOOR=8,U.EUCLID=9,U.config=U.set=function(e){var t,r;if(null!=e){if("object"==typeof e){if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(f(r=e[t],0,1e9,t),I=r),e.hasOwnProperty(t="ROUNDING_MODE")&&(f(r=e[t],0,8,t),C=r),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((r=e[t])&&r.pop?(f(r[0],-1e9,0,t),f(r[1],0,1e9,t),O=r[0],P=r[1]):(f(r,-1e9,1e9,t),O=-(P=r<0?-r:r))),e.hasOwnProperty(t="RANGE")){if((r=e[t])&&r.pop)f(r[0],-1e9,-1,t),f(r[1],1,1e9,t),T=r[0],k=r[1];else if(f(r,-1e9,1e9,t),r)T=-(k=r<0?-r:r);else throw Error(a+t+" cannot be zero: "+r)}if(e.hasOwnProperty(t="CRYPTO")){if(!!(r=e[t])===r){if(r){if("undefined"!=typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))N=r;else throw N=!r,Error(a+"crypto unavailable")}else N=r}else throw Error(a+t+" not true or false: "+r)}if(e.hasOwnProperty(t="MODULO_MODE")&&(f(r=e[t],0,9,t),M=r),e.hasOwnProperty(t="POW_PRECISION")&&(f(r=e[t],0,1e9,t),R=r),e.hasOwnProperty(t="FORMAT")){if("object"==typeof(r=e[t]))D=r;else throw Error(a+t+" not an object: "+r)}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(r=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(a+t+" invalid: "+r);B="0123456789"==r.slice(0,10),L=r}}else throw Error(a+"Object expected: "+e)}return{DECIMAL_PLACES:I,ROUNDING_MODE:C,EXPONENTIAL_AT:[O,P],RANGE:[T,k],CRYPTO:N,MODULO_MODE:M,POW_PRECISION:R,FORMAT:D,ALPHABET:L}},U.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!U.DEBUG)return!0;var t,r,n=e.c,i=e.e,s=e.s;n:if("[object Array]"==({}).toString.call(n)){if((1===s||-1===s)&&i>=-1e9&&i<=1e9&&i===o(i)){if(0===n[0]){if(0===i&&1===n.length)return!0;break n}if((t=(i+1)%14)<1&&(t+=14),String(n[0]).length==t){for(t=0;t<n.length;t++)if((r=n[t])<0||r>=1e14||r!==o(r))break n;if(0!==r)return!0}}}else if(null===n&&null===i&&(null===s||1===s||-1===s))return!0;throw Error(a+"Invalid BigNumber: "+e)},U.maximum=U.max=function(){return $(arguments,-1)},U.minimum=U.min=function(){return $(arguments,1)},U.random=(r=9007199254740992*Math.random()&2097151?function(){return o(9007199254740992*Math.random())}:function(){return(1073741824*Math.random()|0)*8388608+(8388608*Math.random()|0)},function(e){var t,n,s,l,u,d=0,h=[],p=new U(_);if(null==e?e=I:f(e,0,1e9),l=i(e/14),N){if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(l*=2));d<l;)(u=131072*t[d]+(t[d+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[d]=n[0],t[d+1]=n[1]):(h.push(u%1e14),d+=2);d=l/2}else if(crypto.randomBytes){for(t=crypto.randomBytes(l*=7);d<l;)(u=(31&t[d])*281474976710656+1099511627776*t[d+1]+4294967296*t[d+2]+16777216*t[d+3]+(t[d+4]<<16)+(t[d+5]<<8)+t[d+6])>=9e15?crypto.randomBytes(7).copy(t,d):(h.push(u%1e14),d+=7);d=l/7}else throw N=!1,Error(a+"crypto unavailable")}if(!N)for(;d<l;)(u=r())<9e15&&(h[d++]=u%1e14);for(l=h[--d],e%=14,l&&e&&(u=c[14-e],h[d]=o(l/u)*u);0===h[d];h.pop(),d--);if(d<0)h=[s=0];else{for(s=-1;0===h[0];h.splice(0,1),s-=14);for(d=1,u=h[0];u>=10;u/=10,d++);d<14&&(s-=14-d)}return p.e=s,p.c=h,p}),U.sum=function(){for(var e=1,t=arguments,r=new U(t[0]);e<t.length;)r=r.plus(t[e++]);return r},x=function(){var e="0123456789";function t(e,t,r,n){for(var i,o,a=[0],s=0,c=e.length;s<c;){for(o=a.length;o--;a[o]*=t);for(a[0]+=n.indexOf(e.charAt(s++)),i=0;i<a.length;i++)a[i]>r-1&&(null==a[i+1]&&(a[i+1]=0),a[i+1]+=a[i]/r|0,a[i]%=r)}return a.reverse()}return function(r,n,i,o,a){var s,c,l,d,f,h,p,m,y=r.indexOf("."),b=I,w=C;for(y>=0&&(d=R,R=0,r=r.replace(".",""),h=(m=new U(n)).pow(r.length-y),R=d,m.c=t(g(u(h.c),h.e,"0"),10,i,e),m.e=m.c.length),l=d=(p=t(r,n,i,a?(s=L,e):(s=e,L))).length;0==p[--d];p.pop());if(!p[0])return s.charAt(0);if(y<0?--l:(h.c=p,h.e=l,h.s=o,p=(h=E(h,m,b,w,i)).c,f=h.r,l=h.e),y=p[c=l+b+1],d=i/2,f=f||c<0||null!=p[c+1],f=w<4?(null!=y||f)&&(0==w||w==(h.s<0?3:2)):y>d||y==d&&(4==w||f||6==w&&1&p[c-1]||w==(h.s<0?8:7)),c<1||!p[0])r=f?g(s.charAt(1),-b,s.charAt(0)):s.charAt(0);else{if(p.length=c,f)for(--i;++p[--c]>i;)p[c]=0,c||(++l,p=[1].concat(p));for(d=p.length;!p[--d];);for(y=0,r="";y<=d;r+=s.charAt(p[y++]));r=g(r,l,s.charAt(0))}return r}}(),E=function(){function e(e,t,r){var n,i,o,a,s=0,c=e.length,l=t%1e7,u=t/1e7|0;for(e=e.slice();c--;)n=u*(o=e[c]%1e7)+(a=e[c]/1e7|0)*l,s=((i=l*o+n%1e7*1e7+s)/r|0)+(n/1e7|0)+u*a,e[c]=i%r;return s&&(e=[s].concat(e)),e}function t(e,t,r,n){var i,o;if(r!=n)o=r>n?1:-1;else for(i=o=0;i<r;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function r(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=e[r]<t[r]?1:0,e[r]=i*n+e[r]-t[r];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(n,i,a,s,c){var u,d,f,h,p,g,m,y,b,w,v,E,x,A,S,_,I,C=n.s==i.s?1:-1,O=n.c,P=i.c;if(!O||!O[0]||!P||!P[0])return new U(n.s&&i.s&&(O?!P||O[0]!=P[0]:P)?O&&0==O[0]||!P?0*C:C/0:NaN);for(b=(y=new U(C)).c=[],C=a+(d=n.e-i.e)+1,c||(c=1e14,d=l(n.e/14)-l(i.e/14),C=C/14|0),f=0;P[f]==(O[f]||0);f++);if(P[f]>(O[f]||0)&&d--,C<0)b.push(1),h=!0;else{for(A=O.length,_=P.length,f=0,C+=2,(p=o(c/(P[0]+1)))>1&&(P=e(P,p,c),O=e(O,p,c),_=P.length,A=O.length),x=_,v=(w=O.slice(0,_)).length;v<_;w[v++]=0);I=[0].concat(I=P.slice()),S=P[0],P[1]>=c/2&&S++;do{if(p=0,(u=t(P,w,_,v))<0){if(E=w[0],_!=v&&(E=E*c+(w[1]||0)),(p=o(E/S))>1)for(p>=c&&(p=c-1),m=(g=e(P,p,c)).length,v=w.length;1==t(g,w,m,v);)p--,r(g,_<m?I:P,m,c),m=g.length,u=1;else 0==p&&(u=p=1),m=(g=P.slice()).length;if(m<v&&(g=[0].concat(g)),r(w,g,v,c),v=w.length,-1==u)for(;1>t(P,w,_,v);)p++,r(w,_<v?I:P,v,c),v=w.length}else 0===u&&(p++,w=[0]);b[f++]=p,w[0]?w[v++]=O[x]||0:(w=[O[x]],v=1)}while((x++<A||null!=w[0])&&C--);h=null!=w[0],b[0]||b.splice(0,1)}if(1e14==c){for(f=1,C=b[0];C>=10;C/=10,f++);z(y,a+(y.e=f+14*d-1)+1,s,h)}else y.e=d,y.r=+h;return y}}(),m=/^(-?)0([xbo])(?=\w[\w.]*$)/i,y=/^([^.]+)\.$/,b=/^\.([^.]+)$/,w=/^-?(Infinity|NaN)$/,v=/^\s*\+(?=[\w.])|^\s+|\s+$/g,A=function(e,t,r,n){var i,o=r?t:t.replace(v,"");if(w.test(o))e.s=isNaN(o)?null:o<0?-1:1;else{if(!r&&(o=o.replace(m,function(e,t,r){return i="x"==(r=r.toLowerCase())?16:"b"==r?2:8,n&&n!=i?e:t}),n&&(i=n,o=o.replace(y,"$1").replace(b,"0.$1")),t!=o))return new U(o,i);if(U.DEBUG)throw Error(a+"Not a"+(n?" base "+n:"")+" number: "+t);e.s=null}e.c=e.e=null},S.absoluteValue=S.abs=function(){var e=new U(this);return e.s<0&&(e.s=1),e},S.comparedTo=function(e,t){return d(this,new U(e,t))},S.decimalPlaces=S.dp=function(e,t){var r,n,i;if(null!=e)return f(e,0,1e9),null==t?t=C:f(t,0,8),z(new U(this),e+this.e+1,t);if(!(r=this.c))return null;if(n=((i=r.length-1)-l(this.e/14))*14,i=r[i])for(;i%10==0;i/=10,n--);return n<0&&(n=0),n},S.dividedBy=S.div=function(e,t){return E(this,new U(e,t),I,C)},S.dividedToIntegerBy=S.idiv=function(e,t){return E(this,new U(e,t),0,1)},S.exponentiatedBy=S.pow=function(e,t){var r,n,s,c,l,u,d,f,p,g=this;if((e=new U(e)).c&&!e.isInteger())throw Error(a+"Exponent not an integer: "+q(e));if(null!=t&&(t=new U(t)),u=e.e>14,!g.c||!g.c[0]||1==g.c[0]&&!g.e&&1==g.c.length||!e.c||!e.c[0])return p=new U(Math.pow(+q(g),u?e.s*(2-h(e)):+q(e))),t?p.mod(t):p;if(d=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new U(NaN);(n=!d&&g.isInteger()&&t.isInteger())&&(g=g.mod(t))}else{if(e.e>9&&(g.e>0||g.e<-1||(0==g.e?g.c[0]>1||u&&g.c[1]>=24e7:g.c[0]<8e13||u&&g.c[0]<=9999975e7)))return c=g.s<0&&h(e)?-0:0,g.e>-1&&(c=1/c),new U(d?1/c:c);R&&(c=i(R/14+2))}for(u?(r=new U(.5),d&&(e.s=1),f=h(e)):f=(s=Math.abs(+q(e)))%2,p=new U(_);;){if(f){if(!(p=p.times(g)).c)break;c?p.c.length>c&&(p.c.length=c):n&&(p=p.mod(t))}if(s){if(0===(s=o(s/2)))break;f=s%2}else if(z(e=e.times(r),e.e+1,1),e.e>14)f=h(e);else{if(0==(s=+q(e)))break;f=s%2}g=g.times(g),c?g.c&&g.c.length>c&&(g.c.length=c):n&&(g=g.mod(t))}return n?p:(d&&(p=_.div(p)),t?p.mod(t):c?z(p,R,C,l):p)},S.integerValue=function(e){var t=new U(this);return null==e?e=C:f(e,0,8),z(t,t.e+1,e)},S.isEqualTo=S.eq=function(e,t){return 0===d(this,new U(e,t))},S.isFinite=function(){return!!this.c},S.isGreaterThan=S.gt=function(e,t){return d(this,new U(e,t))>0},S.isGreaterThanOrEqualTo=S.gte=function(e,t){return 1===(t=d(this,new U(e,t)))||0===t},S.isInteger=function(){return!!this.c&&l(this.e/14)>this.c.length-2},S.isLessThan=S.lt=function(e,t){return 0>d(this,new U(e,t))},S.isLessThanOrEqualTo=S.lte=function(e,t){return -1===(t=d(this,new U(e,t)))||0===t},S.isNaN=function(){return!this.s},S.isNegative=function(){return this.s<0},S.isPositive=function(){return this.s>0},S.isZero=function(){return!!this.c&&0==this.c[0]},S.minus=function(e,t){var r,n,i,o,a=this.s;if(t=(e=new U(e,t)).s,!a||!t)return new U(NaN);if(a!=t)return e.s=-t,this.plus(e);var s=this.e/14,c=e.e/14,u=this.c,d=e.c;if(!s||!c){if(!u||!d)return u?(e.s=-t,e):new U(d?this:NaN);if(!u[0]||!d[0])return d[0]?(e.s=-t,e):new U(u[0]?this:3==C?-0:0)}if(s=l(s),c=l(c),u=u.slice(),a=s-c){for((o=a<0)?(a=-a,i=u):(c=s,i=d),i.reverse(),t=a;t--;i.push(0));i.reverse()}else for(n=(o=(a=u.length)<(t=d.length))?a:t,a=t=0;t<n;t++)if(u[t]!=d[t]){o=u[t]<d[t];break}if(o&&(i=u,u=d,d=i,e.s=-e.s),(t=(n=d.length)-(r=u.length))>0)for(;t--;u[r++]=0);for(t=1e14-1;n>a;){if(u[--n]<d[n]){for(r=n;r&&!u[--r];u[r]=t);--u[r],u[n]+=1e14}u[n]-=d[n]}for(;0==u[0];u.splice(0,1),--c);return u[0]?F(e,u,c):(e.s=3==C?-1:1,e.c=[e.e=0],e)},S.modulo=S.mod=function(e,t){var r,n;return(e=new U(e,t),this.c&&e.s&&(!e.c||e.c[0]))?e.c&&(!this.c||this.c[0])?(9==M?(n=e.s,e.s=1,r=E(this,e,0,3),e.s=n,r.s*=n):r=E(this,e,0,M),(e=this.minus(r.times(e))).c[0]||1!=M||(e.s=this.s),e):new U(this):new U(NaN)},S.multipliedBy=S.times=function(e,t){var r,n,i,o,a,s,c,u,d,f,h,p,g,m=this.c,y=(e=new U(e,t)).c;if(!m||!y||!m[0]||!y[0])return this.s&&e.s&&(!m||m[0]||y)&&(!y||y[0]||m)?(e.s*=this.s,m&&y?(e.c=[0],e.e=0):e.c=e.e=null):e.c=e.e=e.s=null,e;for(n=l(this.e/14)+l(e.e/14),e.s*=this.s,(c=m.length)<(f=y.length)&&(g=m,m=y,y=g,i=c,c=f,f=i),i=c+f,g=[];i--;g.push(0));for(i=f;--i>=0;){for(r=0,h=y[i]%1e7,p=y[i]/1e7|0,o=i+(a=c);o>i;)s=p*(u=m[--a]%1e7)+(d=m[a]/1e7|0)*h,r=((u=h*u+s%1e7*1e7+g[o]+r)/1e14|0)+(s/1e7|0)+p*d,g[o--]=u%1e14;g[o]=r}return r?++n:g.splice(0,1),F(e,g,n)},S.negated=function(){var e=new U(this);return e.s=-e.s||null,e},S.plus=function(e,t){var r,n=this.s;if(t=(e=new U(e,t)).s,!n||!t)return new U(NaN);if(n!=t)return e.s=-t,this.minus(e);var i=this.e/14,o=e.e/14,a=this.c,s=e.c;if(!i||!o){if(!a||!s)return new U(n/0);if(!a[0]||!s[0])return s[0]?e:new U(a[0]?this:0*n)}if(i=l(i),o=l(o),a=a.slice(),n=i-o){for(n>0?(o=i,r=s):(n=-n,r=a),r.reverse();n--;r.push(0));r.reverse()}for((n=a.length)-(t=s.length)<0&&(r=s,s=a,a=r,t=n),n=0;t;)n=(a[--t]=a[t]+s[t]+n)/1e14|0,a[t]=1e14===a[t]?0:a[t]%1e14;return n&&(a=[n].concat(a),++o),F(e,a,o)},S.precision=S.sd=function(e,t){var r,n,i;if(null!=e&&!!e!==e)return f(e,1,1e9),null==t?t=C:f(t,0,8),z(new U(this),e,t);if(!(r=this.c))return null;if(n=14*(i=r.length-1)+1,i=r[i]){for(;i%10==0;i/=10,n--);for(i=r[0];i>=10;i/=10,n++);}return e&&this.e+1>n&&(n=this.e+1),n},S.shiftedBy=function(e){return f(e,-9007199254740991,9007199254740991),this.times("1e"+e)},S.squareRoot=S.sqrt=function(){var e,t,r,n,i,o=this.c,a=this.s,s=this.e,c=I+4,d=new U("0.5");if(1!==a||!o||!o[0])return new U(!a||a<0&&(!o||o[0])?NaN:o?this:1/0);if(0==(a=Math.sqrt(+q(this)))||a==1/0?(((t=u(o)).length+s)%2==0&&(t+="0"),a=Math.sqrt(+t),s=l((s+1)/2)-(s<0||s%2),r=new U(t=a==1/0?"5e"+s:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+s)):r=new U(a+""),r.c[0]){for((a=(s=r.e)+c)<3&&(a=0);;)if(i=r,r=d.times(i.plus(E(this,i,c,1))),u(i.c).slice(0,a)===(t=u(r.c)).slice(0,a)){if(r.e<s&&--a,"9999"!=(t=t.slice(a-3,a+1))&&(n||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(z(r,r.e+I+2,1),e=!r.times(r).eq(this));break}if(!n&&(z(i,i.e+I+2,0),i.times(i).eq(this))){r=i;break}c+=4,a+=4,n=1}}return z(r,r.e+I+1,C,e)},S.toExponential=function(e,t){return null!=e&&(f(e,0,1e9),e++),j(this,e,t,1)},S.toFixed=function(e,t){return null!=e&&(f(e,0,1e9),e=e+this.e+1),j(this,e,t)},S.toFormat=function(e,t,r){var n;if(null==r)null!=e&&t&&"object"==typeof t?(r=t,t=null):e&&"object"==typeof e?(r=e,e=t=null):r=D;else if("object"!=typeof r)throw Error(a+"Argument not an object: "+r);if(n=this.toFixed(e,t),this.c){var i,o=n.split("."),s=+r.groupSize,c=+r.secondaryGroupSize,l=r.groupSeparator||"",u=o[0],d=o[1],f=this.s<0,h=f?u.slice(1):u,p=h.length;if(c&&(i=s,s=c,c=i,p-=i),s>0&&p>0){for(i=p%s||s,u=h.substr(0,i);i<p;i+=s)u+=l+h.substr(i,s);c>0&&(u+=l+h.slice(i)),f&&(u="-"+u)}n=d?u+(r.decimalSeparator||"")+((c=+r.fractionGroupSize)?d.replace(RegExp("\\d{"+c+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):d):u}return(r.prefix||"")+n+(r.suffix||"")},S.toFraction=function(e){var t,r,n,i,o,s,l,d,f,h,p,g,m=this.c;if(null!=e&&(!(l=new U(e)).isInteger()&&(l.c||1!==l.s)||l.lt(_)))throw Error(a+"Argument "+(l.isInteger()?"out of range: ":"not an integer: ")+q(l));if(!m)return new U(this);for(t=new U(_),f=r=new U(_),n=d=new U(_),g=u(m),o=t.e=g.length-this.e-1,t.c[0]=c[(s=o%14)<0?14+s:s],e=!e||l.comparedTo(t)>0?o>0?t:f:l,s=k,k=1/0,l=new U(g),d.c[0]=0;h=E(l,t,0,1),1!=(i=r.plus(h.times(n))).comparedTo(e);)r=n,n=i,f=d.plus(h.times(i=f)),d=i,t=l.minus(h.times(i=t)),l=i;return i=E(e.minus(r),n,0,1),d=d.plus(i.times(f)),r=r.plus(i.times(n)),d.s=f.s=this.s,o*=2,p=1>E(f,n,o,C).minus(this).abs().comparedTo(E(d,r,o,C).minus(this).abs())?[f,n]:[d,r],k=s,p},S.toNumber=function(){return+q(this)},S.toPrecision=function(e,t){return null!=e&&f(e,1,1e9),j(this,e,t,2)},S.toString=function(e){var t,r=this,n=r.s,i=r.e;return null===i?n?(t="Infinity",n<0&&(t="-"+t)):t="NaN":(null==e?t=i<=O||i>=P?p(u(r.c),i):g(u(r.c),i,"0"):10===e&&B?t=g(u((r=z(new U(r),I+i+1,C)).c),r.e,"0"):(f(e,2,L.length,"Base"),t=x(g(u(r.c),i,"0"),10,e,n,!0)),n<0&&r.c[0]&&(t="-"+t)),t},S.valueOf=S.toJSON=function(){return q(this)},S._isBigNumber=!0,S[Symbol.toStringTag]="BigNumber",S[Symbol.for("nodejs.util.inspect.custom")]=S.valueOf,null!=t&&U.set(t),U}()},91938:function(e,t,r){"use strict";function n(e,t,r){t.split&&(t=t.split("."));for(var n,i,o=0,a=t.length,s=e;o<a&&"__proto__"!=(i=""+t[o++])&&"constructor"!==i&&"prototype"!==i;)s=s[i]=o===a?r:typeof(n=s[i])==typeof t?n:0*t[o]!=0||~(""+t[o]).indexOf(".")?{}:[]}r.d(t,{N:function(){return n}})},80206:function(e,t,r){"use strict";function n(){let e=new Set,t=[],r=()=>(function(e){if("undefined"==typeof window)return;let t=t=>e(t.detail);return window.addEventListener("eip6963:announceProvider",t),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",t)})(r=>{t.some(({info:e})=>e.uuid===r.info.uuid)||(t=[...t,r],e.forEach(e=>e(t,{added:[r]})))}),n=r();return{_listeners:()=>e,clear(){e.forEach(e=>e([],{removed:[...t]})),t=[]},destroy(){this.clear(),e.clear(),n?.()},findProvider:({rdns:e})=>t.find(t=>t.info.rdns===e),getProviders:()=>t,reset(){this.clear(),n?.(),n=r()},subscribe:(r,{emitImmediately:n}={})=>(e.add(r),n&&r(t,{added:t}),()=>e.delete(r))}}r.d(t,{M:function(){return n}})},6390:function(e,t,r){"use strict";r.r(t),r.d(t,{decode:function(){return s},encode:function(){return c},format:function(){return l},from:function(){return u},fromAbi:function(){return d}});var n=r(84092),i=r(99561),o=r(1733),a=r(19586);function s(...e){let[t,r]=(()=>{if(Array.isArray(e[0])){let[t,r]=e;return[d(t),r]}return e})(),{bytecode:n}=r;if(t.inputs?.length===0)return;let i=r.data.replace(n,"0x");return o.decode(t.inputs,i)}function c(...e){let[t,r]=(()=>{if(Array.isArray(e[0])){let[t,r]=e;return[d(t),r]}return e})(),{bytecode:n,args:i}=r;return a.concat(n,t.inputs?.length&&i?.length?o.encode(t.inputs,i):"0x")}function l(e){return n.t(e)}function u(e){return i.from(e)}function d(e){let t=e.find(e=>"constructor"===e.type);if(!t)throw new i.NotFoundError({name:"constructor"});return t}},69768:function(e,t,r){"use strict";r.r(t),r.d(t,{decodeData:function(){return s},decodeResult:function(){return c},encodeData:function(){return l},encodeResult:function(){return u},format:function(){return d},from:function(){return f},fromAbi:function(){return h},getSelector:function(){return p}});var n=r(84092),i=r(99561),o=r(1733),a=r(19586);function s(...e){let[t,r]=(()=>{if(Array.isArray(e[0])){let[t,r,n]=e;return[h(t,r),n]}return e})(),{overloads:n}=t;if(4>a.size(r))throw new i.InvalidSelectorSizeError({data:r});if(t.inputs?.length===0)return;let c=n?h([t,...n],r):t;if(!(4>=a.size(r)))return o.decode(c.inputs,a.slice(r,4))}function c(...e){let[t,r,n={}]=(()=>{if(Array.isArray(e[0])){let[t,r,n,i]=e;return[h(t,r),n,i]}return e})(),i=o.decode(t.outputs,r,n);if(!i||0!==Object.keys(i).length)return i&&1===Object.keys(i).length?Array.isArray(i)?i[0]:Object.values(i)[0]:i}function l(...e){let[t,r=[]]=(()=>{if(Array.isArray(e[0])){let[t,r,n]=e;return[h(t,r,{args:n}),n]}let[t,r]=e;return[t,r]})(),{overloads:n}=t,i=n?h([t,...n],t.name,{args:r}):t,s=p(i),c=r.length>0?o.encode(i.inputs,r):void 0;return c?a.concat(s,c):s}function u(...e){let[t,r,n={}]=(()=>{if(Array.isArray(e[0])){let[t,r,n,i]=e;return[h(t,r),n,i]}return e})(),{as:i="Array"}=n,a=1===t.outputs.length?[r]:Array.isArray(r)?r:"Object"===i?Object.values(r):[r];return o.encode(t.outputs,a)}function d(e){return n.t(e)}function f(e,t={}){return i.from(e,t)}function h(e,t,r){let n=i.fromAbi(e,t,r);if("function"!==n.type)throw new i.NotFoundError({name:t,type:"function"});return n}function p(e){return i.getSelector(e)}},99561:function(e,t,r){"use strict";r.r(t),r.d(t,{AmbiguityError:function(){return w},InvalidSelectorSizeError:function(){return E},NotFoundError:function(){return v},format:function(){return h},from:function(){return p},fromAbi:function(){return g},getSelector:function(){return m},getSignature:function(){return y},getSignatureHash:function(){return b}});var n=r(84092),i=r(39802),o=r(34271),a=r(1050),s=r(40411),c=r(71725),l=r(99317),u=r(19586),d=r(76298);function f(e){let t=!0,r="",n=0,i="",o=!1;for(let a=0;a<e.length;a++){let s=e[a];if(["(",")",","].includes(s)&&(t=!0),"("===s&&n++,")"===s&&n--,t){if(0===n){if(" "===s&&["event","function","error",""].includes(i))i="";else if(i+=s,")"===s){o=!0;break}continue}if(" "===s){","!==e[a-1]&&","!==r&&",("!==r&&(r="",t=!1);continue}i+=s,r+=s}}if(!o)throw new c.BaseError("Unable to normalize signature.");return i}function h(e){return n.t(e)}function p(e,t={}){let{prepare:r=!0}=t,n=Array.isArray(e)||"string"==typeof e?function(e){let t;if("string"==typeof e)t=(0,s.cK)(e);else{let r=(0,a.D)(e),n=e.length;for(let i=0;i<n;i++){let n=e[i];if(!(0,o.N0)(n)){t=(0,s.cK)(n,r);break}}}if(!t)throw new i.a_({signature:e});return t}(e):e;return{...n,...r?{hash:b(n)}:{}}}function g(e,t,r){let n;let{args:i=[],prepare:o=!0}=r??{},a=u.validate(t,{strict:!1}),s=e.filter(e=>a?"function"===e.type||"error"===e.type?m(e)===u.slice(t,0,4):"event"===e.type&&b(e)===t:"name"in e&&e.name===t);if(0===s.length)throw new v({name:t});if(1===s.length)return{...s[0],...o?{hash:b(s[0])}:{}};for(let e of s)if("inputs"in e){if(!i||0===i.length){if(!e.inputs||0===e.inputs.length)return{...e,...o?{hash:b(e)}:{}};continue}if(e.inputs&&0!==e.inputs.length&&e.inputs.length===i.length&&i.every((t,r)=>{let n="inputs"in e&&e.inputs[r];return!!n&&function e(t,r){let n=typeof t,i=r.type;switch(i){case"address":return d.validate(t,{strict:!1});case"bool":return"boolean"===n;case"function":case"string":return"string"===n;default:if("tuple"===i&&"components"in r)return Object.values(r.components).every((r,n)=>e(Object.values(t)[n],r));if(/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(i))return"number"===n||"bigint"===n;if(/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(i))return"string"===n||t instanceof Uint8Array;if(/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(i))return Array.isArray(t)&&t.every(t=>e(t,{...r,type:i.replace(/(\[[0-9]{0,}\])$/,"")}));return!1}}(t,n)})){if(n&&"inputs"in n&&n.inputs){let t=function e(t,r,n){for(let i in t){let o=t[i],a=r[i];if("tuple"===o.type&&"tuple"===a.type&&"components"in o&&"components"in a)return e(o.components,a.components,n[i]);let s=[o.type,a.type];if(s.includes("address")&&s.includes("bytes20")||(s.includes("address")&&s.includes("string")||s.includes("address")&&s.includes("bytes"))&&d.validate(n[i],{strict:!1}))return s}}(e.inputs,n.inputs,i);if(t)throw new w({abiItem:e,type:t[0]},{abiItem:n,type:t[1]})}n=e}}let c=(()=>{if(n)return n;let[e,...t]=s;return{...e,overloads:t}})();if(!c)throw new v({name:t});return{...c,...o?{hash:b(c)}:{}}}function m(...e){let t=(()=>{if(Array.isArray(e[0])){let[t,r]=e;return g(t,r)}return e[0]})();return u.slice(b(t),0,4)}function y(...e){let t=(()=>{if(Array.isArray(e[0])){let[t,r]=e;return g(t,r)}return e[0]})();return f("string"==typeof t?t:n.t(t))}function b(...e){let t=(()=>{if(Array.isArray(e[0])){let[t,r]=e;return g(t,r)}return e[0]})();return"string"!=typeof t&&"hash"in t&&t.hash?t.hash:l.keccak256(u.fromString(y(t)))}class w extends c.BaseError{constructor(e,t){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${f(n.t(e.abiItem))}\`, and`,`\`${t.type}\` in \`${f(n.t(t.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class v extends c.BaseError{constructor({name:e,data:t,type:r="item"}){super(`ABI ${r}${e?` with name "${e}"`:t?` with data "${t}"`:""} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}class E extends c.BaseError{constructor({data:e}){super(`Selector size is invalid. Expected 4 bytes. Received ${u.size(e)} bytes ("${e}").`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.InvalidSelectorSizeError"})}}},1733:function(e,t,r){"use strict";r.r(t),r.d(t,{ArrayLengthMismatchError:function(){return S},BytesSizeMismatchError:function(){return _},DataSizeTooSmallError:function(){return x},InvalidArrayError:function(){return C},InvalidTypeError:function(){return O},LengthMismatchError:function(){return I},ZeroDataError:function(){return A},decode:function(){return y},encode:function(){return b},encodePacked:function(){return w},format:function(){return v},from:function(){return E}});var n=r(30610),i=r(77402),o=r(34271),a=r(1050),s=r(40411),c=r(76298),l=r(79866),u=r(71725),d=r(19586),f=r(6797);function h(e){let t=0;for(let r=0;r<e.length;r++){let{dynamic:n,encoded:i}=e[r];n?t+=32:t+=d.size(i)}let r=[],n=[],i=0;for(let o=0;o<e.length;o++){let{dynamic:a,encoded:s}=e[o];a?(r.push(d.fromNumber(t+i,{size:32})),n.push(s),i+=d.size(s)):r.push(s)}return d.concat(...r,...n)}function p(e){let t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function g(e){let{type:t}=e;if("string"===t||"bytes"===t||t.endsWith("[]"))return!0;if("tuple"===t)return e.components?.some(g);let r=p(e.type);return!!(r&&g({...e,type:r[1]}))}var m=r(44405);function y(e,t,r={}){let{as:n="Array",checksumAddress:i=!1}=r,o="string"==typeof t?l.fromHex(t):t,a=m.Ue(o);if(0===l.size(o)&&e.length>0)throw new A;if(l.size(o)&&32>l.size(o))throw new x({data:"string"==typeof t?t:d.fromBytes(t),parameters:e,size:l.size(o)});let s=0,u="Array"===n?[]:{};for(let t=0;t<e.length;++t){let r=e[t];a.setPosition(s);let[o,f]=function e(t,r,n){let{checksumAddress:i,staticPosition:o}=n,a=p(r.type);if(a){let[n,s]=a;return function(t,r,n){let{checksumAddress:i,length:o,staticPosition:a}=n;if(!o){let n=a+l.toNumber(t.readBytes(32)),o=n+32;t.setPosition(n);let s=l.toNumber(t.readBytes(32)),c=g(r),u=0,d=[];for(let n=0;n<s;++n){t.setPosition(o+(c?32*n:u));let[a,s]=e(t,r,{checksumAddress:i,staticPosition:o});u+=s,d.push(a)}return t.setPosition(a+32),[d,32]}if(g(r)){let n=a+l.toNumber(t.readBytes(32)),s=[];for(let a=0;a<o;++a){t.setPosition(n+32*a);let[o]=e(t,r,{checksumAddress:i,staticPosition:n});s.push(o)}return t.setPosition(a+32),[s,32]}let s=0,c=[];for(let n=0;n<o;++n){let[n,o]=e(t,r,{checksumAddress:i,staticPosition:a+s});s+=o,c.push(n)}return[c,s]}(t,{...r,type:s},{checksumAddress:i,length:n,staticPosition:o})}if("tuple"===r.type)return function(t,r,n){let{checksumAddress:i,staticPosition:o}=n,a=0===r.components.length||r.components.some(({name:e})=>!e),s=a?[]:{},c=0;if(g(r)){let n=o+l.toNumber(t.readBytes(32));for(let o=0;o<r.components.length;++o){let l=r.components[o];t.setPosition(n+c);let[u,d]=e(t,l,{checksumAddress:i,staticPosition:n});c+=d,s[a?o:l?.name]=u}return t.setPosition(o+32),[s,32]}for(let n=0;n<r.components.length;++n){let l=r.components[n],[u,d]=e(t,l,{checksumAddress:i,staticPosition:o});s[a?n:l?.name]=u,c+=d}return[s,c]}(t,r,{checksumAddress:i,staticPosition:o});if("address"===r.type)return function(e,t={}){let r;let{checksum:n=!1}=t,i=e.readBytes(32);return[(r=d.fromBytes(l.slice(i,-20)),n?c.checksum(r):r),32]}(t,{checksum:i});if("bool"===r.type)return[l.toBoolean(t.readBytes(32),{size:32}),32];if(r.type.startsWith("bytes"))return function(e,t,{staticPosition:r}){let[n,i]=t.type.split("bytes");if(!i){let t=l.toNumber(e.readBytes(32));e.setPosition(r+t);let n=l.toNumber(e.readBytes(32));if(0===n)return e.setPosition(r+32),["0x",32];let i=e.readBytes(n);return e.setPosition(r+32),[d.fromBytes(i),32]}return[d.fromBytes(e.readBytes(Number.parseInt(i,10),32)),32]}(t,r,{staticPosition:o});if(r.type.startsWith("uint")||r.type.startsWith("int"))return function(e,t){let r=t.type.startsWith("int"),n=Number.parseInt(t.type.split("int")[1]||"256",10),i=e.readBytes(32);return[n>48?l.toBigInt(i,{signed:r}):l.toNumber(i,{signed:r}),32]}(t,r);if("string"===r.type)return function(e,{staticPosition:t}){let r=l.toNumber(e.readBytes(32));e.setPosition(t+r);let n=l.toNumber(e.readBytes(32));if(0===n)return e.setPosition(t+32),["",32];let i=e.readBytes(n,32),o=l.toString(l.trimLeft(i));return e.setPosition(t+32),[o,32]}(t,{staticPosition:o});throw new O(r.type)}(a,r,{checksumAddress:i,staticPosition:0});s+=f,"Array"===n?u.push(o):u[r.name??t]=o}return u}function b(e,t,r){let{checksumAddress:n=!1}=r??{};if(e.length!==t.length)throw new I({expectedLength:e.length,givenLength:t.length});let i=h(function({checksumAddress:e,parameters:t,values:r}){let n=[];for(let i=0;i<t.length;i++)n.push(function e({checksumAddress:t=!1,parameter:r,value:n}){let i=p(r.type);if(i){let[o,a]=i;return function(t,r){let{checksumAddress:n,length:i,parameter:o}=r,a=null===i;if(!Array.isArray(t))throw new C(t);if(!a&&t.length!==i)throw new S({expectedLength:i,givenLength:t.length,type:`${o.type}[${i}]`});let s=!1,c=[];for(let r=0;r<t.length;r++){let i=e({checksumAddress:n,parameter:o,value:t[r]});i.dynamic&&(s=!0),c.push(i)}if(a||s){let e=h(c);if(a){let t=d.fromNumber(c.length,{size:32});return{dynamic:!0,encoded:c.length>0?d.concat(t,e):t}}if(s)return{dynamic:!0,encoded:e}}return{dynamic:!1,encoded:d.concat(...c.map(({encoded:e})=>e))}}(n,{checksumAddress:t,length:o,parameter:{...r,type:a}})}if("tuple"===r.type)return function(t,r){let{checksumAddress:n,parameter:i}=r,o=!1,a=[];for(let r=0;r<i.components.length;r++){let s=i.components[r],c=Array.isArray(t)?r:s.name,l=e({checksumAddress:n,parameter:s,value:t[c]});a.push(l),l.dynamic&&(o=!0)}return{dynamic:o,encoded:o?h(a):d.concat(...a.map(({encoded:e})=>e))}}(n,{checksumAddress:t,parameter:r});if("address"===r.type)return function(e,t){let{checksum:r=!1}=t;return c.assert(e,{strict:r}),{dynamic:!1,encoded:d.padLeft(e.toLowerCase())}}(n,{checksum:t});if("bool"===r.type)return function(e){if("boolean"!=typeof e)throw new u.BaseError(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:d.padLeft(d.fromBoolean(e))}}(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){let e=r.type.startsWith("int"),[,,t="256"]=f.integerRegex.exec(r.type)??[];return function(e,{signed:t,size:r}){if("number"==typeof r){let n=2n**(BigInt(r)-(t?1n:0n))-1n,i=t?-n-1n:0n;if(e>n||e<i)throw new d.IntegerOutOfRangeError({max:n.toString(),min:i.toString(),signed:t,size:r/8,value:e.toString()})}return{dynamic:!1,encoded:d.fromNumber(e,{size:32,signed:t})}}(n,{signed:e,size:Number(t)})}if(r.type.startsWith("bytes"))return function(e,{type:t}){let[,r]=t.split("bytes"),n=d.size(e);if(!r){let t=e;return n%32!=0&&(t=d.padRight(t,32*Math.ceil((e.length-2)/2/32))),{dynamic:!0,encoded:d.concat(d.padLeft(d.fromNumber(n,{size:32})),t)}}if(n!==Number.parseInt(r,10))throw new _({expectedSize:Number.parseInt(r,10),value:e});return{dynamic:!1,encoded:d.padRight(e)}}(n,{type:r.type});if("string"===r.type)return function(e){let t=d.fromString(e),r=Math.ceil(d.size(t)/32),n=[];for(let e=0;e<r;e++)n.push(d.padRight(d.slice(t,32*e,(e+1)*32)));return{dynamic:!0,encoded:d.concat(d.padRight(d.fromNumber(d.size(t),{size:32})),...n)}}(n);throw new O(r.type)}({checksumAddress:e,parameter:t[i],value:r[i]}));return n}({checksumAddress:n,parameters:e,values:t}));return 0===i.length?"0x":i}function w(e,t){if(e.length!==t.length)throw new I({expectedLength:e.length,givenLength:t.length});let r=[];for(let n=0;n<e.length;n++){let i=e[n],o=t[n];r.push(w.encode(i,o))}return d.concat(...r)}function v(e){return n.P(e)}function E(e){return Array.isArray(e)&&"string"==typeof e[0]||"string"==typeof e?function(e){let t=[];if("string"==typeof e){let r=(0,s.Q4)(e),n=r.length;for(let e=0;e<n;e++)t.push((0,s.C$)(r[e],{modifiers:o.LY}))}else{let r=(0,a.D)(e),n=e.length;for(let i=0;i<n;i++){let n=e[i];if((0,o.N0)(n))continue;let a=(0,s.Q4)(n),c=a.length;for(let e=0;e<c;e++)t.push((0,s.C$)(a[e],{modifiers:o.LY,structs:r}))}}if(0===t.length)throw new i.$r({params:e});return t}(e):e}(w||(w={})).encode=function e(t,r,n=!1){if("address"===t)return c.assert(r),d.padLeft(r.toLowerCase(),n?32:0);if("string"===t)return d.fromString(r);if("bytes"===t)return r;if("bool"===t)return d.padLeft(d.fromBoolean(r),n?32:1);let i=t.match(f.integerRegex);if(i){let[e,t,o="256"]=i,a=Number.parseInt(o,10)/8;return d.fromNumber(r,{size:n?32:a,signed:"int"===t})}let o=t.match(f.bytesRegex);if(o){let[e,t]=o;if(Number.parseInt(t,10)!==(r.length-2)/2)throw new _({expectedSize:Number.parseInt(t,10),value:r});return d.padRight(r,n?32:0)}let a=t.match(f.arrayRegex);if(a&&Array.isArray(r)){let[t,n]=a,i=[];for(let t=0;t<r.length;t++)i.push(e(n,r[t],!0));return 0===i.length?"0x":d.concat(...i)}throw new O(t)};class x extends u.BaseError{constructor({data:e,parameters:t,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${n.P(t)})`,`Data:   ${e} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class A extends u.BaseError{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class S extends u.BaseError{constructor({expectedLength:e,givenLength:t,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${e}\`. Given: \`${t}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class _ extends u.BaseError{constructor({expectedSize:e,value:t}){super(`Size of bytes "${t}" (bytes${d.size(t)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class I extends u.BaseError{constructor({expectedLength:e,givenLength:t}){super(`ABI encoding parameters/values length mismatch.
Expected length (parameters): ${e}
Given length (values): ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class C extends u.BaseError{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class O extends u.BaseError{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}},76298:function(e,t,r){"use strict";r.r(t),r.d(t,{InvalidAddressError:function(){return g},InvalidChecksumError:function(){return y},InvalidInputError:function(){return m},assert:function(){return l},checksum:function(){return u},from:function(){return d},fromPublicKey:function(){return f},isEqual:function(){return h},validate:function(){return p}});var n=r(79866),i=r(16461),o=r(71725),a=r(99317),s=r(7674);let c=/^0x[a-fA-F0-9]{40}$/;function l(e,t={}){let{strict:r=!0}=t;if(!c.test(e))throw new g({address:e,cause:new m});if(r){if(e.toLowerCase()===e)return;if(u(e)!==e)throw new g({address:e,cause:new y})}}function u(e){if(i.checksum.has(e))return i.checksum.get(e);l(e,{strict:!1});let t=e.substring(2).toLowerCase(),r=a.keccak256(n.fromString(t),{as:"Bytes"}),o=t.split("");for(let e=0;e<40;e+=2)r[e>>1]>>4>=8&&o[e]&&(o[e]=o[e].toUpperCase()),(15&r[e>>1])>=8&&o[e+1]&&(o[e+1]=o[e+1].toUpperCase());let s=`0x${o.join("")}`;return i.checksum.set(e,s),s}function d(e,t={}){let{checksum:r=!1}=t;return(l(e),r)?u(e):e}function f(e,t={}){let r=a.keccak256(`0x${s.toHex(e).slice(4)}`).substring(26);return d(`0x${r}`,t)}function h(e,t){return l(e,{strict:!1}),l(t,{strict:!1}),e.toLowerCase()===t.toLowerCase()}function p(e,t={}){let{strict:r=!0}=t??{};try{return l(e,{strict:r}),!0}catch{return!1}}class g extends o.BaseError{constructor({address:e,cause:t}){super(`Address "${e}" is invalid.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class m extends o.BaseError{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class y extends o.BaseError{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}},25506:function(e,t,r){"use strict";r.r(t),r.d(t,{from:function(){return s},fromRpc:function(){return c},fromRpcList:function(){return l},fromTuple:function(){return u},fromTupleList:function(){return d},getSignPayload:function(){return f},hash:function(){return h},toRpc:function(){return p},toRpcList:function(){return g},toTuple:function(){return m},toTupleList:function(){return y}});var n=r(99317),i=r(19586),o=r(44460),a=r(92876);function s(e,t={}){return"string"==typeof e.chainId?c(e):{...e,...t.signature}}function c(e){let{address:t,chainId:r,nonce:n}=e,i=a.extract(e);return{address:t,chainId:Number(r),nonce:BigInt(n),...i}}function l(e){return e.map(c)}function u(e){let[t,r,n,i,o,c]=e,l={address:r,chainId:"0x"===t?0:Number(t),nonce:"0x"===n?0n:BigInt(n)};return i&&o&&c&&(l={...l,...a.fromTuple([i,o,c])}),s(l)}function d(e){let t=[];for(let r of e)t.push(u(r));return t}function f(e){return h(e,{presign:!0})}function h(e,t={}){let{presign:r}=t;return n.keccak256(i.concat("0x05",o.fromHex(m(r?{address:e.address,chainId:e.chainId,nonce:e.nonce}:e))))}function p(e){let{address:t,chainId:r,nonce:n,...o}=e;return{address:t,chainId:i.fromNumber(r),nonce:i.fromNumber(n),...a.toRpc(o)}}function g(e){return e.map(p)}function m(e){let{address:t,chainId:r,nonce:n}=e,o=a.extract(e);return[r?i.fromNumber(r):"0x",t,n?i.fromNumber(n):"0x",...o?a.toTuple(o):[]]}function y(e){if(!e||0===e.length)return[];let t=[];for(let r of e)t.push(m(r));return t}},59921:function(e,t,r){"use strict";r.r(t),r.d(t,{fromRpc:function(){return o},toRpc:function(){return a}});var n=r(19586),i=r(55807);function o(e){return{...e.baseFeePerGas&&{baseFeePerGas:BigInt(e.baseFeePerGas)},...e.blobBaseFee&&{blobBaseFee:BigInt(e.blobBaseFee)},...e.feeRecipient&&{feeRecipient:e.feeRecipient},...e.gasLimit&&{gasLimit:BigInt(e.gasLimit)},...e.number&&{number:BigInt(e.number)},...e.prevRandao&&{prevRandao:BigInt(e.prevRandao)},...e.time&&{time:BigInt(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(i.fromRpc)}}}function a(e){return{..."bigint"==typeof e.baseFeePerGas&&{baseFeePerGas:n.fromNumber(e.baseFeePerGas)},..."bigint"==typeof e.blobBaseFee&&{blobBaseFee:n.fromNumber(e.blobBaseFee)},..."string"==typeof e.feeRecipient&&{feeRecipient:e.feeRecipient},..."bigint"==typeof e.gasLimit&&{gasLimit:n.fromNumber(e.gasLimit)},..."bigint"==typeof e.number&&{number:n.fromNumber(e.number)},..."bigint"==typeof e.prevRandao&&{prevRandao:n.fromNumber(e.prevRandao)},..."bigint"==typeof e.time&&{time:n.fromNumber(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(i.toRpc)}}}},79866:function(e,t,r){"use strict";r.r(t),r.d(t,{InvalidBytesBooleanError:function(){return M},InvalidBytesTypeError:function(){return R},SizeExceedsPaddingSizeError:function(){return B},SizeOverflowError:function(){return D},SliceOffsetOutOfBoundsError:function(){return L},assert:function(){return d},concat:function(){return f},from:function(){return h},fromArray:function(){return p},fromBoolean:function(){return g},fromHex:function(){return m},fromNumber:function(){return y},fromString:function(){return b},isEqual:function(){return w},padLeft:function(){return v},padRight:function(){return E},random:function(){return x},size:function(){return A},slice:function(){return S},toBigInt:function(){return _},toBoolean:function(){return I},toHex:function(){return C},toNumber:function(){return O},toString:function(){return P},trimLeft:function(){return T},trimRight:function(){return k},validate:function(){return N}});var n=r(53520),i=r(71725),o=r(19586),a=r(48960),s=r(82543),c=r(56535);let l=new TextDecoder,u=new TextEncoder;function d(e){if(!(e instanceof Uint8Array)&&(!e||"object"!=typeof e||!("BYTES_PER_ELEMENT"in e)||1!==e.BYTES_PER_ELEMENT||"Uint8Array"!==e.constructor.name))throw new R(e)}function f(...e){let t=0;for(let r of e)t+=r.length;let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}function h(e){return e instanceof Uint8Array?e:"string"==typeof e?m(e):p(e)}function p(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function g(e,t={}){let{size:r}=t,n=new Uint8Array(1);return(n[0]=Number(e),"number"==typeof r)?(a.Yf(n,r),v(n,r)):n}function m(e,t={}){let{size:r}=t,n=e;r&&(s.Yf(e,r),n=o.padRight(e,r));let c=n.slice(2);c.length%2&&(c=`0${c}`);let l=c.length/2,u=new Uint8Array(l);for(let e=0,t=0;e<l;e++){let r=a.DN(c.charCodeAt(t++)),n=a.DN(c.charCodeAt(t++));if(void 0===r||void 0===n)throw new i.BaseError(`Invalid byte sequence ("${c[t-2]}${c[t-1]}" in "${c}").`);u[e]=r<<4|n}return u}function y(e,t){return m(o.fromNumber(e,t))}function b(e,t={}){let{size:r}=t,n=u.encode(e);return"number"==typeof r?(a.Yf(n,r),E(n,r)):n}function w(e,t){return(0,n.Wd)(e,t)}function v(e,t){return a.vk(e,{dir:"left",size:t})}function E(e,t){return a.vk(e,{dir:"right",size:t})}function x(e){return crypto.getRandomValues(new Uint8Array(e))}function A(e){return e.length}function S(e,t,r,n={}){let{strict:i}=n;a.EM(e,t);let o=e.slice(t,r);return i&&a.Ro(o,t,r),o}function _(e,t={}){let{size:r}=t;void 0!==r&&a.Yf(e,r);let n=o.fromBytes(e,t);return o.toBigInt(n,t)}function I(e,t={}){let{size:r}=t,n=e;if(void 0!==r&&(a.Yf(n,r),n=T(n)),n.length>1||n[0]>1)throw new M(n);return!!n[0]}function C(e,t={}){return o.fromBytes(e,t)}function O(e,t={}){let{size:r}=t;void 0!==r&&a.Yf(e,r);let n=o.fromBytes(e,t);return o.toNumber(n,t)}function P(e,t={}){let{size:r}=t,n=e;return void 0!==r&&(a.Yf(n,r),n=k(n)),l.decode(n)}function T(e){return a.fy(e,{dir:"left"})}function k(e){return a.fy(e,{dir:"right"})}function N(e){try{return d(e),!0}catch{return!1}}class M extends i.BaseError{constructor(e){super(`Bytes value \`${e}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}class R extends i.BaseError{constructor(e){super(`Value \`${"object"==typeof e?c.stringify(e):e}\` of type \`${typeof e}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}}class D extends i.BaseError{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class L extends i.BaseError{constructor({offset:e,position:t,size:r}){super(`Slice ${"start"===t?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SliceOffsetOutOfBoundsError"})}}class B extends i.BaseError{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}},16461:function(e,t,r){"use strict";r.r(t),r.d(t,{checksum:function(){return o},clear:function(){return a}});class n extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){let t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){let e=this.keys().next().value;e&&this.delete(e)}return this}}let i={checksum:new n(8192)},o=i.checksum;function a(){for(let e of Object.values(i))e.clear()}},71725:function(e,t,r){"use strict";r.r(t),r.d(t,{BaseError:function(){return i}});var n=r(41380);class i extends Error{static setStaticOptions(e){i.prototype.docsOrigin=e.docsOrigin,i.prototype.showVersion=e.showVersion,i.prototype.version=e.version}constructor(e,t={}){let r=(()=>{if(t.cause instanceof i){if(t.cause.details)return t.cause.details;if(t.cause.shortMessage)return t.cause.shortMessage}return t.cause&&"details"in t.cause&&"string"==typeof t.cause.details?t.cause.details:t.cause?.message?t.cause.message:t.details})(),n=t.cause instanceof i&&t.cause.docsPath||t.docsPath,o=t.docsOrigin??i.prototype.docsOrigin,a=`${o}${n??""}`,s=!!(t.version??i.prototype.showVersion),c=t.version??i.prototype.version;super([e||"An error occurred.",...t.metaMessages?["",...t.metaMessages]:[],...r||n||s?["",r?`Details: ${r}`:void 0,n?`See: ${a}`:void 0,s?`Version: ${c}`:void 0]:[]].filter(e=>"string"==typeof e).join("\n"),t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsOrigin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"showVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.cause=t.cause,this.details=r,this.docs=a,this.docsOrigin=o,this.docsPath=n,this.shortMessage=e,this.showVersion=s,this.version=c}walk(e){return function e(t,r){return r?.(t)?t:t&&"object"==typeof t&&"cause"in t&&t.cause?e(t.cause,r):r?null:t}(this,e)}}Object.defineProperty(i,"defaultStaticOptions",{enumerable:!0,configurable:!0,writable:!0,value:{docsOrigin:"https://oxlib.sh",showVersion:!1,version:`ox@${(0,n.bo)()}`}}),i.setStaticOptions(i.defaultStaticOptions)},99317:function(e,t,r){"use strict";r.r(t),r.d(t,{keccak256:function(){return _},ripemd160:function(){return I},sha256:function(){return C},validate:function(){return O}});let n=r(47544).bP;var i=r(44430),o=r(42021);let a=BigInt(0),s=BigInt(1),c=BigInt(2),l=BigInt(7),u=BigInt(256),d=BigInt(113),f=[],h=[],p=[];for(let e=0,t=s,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],f.push(2*(5*n+r)),h.push((e+1)*(e+2)/2%64);let i=a;for(let e=0;e<7;e++)(t=(t<<s^(t>>l)*d)%u)&c&&(i^=s<<(s<<BigInt(e))-s);p.push(i)}let g=(0,i.Vl)(p,!0),m=g[0],y=g[1],b=(e,t,r)=>r>32?(0,i.SD)(e,t,r):(0,i.EP)(e,t,r),w=(e,t,r)=>r>32?(0,i.mk)(e,t,r):(0,i.gm)(e,t,r);class v extends o.kb{constructor(e,t,r,n=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=i,(0,o.k8)(r),!(0<e&&e<200))throw Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=(0,o.Jq)(this.state)}clone(){return this._cloneInto()}keccak(){(0,o.Ux)(this.state32),function(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let n=(t+8)%10,i=(t+2)%10,o=r[i],a=r[i+1],s=b(o,a,1)^r[n],c=w(o,a,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=s,e[t+r+1]^=c}let t=e[2],i=e[3];for(let r=0;r<24;r++){let n=h[r],o=b(t,i,n),a=w(t,i,n),s=f[r];t=e[s],i=e[s+1],e[s]=o,e[s+1]=a}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=m[n],e[1]^=y[n]}(0,o.ru)(r)}(this.state32,this.rounds),(0,o.Ux)(this.state32),this.posOut=0,this.pos=0}update(e){(0,o.$h)(this),e=(0,o.O0)(e),(0,o.gk)(e);let{blockLen:t,state:r}=this,n=e.length;for(let i=0;i<n;){let o=Math.min(t-this.pos,n-i);for(let t=0;t<o;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,(128&t)!=0&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){(0,o.$h)(this,!1),(0,o.gk)(e),this.finish();let t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();let o=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+o),n),this.posOut+=o,n+=o}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,o.k8)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,o.eB)(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,(0,o.ru)(this.state)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:o}=this;return e||(e=new v(t,r,n,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=o,e.destroyed=this.destroyed,e}}let E=(0,o.V1)(()=>new v(136,1,32)),x=r(6643).JQ;var A=r(79866),S=r(19586);function _(e,t={}){let{as:r="string"==typeof e?"Hex":"Bytes"}=t,n=E(A.from(e));return"Bytes"===r?n:S.fromBytes(n)}function I(e,t={}){let{as:r="string"==typeof e?"Hex":"Bytes"}=t,i=n(A.from(e));return"Bytes"===r?i:S.fromBytes(i)}function C(e,t={}){let{as:r="string"==typeof e?"Hex":"Bytes"}=t,n=x(A.from(e));return"Bytes"===r?n:S.fromBytes(n)}function O(e){return S.validate(e)&&32===S.size(e)}},19586:function(e,t,r){"use strict";r.r(t),r.d(t,{IntegerOutOfRangeError:function(){return N},InvalidHexBooleanError:function(){return M},InvalidHexTypeError:function(){return R},InvalidHexValueError:function(){return D},InvalidLengthError:function(){return L},SizeExceedsPaddingSizeError:function(){return j},SizeOverflowError:function(){return B},SliceOffsetOutOfBoundsError:function(){return U},assert:function(){return d},concat:function(){return f},from:function(){return h},fromBoolean:function(){return p},fromBytes:function(){return g},fromNumber:function(){return m},fromString:function(){return y},isEqual:function(){return b},padLeft:function(){return w},padRight:function(){return v},random:function(){return E},size:function(){return A},slice:function(){return x},toBigInt:function(){return I},toBoolean:function(){return C},toBytes:function(){return O},toNumber:function(){return P},toString:function(){return T},trimLeft:function(){return S},trimRight:function(){return _},validate:function(){return k}});var n=r(53520),i=r(79866),o=r(71725),a=r(48960),s=r(82543),c=r(56535);let l=new TextEncoder,u=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function d(e,t={}){let{strict:r=!1}=t;if(!e||"string"!=typeof e)throw new R(e);if(r&&!/^0x[0-9a-fA-F]*$/.test(e)||!e.startsWith("0x"))throw new D(e)}function f(...e){return`0x${e.reduce((e,t)=>e+t.replace("0x",""),"")}`}function h(e){return e instanceof Uint8Array?g(e):Array.isArray(e)?g(new Uint8Array(e)):e}function p(e,t={}){let r=`0x${Number(e)}`;return"number"==typeof t.size?(s.Yf(r,t.size),w(r,t.size)):r}function g(e,t={}){let r="";for(let t=0;t<e.length;t++)r+=u[e[t]];let n=`0x${r}`;return"number"==typeof t.size?(s.Yf(n,t.size),v(n,t.size)):n}function m(e,t={}){let r;let{signed:n,size:i}=t,o=BigInt(e);i?r=n?(1n<<8n*BigInt(i)-1n)-1n:2n**(8n*BigInt(i))-1n:"number"==typeof e&&(r=BigInt(Number.MAX_SAFE_INTEGER));let a="bigint"==typeof r&&n?-r-1n:0;if(r&&o>r||o<a){let t="bigint"==typeof e?"n":"";throw new N({max:r?`${r}${t}`:void 0,min:`${a}${t}`,signed:n,size:i,value:`${e}${t}`})}let s=(n&&o<0?BigInt.asUintN(8*i,BigInt(o)):o).toString(16),c=`0x${s}`;return i?w(c,i):c}function y(e,t={}){return g(l.encode(e),t)}function b(e,t){return(0,n.Wd)(i.fromHex(e),i.fromHex(t))}function w(e,t){return s.vk(e,{dir:"left",size:t})}function v(e,t){return s.vk(e,{dir:"right",size:t})}function E(e){return g(i.random(e))}function x(e,t,r,n={}){let{strict:i}=n;s.EM(e,t);let o=`0x${e.replace("0x","").slice((t??0)*2,(r??e.length)*2)}`;return i&&s.Ro(o,t,r),o}function A(e){return Math.ceil((e.length-2)/2)}function S(e){return s.fy(e,{dir:"left"})}function _(e){return s.fy(e,{dir:"right"})}function I(e,t={}){let{signed:r}=t;t.size&&s.Yf(e,t.size);let n=BigInt(e);if(!r)return n;let i=(1n<<8n*BigInt((e.length-2)/2))-1n;return n<=i>>1n?n:n-i-1n}function C(e,t={}){t.size&&s.Yf(e,t.size);let r=S(e);if("0x"===r)return!1;if("0x1"===r)return!0;throw new M(e)}function O(e,t={}){return i.fromHex(e,t)}function P(e,t={}){let{signed:r,size:n}=t;return r||n?Number(I(e,t)):Number(e)}function T(e,t={}){let{size:r}=t,n=i.fromHex(e);return r&&(a.Yf(n,r),n=i.trimRight(n)),new TextDecoder().decode(n)}function k(e,t={}){let{strict:r=!1}=t;try{return d(e,{strict:r}),!0}catch{return!1}}class N extends o.BaseError{constructor({max:e,min:t,signed:r,size:n,value:i}){super(`Number \`${i}\` is not in safe${n?` ${8*n}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${t}\` to \`${e}\`)`:`(above \`${t}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class M extends o.BaseError{constructor(e){super(`Hex value \`"${e}"\` is not a valid boolean.`,{metaMessages:['The hex value must be `"0x0"` (false) or `"0x1"` (true).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexBooleanError"})}}class R extends o.BaseError{constructor(e){super(`Value \`${"object"==typeof e?c.stringify(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class D extends o.BaseError{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class L extends o.BaseError{constructor(e){super(`Hex value \`"${e}"\` is an odd length (${e.length-2} nibbles).`,{metaMessages:["It must be an even length."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidLengthError"})}}class B extends o.BaseError{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class U extends o.BaseError{constructor({offset:e,position:t,size:r}){super(`Slice ${"start"===t?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class j extends o.BaseError{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}},56535:function(e,t,r){"use strict";r.r(t),r.d(t,{parse:function(){return i},stringify:function(){return o}});let n="#__bigint";function i(e,t){return JSON.parse(e,(e,r)=>"string"==typeof r&&r.endsWith(n)?BigInt(r.slice(0,-n.length)):"function"==typeof t?t(e,r):r)}function o(e,t,r){return JSON.stringify(e,(e,r)=>"function"==typeof t?t(e,r):"bigint"==typeof r?r.toString()+n:r,r)}},7674:function(e,t,r){"use strict";r.r(t),r.d(t,{InvalidCompressedPrefixError:function(){return y},InvalidError:function(){return g},InvalidPrefixError:function(){return m},InvalidSerializedSizeError:function(){return w},InvalidUncompressedPrefixError:function(){return b},assert:function(){return s},compress:function(){return c},from:function(){return l},fromBytes:function(){return u},fromHex:function(){return d},toBytes:function(){return f},toHex:function(){return h},validate:function(){return p}});var n=r(79866),i=r(71725),o=r(19586),a=r(56535);function s(e,t={}){let{compressed:r}=t,{prefix:n,x:i,y:o}=e;if(!1===r||"bigint"==typeof i&&"bigint"==typeof o){if(4!==n)throw new m({prefix:n,cause:new b});return}if(!0===r||"bigint"==typeof i&&void 0===o){if(3!==n&&2!==n)throw new m({prefix:n,cause:new y});return}throw new g({publicKey:e})}function c(e){let{x:t,y:r}=e;return{prefix:r%2n===0n?2:3,x:t}}function l(e){let t=(()=>{if(o.validate(e))return d(e);if(n.validate(e))return u(e);let{prefix:t,x:r,y:i}=e;return"bigint"==typeof r&&"bigint"==typeof i?{prefix:t??4,x:r,y:i}:{prefix:t,x:r}})();return s(t),t}function u(e){return d(o.fromBytes(e))}function d(e){if(132!==e.length&&130!==e.length&&68!==e.length)throw new w({publicKey:e});return 130===e.length?{prefix:4,x:BigInt(o.slice(e,0,32)),y:BigInt(o.slice(e,32,64))}:132===e.length?{prefix:Number(o.slice(e,0,1)),x:BigInt(o.slice(e,1,33)),y:BigInt(o.slice(e,33,65))}:{prefix:Number(o.slice(e,0,1)),x:BigInt(o.slice(e,1,33))}}function f(e,t={}){return n.fromHex(h(e,t))}function h(e,t={}){s(e);let{prefix:r,x:n,y:i}=e,{includePrefix:a=!0}=t;return o.concat(a?o.fromNumber(r,{size:1}):"0x",o.fromNumber(n,{size:32}),"bigint"==typeof i?o.fromNumber(i,{size:32}):"0x")}function p(e,t={}){try{return s(e,t),!0}catch(e){return!1}}class g extends i.BaseError{constructor({publicKey:e}){super(`Value \`${a.stringify(e)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}}class m extends i.BaseError{constructor({prefix:e,cause:t}){super(`Prefix "${e}" is invalid.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}}class y extends i.BaseError{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}}class b extends i.BaseError{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}}class w extends i.BaseError{constructor({publicKey:e}){super(`Value \`${e}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${o.size(o.from(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}}},44460:function(e,t,r){"use strict";r.r(t),r.d(t,{decodeRlpCursor:function(){return u},from:function(){return h},fromBytes:function(){return p},fromHex:function(){return g},readLength:function(){return d},readList:function(){return f},to:function(){return l},toBytes:function(){return s},toHex:function(){return c}});var n=r(79866),i=r(71725),o=r(19586),a=r(44405);function s(e){return l(e,"Bytes")}function c(e){return l(e,"Hex")}function l(e,t){let r=t??("string"==typeof e?"Hex":"Bytes"),i=(()=>{if("string"==typeof e){if(e.length>3&&e.length%2!=0)throw new o.InvalidLengthError(e);return n.fromHex(e)}return e})();return u(a.Ue(i,{recursiveReadLimit:Number.POSITIVE_INFINITY}),r)}function u(e,t="Hex"){if(0===e.bytes.length)return"Hex"===t?o.fromBytes(e.bytes):e.bytes;let r=e.readByte();if(r<128&&e.decrementPosition(1),r<192){let n=d(e,r,128),i=e.readBytes(n);return"Hex"===t?o.fromBytes(i):i}let n=d(e,r,192);return f(e,n,t)}function d(e,t,r){if(128===r&&t<128)return 1;if(t<=r+55)return t-r;if(t===r+55+1)return e.readUint8();if(t===r+55+2)return e.readUint16();if(t===r+55+3)return e.readUint24();if(t===r+55+4)return e.readUint32();throw new i.BaseError("Invalid RLP prefix")}function f(e,t,r){let n=e.position,i=[];for(;e.position-n<t;)i.push(u(e,r));return i}function h(e,t){let{as:r}=t,i=function e(t){return Array.isArray(t)?function(e){let t=e.reduce((e,t)=>e+t.length,0),r=m(t);return{length:t<=55?1+t:1+r+t,encode(n){for(let{encode:i}of(t<=55?n.pushByte(192+t):(n.pushByte(247+r),1===r?n.pushUint8(t):2===r?n.pushUint16(t):3===r?n.pushUint24(t):n.pushUint32(t)),e))i(n)}}}(t.map(t=>e(t))):function(e){let t="string"==typeof e?n.fromHex(e):e,r=m(t.length);return{length:1===t.length&&t[0]<128?1:t.length<=55?1+t.length:1+r+t.length,encode(e){1===t.length&&t[0]<128||(t.length<=55?e.pushByte(128+t.length):(e.pushByte(183+r),1===r?e.pushUint8(t.length):2===r?e.pushUint16(t.length):3===r?e.pushUint24(t.length):e.pushUint32(t.length))),e.pushBytes(t)}}}(t)}(e),s=a.Ue(new Uint8Array(i.length));return(i.encode(s),"Hex"===r)?o.fromBytes(s.bytes):s.bytes}function p(e,t={}){let{as:r="Bytes"}=t;return h(e,{as:r})}function g(e,t={}){let{as:r="Hex"}=t;return h(e,{as:r})}function m(e){if(e<=255)return 1;if(e<=65535)return 2;if(e<=16777215)return 3;if(e<=4294967295)return 4;throw new i.BaseError("Length is too large.")}},92876:function(e,t,r){"use strict";r.r(t),r.d(t,{InvalidRError:function(){return k},InvalidSError:function(){return N},InvalidSerializedSizeError:function(){return P},InvalidVError:function(){return R},InvalidYParityError:function(){return M},MissingPropertiesError:function(){return T},assert:function(){return l},extract:function(){return f},from:function(){return h},fromBytes:function(){return u},fromDerBytes:function(){return p},fromDerHex:function(){return g},fromHex:function(){return d},fromLegacy:function(){return m},fromRpc:function(){return y},fromTuple:function(){return b},toBytes:function(){return w},toDerBytes:function(){return E},toDerHex:function(){return x},toHex:function(){return v},toLegacy:function(){return A},toRpc:function(){return S},toTuple:function(){return _},vToYParity:function(){return C},validate:function(){return I},yParityToV:function(){return O}});var n=r(30323),i=r(79866),o=r(71725),a=r(19586),s=r(56535),c=r(6797);function l(e,t={}){let{recovered:r}=t;if(void 0===e.r||void 0===e.s||r&&void 0===e.yParity)throw new T({signature:e});if(e.r<0n||e.r>c.maxUint256)throw new k({value:e.r});if(e.s<0n||e.s>c.maxUint256)throw new N({value:e.s});if("number"==typeof e.yParity&&0!==e.yParity&&1!==e.yParity)throw new M({value:e.yParity})}function u(e){return d(a.fromBytes(e))}function d(e){if(130!==e.length&&132!==e.length)throw new P({signature:e});let t=BigInt(a.slice(e,0,32)),r=BigInt(a.slice(e,32,64)),n=(()=>{let t=Number(`0x${e.slice(130)}`);if(!Number.isNaN(t))try{return C(t)}catch{throw new M({value:t})}})();return void 0===n?{r:t,s:r}:{r:t,s:r,yParity:n}}function f(e){if(void 0!==e.r&&void 0!==e.s)return h(e)}function h(e){let t="string"==typeof e?d(e):e instanceof Uint8Array?u(e):"string"==typeof e.r?y(e):e.v?m(e):{r:e.r,s:e.s,...void 0!==e.yParity?{yParity:e.yParity}:{}};return l(t),t}function p(e){return g(a.fromBytes(e))}function g(e){let{r:t,s:r}=n.kA.Signature.fromDER(a.from(e).slice(2));return{r:t,s:r}}function m(e){return{r:e.r,s:e.s,yParity:C(e.v)}}function y(e){let t=(()=>{let t=e.v?Number(e.v):void 0,r=e.yParity?Number(e.yParity):void 0;if("number"==typeof t&&"number"!=typeof r&&(r=C(t)),"number"!=typeof r)throw new M({value:e.yParity});return r})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}function b(e){let[t,r,n]=e;return h({r:"0x"===r?0n:BigInt(r),s:"0x"===n?0n:BigInt(n),yParity:"0x"===t?0:Number(t)})}function w(e){return i.fromHex(v(e))}function v(e){l(e);let t=e.r,r=e.s;return a.concat(a.fromNumber(t,{size:32}),a.fromNumber(r,{size:32}),"number"==typeof e.yParity?a.fromNumber(O(e.yParity),{size:1}):"0x")}function E(e){return new n.kA.Signature(e.r,e.s).toDERRawBytes()}function x(e){let t=new n.kA.Signature(e.r,e.s);return`0x${t.toDERHex()}`}function A(e){return{r:e.r,s:e.s,v:O(e.yParity)}}function S(e){let{r:t,s:r,yParity:n}=e;return{r:a.fromNumber(t,{size:32}),s:a.fromNumber(r,{size:32}),yParity:0===n?"0x0":"0x1"}}function _(e){let{r:t,s:r,yParity:n}=e;return[n?"0x01":"0x",0n===t?"0x":a.trimLeft(a.fromNumber(t)),0n===r?"0x":a.trimLeft(a.fromNumber(r))]}function I(e,t={}){try{return l(e,t),!0}catch{return!1}}function C(e){if(0===e||27===e)return 0;if(1===e||28===e)return 1;if(e>=35)return e%2==0?1:0;throw new R({value:e})}function O(e){if(0===e)return 27;if(1===e)return 28;throw new M({value:e})}class P extends o.BaseError{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${a.size(a.from(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class T extends o.BaseError{constructor({signature:e}){super(`Signature \`${s.stringify(e)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class k extends o.BaseError{constructor({value:e}){super(`Value \`${e}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class N extends o.BaseError{constructor({value:e}){super(`Value \`${e}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class M extends o.BaseError{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class R extends o.BaseError{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}},6797:function(e,t,r){"use strict";r.r(t),r.d(t,{arrayRegex:function(){return n},bytesRegex:function(){return i},integerRegex:function(){return o},maxInt104:function(){return b},maxInt112:function(){return w},maxInt120:function(){return v},maxInt128:function(){return E},maxInt136:function(){return x},maxInt144:function(){return A},maxInt152:function(){return S},maxInt16:function(){return s},maxInt160:function(){return _},maxInt168:function(){return I},maxInt176:function(){return C},maxInt184:function(){return O},maxInt192:function(){return P},maxInt200:function(){return T},maxInt208:function(){return k},maxInt216:function(){return N},maxInt224:function(){return M},maxInt232:function(){return R},maxInt24:function(){return c},maxInt240:function(){return D},maxInt248:function(){return L},maxInt256:function(){return B},maxInt32:function(){return l},maxInt40:function(){return u},maxInt48:function(){return d},maxInt56:function(){return f},maxInt64:function(){return h},maxInt72:function(){return p},maxInt8:function(){return a},maxInt80:function(){return g},maxInt88:function(){return m},maxInt96:function(){return y},maxUint104:function(){return eO},maxUint112:function(){return eP},maxUint120:function(){return eT},maxUint128:function(){return ek},maxUint136:function(){return eN},maxUint144:function(){return eM},maxUint152:function(){return eR},maxUint16:function(){return ey},maxUint160:function(){return eD},maxUint168:function(){return eL},maxUint176:function(){return eB},maxUint184:function(){return eU},maxUint192:function(){return ej},maxUint200:function(){return e$},maxUint208:function(){return eF},maxUint216:function(){return ez},maxUint224:function(){return eq},maxUint232:function(){return eG},maxUint24:function(){return eb},maxUint240:function(){return eH},maxUint248:function(){return eV},maxUint256:function(){return eW},maxUint32:function(){return ew},maxUint40:function(){return ev},maxUint48:function(){return eE},maxUint56:function(){return ex},maxUint64:function(){return eA},maxUint72:function(){return eS},maxUint8:function(){return em},maxUint80:function(){return e_},maxUint88:function(){return eI},maxUint96:function(){return eC},minInt104:function(){return Y},minInt112:function(){return J},minInt120:function(){return X},minInt128:function(){return Q},minInt136:function(){return ee},minInt144:function(){return et},minInt152:function(){return er},minInt16:function(){return j},minInt160:function(){return en},minInt168:function(){return ei},minInt176:function(){return eo},minInt184:function(){return ea},minInt192:function(){return es},minInt200:function(){return ec},minInt208:function(){return el},minInt216:function(){return eu},minInt224:function(){return ed},minInt232:function(){return ef},minInt24:function(){return $},minInt240:function(){return eh},minInt248:function(){return ep},minInt256:function(){return eg},minInt32:function(){return F},minInt40:function(){return z},minInt48:function(){return q},minInt56:function(){return G},minInt64:function(){return H},minInt72:function(){return V},minInt8:function(){return U},minInt80:function(){return W},minInt88:function(){return Z},minInt96:function(){return K}});let n=/^(.*)\[([0-9]*)\]$/,i=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,o=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,a=2n**(8n-1n)-1n,s=2n**(16n-1n)-1n,c=2n**(24n-1n)-1n,l=2n**(32n-1n)-1n,u=2n**(40n-1n)-1n,d=2n**(48n-1n)-1n,f=2n**(56n-1n)-1n,h=2n**(64n-1n)-1n,p=2n**(72n-1n)-1n,g=2n**(80n-1n)-1n,m=2n**(88n-1n)-1n,y=2n**(96n-1n)-1n,b=2n**(104n-1n)-1n,w=2n**(112n-1n)-1n,v=2n**(120n-1n)-1n,E=2n**(128n-1n)-1n,x=2n**(136n-1n)-1n,A=2n**(144n-1n)-1n,S=2n**(152n-1n)-1n,_=2n**(160n-1n)-1n,I=2n**(168n-1n)-1n,C=2n**(176n-1n)-1n,O=2n**(184n-1n)-1n,P=2n**(192n-1n)-1n,T=2n**(200n-1n)-1n,k=2n**(208n-1n)-1n,N=2n**(216n-1n)-1n,M=2n**(224n-1n)-1n,R=2n**(232n-1n)-1n,D=2n**(240n-1n)-1n,L=2n**(248n-1n)-1n,B=2n**(256n-1n)-1n,U=-(2n**(8n-1n)),j=-(2n**(16n-1n)),$=-(2n**(24n-1n)),F=-(2n**(32n-1n)),z=-(2n**(40n-1n)),q=-(2n**(48n-1n)),G=-(2n**(56n-1n)),H=-(2n**(64n-1n)),V=-(2n**(72n-1n)),W=-(2n**(80n-1n)),Z=-(2n**(88n-1n)),K=-(2n**(96n-1n)),Y=-(2n**(104n-1n)),J=-(2n**(112n-1n)),X=-(2n**(120n-1n)),Q=-(2n**(128n-1n)),ee=-(2n**(136n-1n)),et=-(2n**(144n-1n)),er=-(2n**(152n-1n)),en=-(2n**(160n-1n)),ei=-(2n**(168n-1n)),eo=-(2n**(176n-1n)),ea=-(2n**(184n-1n)),es=-(2n**(192n-1n)),ec=-(2n**(200n-1n)),el=-(2n**(208n-1n)),eu=-(2n**(216n-1n)),ed=-(2n**(224n-1n)),ef=-(2n**(232n-1n)),eh=-(2n**(240n-1n)),ep=-(2n**(248n-1n)),eg=-(2n**(256n-1n)),em=2n**8n-1n,ey=2n**16n-1n,eb=2n**24n-1n,ew=2n**32n-1n,ev=2n**40n-1n,eE=2n**48n-1n,ex=2n**56n-1n,eA=2n**64n-1n,eS=2n**72n-1n,e_=2n**80n-1n,eI=2n**88n-1n,eC=2n**96n-1n,eO=2n**104n-1n,eP=2n**112n-1n,eT=2n**120n-1n,ek=2n**128n-1n,eN=2n**136n-1n,eM=2n**144n-1n,eR=2n**152n-1n,eD=2n**160n-1n,eL=2n**168n-1n,eB=2n**176n-1n,eU=2n**184n-1n,ej=2n**192n-1n,e$=2n**200n-1n,eF=2n**208n-1n,ez=2n**216n-1n,eq=2n**224n-1n,eG=2n**232n-1n,eH=2n**240n-1n,eV=2n**248n-1n,eW=2n**256n-1n},55807:function(e,t,r){"use strict";r.r(t),r.d(t,{fromRpc:function(){return i},toRpc:function(){return o}});var n=r(19586);function i(e){return{...e,amount:BigInt(e.amount),index:Number(e.index),validatorIndex:Number(e.validatorIndex)}}function o(e){return{address:e.address,amount:n.fromNumber(e.amount),index:n.fromNumber(e.index),validatorIndex:n.fromNumber(e.validatorIndex)}}},48960:function(e,t,r){"use strict";r.d(t,{DN:function(){return c},EM:function(){return o},Ro:function(){return a},Yf:function(){return i},fy:function(){return u},vk:function(){return l}});var n=r(79866);function i(e,t){if(n.size(e)>t)throw new n.SizeOverflowError({givenSize:n.size(e),maxSize:t})}function o(e,t){if("number"==typeof t&&t>0&&t>n.size(e)-1)throw new n.SliceOffsetOutOfBoundsError({offset:t,position:"start",size:n.size(e)})}function a(e,t,r){if("number"==typeof t&&"number"==typeof r&&n.size(e)!==r-t)throw new n.SliceOffsetOutOfBoundsError({offset:r,position:"end",size:n.size(e)})}let s={zero:48,nine:57,A:65,F:70,a:97,f:102};function c(e){return e>=s.zero&&e<=s.nine?e-s.zero:e>=s.A&&e<=s.F?e-(s.A-10):e>=s.a&&e<=s.f?e-(s.a-10):void 0}function l(e,t={}){let{dir:r,size:i=32}=t;if(0===i)return e;if(e.length>i)throw new n.SizeExceedsPaddingSizeError({size:e.length,targetSize:i,type:"Bytes"});let o=new Uint8Array(i);for(let t=0;t<i;t++){let n="right"===r;o[n?t:i-t-1]=e[n?t:e.length-t-1]}return o}function u(e,t={}){let{dir:r="left"}=t,n=0;for(let t=0;t<e.length-1&&"0"===e["left"===r?t:e.length-t-1].toString();t++)n++;return"left"===r?e.slice(n):e.slice(0,e.length-n)}},44405:function(e,t,r){"use strict";r.d(t,{Ue:function(){return o},lQ:function(){return s}});var n=r(71725);let i={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new c({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new s({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new a({offset:e});let t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new a({offset:e});let t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){let t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){let r=t??this.position;return this.assertPosition(r+e-1),this.bytes.subarray(r,r+e)},inspectUint8(e){let t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){let t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){let t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){let t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,255&e),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();let e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();let r=this.inspectBytes(e);return this.position+=t??e,r},readUint8(){this.assertReadLimit(),this._touch();let e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();let e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();let e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();let e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){let t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;let e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function o(e,{recursiveReadLimit:t=8192}={}){let r=Object.create(i);return r.bytes=e,r.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=t,r}class a extends n.BaseError{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class s extends n.BaseError{constructor({length:e,position:t}){super(`Position \`${t}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class c extends n.BaseError{constructor({count:e,limit:t}){super(`Recursive read limit of \`${t}\` exceeded (recursive read count: \`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}},41380:function(e,t,r){"use strict";function n(e){return e}function i(){return"0.1.1"}function o(e){if(!e)return"";let t=Object.entries(e).map(([e,t])=>void 0===t||!1===t?null:[e,t]).filter(Boolean),r=t.reduce((e,[t])=>Math.max(e,t.length),0);return t.map(([e,t])=>`  ${`${e}:`.padEnd(r+1)}  ${t}`).join("\n")}r.d(t,{Gr:function(){return n},bo:function(){return i},xr:function(){return o}})},82543:function(e,t,r){"use strict";r.d(t,{EM:function(){return o},Ro:function(){return a},Yf:function(){return i},fy:function(){return c},vk:function(){return s}});var n=r(19586);function i(e,t){if(n.size(e)>t)throw new n.SizeOverflowError({givenSize:n.size(e),maxSize:t})}function o(e,t){if("number"==typeof t&&t>0&&t>n.size(e)-1)throw new n.SliceOffsetOutOfBoundsError({offset:t,position:"start",size:n.size(e)})}function a(e,t,r){if("number"==typeof t&&"number"==typeof r&&n.size(e)!==r-t)throw new n.SliceOffsetOutOfBoundsError({offset:r,position:"end",size:n.size(e)})}function s(e,t={}){let{dir:r,size:i=32}=t;if(0===i)return e;let o=e.replace("0x","");if(o.length>2*i)throw new n.SizeExceedsPaddingSizeError({size:Math.ceil(o.length/2),targetSize:i,type:"Hex"});return`0x${o["right"===r?"padEnd":"padStart"](2*i,"0")}`}function c(e,t={}){let{dir:r="left"}=t,n=e.replace("0x",""),i=0;for(let e=0;e<n.length-1&&"0"===n["left"===r?e:n.length-e-1].toString();e++)i++;return"0"===(n="left"===r?n.slice(i):n.slice(0,n.length-i))?"0x":"right"===r&&n.length%2==1?`0x${n}0`:`0x${n}`}},38505:function(e,t,r){"use strict";r.d(t,{_:function(){return a}});var n=r(20546),i=r(42021),o=r(14814);function a(e,t){let r=t=>(0,o.e4)({...e,hash:t,hmac:(e,...r)=>(0,n.b)(t,e,(0,i.eV)(...r)),randomBytes:i.O6});return{...r(t),create:r}}},98555:function(e,t,r){"use strict";r.d(t,{D1:function(){return g},Kd:function(){return m},Mx:function(){return p}});var n=r(31757),i=r(53520);let o=BigInt(0),a=BigInt(1);function s(e,t){let r=t.negate();return e?r:t}function c(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw Error("invalid window size, expected [1.."+t+"], got W="+e)}function l(e,t){c(e,t);let r=Math.ceil(t/e)+1,n=2**(e-1),o=2**e;return{windows:r,windowSize:n,mask:(0,i.dQ)(e),maxNumber:o,shiftBy:BigInt(e)}}function u(e,t,r){let{windowSize:n,mask:i,maxNumber:o,shiftBy:s}=r,c=Number(e&i),l=e>>s;c>n&&(c-=o,l+=a);let u=t*n,d=u+Math.abs(c)-1;return{nextN:l,offset:d,isZero:0===c,isNeg:c<0,isNegF:t%2!=0,offsetF:u}}let d=new WeakMap,f=new WeakMap;function h(e){return f.get(e)||1}function p(e,t){return{constTimeNegate:s,hasPrecomputes:e=>1!==h(e),unsafeLadder(t,r,n=e.ZERO){let i=t;for(;r>o;)r&a&&(n=n.add(i)),i=i.double(),r>>=a;return n},precomputeWindow(e,r){let{windows:n,windowSize:i}=l(r,t),o=[],a=e,s=a;for(let e=0;e<n;e++){s=a,o.push(s);for(let e=1;e<i;e++)s=s.add(a),o.push(s);a=s.double()}return o},wNAF(r,n,i){let o=e.ZERO,a=e.BASE,c=l(r,t);for(let e=0;e<c.windows;e++){let{nextN:t,offset:r,isZero:l,isNeg:d,isNegF:f,offsetF:h}=u(i,e,c);i=t,l?a=a.add(s(f,n[h])):o=o.add(s(d,n[r]))}return{p:o,f:a}},wNAFUnsafe(r,n,i,a=e.ZERO){let s=l(r,t);for(let e=0;e<s.windows&&i!==o;e++){let{nextN:t,offset:r,isZero:o,isNeg:c}=u(i,e,s);if(i=t,!o){let e=n[r];a=a.add(c?e.negate():e)}}return a},getPrecomputes(e,t,r){let n=d.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&d.set(t,r(n))),n},wNAFCached(e,t,r){let n=h(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)},wNAFCachedUnsafe(e,t,r,n){let i=h(e);return 1===i?this.unsafeLadder(e,t,n):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),t,n)},setWindowSize(e,r){c(r,t),f.set(e,r),d.delete(e)}}}function g(e,t,r,n){!function(e,t){if(!Array.isArray(e))throw Error("array expected");e.forEach((e,r)=>{if(!(e instanceof t))throw Error("invalid point at index "+r)})}(r,e),function(e,t){if(!Array.isArray(e))throw Error("array of scalars expected");e.forEach((e,r)=>{if(!t.isValid(e))throw Error("invalid scalar at index "+r)})}(n,t);let o=r.length,a=n.length;if(o!==a)throw Error("arrays of points and scalars must have equal length");let s=e.ZERO,c=(0,i.Dd)(BigInt(o)),l=1;c>12?l=c-3:c>4?l=c-2:c>0&&(l=2);let u=(0,i.dQ)(l),d=Array(Number(u)+1).fill(s),f=Math.floor((t.BITS-1)/l)*l,h=s;for(let e=f;e>=0;e-=l){d.fill(s);for(let t=0;t<a;t++){let i=Number(n[t]>>BigInt(e)&u);d[i]=d[i].add(r[t])}let t=s;for(let e=d.length-1,r=s;e>0;e--)r=r.add(d[e]),t=t.add(r);if(h=h.add(t),0!==e)for(let e=0;e<l;e++)h=h.double()}return h}function m(e){return(0,n.OP)(e.Fp),(0,i.FF)(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,n.kK)(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}},31757:function(e,t,r){"use strict";r.d(t,{Eg:function(){return E},IN:function(){return x},OP:function(){return w},PS:function(){return _},Q:function(){return v},Tu:function(){return y},U_:function(){return p},Us:function(){return I},gN:function(){return function e(t,r,n=!1,h={}){let y;if(t<=o)throw Error("invalid field: expected ORDER > 0, got "+t);let{nBitLength:b,nByteLength:w}=A(t,r);if(w>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let S=Object.freeze({ORDER:t,isLE:n,BITS:b,BYTES:w,MASK:(0,i.dQ)(b),ZERO:o,ONE:a,create:e=>f(e,t),isValid:e=>{if("bigint"!=typeof e)throw Error("invalid field element: expected bigint, got "+typeof e);return o<=e&&e<t},is0:e=>e===o,isOdd:e=>(e&a)===a,neg:e=>f(-e,t),eql:(e,t)=>e===t,sqr:e=>f(e*e,t),add:(e,r)=>f(e+r,t),sub:(e,r)=>f(e-r,t),mul:(e,r)=>f(e*r,t),pow:(e,t)=>v(S,e,t),div:(e,r)=>f(e*p(r,t),t),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:e=>p(e,t),sqrt:h.sqrt||(r=>(!y&&(y=t%l===c?g:t%d===u?m:function(t){if(t<BigInt(3))throw Error("sqrt is not defined for small field");let r=t-a,n=0;for(;r%s===o;)r/=s,n++;let i=s,c=e(t);for(;1===x(c,i);)if(i++>1e3)throw Error("Cannot find square root: probably non-prime P");if(1===n)return g;let l=c.pow(i,r),u=(r+a)/s;return function(e,t){if(e.is0(t))return t;if(1!==x(e,t))throw Error("Cannot find square root");let i=n,o=e.mul(e.ONE,l),s=e.pow(t,r),c=e.pow(t,u);for(;!e.eql(s,e.ONE);){if(e.is0(s))return e.ZERO;let t=1,r=e.sqr(s);for(;!e.eql(r,e.ONE);)if(t++,r=e.sqr(r),t===i)throw Error("Cannot find square root");let n=a<<BigInt(i-t-1),l=e.pow(o,n);i=t,o=e.sqr(l),s=e.mul(s,o),c=e.mul(c,l)}return c}}(t)),y(S,r))),toBytes:e=>n?(0,i.S5)(e,w):(0,i.tL)(e,w),fromBytes:e=>{if(e.length!==w)throw Error("Field.fromBytes: expected "+w+" bytes, got "+e.length);return n?(0,i.ty)(e):(0,i.Hv)(e)},invertBatch:e=>E(S,e),cmov:(e,t,r)=>r?t:e});return Object.freeze(S)}},kK:function(){return A},oA:function(){return h},wQ:function(){return f}});var n=r(42021),i=r(53520);let o=BigInt(0),a=BigInt(1),s=BigInt(2),c=BigInt(3),l=BigInt(4),u=BigInt(5),d=BigInt(8);function f(e,t){let r=e%t;return r>=o?r:t+r}function h(e,t,r){let n=e;for(;t-- >o;)n*=n,n%=r;return n}function p(e,t){if(e===o)throw Error("invert: expected non-zero number");if(t<=o)throw Error("invert: expected positive modulus, got "+t);let r=f(e,t),n=t,i=o,s=a,c=a,l=o;for(;r!==o;){let e=n/r,t=n%r,o=i-c*e,a=s-l*e;n=r,r=t,i=c,s=l,c=o,l=a}if(n!==a)throw Error("invert: does not exist");return f(i,t)}function g(e,t){let r=(e.ORDER+a)/l,n=e.pow(t,r);if(!e.eql(e.sqr(n),t))throw Error("Cannot find square root");return n}function m(e,t){let r=(e.ORDER-u)/d,n=e.mul(t,s),i=e.pow(n,r),o=e.mul(t,i),a=e.mul(e.mul(o,s),i),c=e.mul(o,e.sub(a,e.ONE));if(!e.eql(e.sqr(c),t))throw Error("Cannot find square root");return c}let y=(e,t)=>(f(e,t)&a)===a,b=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function w(e){let t=b.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,i.FF)(e,t)}function v(e,t,r){if(r<o)throw Error("invalid exponent, negatives unsupported");if(r===o)return e.ONE;if(r===a)return t;let n=e.ONE,i=t;for(;r>o;)r&a&&(n=e.mul(n,i)),i=e.sqr(i),r>>=a;return n}function E(e,t,r=!1){let n=Array(t.length).fill(r?e.ZERO:void 0),i=t.reduce((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r)),e.ONE),o=e.inv(i);return t.reduceRight((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r)),o),n}function x(e,t){let r=(e.ORDER-a)/s,n=e.pow(t,r),i=e.eql(n,e.ONE),o=e.eql(n,e.ZERO),c=e.eql(n,e.neg(e.ONE));if(!i&&!o&&!c)throw Error("invalid Legendre symbol result");return i?1:o?0:-1}function A(e,t){void 0!==t&&(0,n.k8)(t);let r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function S(e){if("bigint"!=typeof e)throw Error("field order must be bigint");return Math.ceil(e.toString(2).length/8)}function _(e){let t=S(e);return t+Math.ceil(t/2)}function I(e,t,r=!1){let n=e.length,o=S(t),s=_(t);if(n<16||n<s||n>1024)throw Error("expected "+s+"-1024 bytes of input, got "+n);let c=f(r?(0,i.ty)(e):(0,i.Hv)(e),t-a)+a;return r?(0,i.S5)(c,o):(0,i.tL)(c,o)}},53520:function(e,t,r){"use strict";r.d(t,{Dd:function(){return C},EQ:function(){return D},FF:function(){return R},Fy:function(){return I},H9:function(){return L},H_:function(){return O},Hv:function(){return m},S5:function(){return w},Wd:function(){return x},Z2:function(){return _},_t:function(){return o},ci:function(){return f},dQ:function(){return P},eV:function(){return E},gk:function(){return a},iY:function(){return A},n$:function(){return N},nr:function(){return g},ql:function(){return v},tL:function(){return b},ty:function(){return y},uw:function(){return s},uz:function(){return c}});let n=BigInt(0),i=BigInt(1);function o(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function a(e){if(!o(e))throw Error("Uint8Array expected")}function s(e,t){if("boolean"!=typeof t)throw Error(e+" boolean expected, got "+t)}function c(e){let t=e.toString(16);return 1&t.length?"0"+t:t}function l(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return""===e?n:BigInt("0x"+e)}let u="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,d=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function f(e){if(a(e),u)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=d[e[r]];return t}let h={_0:48,_9:57,A:65,F:70,a:97,f:102};function p(e){return e>=h._0&&e<=h._9?e-h._0:e>=h.A&&e<=h.F?e-(h.A-10):e>=h.a&&e<=h.f?e-(h.a-10):void 0}function g(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);if(u)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=p(e.charCodeAt(i)),o=p(e.charCodeAt(i+1));if(void 0===r||void 0===o)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+o}return n}function m(e){return l(f(e))}function y(e){return a(e),l(f(Uint8Array.from(e).reverse()))}function b(e,t){return g(e.toString(16).padStart(2*t,"0"))}function w(e,t){return b(e,t).reverse()}function v(e,t,r){let n;if("string"==typeof t)try{n=g(t)}catch(t){throw Error(e+" must be hex string or Uint8Array, cause: "+t)}else if(o(t))n=Uint8Array.from(t);else throw Error(e+" must be hex string or Uint8Array");let i=n.length;if("number"==typeof r&&i!==r)throw Error(e+" of length "+r+" expected, got "+i);return n}function E(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];a(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}function x(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return 0===r}function A(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}let S=e=>"bigint"==typeof e&&n<=e;function _(e,t,r){return S(e)&&S(t)&&S(r)&&t<=e&&e<r}function I(e,t,r,n){if(!_(t,r,n))throw Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function C(e){let t;for(t=0;e>n;e>>=i,t+=1);return t}function O(e,t){return e>>BigInt(t)&i}let P=e=>(i<<BigInt(e))-i,T=e=>new Uint8Array(e),k=e=>Uint8Array.from(e);function N(e,t,r){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let n=T(e),i=T(e),o=0,a=()=>{n.fill(1),i.fill(0),o=0},s=(...e)=>r(i,n,...e),c=(e=T(0))=>{i=s(k([0]),e),n=s(),0!==e.length&&(i=s(k([1]),e),n=s())},l=()=>{if(o++>=1e3)throw Error("drbg: tried 1000 values");let e=0,r=[];for(;e<t;){let t=(n=s()).slice();r.push(t),e+=n.length}return E(...r)};return(e,t)=>{let r;for(a(),c(e);!(r=t(l()));)c();return a(),r}}let M={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||o(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function R(e,t,r={}){let n=(t,r,n)=>{let i=M[r];if("function"!=typeof i)throw Error("invalid validator function");let o=e[t];if((!n||void 0!==o)&&!i(o,e))throw Error("param "+String(t)+" is invalid. Expected "+r+", got "+o)};for(let[e,r]of Object.entries(t))n(e,r,!1);for(let[e,t]of Object.entries(r))n(e,t,!0);return e}let D=()=>{throw Error("not implemented")};function L(e){let t=new WeakMap;return(r,...n)=>{let i=t.get(r);if(void 0!==i)return i;let o=e(r,...n);return t.set(r,o),o}}},14814:function(e,t,r){"use strict";r.d(t,{L4:function(){return y},e4:function(){return m},su:function(){return g}});var n=r(98555),i=r(31757),o=r(53520);function a(e){void 0!==e.lowS&&(0,o.uw)("lowS",e.lowS),void 0!==e.prehash&&(0,o.uw)("prehash",e.prehash)}class s extends Error{constructor(e=""){super(e)}}let c={Err:s,_tlv:{encode:(e,t)=>{let{Err:r}=c;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");let n=t.length/2,i=(0,o.uz)(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");let a=n>127?(0,o.uz)(i.length/2|128):"";return(0,o.uz)(e)+a+i+t},decode(e,t){let{Err:r}=c,n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");let i=t[n++],o=0;if(128&i){let e=127&i;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");let a=t.subarray(n,n+e);if(a.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===a[0])throw new r("tlv.decode(long): zero leftmost byte");for(let e of a)o=o<<8|e;if(n+=e,o<128)throw new r("tlv.decode(long): not minimal encoding")}else o=i;let a=t.subarray(n,n+o);if(a.length!==o)throw new r("tlv.decode: wrong value length");return{v:a,l:t.subarray(n+o)}}},_int:{encode(e){let{Err:t}=c;if(e<u)throw new t("integer: negative integers are not allowed");let r=(0,o.uz)(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){let{Err:t}=c;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return(0,o.Hv)(e)}},toSig(e){let{Err:t,_int:r,_tlv:n}=c,i=(0,o.ql)("signature",e),{v:a,l:s}=n.decode(48,i);if(s.length)throw new t("invalid signature: left bytes after parsing");let{v:l,l:u}=n.decode(2,a),{v:d,l:f}=n.decode(2,u);if(f.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(l),s:r.decode(d)}},hexFromSig(e){let{_tlv:t,_int:r}=c,n=t.encode(2,r.encode(e.r)),i=t.encode(2,r.encode(e.s));return t.encode(48,n+i)}};function l(e,t){return(0,o.ci)((0,o.tL)(e,t))}let u=BigInt(0),d=BigInt(1),f=BigInt(2),h=BigInt(3),p=BigInt(4);function g(e){let t=function(e){let t=(0,n.Kd)(e);(0,o.FF)(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});let{endo:r,Fp:i,a}=t;if(r){if(!i.eql(a,i.ZERO))throw Error("invalid endo: CURVE.a must be 0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}(e),{Fp:r}=t,a=(0,i.gN)(t.n,t.nBitLength),s=t.toBytes||((e,t,n)=>{let i=t.toAffine();return(0,o.eV)(Uint8Array.from([4]),r.toBytes(i.x),r.toBytes(i.y))}),c=t.fromBytes||(e=>{let t=e.subarray(1);return{x:r.fromBytes(t.subarray(0,r.BYTES)),y:r.fromBytes(t.subarray(r.BYTES,2*r.BYTES))}});function l(e){let{a:n,b:i}=t,o=r.sqr(e),a=r.mul(o,e);return r.add(r.add(a,r.mul(e,n)),i)}function f(e,t){let n=r.sqr(t),i=l(e);return r.eql(n,i)}if(!f(t.Gx,t.Gy))throw Error("bad curve params: generator point");let g=r.mul(r.pow(t.a,h),p),m=r.mul(r.sqr(t.b),BigInt(27));if(r.is0(r.add(g,m)))throw Error("bad curve params: a or b");function y(e){let r;let{allowedPrivateKeyLengths:n,nByteLength:a,wrapPrivateKey:s,n:c}=t;if(n&&"bigint"!=typeof e){if((0,o._t)(e)&&(e=(0,o.ci)(e)),"string"!=typeof e||!n.includes(e.length))throw Error("invalid private key");e=e.padStart(2*a,"0")}try{r="bigint"==typeof e?e:(0,o.Hv)((0,o.ql)("private key",e,a))}catch(t){throw Error("invalid private key, expected hex or "+a+" bytes, got "+typeof e)}return s&&(r=(0,i.wQ)(r,c)),(0,o.Fy)("private key",r,d,c),r}function b(e){if(!(e instanceof E))throw Error("ProjectivePoint expected")}let w=(0,o.H9)((e,t)=>{let{px:n,py:i,pz:o}=e;if(r.eql(o,r.ONE))return{x:n,y:i};let a=e.is0();null==t&&(t=a?r.ONE:r.inv(o));let s=r.mul(n,t),c=r.mul(i,t),l=r.mul(o,t);if(a)return{x:r.ZERO,y:r.ZERO};if(!r.eql(l,r.ONE))throw Error("invZ was invalid");return{x:s,y:c}}),v=(0,o.H9)(e=>{if(e.is0()){if(t.allowInfinityPoint&&!r.is0(e.py))return;throw Error("bad point: ZERO")}let{x:n,y:i}=e.toAffine();if(!r.isValid(n)||!r.isValid(i))throw Error("bad point: x or y not FE");if(!f(n,i))throw Error("bad point: equation left != right");if(!e.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0});class E{constructor(e,t,n){if(null==e||!r.isValid(e))throw Error("x required");if(null==t||!r.isValid(t)||r.is0(t))throw Error("y required");if(null==n||!r.isValid(n))throw Error("z required");this.px=e,this.py=t,this.pz=n,Object.freeze(this)}static fromAffine(e){let{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw Error("invalid affine point");if(e instanceof E)throw Error("projective point not allowed");let i=e=>r.eql(e,r.ZERO);return i(t)&&i(n)?E.ZERO:new E(t,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){let t=(0,i.Eg)(r,e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(E.fromAffine)}static fromHex(e){let t=E.fromAffine(c((0,o.ql)("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return E.BASE.multiply(y(e))}static msm(e,t){return(0,n.D1)(E,a,e,t)}_setWindowSize(e){S.setWindowSize(this,e)}assertValidity(){v(this)}hasEvenY(){let{y:e}=this.toAffine();if(r.isOdd)return!r.isOdd(e);throw Error("Field doesn't support isOdd")}equals(e){b(e);let{px:t,py:n,pz:i}=this,{px:o,py:a,pz:s}=e,c=r.eql(r.mul(t,s),r.mul(o,i)),l=r.eql(r.mul(n,s),r.mul(a,i));return c&&l}negate(){return new E(this.px,r.neg(this.py),this.pz)}double(){let{a:e,b:n}=t,i=r.mul(n,h),{px:o,py:a,pz:s}=this,c=r.ZERO,l=r.ZERO,u=r.ZERO,d=r.mul(o,o),f=r.mul(a,a),p=r.mul(s,s),g=r.mul(o,a);return g=r.add(g,g),u=r.mul(o,s),u=r.add(u,u),c=r.mul(e,u),l=r.mul(i,p),l=r.add(c,l),c=r.sub(f,l),l=r.add(f,l),l=r.mul(c,l),c=r.mul(g,c),u=r.mul(i,u),p=r.mul(e,p),g=r.sub(d,p),g=r.mul(e,g),g=r.add(g,u),u=r.add(d,d),d=r.add(u,d),d=r.add(d,p),d=r.mul(d,g),l=r.add(l,d),p=r.mul(a,s),p=r.add(p,p),d=r.mul(p,g),c=r.sub(c,d),u=r.mul(p,f),u=r.add(u,u),new E(c,l,u=r.add(u,u))}add(e){b(e);let{px:n,py:i,pz:o}=this,{px:a,py:s,pz:c}=e,l=r.ZERO,u=r.ZERO,d=r.ZERO,f=t.a,p=r.mul(t.b,h),g=r.mul(n,a),m=r.mul(i,s),y=r.mul(o,c),w=r.add(n,i),v=r.add(a,s);w=r.mul(w,v),v=r.add(g,m),w=r.sub(w,v),v=r.add(n,o);let x=r.add(a,c);return v=r.mul(v,x),x=r.add(g,y),v=r.sub(v,x),x=r.add(i,o),l=r.add(s,c),x=r.mul(x,l),l=r.add(m,y),x=r.sub(x,l),d=r.mul(f,v),l=r.mul(p,y),d=r.add(l,d),l=r.sub(m,d),d=r.add(m,d),u=r.mul(l,d),m=r.add(g,g),m=r.add(m,g),y=r.mul(f,y),v=r.mul(p,v),m=r.add(m,y),y=r.sub(g,y),y=r.mul(f,y),v=r.add(v,y),g=r.mul(m,v),u=r.add(u,g),g=r.mul(x,v),l=r.mul(w,l),l=r.sub(l,g),g=r.mul(w,m),d=r.mul(x,d),new E(l,u,d=r.add(d,g))}subtract(e){return this.add(e.negate())}is0(){return this.equals(E.ZERO)}wNAF(e){return S.wNAFCached(this,e,E.normalizeZ)}multiplyUnsafe(e){let{endo:n,n:i}=t;(0,o.Fy)("scalar",e,u,i);let a=E.ZERO;if(e===u)return a;if(this.is0()||e===d)return this;if(!n||S.hasPrecomputes(this))return S.wNAFCachedUnsafe(this,e,E.normalizeZ);let{k1neg:s,k1:c,k2neg:l,k2:f}=n.splitScalar(e),h=a,p=a,g=this;for(;c>u||f>u;)c&d&&(h=h.add(g)),f&d&&(p=p.add(g)),g=g.double(),c>>=d,f>>=d;return s&&(h=h.negate()),l&&(p=p.negate()),p=new E(r.mul(p.px,n.beta),p.py,p.pz),h.add(p)}multiply(e){let n,i;let{endo:a,n:s}=t;if((0,o.Fy)("scalar",e,d,s),a){let{k1neg:t,k1:o,k2neg:s,k2:c}=a.splitScalar(e),{p:l,f:u}=this.wNAF(o),{p:d,f:f}=this.wNAF(c);l=S.constTimeNegate(t,l),d=S.constTimeNegate(s,d),d=new E(r.mul(d.px,a.beta),d.py,d.pz),n=l.add(d),i=u.add(f)}else{let{p:t,f:r}=this.wNAF(e);n=t,i=r}return E.normalizeZ([n,i])[0]}multiplyAndAddUnsafe(e,t,r){let n=E.BASE,i=(e,t)=>t!==u&&t!==d&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),o=i(this,t).add(i(e,r));return o.is0()?void 0:o}toAffine(e){return w(this,e)}isTorsionFree(){let{h:e,isTorsionFree:r}=t;if(e===d)return!0;if(r)return r(E,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:e,clearCofactor:r}=t;return e===d?this:r?r(E,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return(0,o.uw)("isCompressed",e),this.assertValidity(),s(E,this,e)}toHex(e=!0){return(0,o.uw)("isCompressed",e),(0,o.ci)(this.toRawBytes(e))}}E.BASE=new E(t.Gx,t.Gy,r.ONE),E.ZERO=new E(r.ZERO,r.ONE,r.ZERO);let{endo:x,nBitLength:A}=t,S=(0,n.Mx)(E,x?Math.ceil(A/2):A);return{CURVE:t,ProjectivePoint:E,normPrivateKeyToScalar:y,weierstrassEquation:l,isWithinCurveOrder:function(e){return(0,o.Z2)(e,d,t.n)}}}function m(e){let t=function(e){let t=(0,n.Kd)(e);return(0,o.FF)(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:r,n:s,nByteLength:f,nBitLength:h}=t,p=r.BYTES+1,m=2*r.BYTES+1;function y(e){return(0,i.wQ)(e,s)}function b(e){return(0,i.U_)(e,s)}let{ProjectivePoint:w,normPrivateKeyToScalar:v,weierstrassEquation:E,isWithinCurveOrder:x}=g({...t,toBytes(e,t,n){let i=t.toAffine(),a=r.toBytes(i.x),s=o.eV;return((0,o.uw)("isCompressed",n),n)?s(Uint8Array.from([t.hasEvenY()?2:3]),a):s(Uint8Array.from([4]),a,r.toBytes(i.y))},fromBytes(e){let t=e.length,n=e[0],i=e.subarray(1);if(t===p&&(2===n||3===n)){let e;let t=(0,o.Hv)(i);if(!(0,o.Z2)(t,d,r.ORDER))throw Error("Point is not on curve");let a=E(t);try{e=r.sqrt(a)}catch(e){throw Error("Point is not on curve"+(e instanceof Error?": "+e.message:""))}return(1&n)==1!=((e&d)===d)&&(e=r.neg(e)),{x:t,y:e}}if(t===m&&4===n)return{x:r.fromBytes(i.subarray(0,r.BYTES)),y:r.fromBytes(i.subarray(r.BYTES,2*r.BYTES))};throw Error("invalid Point, expected length of "+p+", or uncompressed "+m+", got "+t)}}),A=(e,t,r)=>(0,o.Hv)(e.slice(t,r));class S{constructor(e,t,r){(0,o.Fy)("r",e,d,s),(0,o.Fy)("s",t,d,s),this.r=e,this.s=t,null!=r&&(this.recovery=r),Object.freeze(this)}static fromCompact(e){return new S(A(e=(0,o.ql)("compactSignature",e,2*f),0,f),A(e,f,2*f))}static fromDER(e){let{r:t,s:r}=c.toSig((0,o.ql)("DER",e));return new S(t,r)}assertValidity(){}addRecoveryBit(e){return new S(this.r,this.s,e)}recoverPublicKey(e){let{r:n,s:i,recovery:a}=this,s=C((0,o.ql)("msgHash",e));if(null==a||![0,1,2,3].includes(a))throw Error("recovery id invalid");let c=2===a||3===a?n+t.n:n;if(c>=r.ORDER)throw Error("recovery id 2 or 3 invalid");let u=(1&a)==0?"02":"03",d=w.fromHex(u+l(c,r.BYTES)),f=b(c),h=y(-s*f),p=y(i*f),g=w.BASE.multiplyAndAddUnsafe(d,h,p);if(!g)throw Error("point at infinify");return g.assertValidity(),g}hasHighS(){return this.s>s>>d}normalizeS(){return this.hasHighS()?new S(this.r,y(-this.s),this.recovery):this}toDERRawBytes(){return(0,o.nr)(this.toDERHex())}toDERHex(){return c.hexFromSig(this)}toCompactRawBytes(){return(0,o.nr)(this.toCompactHex())}toCompactHex(){return l(this.r,f)+l(this.s,f)}}function _(e){if("bigint"==typeof e)return!1;if(e instanceof w)return!0;let n=(0,o.ql)("key",e).length,i=r.BYTES,a=i+1;if(!t.allowedPrivateKeyLengths&&f!==a)return n===a||n===2*i+1}let I=t.bits2int||function(e){if(e.length>8192)throw Error("input is too large");let t=(0,o.Hv)(e),r=8*e.length-h;return r>0?t>>BigInt(r):t},C=t.bits2int_modN||function(e){return y(I(e))},O=(0,o.dQ)(h);function P(e){return(0,o.Fy)("num < 2^"+h,e,u,O),(0,o.tL)(e,f)}let T={lowS:t.lowS,prehash:!1},k={lowS:t.lowS,prehash:!1};return w.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return w.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(!0===_(e))throw Error("first arg must be private key");if(!1===_(t))throw Error("second arg must be public key");return w.fromHex(t).multiply(v(e)).toRawBytes(r)},sign:function(e,n,i=T){let{seed:c,k2sig:l}=function(e,n,i=T){if(["recovered","canonical"].some(e=>e in i))throw Error("sign() legacy options not supported");let{hash:c,randomBytes:l}=t,{lowS:f,prehash:h,extraEntropy:p}=i;null==f&&(f=!0),e=(0,o.ql)("msgHash",e),a(i),h&&(e=(0,o.ql)("prehashed msgHash",c(e)));let g=C(e),m=v(n),E=[P(m),P(g)];if(null!=p&&!1!==p){let e=!0===p?l(r.BYTES):p;E.push((0,o.ql)("extraEntropy",e))}return{seed:(0,o.eV)(...E),k2sig:function(e){let t=I(e);if(!x(t))return;let r=b(t),n=w.BASE.multiply(t).toAffine(),i=y(n.x);if(i===u)return;let o=y(r*y(g+i*m));if(o===u)return;let a=(n.x===i?0:2)|Number(n.y&d),c=o;if(f&&o>s>>d)c=o>s>>d?y(-o):o,a^=1;return new S(i,c,a)}}}(e,n,i);return(0,o.n$)(t.hash.outputLen,t.nByteLength,t.hmac)(c,l)},verify:function(e,r,n,i=k){let s,l;r=(0,o.ql)("msgHash",r),n=(0,o.ql)("publicKey",n);let{lowS:u,prehash:d,format:f}=i;if(a(i),"strict"in i)throw Error("options.strict was renamed to lowS");if(void 0!==f&&"compact"!==f&&"der"!==f)throw Error("format must be compact or der");let h="string"==typeof e||(0,o._t)(e),p=!h&&!f&&"object"==typeof e&&null!==e&&"bigint"==typeof e.r&&"bigint"==typeof e.s;if(!h&&!p)throw Error("invalid signature, expected Uint8Array, hex string or Signature instance");try{if(p&&(l=new S(e.r,e.s)),h){try{"compact"!==f&&(l=S.fromDER(e))}catch(e){if(!(e instanceof c.Err))throw e}l||"der"===f||(l=S.fromCompact(e))}s=w.fromHex(n)}catch(e){return!1}if(!l||u&&l.hasHighS())return!1;d&&(r=t.hash(r));let{r:g,s:m}=l,v=C(r),E=b(m),x=y(v*E),A=y(g*E),_=w.BASE.multiplyAndAddUnsafe(s,x,A)?.toAffine();return!!_&&y(_.x)===g},ProjectivePoint:w,Signature:S,utils:{isValidPrivateKey(e){try{return v(e),!0}catch(e){return!1}},normPrivateKeyToScalar:v,randomPrivateKey:()=>{let e=(0,i.PS)(t.n);return(0,i.Us)(t.randomBytes(e),t.n)},precompute:(e=8,t=w.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}}function y(e,t){if((0,i.OP)(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw Error("mapToCurveSimpleSWU: invalid opts");let r=function(e,t){let r=e.ORDER,n=u;for(let e=r-d;e%f===u;e/=f)n+=d;let i=n,o=f<<i-d-d,a=o*f,s=(r-d)/a,c=(s-d)/f,l=a-d,g=e.pow(t,s),m=e.pow(t,(s+d)/f),y=(t,r)=>{let n=g,a=e.pow(r,l),s=e.sqr(a);s=e.mul(s,r);let u=e.mul(t,s);u=e.pow(u,c),u=e.mul(u,a),a=e.mul(u,r),s=e.mul(u,t);let h=e.mul(s,a);u=e.pow(h,o);let p=e.eql(u,e.ONE);a=e.mul(s,m),u=e.mul(h,n),s=e.cmov(a,s,p),h=e.cmov(u,h,p);for(let t=i;t>d;t--){let r=t-f;r=f<<r-d;let i=e.pow(h,r),o=e.eql(i,e.ONE);a=e.mul(s,n),n=e.mul(n,n),i=e.mul(h,n),s=e.cmov(a,s,o),h=e.cmov(i,h,o)}return{isValid:p,value:s}};if(e.ORDER%p===h){let r=(e.ORDER-h)/p,n=e.sqrt(e.neg(t));y=(t,i)=>{let o=e.sqr(i),a=e.mul(t,i);o=e.mul(o,a);let s=e.pow(o,r);s=e.mul(s,a);let c=e.mul(s,n),l=e.mul(e.sqr(s),i),u=e.eql(l,t),d=e.cmov(c,s,u);return{isValid:u,value:d}}}return y}(e,t.Z);if(!e.isOdd)throw Error("Fp.isOdd is not implemented!");return n=>{let o,a,s,c,l,u,d,f;o=e.sqr(n),o=e.mul(o,t.Z),a=e.sqr(o),a=e.add(a,o),s=e.add(a,e.ONE),s=e.mul(s,t.B),c=e.cmov(t.Z,e.neg(a),!e.eql(a,e.ZERO)),c=e.mul(c,t.A),a=e.sqr(s),u=e.sqr(c),l=e.mul(u,t.A),a=e.add(a,l),a=e.mul(a,s),u=e.mul(u,c),l=e.mul(u,t.B),a=e.add(a,l),d=e.mul(o,s);let{isValid:h,value:p}=r(a,u);f=e.mul(o,n),f=e.mul(f,p),d=e.cmov(d,s,h),f=e.cmov(f,p,h);let g=e.isOdd(n)===e.isOdd(f);f=e.cmov(e.neg(f),f,g);let m=(0,i.Eg)(e,[c],!0)[0];return{x:d=e.mul(d,m),y:f}}}},30323:function(e,t,r){"use strict";r.d(t,{kA:function(){return h}});var n=r(6643),i=r(38505),o=r(31757);let a=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),s=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),c=BigInt(0),l=BigInt(1),u=BigInt(2),d=(e,t)=>(e+t/u)/t,f=(0,o.gN)(a,void 0,void 0,{sqrt:function(e){let t=BigInt(3),r=BigInt(6),n=BigInt(11),i=BigInt(22),s=BigInt(23),c=BigInt(44),l=BigInt(88),d=e*e*e%a,h=d*d*e%a,p=(0,o.oA)(h,t,a)*h%a,g=(0,o.oA)(p,t,a)*h%a,m=(0,o.oA)(g,u,a)*d%a,y=(0,o.oA)(m,n,a)*m%a,b=(0,o.oA)(y,i,a)*y%a,w=(0,o.oA)(b,c,a)*b%a,v=(0,o.oA)(w,l,a)*w%a,E=(0,o.oA)(v,c,a)*b%a,x=(0,o.oA)(E,t,a)*h%a,A=(0,o.oA)(x,s,a)*y%a,S=(0,o.oA)(A,r,a)*d%a,_=(0,o.oA)(S,u,a);if(!f.eql(f.sqr(_),e))throw Error("Cannot find square root");return _}}),h=(0,i._)({a:c,b:BigInt(7),Fp:f,n:s,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-l*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=BigInt("0x100000000000000000000000000000000"),a=d(t*e,s),c=d(-r*e,s),u=(0,o.wQ)(e-a*t-c*n,s),f=(0,o.wQ)(-a*r-c*t,s),h=u>i,p=f>i;if(h&&(u=s-u),p&&(f=s-f),u>i||f>i)throw Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:h,k1:u,k2neg:p,k2:f}}}},n.JQ)},45391:function(e,t,r){"use strict";r.d(t,{VR:function(){return a},bc:function(){return i},iY:function(){return l},l3:function(){return o},pw:function(){return u},r$:function(){return s},u$:function(){return c}});var n=r(42021);function i(e,t,r){return e&t^~e&r}function o(e,t,r){return e&t^e&r^t&r}class a extends n.kb{constructor(e,t,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=(0,n.GL)(this.buffer)}update(e){(0,n.$h)(this),e=(0,n.O0)(e),(0,n.gk)(e);let{view:t,buffer:r,blockLen:i}=this,o=e.length;for(let a=0;a<o;){let s=Math.min(i-this.pos,o-a);if(s===i){let t=(0,n.GL)(e);for(;i<=o-a;a+=i)this.process(t,a);continue}r.set(e.subarray(a,a+s),this.pos),this.pos+=s,a+=s,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,n.$h)(this),(0,n.eB)(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:i,isLE:o}=this,{pos:a}=this;t[a++]=128,(0,n.ru)(this.buffer.subarray(a)),this.padOffset>i-a&&(this.process(r,0),a=0);for(let e=a;e<i;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),o=BigInt(4294967295),a=Number(r>>i&o),s=Number(r&o),c=n?4:0,l=n?0:4;e.setUint32(t+c,a,n),e.setUint32(t+l,s,n)}(r,i-8,BigInt(8*this.length),o),this.process(r,0);let s=(0,n.GL)(e),c=this.outputLen;if(c%4)throw Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,u=this.get();if(l>u.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)s.setUint32(4*e,u[e],o)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=i,e.length=n,e.pos=a,n%t&&e.buffer.set(r),e}clone(){return this._cloneInto()}}let s=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),c=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]),l=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),u=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209])},44430:function(e,t,r){"use strict";r.d(t,{$m:function(){return h},$p:function(){return f},EP:function(){return g},Ev:function(){return o},FL:function(){return d},Fn:function(){return E},IH:function(){return w},Iq:function(){return c},NI:function(){return s},Ou:function(){return u},SD:function(){return y},Vl:function(){return a},Xb:function(){return x},ac:function(){return v},gm:function(){return m},j:function(){return p},m_:function(){return l},mk:function(){return b},pp:function(){return _},u8:function(){return A},zP:function(){return S}});let n=BigInt(4294967296-1),i=BigInt(32);function o(e,t=!1){return t?{h:Number(e&n),l:Number(e>>i&n)}:{h:0|Number(e>>i&n),l:0|Number(e&n)}}function a(e,t=!1){let r=e.length,n=new Uint32Array(r),i=new Uint32Array(r);for(let a=0;a<r;a++){let{h:r,l:s}=o(e[a],t);[n[a],i[a]]=[r,s]}return[n,i]}let s=(e,t,r)=>e>>>r,c=(e,t,r)=>e<<32-r|t>>>r,l=(e,t,r)=>e>>>r|t<<32-r,u=(e,t,r)=>e<<32-r|t>>>r,d=(e,t,r)=>e<<64-r|t>>>r-32,f=(e,t,r)=>e>>>r-32|t<<64-r,h=(e,t)=>t,p=(e,t)=>e,g=(e,t,r)=>e<<r|t>>>32-r,m=(e,t,r)=>t<<r|e>>>32-r,y=(e,t,r)=>t<<r-32|e>>>64-r,b=(e,t,r)=>e<<r-32|t>>>64-r;function w(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/4294967296|0)|0,l:0|i}}let v=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),E=(e,t,r,n)=>t+r+n+(e/4294967296|0)|0,x=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),A=(e,t,r,n,i)=>t+r+n+i+(e/4294967296|0)|0,S=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0),_=(e,t,r,n,i,o)=>t+r+n+i+o+(e/4294967296|0)|0},20546:function(e,t,r){"use strict";r.d(t,{b:function(){return o}});var n=r(42021);class i extends n.kb{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,n.z3)(e);let r=(0,n.O0)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?e.create().update(r).digest():r);for(let e=0;e<o.length;e++)o[e]^=54;this.iHash.update(o),this.oHash=e.create();for(let e=0;e<o.length;e++)o[e]^=106;this.oHash.update(o),(0,n.ru)(o)}update(e){return(0,n.$h)(this),this.iHash.update(e),this}digestInto(e){(0,n.$h)(this),(0,n.gk)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:o,outputLen:a}=this;return e.finished=n,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let o=(e,t,r)=>new i(e,t).update(r).digest();o.create=(e,t)=>new i(e,t)},47544:function(e,t,r){"use strict";r.d(t,{bP:function(){return w}});var n=r(45391),i=r(42021);n.VR,n.VR;let o=Uint8Array.from([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),a=Uint8Array.from(Array(16).fill(0).map((e,t)=>t)),s=a.map(e=>(9*e+5)%16),c=(()=>{let e=[[a],[s]];for(let t=0;t<4;t++)for(let r of e)r.push(r[t].map(e=>o[e]));return e})(),l=c[0],u=c[1],d=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>Uint8Array.from(e)),f=l.map((e,t)=>e.map(e=>d[t][e])),h=u.map((e,t)=>e.map(e=>d[t][e])),p=Uint32Array.from([0,1518500249,1859775393,2400959708,2840853838]),g=Uint32Array.from([1352829926,1548603684,1836072691,2053994217,0]);function m(e,t,r,n){return 0===e?t^r^n:1===e?t&r|~t&n:2===e?(t|~r)^n:3===e?t&n|r&~n:t^(r|~n)}let y=new Uint32Array(16);class b extends n.VR{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:e,h1:t,h2:r,h3:n,h4:i}=this;return[e,t,r,n,i]}set(e,t,r,n,i){this.h0=0|e,this.h1=0|t,this.h2=0|r,this.h3=0|n,this.h4=0|i}process(e,t){for(let r=0;r<16;r++,t+=4)y[r]=e.getUint32(t,!0);let r=0|this.h0,n=r,o=0|this.h1,a=o,s=0|this.h2,c=s,d=0|this.h3,b=d,w=0|this.h4,v=w;for(let e=0;e<5;e++){let t=4-e,E=p[e],x=g[e],A=l[e],S=u[e],_=f[e],I=h[e];for(let t=0;t<16;t++){let n=(0,i.XG)(r+m(e,o,s,d)+y[A[t]]+E,_[t])+w|0;r=w,w=d,d=0|(0,i.XG)(s,10),s=o,o=n}for(let e=0;e<16;e++){let r=(0,i.XG)(n+m(t,a,c,b)+y[S[e]]+x,I[e])+v|0;n=v,v=b,b=0|(0,i.XG)(c,10),c=a,a=r}}this.set(this.h1+s+b|0,this.h2+d+v|0,this.h3+w+n|0,this.h4+r+a|0,this.h0+o+c|0)}roundClean(){(0,i.ru)(y)}destroy(){this.destroyed=!0,(0,i.ru)(this.buffer),this.set(0,0,0,0,0)}}let w=(0,i.V1)(()=>new b)},6643:function(e,t,r){"use strict";r.d(t,{JQ:function(){return m},iC:function(){return b},o:function(){return y}});var n=r(45391),i=r(44430),o=r(42021);let a=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),s=new Uint32Array(64);class c extends n.VR{constructor(e=32){super(64,e,8,!1),this.A=0|n.r$[0],this.B=0|n.r$[1],this.C=0|n.r$[2],this.D=0|n.r$[3],this.E=0|n.r$[4],this.F=0|n.r$[5],this.G=0|n.r$[6],this.H=0|n.r$[7]}get(){let{A:e,B:t,C:r,D:n,E:i,F:o,G:a,H:s}=this;return[e,t,r,n,i,o,a,s]}set(e,t,r,n,i,o,a,s){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|a,this.H=0|s}process(e,t){for(let r=0;r<16;r++,t+=4)s[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=s[e-15],r=s[e-2],n=(0,o.np)(t,7)^(0,o.np)(t,18)^t>>>3,i=(0,o.np)(r,17)^(0,o.np)(r,19)^r>>>10;s[e]=i+s[e-7]+n+s[e-16]|0}let{A:r,B:i,C:c,D:l,E:u,F:d,G:f,H:h}=this;for(let e=0;e<64;e++){let t=h+((0,o.np)(u,6)^(0,o.np)(u,11)^(0,o.np)(u,25))+(0,n.bc)(u,d,f)+a[e]+s[e]|0,p=((0,o.np)(r,2)^(0,o.np)(r,13)^(0,o.np)(r,22))+(0,n.l3)(r,i,c)|0;h=f,f=d,d=u,u=l+t|0,l=c,c=i,i=r,r=t+p|0}r=r+this.A|0,i=i+this.B|0,c=c+this.C|0,l=l+this.D|0,u=u+this.E|0,d=d+this.F|0,f=f+this.G|0,h=h+this.H|0,this.set(r,i,c,l,u,d,f,h)}roundClean(){(0,o.ru)(s)}destroy(){this.set(0,0,0,0,0,0,0,0),(0,o.ru)(this.buffer)}}let l=i.Vl(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),u=l[0],d=l[1],f=new Uint32Array(80),h=new Uint32Array(80);class p extends n.VR{constructor(e=64){super(128,e,16,!1),this.Ah=0|n.pw[0],this.Al=0|n.pw[1],this.Bh=0|n.pw[2],this.Bl=0|n.pw[3],this.Ch=0|n.pw[4],this.Cl=0|n.pw[5],this.Dh=0|n.pw[6],this.Dl=0|n.pw[7],this.Eh=0|n.pw[8],this.El=0|n.pw[9],this.Fh=0|n.pw[10],this.Fl=0|n.pw[11],this.Gh=0|n.pw[12],this.Gl=0|n.pw[13],this.Hh=0|n.pw[14],this.Hl=0|n.pw[15]}get(){let{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:o,Dh:a,Dl:s,Eh:c,El:l,Fh:u,Fl:d,Gh:f,Gl:h,Hh:p,Hl:g}=this;return[e,t,r,n,i,o,a,s,c,l,u,d,f,h,p,g]}set(e,t,r,n,i,o,a,s,c,l,u,d,f,h,p,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|o,this.Dh=0|a,this.Dl=0|s,this.Eh=0|c,this.El=0|l,this.Fh=0|u,this.Fl=0|d,this.Gh=0|f,this.Gl=0|h,this.Hh=0|p,this.Hl=0|g}process(e,t){for(let r=0;r<16;r++,t+=4)f[r]=e.getUint32(t),h[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){let t=0|f[e-15],r=0|h[e-15],n=i.m_(t,r,1)^i.m_(t,r,8)^i.NI(t,r,7),o=i.Ou(t,r,1)^i.Ou(t,r,8)^i.Iq(t,r,7),a=0|f[e-2],s=0|h[e-2],c=i.m_(a,s,19)^i.FL(a,s,61)^i.NI(a,s,6),l=i.Ou(a,s,19)^i.$p(a,s,61)^i.Iq(a,s,6),u=i.Xb(o,l,h[e-7],h[e-16]),d=i.u8(u,n,c,f[e-7],f[e-16]);f[e]=0|d,h[e]=0|u}let{Ah:r,Al:n,Bh:o,Bl:a,Ch:s,Cl:c,Dh:l,Dl:p,Eh:g,El:m,Fh:y,Fl:b,Gh:w,Gl:v,Hh:E,Hl:x}=this;for(let e=0;e<80;e++){let t=i.m_(g,m,14)^i.m_(g,m,18)^i.FL(g,m,41),A=i.Ou(g,m,14)^i.Ou(g,m,18)^i.$p(g,m,41),S=g&y^~g&w,_=m&b^~m&v,I=i.zP(x,A,_,d[e],h[e]),C=i.pp(I,E,t,S,u[e],f[e]),O=0|I,P=i.m_(r,n,28)^i.FL(r,n,34)^i.FL(r,n,39),T=i.Ou(r,n,28)^i.$p(r,n,34)^i.$p(r,n,39),k=r&o^r&s^o&s,N=n&a^n&c^a&c;E=0|w,x=0|v,w=0|y,v=0|b,y=0|g,b=0|m,({h:g,l:m}=i.IH(0|l,0|p,0|C,0|O)),l=0|s,p=0|c,s=0|o,c=0|a,o=0|r,a=0|n;let M=i.ac(O,T,N);r=i.Fn(M,C,P,k),n=0|M}({h:r,l:n}=i.IH(0|this.Ah,0|this.Al,0|r,0|n)),({h:o,l:a}=i.IH(0|this.Bh,0|this.Bl,0|o,0|a)),({h:s,l:c}=i.IH(0|this.Ch,0|this.Cl,0|s,0|c)),({h:l,l:p}=i.IH(0|this.Dh,0|this.Dl,0|l,0|p)),({h:g,l:m}=i.IH(0|this.Eh,0|this.El,0|g,0|m)),({h:y,l:b}=i.IH(0|this.Fh,0|this.Fl,0|y,0|b)),({h:w,l:v}=i.IH(0|this.Gh,0|this.Gl,0|w,0|v)),({h:E,l:x}=i.IH(0|this.Hh,0|this.Hl,0|E,0|x)),this.set(r,n,o,a,s,c,l,p,g,m,y,b,w,v,E,x)}roundClean(){(0,o.ru)(f,h)}destroy(){(0,o.ru)(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class g extends p{constructor(){super(48),this.Ah=0|n.iY[0],this.Al=0|n.iY[1],this.Bh=0|n.iY[2],this.Bl=0|n.iY[3],this.Ch=0|n.iY[4],this.Cl=0|n.iY[5],this.Dh=0|n.iY[6],this.Dl=0|n.iY[7],this.Eh=0|n.iY[8],this.El=0|n.iY[9],this.Fh=0|n.iY[10],this.Fl=0|n.iY[11],this.Gh=0|n.iY[12],this.Gl=0|n.iY[13],this.Hh=0|n.iY[14],this.Hl=0|n.iY[15]}}let m=(0,o.V1)(()=>new c),y=(0,o.V1)(()=>new p),b=(0,o.V1)(()=>new g)},42021:function(e,t,r){"use strict";r.d(t,{kb:function(){return N},gk:function(){return o},$h:function(){return s},z3:function(){return a},k8:function(){return i},eB:function(){return c},oY:function(){return I},ci:function(){return E},U5:function(){return k},ru:function(){return d},eV:function(){return T},V1:function(){return M},GL:function(){return f},t3:function(){return R},nr:function(){return S},A0:function(){return P},O6:function(){return D},XG:function(){return p},np:function(){return h},Ux:function(){return b},N$:function(){return y},O0:function(){return O},Jq:function(){return u},u8:function(){return l},iY:function(){return C}});let n="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function i(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function o(e,...t){if(!(e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function a(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.createHasher");i(e.outputLen),i(e.blockLen)}function s(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function c(e,t){o(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}function l(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}function u(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function d(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function f(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function h(e,t){return e<<32-t|e>>>t}function p(e,t){return e<<t|e>>>32-t>>>0}let g=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];function m(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}let y=g?e=>e:e=>m(e),b=g?e=>e:function(e){for(let t=0;t<e.length;t++)e[t]=m(e[t]);return e},w="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,v=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function E(e){if(o(e),w)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=v[e[r]];return t}let x={_0:48,_9:57,A:65,F:70,a:97,f:102};function A(e){return e>=x._0&&e<=x._9?e-x._0:e>=x.A&&e<=x.F?e-(x.A-10):e>=x.a&&e<=x.f?e-(x.a-10):void 0}function S(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);if(w)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=A(e.charCodeAt(i)),o=A(e.charCodeAt(i+1));if(void 0===r||void 0===o)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+o}return n}let _=async()=>{};async function I(e,t,r){let n=Date.now();for(let i=0;i<e;i++){r(i);let e=Date.now()-n;e>=0&&e<t||(await _(),n+=e)}}function C(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function O(e){return"string"==typeof e&&(e=C(e)),o(e),e}function P(e){return"string"==typeof e&&(e=C(e)),o(e),e}function T(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];o(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}function k(e,t){if(void 0!==t&&"[object Object]"!==({}).toString.call(t))throw Error("options should be object or undefined");return Object.assign(e,t)}class N{}function M(e){let t=t=>e().update(O(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function R(e){let t=(t,r)=>e(r).update(O(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t}function D(e=32){if(n&&"function"==typeof n.getRandomValues)return n.getRandomValues(new Uint8Array(e));if(n&&"function"==typeof n.randomBytes)return Uint8Array.from(n.randomBytes(e));throw Error("crypto.getRandomValues must be defined")}},88366:function(e,t,r){"use strict";r.d(t,{G:function(){return n}});class n extends Error{constructor(e,t={}){let r=t.cause instanceof n?t.cause.details:t.cause?.message?t.cause.message:t.details,i=t.cause instanceof n&&t.cause.docsPath||t.docsPath;super([e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...r?[`Details: ${r}`]:[],"Version: abitype@1.2.3"].join("\n")),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),t.cause&&(this.cause=t.cause),this.details=r,this.docsPath=i,this.metaMessages=t.metaMessages,this.shortMessage=e}}},39802:function(e,t,r){"use strict";r.d(t,{F:function(){return o},Hk:function(){return a},a_:function(){return i}});var n=r(88366);class i extends n.G{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class o extends n.G{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class a extends n.G{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}},77402:function(e,t,r){"use strict";r.d(t,{$r:function(){return i},TT:function(){return a},_D:function(){return c},aZ:function(){return l},jO:function(){return o},zL:function(){return s}});var n=r(88366);class i extends n.G{constructor({params:e}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class o extends n.G{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class a extends n.G{constructor({param:e,name:t}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${t}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class s extends n.G{constructor({param:e,type:t,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${t?` in "${t}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class c extends n.G{constructor({param:e,type:t,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${t?` in "${t}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class l extends n.G{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}},84315:function(e,t,r){"use strict";r.d(t,{H6:function(){return a},Vs:function(){return o},wn:function(){return i}});var n=r(88366);class i extends n.G{constructor({signature:e,type:t}){super(`Invalid ${t} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class o extends n.G{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class a extends n.G{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}},84092:function(e,t,r){"use strict";r.d(t,{t:function(){return i}});var n=r(30610);function i(e){return"function"===e.type?`function ${e.name}(${(0,n.P)(e.inputs)})${e.stateMutability&&"nonpayable"!==e.stateMutability?` ${e.stateMutability}`:""}${e.outputs?.length?` returns (${(0,n.P)(e.outputs)})`:""}`:"event"===e.type?`event ${e.name}(${(0,n.P)(e.inputs)})`:"error"===e.type?`error ${e.name}(${(0,n.P)(e.inputs)})`:"constructor"===e.type?`constructor(${(0,n.P)(e.inputs)})${"payable"===e.stateMutability?" payable":""}`:"fallback"===e.type?`fallback() external${"payable"===e.stateMutability?" payable":""}`:"receive() external payable"}},30610:function(e,t,r){"use strict";r.d(t,{P:function(){return o}});var n=r(19151);let i=/^tuple(?<array>(\[(\d*)\])*)$/;function o(e){let t="",r=e.length;for(let o=0;o<r;o++)t+=function e(t){let r=t.type;if(i.test(t.type)&&"components"in t){r="(";let o=t.components.length;for(let n=0;n<o;n++)r+=e(t.components[n]),n<o-1&&(r+=", ");let a=(0,n.Zw)(i,t.type);return r+=`)${a?.array||""}`,e({...t,type:r})}return("indexed"in t&&t.indexed&&(r=`${r} indexed`),t.name)?`${r} ${t.name}`:r}(e[o]),o!==r-1&&(t+=", ");return t}},34271:function(e,t,r){"use strict";r.d(t,{Dt:function(){return I},EC:function(){return v},LY:function(){return S},N0:function(){return p},PI:function(){return b},QM:function(){return A},SA:function(){return a},Wg:function(){return _},_c:function(){return o},a4:function(){return y},c3:function(){return c},g1:function(){return g},l$:function(){return f},qm:function(){return E},rh:function(){return d},wA:function(){return l}});var n=r(19151);let i=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function o(e){return i.test(e)}function a(e){return(0,n.Zw)(i,e)}let s=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function c(e){return s.test(e)}function l(e){return(0,n.Zw)(s,e)}let u=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function d(e){return u.test(e)}function f(e){return(0,n.Zw)(u,e)}let h=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function p(e){return h.test(e)}function g(e){return(0,n.Zw)(h,e)}let m=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function y(e){return m.test(e)}function b(e){return(0,n.Zw)(m,e)}let w=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function v(e){return w.test(e)}function E(e){return(0,n.Zw)(w,e)}let x=/^receive\(\) external payable$/;function A(e){return x.test(e)}let S=new Set(["memory","indexed","storage","calldata"]),_=new Set(["indexed"]),I=new Set(["calldata","memory","storage"])},1050:function(e,t,r){"use strict";r.d(t,{D:function(){return d}});var n=r(19151),i=r(39802),o=r(77402),a=r(84315),s=r(88366);class c extends s.G{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}var l=r(34271),u=r(40411);function d(e){let t={},r=e.length;for(let n=0;n<r;n++){let r=e[n];if(!(0,l.N0)(r))continue;let i=(0,l.g1)(r);if(!i)throw new a.wn({signature:r,type:"struct"});let o=i.properties.split(";"),s=[],c=o.length;for(let e=0;e<c;e++){let t=o[e].trim();if(!t)continue;let r=(0,u.C$)(t,{type:"struct"});s.push(r)}if(!s.length)throw new a.H6({signature:r});t[i.name]=s}let s={},d=Object.entries(t),h=d.length;for(let e=0;e<h;e++){let[r,a]=d[e];s[r]=function e(t=[],r={},a=new Set){let s=[],l=t.length;for(let d=0;d<l;d++){let l=t[d];if(n.cN.test(l.type))s.push(l);else{let t=(0,n.Zw)(f,l.type);if(!t?.type)throw new o.aZ({abiParameter:l});let{array:d,type:h}=t;if(h in r){if(a.has(h))throw new c({type:h});s.push({...l,type:`tuple${d??""}`,components:e(r[h],r,new Set([...a,h]))})}else if((0,u.uN)(h))s.push(l);else throw new i.F({type:h})}}return s}(a,t)}return s}let f=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/},40411:function(e,t,r){"use strict";r.d(t,{uN:function(){return y},C$:function(){return g},cK:function(){return d},Q4:function(){return m}});var n=r(19151),i=r(39802),o=r(77402),a=r(84315),s=r(88366);class c extends s.G{constructor({current:e,depth:t}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${t>0?"opening":"closing"} parentheses.`],details:`Depth "${t}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}let l=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);var u=r(34271);function d(e,t={}){if((0,u.rh)(e))return function(e,t={}){let r=(0,u.l$)(e);if(!r)throw new a.wn({signature:e,type:"function"});let n=m(r.parameters),i=[],o=n.length;for(let e=0;e<o;e++)i.push(g(n[e],{modifiers:u.Dt,structs:t,type:"function"}));let s=[];if(r.returns){let e=m(r.returns),n=e.length;for(let r=0;r<n;r++)s.push(g(e[r],{modifiers:u.Dt,structs:t,type:"function"}))}return{name:r.name,type:"function",stateMutability:r.stateMutability??"nonpayable",inputs:i,outputs:s}}(e,t);if((0,u.c3)(e))return function(e,t={}){let r=(0,u.wA)(e);if(!r)throw new a.wn({signature:e,type:"event"});let n=m(r.parameters),i=[],o=n.length;for(let e=0;e<o;e++)i.push(g(n[e],{modifiers:u.Wg,structs:t,type:"event"}));return{name:r.name,type:"event",inputs:i}}(e,t);if((0,u._c)(e))return function(e,t={}){let r=(0,u.SA)(e);if(!r)throw new a.wn({signature:e,type:"error"});let n=m(r.parameters),i=[],o=n.length;for(let e=0;e<o;e++)i.push(g(n[e],{structs:t,type:"error"}));return{name:r.name,type:"error",inputs:i}}(e,t);if((0,u.a4)(e))return function(e,t={}){let r=(0,u.PI)(e);if(!r)throw new a.wn({signature:e,type:"constructor"});let n=m(r.parameters),i=[],o=n.length;for(let e=0;e<o;e++)i.push(g(n[e],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:r.stateMutability??"nonpayable",inputs:i}}(e,t);if((0,u.EC)(e))return function(e){let t=(0,u.qm)(e);if(!t)throw new a.wn({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}(e);if((0,u.QM)(e))return{type:"receive",stateMutability:"payable"};throw new a.Vs({signature:e})}let f=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,h=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,p=/^u?int$/;function g(e,t){var r,a;let s;let c=function(e,t,r){let n="";if(r)for(let e of Object.entries(r)){if(!e)continue;let t="";for(let r of e[1])t+=`[${r.type}${r.name?`:${r.name}`:""}]`;n+=`(${e[0]}{${t}})`}return t?`${t}:${e}${n}`:`${e}${n}`}(e,t?.type,t?.structs);if(l.has(c))return l.get(c);let d=n.cN.test(e),w=(0,n.Zw)(d?h:f,e);if(!w)throw new o.jO({param:e});if(w.name&&("address"===(r=w.name)||"bool"===r||"function"===r||"string"===r||"tuple"===r||n.eL.test(r)||n.lh.test(r)||b.test(r)))throw new o.TT({param:e,name:w.name});let v=w.name?{name:w.name}:{},E="indexed"===w.modifier?{indexed:!0}:{},x=t?.structs??{},A={};if(d){s="tuple";let e=m(w.type),t=[],r=e.length;for(let n=0;n<r;n++)t.push(g(e[n],{structs:x}));A={components:t}}else if(w.type in x)s="tuple",A={components:x[w.type]};else if(p.test(w.type))s=`${w.type}256`;else if("address payable"===w.type)s="address";else if(s=w.type,t?.type!=="struct"&&!y(s))throw new i.Hk({type:s});if(w.modifier){if(!t?.modifiers?.has?.(w.modifier))throw new o.zL({param:e,type:t?.type,modifier:w.modifier});if(u.Dt.has(w.modifier)&&(a=s,!w.array&&"bytes"!==a&&"string"!==a&&"tuple"!==a))throw new o._D({param:e,type:t?.type,modifier:w.modifier})}let S={type:`${s}${w.array??""}`,...v,...E,...A};return l.set(c,S),S}function m(e,t=[],r="",n=0){let i=e.trim().length;for(let o=0;o<i;o++){let i=e[o],a=e.slice(o+1);switch(i){case",":return 0===n?m(a,[...t,r.trim()]):m(a,t,`${r}${i}`,n);case"(":return m(a,t,`${r}${i}`,n+1);case")":return m(a,t,`${r}${i}`,n-1);default:return m(a,t,`${r}${i}`,n)}}if(""===r)return t;if(0!==n)throw new c({current:r,depth:n});return t.push(r.trim()),t}function y(e){return"address"===e||"bool"===e||"function"===e||"string"===e||n.eL.test(e)||n.lh.test(e)}let b=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/},19151:function(e,t,r){"use strict";function n(e,t){let r=e.exec(t);return r?.groups}r.d(t,{Zw:function(){return n},cN:function(){return a},eL:function(){return i},lh:function(){return o}});let i=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,o=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,a=/^\(.+?\).*?$/},17324:function(e,t,r){"use strict";r.d(t,{m:function(){return o}});var n=r(28766),i=r(82645);let o=async(e,t)=>{let{address:r,entryPointAddress:o,key:a=BigInt(0)}=t;return await (0,i.s)(e,n.L,"readContract")({address:o,abi:[{inputs:[{name:"sender",type:"address"},{name:"key",type:"uint192"}],name:"getNonce",outputs:[{name:"nonce",type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"getNonce",args:[r,a]})}},59423:function(e,t,r){"use strict";r.d(t,{a:function(){return l}}),r(81544);var n=r(89256),i=r(23010),o=r(2742),a=r(50550),s=r(82645);let c=[{inputs:[{internalType:"address",name:"_entryPoint",type:"address"},{internalType:"bytes",name:"initCode",type:"bytes"}],stateMutability:"payable",type:"constructor"}],l=async(e,t)=>{let{initCode:r,entryPointAddress:l,factory:u,factoryData:d}=t;if(!r&&!u&&!d)throw Error("Either `initCode` or `factory` and `factoryData` must be provided");let f=r||(0,n.zo)([u,d]),{data:h}=await (0,s.s)(e,a.R,"call")({data:(0,i.w)({abi:c,bytecode:"0x60806040526102a28038038091610015826100ae565b6080396040816080019112610093576080516001600160a01b03811681036100935760a0516001600160401b0381116100935782609f82011215610093578060800151610061816100fc565b9361006f60405195866100d9565b81855260a082840101116100935761008e9160a0602086019101610117565b610196565b600080fd5b634e487b7160e01b600052604160045260246000fd5b6080601f91909101601f19168101906001600160401b038211908210176100d457604052565b610098565b601f909101601f19168101906001600160401b038211908210176100d457604052565b6001600160401b0381116100d457601f01601f191660200190565b60005b83811061012a5750506000910152565b818101518382015260200161011a565b6040916020825261015a8151809281602086015260208686019101610117565b601f01601f1916010190565b3d15610191573d90610177826100fc565b9161018560405193846100d9565b82523d6000602084013e565b606090565b600091908291826040516101cd816101bf6020820195639b249f6960e01b87526024830161013a565b03601f1981018352826100d9565b51925af16101d9610166565b906102485760048151116000146101f7576024015160005260206000f35b60405162461bcd60e51b8152602060048201526024808201527f67657453656e64657241646472657373206661696c656420776974686f7574206044820152636461746160e01b6064820152608490fd5b60405162461bcd60e51b815260206004820152602b60248201527f67657453656e6465724164647265737320646964206e6f74207265766572742060448201526a185cc8195e1c1958dd195960aa1b6064820152608490fdfe",args:[l,f]})});if(!h)throw Error("Failed to get sender address");return(0,o.r)([{type:"address"}],h)[0]}},1442:function(e,t,r){"use strict";r.d(t,{X:function(){return c}});var n=r(87721),i=r(69921),o=r(2742),a=r(31669),s=r(20556);function c(e){let t;let r=(0,n.p)({abi:[{type:"function",name:"execute",inputs:[{name:"execMode",type:"bytes32",internalType:"ExecMode"},{name:"executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"}],data:e}),c=r.args[0],l=r.args[1],u=(0,i.tP)(c,0,1),d=(0,i.tP)(c,1,2),f=(0,i.tP)(c,3,7),h=(0,i.tP)(c,7);switch(BigInt(u)){case BigInt(0):t="call";break;case BigInt(1):t="batchcall";break;case BigInt(255):t="delegatecall";break;default:throw Error("Invalid call type")}let p={type:t,revertOnError:BigInt(d)===BigInt(1),selector:f,context:h};if("batchcall"===p.type){let[e]=(0,o.r)([{name:"executionBatch",type:"tuple[]",components:[{name:"target",type:"address"},{name:"value",type:"uint256"},{name:"callData",type:"bytes"}]}],l);return{mode:p,callData:e.map(e=>({to:e.target,value:e.value,data:e.callData}))}}return{mode:p,callData:[{to:(0,a.K)((0,i.tP)(l,0,20)),value:BigInt((0,i.tP)(l,20,52)),data:(0,s.d)(l)>52?(0,i.tP)(l,52):"0x"}]}}},16880:function(e,t,r){"use strict";r.d(t,{l:function(){return u}});var n=r(17283),i=r(30056),o=r(89256),a=r(59455),s=r(2908),c=r(44659);function l({type:e,revertOnError:t,selector:r,context:n}){return(0,s._)(["bytes1","bytes1","bytes4","bytes4","bytes22"],[(0,a.NC)((0,c.O0)(function(e){switch(e){case"call":return"0x00";case"batchcall":return"0x01";case"delegatecall":return"0xff"}}(e),{size:1})),(0,a.NC)((0,c.O0)(t?"0x01":"0x00",{size:1})),(0,a.NC)((0,c.O0)("0x0",{size:4})),(0,a.NC)((0,c.O0)(r??"0x",{size:4})),(0,a.NC)((0,c.O0)(n??"0x",{size:22}))])}function u({mode:e,callData:t}){if(t.length>1&&e?.type!=="batchcall")throw Error(`mode ${JSON.stringify(e)} does not supported for batchcall calldata`);let r=[{type:"function",name:"execute",inputs:[{name:"execMode",type:"bytes32",internalType:"ExecMode"},{name:"executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"}];if(t.length>1)return(0,n.R)({abi:r,functionName:"execute",args:[l(e),(0,i.E)([{name:"executionBatch",type:"tuple[]",components:[{name:"target",type:"address"},{name:"value",type:"uint256"},{name:"callData",type:"bytes"}]}],[t.map(e=>({target:e.to,value:e.value??0n,callData:e.data??"0x"}))])]});let s=0===t.length?void 0:t[0];if(!s)throw Error("No calls to encode");return(0,n.R)({abi:r,functionName:"execute",args:[l(e),(0,o.SM)([s.to,(0,a.NC)(s.value??0n,{size:32}),s.data??"0x"])]})}},7068:function(e,t,r){"use strict";r.d(t,{Pj:function(){return o}});let n=null;try{n={importPromise:Promise.all([r.e(4879),r.e(8832)]).then(r.bind(r,8832))}}catch(e){}async function i(){if(!n)throw Error("The 'ox' package is required for WebAuthn functionality. Please install it: npm install ox");try{return await n.importPromise}catch(e){throw Error("The 'ox' package is required for WebAuthn functionality. Please install it: npm install ox")}}async function o(){let e=await i();return{Base64:e.Base64,Hex:e.Hex,PublicKey:e.PublicKey,Signature:e.Signature,WebAuthnP256:e.WebAuthnP256}}},60137:function(e,t,r){"use strict";r.d(t,{J:function(){return l}});var n=r(51678),i=r(93715),o=r(10052),a=r(4012),s=r(69133),c=r(82645);async function l({owner:e,address:t}){let r;if("type"in e&&"local"===e.type)return e;if("request"in e){if(!t)try{[t]=await e.request({method:"eth_requestAccounts"})}catch{[t]=await e.request({method:"eth_accounts"})}if(!t)throw Error("address is required");r=(0,n.K)({account:t,transport:(0,i.P)(e)})}return r||(r=e),function(e){if("string"==typeof e){if(!(0,a.U)(e,{strict:!1}))throw new o.b({address:e});return{address:e,type:"json-rpc"}}if(!(0,a.U)(e.address,{strict:!1}))throw new o.b({address:e.address});return{address:e.address,nonceManager:e.nonceManager,sign:e.sign,signAuthorization:e.signAuthorization,signMessage:e.signMessage,signTransaction:e.signTransaction,signTypedData:e.signTypedData,source:"custom",type:"local"}}({address:r.account.address,signMessage:async({message:e})=>r.signMessage({message:e}),signTypedData:async e=>(0,c.s)(r,s.x,"signTypedData")(e),async signTransaction(e){throw Error("Smart account signer doesn't need to sign transactions")}})}},44633:function(e,t,r){"use strict";r.d(t,{Ey:function(){return c},XY:function(){return a}});var n=r(82957),i=r(87336),o=class extends i.v{socket;constructor(e,t){super(),this.socket=new window.WebSocket(e,t.protocols),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=e=>this.emit("message",e.data),this.socket.onerror=e=>this.emit("error",e),this.socket.onclose=e=>{this.emit("close",e.code,e.reason)}}send(e,t,r){let n=r||t;try{this.socket.send(e),n()}catch(e){n(e)}}close(e,t){this.socket.close(e,t)}addEventListener(e,t,r){this.socket.addEventListener(e,t,r)}};function a(e,t){return new o(e,t)}var s=class{encode(e){return JSON.stringify(e)}decode(e){return JSON.parse(e)}},c=class extends i.v{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(e,t="ws://localhost:8080",{autoconnect:r=!0,reconnect:n=!0,reconnect_interval:i=1e3,max_reconnects:o=5,...a}={},c,l){super(),this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=t,this.autoconnect=r,this.ready=!1,this.reconnect=n,this.reconnect_timer_id=void 0,this.reconnect_interval=i,this.max_reconnects=o,this.rest_options=a,this.current_reconnects=0,this.generate_request_id=c||(()=>"number"==typeof this.rpc_id?++this.rpc_id:Number(this.rpc_id)+1),l?this.dataPack=l:this.dataPack=new s,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,t,r,n){return n||"object"!=typeof r||(n=r,r=null),new Promise((i,o)=>{if(!this.ready)return o(Error("socket not ready"));let a=this.generate_request_id(e,t);this.socket.send(this.dataPack.encode({jsonrpc:"2.0",method:e,params:t||void 0,id:a}),n,e=>{if(e)return o(e);this.queue[a]={promise:[i,o]},r&&(this.queue[a].timeout=setTimeout(()=>{delete this.queue[a],o(Error("reply timeout"))},r))})})}async login(e){let t=await this.call("rpc.login",e);if(!t)throw Error("authentication failed");return t}async listMethods(){return await this.call("__listMethods")}notify(e,t){return new Promise((r,n)=>{if(!this.ready)return n(Error("socket not ready"));this.socket.send(this.dataPack.encode({jsonrpc:"2.0",method:e,params:t}),e=>{if(e)return n(e);r()})})}async subscribe(e){"string"==typeof e&&(e=[e]);let t=await this.call("rpc.on",e);if("string"==typeof e&&"ok"!==t[e])throw Error("Failed subscribing to an event '"+e+"' with: "+t[e]);return t}async unsubscribe(e){"string"==typeof e&&(e=[e]);let t=await this.call("rpc.off",e);if("string"==typeof e&&"ok"!==t[e])throw Error("Failed unsubscribing from an event with: "+t);return t}close(e,t){this.socket&&this.socket.close(e||1e3,t)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}getCurrentReconnects(){return this.current_reconnects}getMaxReconnects(){return this.max_reconnects}isReconnecting(){return void 0!==this.reconnect_timer_id}willReconnect(){return this.reconnect&&(0===this.max_reconnects||this.current_reconnects<this.max_reconnects)}_connect(e,t){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,t),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:e})=>{e instanceof ArrayBuffer&&(e=n.Buffer.from(e).toString());try{e=this.dataPack.decode(e)}catch(e){return}if(e.notification&&this.listeners(e.notification).length){if(!Object.keys(e.params).length)return this.emit(e.notification);let t=[e.notification];if(e.params.constructor===Object)t.push(e.params);else for(let r=0;r<e.params.length;r++)t.push(e.params[r]);return Promise.resolve().then(()=>{this.emit.apply(this,t)})}if(!this.queue[e.id])return e.method?Promise.resolve().then(()=>{this.emit(e.method,e?.params)}):void 0;"error"in e=="result"in e&&this.queue[e.id].promise[1](Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[e.id].timeout&&clearTimeout(this.queue[e.id].timeout),e.error?this.queue[e.id].promise[1](e.error):this.queue[e.id].promise[0](e.result),delete this.queue[e.id]}),this.socket.addEventListener("error",e=>this.emit("error",e)),this.socket.addEventListener("close",({code:r,reason:n})=>{this.ready&&setTimeout(()=>this.emit("close",r,n),0),this.ready=!1,this.socket=void 0,1e3!==r&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||0===this.max_reconnects)?this.reconnect_timer_id=setTimeout(()=>this._connect(e,t),this.reconnect_interval):this.reconnect&&this.max_reconnects>0&&this.current_reconnects>=this.max_reconnects&&setTimeout(()=>this.emit("max_reconnects_reached",r,n),1))})}}},68680:function(e,t,r){"use strict";let n,i;r.d(t,{io:function(){return eO}});var o,a,s={};r.r(s),r.d(s,{Decoder:function(){return ey},Encoder:function(){return em},PacketType:function(){return a},isPacketValid:function(){return eE},protocol:function(){return eg}});let c=Object.create(null);c.open="0",c.close="1",c.ping="2",c.pong="3",c.message="4",c.upgrade="5",c.noop="6";let l=Object.create(null);Object.keys(c).forEach(e=>{l[c[e]]=e});let u={type:"error",data:"parser error"},d="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),f="function"==typeof ArrayBuffer,h=e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,p=({type:e,data:t},r,n)=>d&&t instanceof Blob?r?n(t):g(t,n):f&&(t instanceof ArrayBuffer||h(t))?r?n(t):g(new Blob([t]),n):n(c[e]+(t||"")),g=(e,t)=>{let r=new FileReader;return r.onload=function(){t("b"+(r.result.split(",")[1]||""))},r.readAsDataURL(e)};function m(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let e=0;e<y.length;e++)b[y.charCodeAt(e)]=e;let w=e=>{let t=.75*e.length,r=e.length,n,i=0,o,a,s,c;"="===e[e.length-1]&&(t--,"="===e[e.length-2]&&t--);let l=new ArrayBuffer(t),u=new Uint8Array(l);for(n=0;n<r;n+=4)o=b[e.charCodeAt(n)],a=b[e.charCodeAt(n+1)],s=b[e.charCodeAt(n+2)],c=b[e.charCodeAt(n+3)],u[i++]=o<<2|a>>4,u[i++]=(15&a)<<4|s>>2,u[i++]=(3&s)<<6|63&c;return l},v="function"==typeof ArrayBuffer,E=(e,t)=>{if("string"!=typeof e)return{type:"message",data:A(e,t)};let r=e.charAt(0);return"b"===r?{type:"message",data:x(e.substring(1),t)}:l[r]?e.length>1?{type:l[r],data:e.substring(1)}:{type:l[r]}:u},x=(e,t)=>v?A(w(e),t):{base64:!0,data:e},A=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,S=(e,t)=>{let r=e.length,n=Array(r),i=0;e.forEach((e,o)=>{p(e,!1,e=>{n[o]=e,++i===r&&t(n.join("\x1e"))})})},_=(e,t)=>{let r=e.split("\x1e"),n=[];for(let e=0;e<r.length;e++){let i=E(r[e],t);if(n.push(i),"error"===i.type)break}return n};function I(e){return e.reduce((e,t)=>e+t.length,0)}function C(e,t){if(e[0].length===t)return e.shift();let r=new Uint8Array(t),n=0;for(let i=0;i<t;i++)r[i]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function O(e){if(e)return function(e){for(var t in O.prototype)e[t]=O.prototype[t];return e}(e)}O.prototype.on=O.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},O.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},O.prototype.off=O.prototype.removeListener=O.prototype.removeAllListeners=O.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<n.length;i++)if((r=n[i])===t||r.fn===t){n.splice(i,1);break}return 0===n.length&&delete this._callbacks["$"+e],this},O.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,t)}return this},O.prototype.emitReserved=O.prototype.emit,O.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},O.prototype.hasListeners=function(e){return!!this.listeners(e).length};let P="function"==typeof Promise&&"function"==typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),T="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function k(e,...t){return t.reduce((t,r)=>(e.hasOwnProperty(r)&&(t[r]=e[r]),t),{})}let N=T.setTimeout,M=T.clearTimeout;function R(e,t){t.useNativeTimers?(e.setTimeoutFn=N.bind(T),e.clearTimeoutFn=M.bind(T)):(e.setTimeoutFn=T.setTimeout.bind(T),e.clearTimeoutFn=T.clearTimeout.bind(T))}function D(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class L extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}}class B extends O{constructor(e){super(),this.writable=!1,R(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,r){return super.emitReserved("error",new L(e,t,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){let t=E(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){let e=this.opts.hostname;return -1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&443!==Number(this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){let t=function(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}(e);return t.length?"?"+t:""}}class U extends B{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";let t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let e=0;this._polling&&(e++,this.once("pollComplete",function(){--e||t()})),this.writable||(e++,this.once("drain",function(){--e||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){_(e,this.socket.binaryType).forEach(e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)}),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){let e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,S(e,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=D()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}let j=!1;try{j="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){}let $=j;function F(){}class z extends U{constructor(e){if(super(e),"undefined"!=typeof location){let t="https:"===location.protocol,r=location.port;r||(r=t?"443":"80"),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,t){let r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(e,t)=>{this.onError("xhr post error",e,t)})}doPoll(){let e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(e,t)=>{this.onError("xhr poll error",e,t)}),this.pollXhr=e}}class q extends O{constructor(e,t,r){super(),this.createRequest=e,R(this,r),this._opts=r,this._method=r.method||"GET",this._uri=t,this._data=void 0!==r.data?r.data:null,this._create()}_create(){var e;let t=k(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;let r=this._xhr=this.createRequest(t);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders)for(let e in r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0),this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(e)&&r.setRequestHeader(e,this._opts.extraHeaders[e])}catch(e){}if("POST"===this._method)try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{r.setRequestHeader("Accept","*/*")}catch(e){}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var e;3===r.readyState&&(null===(e=this._opts.cookieJar)||void 0===e||e.parseCookies(r.getResponseHeader("set-cookie"))),4===r.readyState&&(200===r.status||1223===r.status?this._onLoad():this.setTimeoutFn(()=>{this._onError("number"==typeof r.status?r.status:0)},0))},r.send(this._data)}catch(e){this.setTimeoutFn(()=>{this._onError(e)},0);return}"undefined"!=typeof document&&(this._index=q.requestsCount++,q.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(void 0!==this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=F,e)try{this._xhr.abort()}catch(e){}"undefined"!=typeof document&&delete q.requests[this._index],this._xhr=null}}_onLoad(){let e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}function G(){for(let e in q.requests)q.requests.hasOwnProperty(e)&&q.requests[e].abort()}q.requestsCount=0,q.requests={},"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",G):"function"==typeof addEventListener&&addEventListener("onpagehide"in T?"pagehide":"unload",G,!1));let H=function(){let e=W({xdomain:!1});return e&&null!==e.responseType}();class V extends z{constructor(e){super(e);let t=e&&e.forceBase64;this.supportsBinary=H&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new q(W,this.uri(),e)}}function W(e){let t=e.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!t||$))return new XMLHttpRequest}catch(e){}if(!t)try{return new T[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(e){}}let Z="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class K extends B{get name(){return"websocket"}doOpen(){let e=this.uri(),t=this.opts.protocols,r=Z?{}:k(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,r)}catch(e){return this.emitReserved("error",e)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let r=e[t],n=t===e.length-1;p(r,this.supportsBinary,e=>{try{this.doWrite(r,e)}catch(e){}n&&P(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){void 0!==this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){let e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=D()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}let Y=T.WebSocket||T.MozWebSocket;class J extends K{createSocket(e,t,r){return Z?new Y(e,t,r):t?new Y(e,t):new Y(e)}doWrite(e,t){this.ws.send(t)}}class X extends B{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{let t=function(e,t){i||(i=new TextDecoder);let r=[],n=0,o=-1,a=!1;return new TransformStream({transform(s,c){for(r.push(s);;){if(0===n){if(1>I(r))break;let e=C(r,1);a=(128&e[0])==128,n=(o=127&e[0])<126?3:126===o?1:2}else if(1===n){if(2>I(r))break;let e=C(r,2);o=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),n=3}else if(2===n){if(8>I(r))break;let e=C(r,8),t=new DataView(e.buffer,e.byteOffset,e.length),i=t.getUint32(0);if(i>2097151){c.enqueue(u);break}o=4294967296*i+t.getUint32(4),n=3}else{if(I(r)<o)break;let e=C(r,o);c.enqueue(E(a?e:i.decode(e),t)),n=0}if(0===o||o>e){c.enqueue(u);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(t).getReader(),o=new TransformStream({transform(e,t){var r;r=r=>{let n;let i=r.length;if(i<126)new DataView((n=new Uint8Array(1)).buffer).setUint8(0,i);else if(i<65536){let e=new DataView((n=new Uint8Array(3)).buffer);e.setUint8(0,126),e.setUint16(1,i)}else{let e=new DataView((n=new Uint8Array(9)).buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(i))}e.data&&"string"!=typeof e.data&&(n[0]|=128),t.enqueue(n),t.enqueue(r)},d&&e.data instanceof Blob?e.data.arrayBuffer().then(m).then(r):f&&(e.data instanceof ArrayBuffer||h(e.data))?r(m(e.data)):p(e,!1,e=>{n||(n=new TextEncoder),r(n.encode(e))})}});o.readable.pipeTo(e.writable),this._writer=o.writable.getWriter();let a=()=>{r.read().then(({done:e,value:t})=>{e||(this.onPacket(t),a())}).catch(e=>{})};a();let s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this._writer.write(s).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let r=e[t],n=t===e.length-1;this._writer.write(r).then(()=>{n&&P(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}}let Q={websocket:J,webtransport:X,polling:V},ee=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,et=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function er(e){if(e.length>8e3)throw"URI too long";let t=e,r=e.indexOf("["),n=e.indexOf("]");-1!=r&&-1!=n&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let i=ee.exec(e||""),o={},a=14;for(;a--;)o[et[a]]=i[a]||"";return -1!=r&&-1!=n&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=function(e,t){let r=t.replace(/\/{2,9}/g,"/").split("/");return("/"==t.slice(0,1)||0===t.length)&&r.splice(0,1),"/"==t.slice(-1)&&r.splice(r.length-1,1),r}(0,o.path),o.queryKey=function(e,t){let r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(e,t,n){t&&(r[t]=n)}),r}(0,o.query),o}let en="function"==typeof addEventListener&&"function"==typeof removeEventListener,ei=[];en&&addEventListener("offline",()=>{ei.forEach(e=>e())},!1);class eo extends O{constructor(e,t){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"==typeof e&&(t=e,e=null),e){let r=er(e);t.hostname=r.host,t.secure="https"===r.protocol||"wss"===r.protocol,t.port=r.port,r.query&&(t.query=r.query)}else t.host&&(t.hostname=er(t.host).host);R(this,t),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(e=>{let t=e.prototype.name;this.transports.push(t),this._transportsByName[t]=e}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=function(e){let t={},r=e.split("&");for(let e=0,n=r.length;e<n;e++){let n=r[e].split("=");t[decodeURIComponent(n[0])]=decodeURIComponent(n[1])}return t}(this.opts.query)),en&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},ei.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){let t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);let r=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(0===this.transports.length){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}let e=this.opts.rememberUpgrade&&eo.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";let t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",e=>this._onClose("transport close",e))}onOpen(){this.readyState="open",eo.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":let t=Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);let e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let t=0;t<this.writeBuffer.length;t++){let r=this.writeBuffer[t].data;if(r&&(e+="string"==typeof r?function(e){let t=0,r=0;for(let n=0,i=e.length;n<i;n++)(t=e.charCodeAt(n))<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}(r):Math.ceil(1.33*(r.byteLength||r.size))),t>0&&e>this._maxPayload)return this.writeBuffer.slice(0,t);e+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;let e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,P(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,r){return this._sendPacket("message",e,t,r),this}send(e,t,r){return this._sendPacket("message",e,t,r),this}_sendPacket(e,t,r,n){if("function"==typeof t&&(n=t,t=void 0),"function"==typeof r&&(n=r,r=null),"closing"===this.readyState||"closed"===this.readyState)return;(r=r||{}).compress=!1!==r.compress;let i={type:e,data:t,options:r};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),n&&this.once("flush",n),this.flush()}close(){let e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},r=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return("opening"===this.readyState||"open"===this.readyState)&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(eo.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),en&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){let e=ei.indexOf(this._offlineEventListener);-1!==e&&ei.splice(e,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}eo.protocol=4;class ea extends eo{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),r=!1;eo.priorWebsocketSuccess=!1;let n=()=>{r||(t.send([{type:"ping",data:"probe"}]),t.once("packet",e=>{if(!r){if("pong"===e.type&&"probe"===e.data)this.upgrading=!0,this.emitReserved("upgrading",t),t&&(eo.priorWebsocketSuccess="websocket"===t.name,this.transport.pause(()=>{r||"closed"===this.readyState||(l(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())}));else{let e=Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}}}))};function i(){r||(r=!0,l(),t.close(),t=null)}let o=e=>{let r=Error("probe error: "+e);r.transport=t.name,i(),this.emitReserved("upgradeError",r)};function a(){o("transport closed")}function s(){o("socket closed")}function c(e){t&&e.name!==t.name&&i()}let l=()=>{t.removeListener("open",n),t.removeListener("error",o),t.removeListener("close",a),this.off("close",s),this.off("upgrading",c)};t.once("open",n),t.once("error",o),t.once("close",a),this.once("close",s),this.once("upgrading",c),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn(()=>{r||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){let t=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}}class es extends ea{constructor(e,t={}){let r="object"==typeof e?e:t;(!r.transports||r.transports&&"string"==typeof r.transports[0])&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(e=>Q[e]).filter(e=>!!e)),super(e,r)}}es.protocol;let ec="function"==typeof ArrayBuffer,el=e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,eu=Object.prototype.toString,ed="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===eu.call(Blob),ef="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===eu.call(File);function eh(e){return ec&&(e instanceof ArrayBuffer||el(e))||ed&&e instanceof Blob||ef&&e instanceof File}let ep=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],eg=5;(o=a||(a={}))[o.CONNECT=0]="CONNECT",o[o.DISCONNECT=1]="DISCONNECT",o[o.EVENT=2]="EVENT",o[o.ACK=3]="ACK",o[o.CONNECT_ERROR=4]="CONNECT_ERROR",o[o.BINARY_EVENT=5]="BINARY_EVENT",o[o.BINARY_ACK=6]="BINARY_ACK";class em{constructor(e){this.replacer=e}encode(e){return(e.type===a.EVENT||e.type===a.ACK)&&function e(t,r){if(!t||"object"!=typeof t)return!1;if(Array.isArray(t)){for(let r=0,n=t.length;r<n;r++)if(e(t[r]))return!0;return!1}if(eh(t))return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1==arguments.length)return e(t.toJSON(),!0);for(let r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return!0;return!1}(e)?this.encodeAsBinary({type:e.type===a.EVENT?a.BINARY_EVENT:a.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===a.BINARY_EVENT||e.type===a.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){let t=function(e){let t=[],r=e.data;return e.data=function e(t,r){if(!t)return t;if(eh(t)){let e={_placeholder:!0,num:r.length};return r.push(t),e}if(Array.isArray(t)){let n=Array(t.length);for(let i=0;i<t.length;i++)n[i]=e(t[i],r);return n}if("object"==typeof t&&!(t instanceof Date)){let n={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=e(t[i],r));return n}return t}(r,t),e.attachments=t.length,{packet:e,buffers:t}}(e),r=this.encodeAsString(t.packet),n=t.buffers;return n.unshift(r),n}}class ey extends O{constructor(e){super(),this.reviver=e}add(e){let t;if("string"==typeof e){if(this.reconstructor)throw Error("got plaintext data when reconstructing a packet");let r=(t=this.decodeString(e)).type===a.BINARY_EVENT;r||t.type===a.BINARY_ACK?(t.type=r?a.EVENT:a.ACK,this.reconstructor=new eb(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(eh(e)||e.base64){if(this.reconstructor)(t=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw Error("got binary data when not reconstructing a packet")}else throw Error("Unknown type: "+e)}decodeString(e){let t=0,r={type:Number(e.charAt(0))};if(void 0===a[r.type])throw Error("unknown packet type "+r.type);if(r.type===a.BINARY_EVENT||r.type===a.BINARY_ACK){let n=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);let i=e.substring(n,t);if(i!=Number(i)||"-"!==e.charAt(t))throw Error("Illegal attachments");r.attachments=Number(i)}if("/"===e.charAt(t+1)){let n=t+1;for(;++t&&","!==e.charAt(t)&&t!==e.length;);r.nsp=e.substring(n,t)}else r.nsp="/";let n=e.charAt(t+1);if(""!==n&&Number(n)==n){let n=t+1;for(;++t;){let r=e.charAt(t);if(null==r||Number(r)!=r){--t;break}if(t===e.length)break}r.id=Number(e.substring(n,t+1))}if(e.charAt(++t)){let n=this.tryParse(e.substr(t));if(ey.isPayloadValid(r.type,n))r.data=n;else throw Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(e){return!1}}static isPayloadValid(e,t){switch(e){case a.CONNECT:return ev(t);case a.DISCONNECT:return void 0===t;case a.CONNECT_ERROR:return"string"==typeof t||ev(t);case a.EVENT:case a.BINARY_EVENT:return Array.isArray(t)&&("number"==typeof t[0]||"string"==typeof t[0]&&-1===ep.indexOf(t[0]));case a.ACK:case a.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class eb{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t,r;let e=(t=this.reconPack,r=this.buffers,t.data=function e(t,r){if(!t)return t;if(t&&!0===t._placeholder){if("number"==typeof t.num&&t.num>=0&&t.num<r.length)return r[t.num];throw Error("illegal attachments")}if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=e(t[n],r);else if("object"==typeof t)for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=e(t[n],r));return t}(t.data,r),delete t.attachments,t);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}let ew=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};function ev(e){return"[object Object]"===Object.prototype.toString.call(e)}function eE(e){var t;return"string"==typeof e.nsp&&(void 0===(t=e.id)||ew(t))&&function(e,t){switch(e){case a.CONNECT:return void 0===t||ev(t);case a.DISCONNECT:return void 0===t;case a.EVENT:return Array.isArray(t)&&("number"==typeof t[0]||"string"==typeof t[0]&&-1===ep.indexOf(t[0]));case a.ACK:return Array.isArray(t);case a.CONNECT_ERROR:return"string"==typeof t||ev(t);default:return!1}}(e.type,e.data)}function ex(e,t,r){return e.on(t,r),function(){e.off(t,r)}}let eA=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class eS extends O{constructor(e,t,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let e=this.io;this.subs=[ex(e,"open",this.onopen.bind(this)),ex(e,"packet",this.onpacket.bind(this)),ex(e,"error",this.onerror.bind(this)),ex(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var r,n,i;if(eA.hasOwnProperty(e))throw Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;let o={type:a.EVENT,data:t};if(o.options={},o.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]){let e=this.ids++,r=t.pop();this._registerAckCallback(e,r),o.id=e}let s=null===(n=null===(r=this.io.engine)||void 0===r?void 0:r.transport)||void 0===n?void 0:n.writable,c=this.connected&&!(null===(i=this.io.engine)||void 0===i?void 0:i._hasPingExpired());return this.flags.volatile&&!s||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,t){var r;let n=null!==(r=this.flags.timeout)&&void 0!==r?r:this._opts.ackTimeout;if(void 0===n){this.acks[e]=t;return}let i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,Error("operation has timed out"))},n),o=(...e)=>{this.io.clearTimeoutFn(i),t.apply(this,e)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...t){return new Promise((r,n)=>{let i=(e,t)=>e?n(e):r(t);i.withError=!0,t.push(i),this.emit(e,...t)})}_addToQueue(e){let t;"function"==typeof e[e.length-1]&&(t=e.pop());let r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((e,...n)=>(this._queue[0],null!==e?r.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(e)):(this._queue.shift(),t&&t(null,...n)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||0===this._queue.length)return;let t=this._queue[0];(!t.pending||e)&&(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:a.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(t=>String(t.id)===e)){let t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,Error("socket has been disconnected"))}})}onpacket(e){if(!(e.nsp!==this.nsp))switch(e.type){case a.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case a.EVENT:case a.BINARY_EVENT:this.onevent(e);break;case a.ACK:case a.BINARY_ACK:this.onack(e);break;case a.DISCONNECT:this.ondisconnect();break;case a.CONNECT_ERROR:this.destroy();let t=Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){let t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length)for(let t of this._anyListeners.slice())t.apply(this,e);super.emit.apply(this,e),this._pid&&e.length&&"string"==typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){let t=this,r=!1;return function(...n){r||(r=!0,t.packet({type:a.ACK,id:e,data:n}))}}onack(e){let t=this.acks[e.id];"function"==typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:a.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){let t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r]){t.splice(r,1);break}}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){let t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r]){t.splice(r,1);break}}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length)for(let t of this._anyOutgoingListeners.slice())t.apply(this,e.data)}}function e_(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e_.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=(1&Math.floor(10*t))==0?e-r:e+r}return 0|Math.min(e,this.max)},e_.prototype.reset=function(){this.attempts=0},e_.prototype.setMin=function(e){this.ms=e},e_.prototype.setMax=function(e){this.max=e},e_.prototype.setJitter=function(e){this.jitter=e};class eI extends O{constructor(e,t){var r;super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,R(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(r=t.randomizationFactor)&&void 0!==r?r:.5),this.backoff=new e_({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;let n=t.parser||s;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new es(this.uri,this.opts);let t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;let n=ex(t,"open",function(){r.onopen(),e&&e()}),i=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},o=ex(t,"error",i);if(!1!==this._timeout){let e=this._timeout,r=this.setTimeoutFn(()=>{n(),i(Error("timeout")),t.close()},e);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}return this.subs.push(n),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let e=this.engine;this.subs.push(ex(e,"ping",this.onping.bind(this)),ex(e,"data",this.ondata.bind(this)),ex(e,"error",this.onerror.bind(this)),ex(e,"close",this.onclose.bind(this)),ex(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(e){this.onclose("parse error",e)}}ondecoded(e){P(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new eS(this,e,t),this.nsps[e]=r),r}_destroy(e){for(let e of Object.keys(this.nsps))if(this.nsps[e].active)return;this._close()}_packet(e){let t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var r;this.cleanup(),null===(r=this.engine)||void 0===r||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let t=this.backoff.duration();this._reconnecting=!0;let r=this.setTimeoutFn(()=>{!e.skipReconnect&&(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open(t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()}))},t);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){let e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}let eC={};function eO(e,t){let r;"object"==typeof e&&(t=e,e=void 0);let n=function(e,t="",r){let n=e;r=r||"undefined"!=typeof location&&location,null==e&&(e=r.protocol+"//"+r.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?r.protocol+e:r.host+e),/^(https?|wss?):\/\//.test(e)||(e=void 0!==r?r.protocol+"//"+e:"https://"+e),n=er(e)),!n.port&&(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";let i=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port+t,n.href=n.protocol+"://"+i+(r&&r.port===n.port?"":":"+n.port),n}(e,(t=t||{}).path||"/socket.io"),i=n.source,o=n.id,a=n.path,s=eC[o]&&a in eC[o].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||s?r=new eI(i,t):(eC[o]||(eC[o]=new eI(i,t)),r=eC[o]),n.query&&!t.query&&(t.query=n.queryKey),r.socket(n.path,t)}Object.assign(eO,{Manager:eI,Socket:eS,io:eO,connect:eO})},59367:function(e,t,r){"use strict";r.d(t,{AG:function(){return b},G0:function(){return _},IM:function(){return E},IX:function(){return p},O7:function(){return g},Rx:function(){return w},Ue:function(){return u},Yj:function(){return h},Z_:function(){return x},_4:function(){return I},bc:function(){return A},dt:function(){return S},eE:function(){return m},i0:function(){return y},jt:function(){return v},oQ:function(){return C}});class n extends TypeError{constructor(e,t){let r;let{message:n,explanation:i,...o}=e,{path:a}=e,s=0===a.length?n:`At path: ${a.join(".")} -- ${n}`;super(i??s),null!=i&&(this.cause=s),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function i(e){return"object"==typeof e&&null!=e}function o(e){return i(e)&&!Array.isArray(e)}function a(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function*s(e,t,r,n){var o;for(let s of(i(o=e)&&"function"==typeof o[Symbol.iterator]||(e=[e]),e)){let e=function(e,t,r,n){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});let{path:i,branch:o}=t,{type:s}=r,{refinement:c,message:l=`Expected a value of type \`${s}\`${c?` with refinement \`${c}\``:""}, but received: \`${a(n)}\``}=e;return{value:n,type:s,refinement:c,key:i[i.length-1],path:i,branch:o,...e,message:l}}(s,t,r,n);e&&(yield e)}}function*c(e,t,r={}){let{path:n=[],branch:o=[e],coerce:a=!1,mask:s=!1}=r,l={path:n,branch:o,mask:s};a&&(e=t.coercer(e,l));let u="valid";for(let n of t.validator(e,l))n.explanation=r.message,u="not_valid",yield[n,void 0];for(let[d,f,h]of t.entries(e,l))for(let t of c(f,h,{path:void 0===d?n:[...n,d],branch:void 0===d?o:[...o,f],coerce:a,mask:s,message:r.message}))t[0]?(u=null!=t[0].refinement?"not_refined":"not_valid",yield[t[0],void 0]):a&&(f=t[1],void 0===d?e=f:e instanceof Map?e.set(d,f):e instanceof Set?e.add(f):i(e)&&(void 0!==f||d in e)&&(e[d]=f));if("not_valid"!==u)for(let n of t.refiner(e,l))n.explanation=r.message,u="not_refined",yield[n,void 0];"valid"===u&&(yield[void 0,e])}class l{constructor(e){let{type:t,schema:r,validator:n,refiner:i,coercer:o=e=>e,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=o,n?this.validator=(e,t)=>s(n(e,t),t,this,e):this.validator=()=>[],i?this.refiner=(e,t)=>s(i(e,t),t,this,e):this.refiner=()=>[]}assert(e,t){return function(e,t,r){let n=d(e,t,{message:r});if(n[0])throw n[0]}(e,this,t)}create(e,t){return u(e,this,t)}is(e){return!d(e,this)[0]}mask(e,t){return function(e,t,r){let n=d(e,t,{coerce:!0,mask:!0,message:r});if(!n[0])return n[1];throw n[0]}(e,this,t)}validate(e,t={}){return d(e,this,t)}}function u(e,t,r){let n=d(e,t,{coerce:!0,message:r});if(!n[0])return n[1];throw n[0]}function d(e,t,r={}){let i=c(e,t,r),o=function(e){let{done:t,value:r}=e.next();return t?void 0:r}(i);return o[0]?[new n(o[0],function*(){for(let e of i)e[0]&&(yield e[0])}),void 0]:[void 0,o[1]]}function f(e,t){return new l({type:e,schema:null,validator:t})}function h(){return f("any",()=>!0)}function p(e){return new l({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(let[r,n]of t.entries())yield[r,n,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${a(e)}`})}function g(){return f("boolean",e=>"boolean"==typeof e)}function m(e){return f("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${a(t)}`)}function y(e){let t=a(e),r=typeof e;return new l({type:"literal",schema:"string"===r||"number"===r||"boolean"===r?e:null,validator:r=>r===e||`Expected the literal \`${t}\`, but received: ${a(r)}`})}function b(e){return new l({...e,validator:(t,r)=>null===t||e.validator(t,r),refiner:(t,r)=>null===t||e.refiner(t,r)})}function w(){return f("number",e=>"number"==typeof e&&!isNaN(e)||`Expected a number, but received: ${a(e)}`)}function v(e){return new l({...e,validator:(t,r)=>void 0===t||e.validator(t,r),refiner:(t,r)=>void 0===t||e.refiner(t,r)})}function E(e,t){return new l({type:"record",schema:null,*entries(r){if(i(r))for(let n in r){let i=r[n];yield[n,n,e],yield[n,i,t]}},validator:e=>o(e)||`Expected an object, but received: ${a(e)}`,coercer:e=>o(e)?{...e}:e})}function x(){return f("string",e=>"string"==typeof e||`Expected a string, but received: ${a(e)}`)}function A(e){let t=f("never",()=>!1);return new l({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){let n=Math.max(e.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],e[i]||t]}},validator:e=>Array.isArray(e)||`Expected an array, but received: ${a(e)}`,coercer:e=>Array.isArray(e)?e.slice():e})}function S(e){let t=Object.keys(e);return new l({type:"type",schema:e,*entries(r){if(i(r))for(let n of t)yield[n,r[n],e[n]]},validator:e=>o(e)||`Expected an object, but received: ${a(e)}`,coercer:e=>o(e)?{...e}:e})}function _(e){let t=e.map(e=>e.type).join(" | ");return new l({type:"union",schema:null,coercer(t,r){for(let n of e){let[e,i]=n.validate(t,{coerce:!0,mask:r.mask});if(!e)return i}return t},validator(r,n){let i=[];for(let t of e){let[...e]=c(r,t,n),[o]=e;if(!o[0])return[];for(let[t]of e)t&&i.push(t)}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${a(r)}`,...i]}})}function I(){return f("unknown",()=>!0)}function C(e,t,r){return new l({...e,coercer:(n,i)=>d(n,t)[0]?e.coercer(n,i):e.coercer(r(n,i),i)})}},15400:function(e,t,r){"use strict";r.d(t,{s:function(){return o}});var n,i=(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=function(e){function t(t,r){var n,i,o,a,s=this.constructor,c=e.call(this,t,r)||this;return Object.defineProperty(c,"name",{value:s.name,enumerable:!1,configurable:!0}),n=s.prototype,(i=Object.setPrototypeOf)?i(c,n):c.__proto__=n,void 0===o&&(o=c.constructor),(a=Error.captureStackTrace)&&a(c,o),c}return i(t,e),t}(Error)},5853:function(e,t,r){"use strict";r.d(t,{Jh:function(){return c},ZT:function(){return i},_T:function(){return a},ev:function(){return l},mG:function(){return s},pi:function(){return o}});var n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function s(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}c((n=n.apply(e,t||[])).next())})}function c(e,t){var r,n,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(r)throw TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}function l(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError},98862:function(e,t,r){"use strict";r.d(t,{zo:function(){return w},mL:function(){return eY},BB:function(){return eJ}});var n={};r.r(n),r.d(n,{identity:function(){return D}});var i={};r.r(i),r.d(i,{base2:function(){return L}});var o={};r.r(o),r.d(o,{base8:function(){return B}});var a={};r.r(a),r.d(a,{base10:function(){return U}});var s={};r.r(s),r.d(s,{base16:function(){return j},base16upper:function(){return $}});var c={};r.r(c),r.d(c,{base32:function(){return F},base32hex:function(){return H},base32hexpad:function(){return W},base32hexpadupper:function(){return Z},base32hexupper:function(){return V},base32pad:function(){return q},base32padupper:function(){return G},base32upper:function(){return z},base32z:function(){return K}});var l={};r.r(l),r.d(l,{base36:function(){return Y},base36upper:function(){return J}});var u={};r.r(u),r.d(u,{base58btc:function(){return X},base58flickr:function(){return Q}});var d={};r.r(d),r.d(d,{base64:function(){return ee},base64pad:function(){return et},base64url:function(){return er},base64urlpad:function(){return en}});var f={};r.r(f),r.d(f,{base256emoji:function(){return es}});var h={};r.r(h),r.d(h,{sha256:function(){return ev},sha512:function(){return eE}});var p={};r.r(p),r.d(p,{identity:function(){return ex}});var g={};r.r(g),r.d(g,{code:function(){return eS},decode:function(){return eI},encode:function(){return e_},name:function(){return eA}});var m={};function y(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function b(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?y(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function w(e,t){t||(t=e.reduce((e,t)=>e+t.length,0));let r=b(t),n=0;for(let t of e)r.set(t,n),n+=t.length;return y(r)}r.r(m),r.d(m,{code:function(){return eT},decode:function(){return eN},encode:function(){return ek},name:function(){return eP}});var v=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),a=o.charCodeAt(0);if(255!==r[a])throw TypeError(o+" is ambiguous");r[a]=i}var s=e.length,c=e.charAt(0),l=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function d(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var n=0,i=0;e[t]===c;)n++,t++;for(var o=(e.length-t)*l+1>>>0,a=new Uint8Array(o);e[t];){var u=r[e.charCodeAt(t)];if(255===u)return;for(var d=0,f=o-1;(0!==u||d<i)&&-1!==f;f--,d++)u+=s*a[f]>>>0,a[f]=u%256>>>0,u=u/256>>>0;if(0!==u)throw Error("Non-zero carry");i=d,t++}if(" "!==e[t]){for(var h=o-i;h!==o&&0===a[h];)h++;for(var p=new Uint8Array(n+(o-h)),g=n;h!==o;)p[g++]=a[h++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var a=(o-i)*u+1>>>0,l=new Uint8Array(a);i!==o;){for(var d=t[i],f=0,h=a-1;(0!==d||f<n)&&-1!==h;h--,f++)d+=256*l[h]>>>0,l[h]=d%s>>>0,d=d/s>>>0;if(0!==d)throw Error("Non-zero carry");n=f,i++}for(var p=a-n;p!==a&&0===l[p];)p++;for(var g=c.repeat(r);p<a;++p)g+=e.charAt(l[p]);return g},decodeUnsafe:d,decode:function(e){var r=d(e);if(r)return r;throw Error(`Non-${t} character`)}}};new Uint8Array(0);let E=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},x=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")},A=e=>new TextEncoder().encode(e),S=e=>new TextDecoder().decode(e);class _{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class I{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return O(this,e)}}class C{constructor(e){this.decoders=e}or(e){return O(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let O=(e,t)=>new C({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class P{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new _(e,t,r),this.decoder=new I(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let T=({name:e,prefix:t,encode:r,decode:n})=>new P(e,t,r,n),k=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=v(r,t);return T({prefix:e,name:t,encode:n,decode:e=>x(i(e))})},N=(e,t,r,n)=>{let i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let o=e.length;for(;"="===e[o-1];)--o;let a=new Uint8Array(o*r/8|0),s=0,c=0,l=0;for(let t=0;t<o;++t){let o=i[e[t]];if(void 0===o)throw SyntaxError(`Non-${n} character`);c=c<<r|o,(s+=r)>=8&&(s-=8,a[l++]=255&c>>s)}if(s>=r||255&c<<8-s)throw SyntaxError("Unexpected end of data");return a},M=(e,t,r)=>{let n="="===t[t.length-1],i=(1<<r)-1,o="",a=0,s=0;for(let n=0;n<e.length;++n)for(s=s<<8|e[n],a+=8;a>r;)a-=r,o+=t[i&s>>a];if(a&&(o+=t[i&s<<r-a]),n)for(;o.length*r&7;)o+="=";return o},R=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>T({prefix:t,name:e,encode:e=>M(e,n,r),decode:t=>N(t,n,r,e)}),D=T({prefix:"\0",name:"identity",encode:e=>S(e),decode:e=>A(e)}),L=R({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),B=R({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),U=k({prefix:"9",name:"base10",alphabet:"0123456789"}),j=R({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),$=R({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),F=R({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),z=R({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),q=R({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),G=R({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),H=R({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),V=R({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),W=R({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Z=R({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),K=R({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Y=k({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),J=k({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),X=k({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Q=k({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),ee=R({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),et=R({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),er=R({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),en=R({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),ei=Array.from("\uD83D\uDE80\uD83E\uDE90\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B\uD83E\uDD19\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81\uD83C\uDF1E\uD83C\uDF88\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74\uD83D\uDC8E\uD83D\uDCB8\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),eo=ei.reduce((e,t,r)=>(e[r]=t,e),[]),ea=ei.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]),es=T({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=eo[t],"")},decode:function(e){let t=[];for(let r of e){let e=ea[r.codePointAt(0)];if(void 0===e)throw Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}});var ec=function e(t,r,n){r=r||[];for(var i=n=n||0;t>=2147483648;)r[n++]=255&t|128,t/=128;for(;-128&t;)r[n++]=255&t|128,t>>>=7;return r[n]=0|t,e.bytes=n-i+1,r},el=function e(t,r){var n,i=0,r=r||0,o=0,a=r,s=t.length;do{if(a>=s)throw e.bytes=0,RangeError("Could not decode varint");n=t[a++],i+=o<28?(127&n)<<o:(127&n)*Math.pow(2,o),o+=7}while(n>=128);return e.bytes=a-r,i};let eu=(e,t=0)=>[el(e,t),el.bytes],ed=(e,t,r=0)=>(ec(e,t,r),t),ef=e=>e<128?1:e<16384?2:e<2097152?3:e<268435456?4:e<34359738368?5:e<4398046511104?6:e<562949953421312?7:e<72057594037927940?8:e<0x7fffffffffffffff?9:10,eh=(e,t)=>{let r=t.byteLength,n=ef(e),i=n+ef(r),o=new Uint8Array(i+r);return ed(e,o,0),ed(r,o,n),o.set(t,i),new em(e,r,t,o)},ep=e=>{let t=x(e),[r,n]=eu(t),[i,o]=eu(t.subarray(n)),a=t.subarray(n+o);if(a.byteLength!==i)throw Error("Incorrect length");return new em(r,i,a,t)},eg=(e,t)=>e===t||e.code===t.code&&e.size===t.size&&E(e.bytes,t.bytes);class em{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}let ey=({name:e,code:t,encode:r})=>new eb(e,t,r);class eb{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?eh(this.code,t):t.then(e=>eh(this.code,e))}throw Error("Unknown type, must be binary type")}}let ew=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),ev=ey({name:"sha2-256",code:18,encode:ew("SHA-256")}),eE=ey({name:"sha2-512",code:19,encode:ew("SHA-512")}),ex={code:0,name:"identity",encode:x,digest:e=>eh(0,x(e))},eA="raw",eS=85,e_=e=>x(e),eI=e=>x(e),eC=new TextEncoder,eO=new TextDecoder,eP="json",eT=512,ek=e=>eC.encode(JSON.stringify(e)),eN=e=>JSON.parse(eO.decode(e));class eM{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this.byteOffset=n.byteOffset,this.byteLength=n.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:ez,byteLength:ez,code:eF,version:eF,multihash:eF,bytes:eF,_baseCache:ez,asCID:ez})}toV0(){if(0===this.version)return this;{let{code:e,multihash:t}=this;if(e!==eB)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==eU)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return eM.createV0(t)}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=eh(e,t);return eM.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&eg(this.multihash,e.multihash)}toString(e){let{bytes:t,version:r,_baseCache:n}=this;return 0===r?eD(t,n,e||X.encoder):eL(t,n,e||F.encoder)}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return eq(/^0\.0/,eG),!!(e&&(e[e$]||e.asCID===e))}get toBaseEncodedString(){throw Error("Deprecated, use .toString()")}get codec(){throw Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw Error('"multibaseName" property is deprecated')}get prefix(){throw Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof eM)return e;if(null!=e&&e.asCID===e){let{version:t,code:r,multihash:n,bytes:i}=e;return new eM(t,r,n,i||ej(t,r,n.bytes))}if(null==e||!0!==e[e$])return null;{let{version:t,multihash:r,code:n}=e,i=ep(r);return eM.create(t,n,i)}}static create(e,t,r){if("number"!=typeof t)throw Error("String codecs are no longer supported");switch(e){case 0:if(t===eB)return new eM(e,t,r,r.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${eB}) block encoding`);case 1:{let n=ej(e,t,r.bytes);return new eM(e,t,r,n)}default:throw Error("Invalid version")}}static createV0(e){return eM.create(0,eB,e)}static createV1(e,t){return eM.create(1,e,t)}static decode(e){let[t,r]=eM.decodeFirst(e);if(r.length)throw Error("Incorrect length");return t}static decodeFirst(e){let t=eM.inspectBytes(e),r=t.size-t.multihashSize,n=x(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw Error("Incorrect length");let i=n.subarray(t.multihashSize-t.digestSize),o=new em(t.multihashCode,t.digestSize,i,n);return[0===t.version?eM.createV0(o):eM.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[r,n]=eu(e.subarray(t));return t+=n,r},n=r(),i=eB;if(18===n?(n=0,t=0):1===n&&(i=r()),0!==n&&1!==n)throw RangeError(`Invalid CID version ${n}`);let o=t,a=r(),s=r(),c=t+s;return{version:n,codec:i,multihashCode:a,digestSize:s,multihashSize:c-o,size:c}}static parse(e,t){let[r,n]=eR(e,t),i=eM.decode(n);return i._baseCache.set(r,e),i}}let eR=(e,t)=>{switch(e[0]){case"Q":return[X.prefix,(t||X).decode(`${X.prefix}${e}`)];case X.prefix:return[X.prefix,(t||X).decode(e)];case F.prefix:return[F.prefix,(t||F).decode(e)];default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},eD=(e,t,r)=>{let{prefix:n}=r;if(n!==X.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=t.get(n);if(null!=i)return i;{let i=r.encode(e).slice(1);return t.set(n,i),i}},eL=(e,t,r)=>{let{prefix:n}=r,i=t.get(n);if(null!=i)return i;{let i=r.encode(e);return t.set(n,i),i}},eB=112,eU=18,ej=(e,t,r)=>{let n=ef(e),i=n+ef(t),o=new Uint8Array(i+r.byteLength);return ed(e,o,0),ed(t,o,n),o.set(r,i),o},e$=Symbol.for("@ipld/js-cid/CID"),eF={writable:!1,configurable:!1,enumerable:!0},ez={writable:!1,enumerable:!1,configurable:!1},eq=(e,t)=>{if(e.test("0.0.0-dev"))console.warn(t);else throw Error(t)},eG=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`,eH={...n,...i,...o,...a,...s,...c,...l,...u,...d,...f};function eV(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}({...h,...p});let eW=eV("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),eZ=eV("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{let t=b((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),eK={utf8:eW,"utf-8":eW,hex:eH.base16,latin1:eZ,ascii:eZ,binary:eZ,...eH};function eY(e,t="utf8"){let r=eK[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?y(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}function eJ(e,t="utf8"){let r=eK[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}},6895:function(e,t,r){"use strict";r.d(t,{A:function(){return f}});var n=r(75475),i=r(56570),o=r(28766),a=r(82645),s=(r(16689),r(82061)),c=r(30056),l=r(89256),u=r(44659);function d(e){let{address:t,data:r,signature:n,to:i="hex"}=e,o=(0,l.SM)([(0,c.E)([{type:"address"},{type:"bytes"},{type:"bytes"}],[t,r,n]),"0x6492649264926492649264926492649264926492649264926492649264926492"]);return"hex"===i?o:(0,u.nr)(o)}async function f(e){let{extend:t,nonceKeyManager:r=function(e){let{source:t}=e,r=new Map,n=new s.k(8192),i=new Map,o=({address:e,chainId:t})=>`${e}.${t}`;return{async consume({address:e,chainId:r,client:i}){let a=o({address:e,chainId:r}),s=this.get({address:e,chainId:r,client:i});this.increment({address:e,chainId:r});let c=await s;return await t.set({address:e,chainId:r},c),n.set(a,c),c},async increment({address:e,chainId:t}){let n=o({address:e,chainId:t}),i=r.get(n)??0;r.set(n,i+1)},async get({address:e,chainId:a,client:s}){let c=o({address:e,chainId:a}),l=i.get(c);return l||(l=(async()=>{try{let r=await t.get({address:e,chainId:a,client:s}),i=n.get(c)??0;if(i>0&&r<=i)return i+1;return n.delete(c),r}finally{this.reset({address:e,chainId:a})}})(),i.set(c,l)),(r.get(c)??0)+await l},reset({address:e,chainId:t}){let n=o({address:e,chainId:t});r.delete(n),i.delete(n)}}}({source:{get:()=>Date.now(),set(){}}}),...c}=e,l=!1,u=await e.getAddress();return{...t,...c,address:u,async getFactoryArgs(){return"isDeployed"in this&&await this.isDeployed()?{factory:void 0,factoryData:void 0}:e.getFactoryArgs()},async getNonce(t){let i=t?.key??BigInt(await r.consume({address:u,chainId:e.client.chain.id,client:e.client}));return e.getNonce?await e.getNonce({...t,key:i}):await (0,o.L)(e.client,{abi:(0,n.V)(["function getNonce(address, uint192) pure returns (uint256)"]),address:e.entryPoint.address,functionName:"getNonce",args:[u,i]})},isDeployed:async()=>!!l||(l=!!await (0,a.s)(e.client,i.C,"getCode")({address:u})),...e.sign?{async sign(t){let[{factory:r,factoryData:n},i]=await Promise.all([this.getFactoryArgs(),e.sign(t)]);return r&&n?d({address:r,data:n,signature:i}):i}}:{},async signMessage(t){let[{factory:r,factoryData:n},i]=await Promise.all([this.getFactoryArgs(),e.signMessage(t)]);return r&&n&&"0x7702"!==r?d({address:r,data:n,signature:i}):i},async signTypedData(t){let[{factory:r,factoryData:n},i]=await Promise.all([this.getFactoryArgs(),e.signTypedData(t)]);return r&&n&&"0x7702"!==r?d({address:r,data:n,signature:i}):i},type:"smart"}}},35304:function(e,t,r){"use strict";r.d(t,{Jr:function(){return n},iH:function(){return i}});let n=[{inputs:[{name:"preOpGas",type:"uint256"},{name:"paid",type:"uint256"},{name:"validAfter",type:"uint48"},{name:"validUntil",type:"uint48"},{name:"targetSuccess",type:"bool"},{name:"targetResult",type:"bytes"}],name:"ExecutionResult",type:"error"},{inputs:[{name:"opIndex",type:"uint256"},{name:"reason",type:"string"}],name:"FailedOp",type:"error"},{inputs:[{name:"sender",type:"address"}],name:"SenderAddressResult",type:"error"},{inputs:[{name:"aggregator",type:"address"}],name:"SignatureValidationFailed",type:"error"},{inputs:[{components:[{name:"preOpGas",type:"uint256"},{name:"prefund",type:"uint256"},{name:"sigFailed",type:"bool"},{name:"validAfter",type:"uint48"},{name:"validUntil",type:"uint48"},{name:"paymasterContext",type:"bytes"}],name:"returnInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"senderInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"factoryInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"paymasterInfo",type:"tuple"}],name:"ValidationResult",type:"error"},{inputs:[{components:[{name:"preOpGas",type:"uint256"},{name:"prefund",type:"uint256"},{name:"sigFailed",type:"bool"},{name:"validAfter",type:"uint48"},{name:"validUntil",type:"uint48"},{name:"paymasterContext",type:"bytes"}],name:"returnInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"senderInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"factoryInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"paymasterInfo",type:"tuple"},{components:[{name:"aggregator",type:"address"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"stakeInfo",type:"tuple"}],name:"aggregatorInfo",type:"tuple"}],name:"ValidationResultWithAggregation",type:"error"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!1,name:"factory",type:"address"},{indexed:!1,name:"paymaster",type:"address"}],name:"AccountDeployed",type:"event"},{anonymous:!1,inputs:[],name:"BeforeExecution",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"totalDeposit",type:"uint256"}],name:"Deposited",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"aggregator",type:"address"}],name:"SignatureAggregatorChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"totalStaked",type:"uint256"},{indexed:!1,name:"unstakeDelaySec",type:"uint256"}],name:"StakeLocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"withdrawTime",type:"uint256"}],name:"StakeUnlocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"withdrawAddress",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"StakeWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!0,name:"paymaster",type:"address"},{indexed:!1,name:"nonce",type:"uint256"},{indexed:!1,name:"success",type:"bool"},{indexed:!1,name:"actualGasCost",type:"uint256"},{indexed:!1,name:"actualGasUsed",type:"uint256"}],name:"UserOperationEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!1,name:"nonce",type:"uint256"},{indexed:!1,name:"revertReason",type:"bytes"}],name:"UserOperationRevertReason",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"withdrawAddress",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"Withdrawn",type:"event"},{inputs:[],name:"SIG_VALIDATION_FAILED",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"initCode",type:"bytes"},{name:"sender",type:"address"},{name:"paymasterAndData",type:"bytes"}],name:"_validateSenderAndPaymaster",outputs:[],stateMutability:"view",type:"function"},{inputs:[{name:"unstakeDelaySec",type:"uint32"}],name:"addStake",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"depositTo",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{name:"",type:"address"}],name:"deposits",outputs:[{name:"deposit",type:"uint112"},{name:"staked",type:"bool"},{name:"stake",type:"uint112"},{name:"unstakeDelaySec",type:"uint32"},{name:"withdrawTime",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"getDepositInfo",outputs:[{components:[{name:"deposit",type:"uint112"},{name:"staked",type:"bool"},{name:"stake",type:"uint112"},{name:"unstakeDelaySec",type:"uint32"},{name:"withdrawTime",type:"uint48"}],name:"info",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{name:"sender",type:"address"},{name:"key",type:"uint192"}],name:"getNonce",outputs:[{name:"nonce",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"initCode",type:"bytes"}],name:"getSenderAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOp",type:"tuple"}],name:"getUserOpHash",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{components:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOps",type:"tuple[]"},{name:"aggregator",type:"address"},{name:"signature",type:"bytes"}],name:"opsPerAggregator",type:"tuple[]"},{name:"beneficiary",type:"address"}],name:"handleAggregatedOps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"ops",type:"tuple[]"},{name:"beneficiary",type:"address"}],name:"handleOps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"key",type:"uint192"}],name:"incrementNonce",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"callData",type:"bytes"},{components:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"paymaster",type:"address"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"}],name:"mUserOp",type:"tuple"},{name:"userOpHash",type:"bytes32"},{name:"prefund",type:"uint256"},{name:"contextOffset",type:"uint256"},{name:"preOpGas",type:"uint256"}],name:"opInfo",type:"tuple"},{name:"context",type:"bytes"}],name:"innerHandleOp",outputs:[{name:"actualGasCost",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"",type:"address"},{name:"",type:"uint192"}],name:"nonceSequenceNumber",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"op",type:"tuple"},{name:"target",type:"address"},{name:"targetCallData",type:"bytes"}],name:"simulateHandleOp",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOp",type:"tuple"}],name:"simulateValidation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unlockStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"withdrawAddress",type:"address"}],name:"withdrawStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"withdrawAddress",type:"address"},{name:"withdrawAmount",type:"uint256"}],name:"withdrawTo",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],i=[{inputs:[{name:"success",type:"bool"},{name:"ret",type:"bytes"}],name:"DelegateAndRevert",type:"error"},{inputs:[{name:"opIndex",type:"uint256"},{name:"reason",type:"string"}],name:"FailedOp",type:"error"},{inputs:[{name:"opIndex",type:"uint256"},{name:"reason",type:"string"},{name:"inner",type:"bytes"}],name:"FailedOpWithRevert",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"PostOpReverted",type:"error"},{inputs:[],name:"ReentrancyGuardReentrantCall",type:"error"},{inputs:[{name:"sender",type:"address"}],name:"SenderAddressResult",type:"error"},{inputs:[{name:"aggregator",type:"address"}],name:"SignatureValidationFailed",type:"error"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!1,name:"factory",type:"address"},{indexed:!1,name:"paymaster",type:"address"}],name:"AccountDeployed",type:"event"},{anonymous:!1,inputs:[],name:"BeforeExecution",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"totalDeposit",type:"uint256"}],name:"Deposited",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!1,name:"nonce",type:"uint256"},{indexed:!1,name:"revertReason",type:"bytes"}],name:"PostOpRevertReason",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"aggregator",type:"address"}],name:"SignatureAggregatorChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"totalStaked",type:"uint256"},{indexed:!1,name:"unstakeDelaySec",type:"uint256"}],name:"StakeLocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"withdrawTime",type:"uint256"}],name:"StakeUnlocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"withdrawAddress",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"StakeWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!0,name:"paymaster",type:"address"},{indexed:!1,name:"nonce",type:"uint256"},{indexed:!1,name:"success",type:"bool"},{indexed:!1,name:"actualGasCost",type:"uint256"},{indexed:!1,name:"actualGasUsed",type:"uint256"}],name:"UserOperationEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!1,name:"nonce",type:"uint256"}],name:"UserOperationPrefundTooLow",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!1,name:"nonce",type:"uint256"},{indexed:!1,name:"revertReason",type:"bytes"}],name:"UserOperationRevertReason",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"withdrawAddress",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"Withdrawn",type:"event"},{inputs:[{name:"unstakeDelaySec",type:"uint32"}],name:"addStake",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"target",type:"address"},{name:"data",type:"bytes"}],name:"delegateAndRevert",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"account",type:"address"}],name:"depositTo",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{name:"",type:"address"}],name:"deposits",outputs:[{name:"deposit",type:"uint256"},{name:"staked",type:"bool"},{name:"stake",type:"uint112"},{name:"unstakeDelaySec",type:"uint32"},{name:"withdrawTime",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"getDepositInfo",outputs:[{components:[{name:"deposit",type:"uint256"},{name:"staked",type:"bool"},{name:"stake",type:"uint112"},{name:"unstakeDelaySec",type:"uint32"},{name:"withdrawTime",type:"uint48"}],name:"info",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{name:"sender",type:"address"},{name:"key",type:"uint192"}],name:"getNonce",outputs:[{name:"nonce",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"initCode",type:"bytes"}],name:"getSenderAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"accountGasLimits",type:"bytes32"},{name:"preVerificationGas",type:"uint256"},{name:"gasFees",type:"bytes32"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOp",type:"tuple"}],name:"getUserOpHash",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{components:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"accountGasLimits",type:"bytes32"},{name:"preVerificationGas",type:"uint256"},{name:"gasFees",type:"bytes32"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOps",type:"tuple[]"},{name:"aggregator",type:"address"},{name:"signature",type:"bytes"}],name:"opsPerAggregator",type:"tuple[]"},{name:"beneficiary",type:"address"}],name:"handleAggregatedOps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"accountGasLimits",type:"bytes32"},{name:"preVerificationGas",type:"uint256"},{name:"gasFees",type:"bytes32"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"ops",type:"tuple[]"},{name:"beneficiary",type:"address"}],name:"handleOps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"key",type:"uint192"}],name:"incrementNonce",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"callData",type:"bytes"},{components:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"callGasLimit",type:"uint256"},{name:"paymasterVerificationGasLimit",type:"uint256"},{name:"paymasterPostOpGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"paymaster",type:"address"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"}],name:"mUserOp",type:"tuple"},{name:"userOpHash",type:"bytes32"},{name:"prefund",type:"uint256"},{name:"contextOffset",type:"uint256"},{name:"preOpGas",type:"uint256"}],name:"opInfo",type:"tuple"},{name:"context",type:"bytes"}],name:"innerHandleOp",outputs:[{name:"actualGasCost",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"",type:"address"},{name:"",type:"uint192"}],name:"nonceSequenceNumber",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"unlockStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"withdrawAddress",type:"address"}],name:"withdrawStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"withdrawAddress",type:"address"},{name:"withdrawAmount",type:"uint256"}],name:"withdrawTo",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}]},46967:function(e,t,r){"use strict";r.d(t,{VU:function(){return i},qe:function(){return n}});let n="0x5FF137D4b0FDCD49DcA30c7CF57E578a026d2789",i="0x0000000071727De22E5E9d8BAf0edAc6f37da032"},72009:function(e,t,r){"use strict";r.d(t,{n:function(){return i}});var n=r(89256);function i(e,t={}){let{forHash:r}=t,{authorization:i,factory:o,factoryData:a}=e;return r&&("0x7702"===o||"0x7702000000000000000000000000000000000000"===o)?i?(0,n.zo)([i.address,a??"0x"]):"0x7702000000000000000000000000000000000000":o?(0,n.zo)([o,a??"0x"]):"0x"}},49519:function(e,t,r){"use strict";r.d(t,{x:function(){return l}});var n=r(30056),i=r(34763),o=r(42727),a=r(72009),s=r(81873);let c={PackedUserOperation:[{type:"address",name:"sender"},{type:"uint256",name:"nonce"},{type:"bytes",name:"initCode"},{type:"bytes",name:"callData"},{type:"bytes32",name:"accountGasLimits"},{type:"uint256",name:"preVerificationGas"},{type:"bytes32",name:"gasFees"},{type:"bytes",name:"paymasterAndData"}]};function l(e){let{chainId:t,entryPointAddress:r,entryPointVersion:l}=e,u=e.userOperation,{authorization:d,callData:f="0x",callGasLimit:h,maxFeePerGas:p,maxPriorityFeePerGas:g,nonce:m,paymasterAndData:y="0x",preVerificationGas:b,sender:w,verificationGasLimit:v}=u;if("0.8"===l||"0.9"===l)return(0,o.Jv)(function(e){let{chainId:t,entryPointAddress:r,userOperation:n}=e;return{types:c,primaryType:"PackedUserOperation",domain:{name:"ERC4337",version:"1",chainId:t,verifyingContract:r},message:(0,s.y)(n,{forHash:!0})}}({chainId:t,entryPointAddress:r,userOperation:u}));let E=(()=>{if("0.6"===l){let e=u.initCode?.slice(0,42),t=u.initCode?.slice(42),r=(0,a.n)({authorization:d,factory:e,factoryData:t},{forHash:!0});return(0,n.E)([{type:"address"},{type:"uint256"},{type:"bytes32"},{type:"bytes32"},{type:"uint256"},{type:"uint256"},{type:"uint256"},{type:"uint256"},{type:"uint256"},{type:"bytes32"}],[w,m,(0,i.w)(r),(0,i.w)(f),h,v,b,p,g,(0,i.w)(y)])}if("0.7"===l){let e=(0,s.y)(u,{forHash:!0});return(0,n.E)([{type:"address"},{type:"uint256"},{type:"bytes32"},{type:"bytes32"},{type:"bytes32"},{type:"uint256"},{type:"bytes32"},{type:"bytes32"}],[e.sender,e.nonce,(0,i.w)(e.initCode),(0,i.w)(e.callData),e.accountGasLimits,e.preVerificationGas,e.gasFees,(0,i.w)(e.paymasterAndData)])}throw Error(`entryPointVersion "${l}" not supported.`)})();return(0,i.w)((0,n.E)([{type:"bytes32"},{type:"address"},{type:"uint256"}],[(0,i.w)(E),r,BigInt(t)]))}},81873:function(e,t,r){"use strict";r.d(t,{y:function(){return l}});var n=r(89256),i=r(8796),o=r(20556),a=r(59455),s=r(72009);let c="0x22e325a297439656";function l(e,t={}){let{callGasLimit:r,callData:l,maxPriorityFeePerGas:u,maxFeePerGas:d,paymaster:f,paymasterData:h,paymasterPostOpGasLimit:p,paymasterSignature:g,paymasterVerificationGasLimit:m,sender:y,signature:b="0x",verificationGasLimit:w}=e,v=(0,n.zo)([(0,i.vk)((0,a.eC)(w||0n),{size:16}),(0,i.vk)((0,a.eC)(r||0n),{size:16})]),E=(0,s.n)(e,t),x=(0,n.zo)([(0,i.vk)((0,a.eC)(u||0n),{size:16}),(0,i.vk)((0,a.eC)(d||0n),{size:16})]);return{accountGasLimits:v,callData:l,initCode:E,gasFees:x,nonce:e.nonce??0n,paymasterAndData:f?(0,n.zo)([f,(0,i.vk)((0,a.eC)(m||0n),{size:16}),(0,i.vk)((0,a.eC)(p||0n),{size:16}),h||"0x",...g?t.forHash?[c]:[g,(0,i.vk)((0,a.eC)((0,o.d)(g)),{size:2}),c]:[]]):"0x",preVerificationGas:e.preVerificationGas??0n,sender:y,signature:b}}},19775:function(e,t,r){"use strict";function n(e){return"string"==typeof e?{address:e,type:"json-rpc"}:e}r.d(t,{T:function(){return n}})},50550:function(e,t,r){"use strict";r.d(t,{R:function(){return x}});var n=r(75475),i=r(59921),o=r(19775),a=r(98158),s=r(45434),c=r(81544),l=r(35586),u=r(20010),d=r(65436),f=r(23010),h=r(17283),p=r(93627),g=r(59455),m=r(14015),y=r(70878),b=r(92614),w=r(43226),v=r(77911),E=r(54605);async function x(e,t){let{account:a=e.account,authorizationList:d,batch:h=!!e.batch?.multicall,blockNumber:p,blockTag:w=e.experimental_blockTag??"latest",accessList:x,blobs:_,blockOverrides:I,code:C,data:O,factory:P,factoryData:T,gas:k,gasPrice:N,maxFeePerBlobGas:M,maxFeePerGas:R,maxPriorityFeePerGas:D,nonce:L,to:B,value:U,stateOverride:j,...$}=t,F=a?(0,o.T)(a):void 0;if(C&&(P||T))throw new c.G("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(C&&B)throw new c.G("Cannot provide both `code` & `to` as parameters.");let z=C&&O,q=P&&T&&B&&O,G=z||q,H=z?S({code:C,data:O}):q?function(e){let{data:t,factory:r,factoryData:i,to:o}=e;return(0,f.w)({abi:(0,n.V)(["constructor(address, bytes, address, bytes)"]),bytecode:s.pG,args:[o,t,r,i]})}({data:O,factory:P,factoryData:T,to:B}):O;try{(0,E.F)(t);let r=("bigint"==typeof p?(0,g.eC)(p):void 0)||w,n=I?i.toRpc(I):void 0,o=(0,v.mF)(j),a=e.chain?.formatters?.transactionRequest?.format,s=(a||b.tG)({...(0,y.K)($,{format:a}),accessList:x,account:F,authorizationList:d,blobs:_,data:H,gas:k,gasPrice:N,maxFeePerBlobGas:M,maxFeePerGas:R,maxPriorityFeePerGas:D,nonce:L,to:G?void 0:B,value:U},"call");if(h&&function({request:e}){let{data:t,to:r,...n}=e;return!(!t||t.startsWith("0x82ad56cb"))&&!!r&&!(Object.values(n).filter(e=>void 0!==e).length>0)}({request:s})&&!o&&!n)try{return await A(e,{...s,blockNumber:p,blockTag:w})}catch(e){if(!(e instanceof l.pZ)&&!(e instanceof l.mm))throw e}let c=(()=>{let e=[s,r];return o&&n?[...e,o,n]:o?[...e,o]:n?[...e,{},n]:e})(),u=await e.request({method:"eth_call",params:c});if("0x"===u)return{data:void 0};return{data:u}}catch(a){let n=function(e){if(!(e instanceof c.G))return;let t=e.walk();return"object"==typeof t?.data?t.data?.data:t.data}(a),{offchainLookup:i,offchainLookupSignature:o}=await r.e(1735).then(r.bind(r,71735));if(!1!==e.ccipRead&&n?.slice(0,10)===o&&B)return{data:await i(e,{data:n,to:B})};if(G&&n?.slice(0,10)==="0x101bb98d")throw new u.Mo({factory:P});throw(0,m.P)(a,{...t,account:F,chain:e.chain})}}async function A(e,t){let{batchSize:r=1024,deployless:n=!1,wait:i=0}="object"==typeof e.batch?.multicall?e.batch.multicall:{},{blockNumber:o,blockTag:c=e.experimental_blockTag??"latest",data:f,to:m}=t,y=(()=>{if(n)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return(0,p.L)({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new l.pZ})(),b=("bigint"==typeof o?(0,g.eC)(o):void 0)||c,{schedule:v}=(0,w.S)({id:`${e.uid}.${b}`,wait:i,shouldSplitBatch:e=>e.reduce((e,{data:t})=>e+(t.length-2),0)>2*r,fn:async t=>{let r=t.map(e=>({allowFailure:!0,callData:e.data,target:e.to})),n=(0,h.R)({abi:a.F8,args:[r],functionName:"aggregate3"}),i=await e.request({method:"eth_call",params:[{...null===y?{data:S({code:s.xd,data:n})}:{to:y,data:n}},b]});return(0,d.k)({abi:a.F8,args:[r],functionName:"aggregate3",data:i||"0x"})}}),[{returnData:E,success:x}]=await v({data:f,to:m});if(!x)throw new u.VQ({data:E});return"0x"===E?{data:void 0}:{data:E}}function S(e){let{code:t,data:r}=e;return(0,f.w)({abi:(0,n.V)(["constructor(bytes, bytes)"]),bytecode:s.NO,args:[t,r]})}},6458:function(e,t,r){"use strict";r.d(t,{C:function(){return l},X:function(){return c}});var n=r(4496),i=r(82645),o=r(96174),a=r(74587),s=r(25283);async function c(e,t){return l(e,t)}async function l(e,t){let{block:r,chain:c=e.chain,request:l,type:u="eip1559"}=t||{},d=await (async()=>"function"==typeof c?.fees?.baseFeeMultiplier?c.fees.baseFeeMultiplier({block:r,client:e,request:l}):c?.fees?.baseFeeMultiplier??1.2)();if(d<1)throw new n.Fz;let f=10**(d.toString().split(".")[1]?.length??0),h=e=>e*BigInt(Math.ceil(d*f))/BigInt(f),p=r||await (0,i.s)(e,a.Q,"getBlock")({});if("function"==typeof c?.fees?.estimateFeesPerGas){let t=await c.fees.estimateFeesPerGas({block:r,client:e,multiply:h,request:l,type:u});if(null!==t)return t}if("eip1559"===u){if("bigint"!=typeof p.baseFeePerGas)throw new n.e5;let t="bigint"==typeof l?.maxPriorityFeePerGas?l.maxPriorityFeePerGas:await (0,o.h)(e,{block:p,chain:c,request:l}),r=h(p.baseFeePerGas);return{maxFeePerGas:l?.maxFeePerGas??r+t,maxPriorityFeePerGas:t}}return{gasPrice:l?.gasPrice??h(await (0,i.s)(e,s.o,"getGasPrice")({}))}}},8741:function(e,t,r){"use strict";r.d(t,{Q:function(){return b}});var n=r(19775),i=r(81544),o=r(55834),a=r(59455),s=r(71282),c=r(29707),l=r(63228);class u extends i.G{constructor(e,{account:t,docsPath:r,chain:n,data:i,gas:o,gasPrice:a,maxFeePerGas:u,maxPriorityFeePerGas:d,nonce:f,to:h,value:p}){super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",(0,l.xr)({from:t?.address,to:h,value:void 0!==p&&`${(0,s.d)(p)} ${n?.nativeCurrency?.symbol||"ETH"}`,data:i,gas:o,gasPrice:void 0!==a&&`${(0,c.o)(a)} gwei`,maxFeePerGas:void 0!==u&&`${(0,c.o)(u)} gwei`,maxPriorityFeePerGas:void 0!==d&&`${(0,c.o)(d)} gwei`,nonce:f})].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}var d=r(78125),f=r(18856),h=r(70878),p=r(92614),g=r(77911),m=r(54605),y=r(15687);async function b(e,t){let{account:r=e.account,prepare:s=!0}=t,c=r?(0,n.T)(r):void 0,l=Array.isArray(s)?s:c?.type!=="local"?["blobVersionedHashes"]:void 0;try{let r=await (async()=>t.to?t.to:t.authorizationList&&t.authorizationList.length>0?await (0,o.z)({authorization:t.authorizationList[0]}).catch(()=>{throw new i.G("`to` is required. Could not infer from `authorizationList`")}):void 0)(),{accessList:n,authorizationList:u,blobs:d,blobVersionedHashes:f,blockNumber:b,blockTag:w,data:v,gas:E,gasPrice:x,maxFeePerBlobGas:A,maxFeePerGas:S,maxPriorityFeePerGas:_,nonce:I,value:C,stateOverride:O,...P}=s?await (0,y.ZE)(e,{...t,parameters:l,to:r}):t;if(E&&t.gas!==E)return E;let T=("bigint"==typeof b?(0,a.eC)(b):void 0)||w,k=(0,g.mF)(O);(0,m.F)(t);let N=e.chain?.formatters?.transactionRequest?.format,M=(N||p.tG)({...(0,h.K)(P,{format:N}),account:c,accessList:n,authorizationList:u,blobs:d,blobVersionedHashes:f,data:v,gasPrice:x,maxFeePerBlobGas:A,maxFeePerGas:S,maxPriorityFeePerGas:_,nonce:I,to:r,value:C},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:k?[M,T??e.experimental_blockTag??"latest",k]:T?[M,T]:[M]}))}catch(r){throw function(e,{docsPath:t,...r}){return new u((()=>{let t=(0,f.k)(e,r);return t instanceof d.cj?e:t})(),{docsPath:t,...r})}(r,{...t,account:c,chain:e.chain})}}},96174:function(e,t,r){"use strict";r.d(t,{_:function(){return c},h:function(){return l}});var n=r(4496),i=r(72932),o=r(82645),a=r(74587),s=r(25283);async function c(e,t){return l(e,t)}async function l(e,t){let{block:r,chain:c=e.chain,request:l}=t||{};try{let t=c?.fees?.maxPriorityFeePerGas??c?.fees?.defaultPriorityFee;if("function"==typeof t){let n=r||await (0,o.s)(e,a.Q,"getBlock")({}),i=await t({block:n,client:e,request:l});if(null===i)throw Error();return i}if(void 0!==t)return t;let n=await e.request({method:"eth_maxPriorityFeePerGas"});return(0,i.y_)(n)}catch{let[t,i]=await Promise.all([r?Promise.resolve(r):(0,o.s)(e,a.Q,"getBlock")({}),(0,o.s)(e,s.o,"getGasPrice")({})]);if("bigint"!=typeof t.baseFeePerGas)throw new n.e5;let c=i-t.baseFeePerGas;if(c<0n)return 0n;return c}}},332:function(e,t,r){"use strict";r.d(t,{b:function(){return h}});var n=r(19775),i=r(4496),o=r(93606),a=r(70878),s=r(27481),c=r(92614),l=r(82645),u=r(54605),d=r(74587),f=r(12363);async function h(e,t){let{account:r=e.account,accessList:h,authorizationList:p,chain:g=e.chain,blobVersionedHashes:m,blobs:y,data:b,gas:w,gasPrice:v,maxFeePerBlobGas:E,maxFeePerGas:x,maxPriorityFeePerGas:A,nonce:S,nonceManager:_,to:I,type:C,value:O,...P}=t,T=await (async()=>{if(!r||!_||void 0!==S)return S;let t=(0,n.T)(r),i=g?g.id:await (0,l.s)(e,f.L,"getChainId")({});return await _.consume({address:t.address,chainId:i,client:e})})();(0,u.F)(t);let k=g?.formatters?.transactionRequest?.format,N=(k||c.tG)({...(0,a.K)(P,{format:k}),account:r?(0,n.T)(r):void 0,accessList:h,authorizationList:p,blobs:y,blobVersionedHashes:m,data:b,gas:w,gasPrice:v,maxFeePerBlobGas:E,maxFeePerGas:x,maxPriorityFeePerGas:A,nonce:T,to:I,type:C,value:O},"fillTransaction");try{let r=await e.request({method:"eth_fillTransaction",params:[N]}),n=(g?.formatters?.transaction?.format||s.Tr)(r.tx);delete n.blockHash,delete n.blockNumber,delete n.r,delete n.s,delete n.transactionIndex,delete n.v,delete n.yParity,n.data=n.input,n.gas&&(n.gas=t.gas??n.gas),n.gasPrice&&(n.gasPrice=t.gasPrice??n.gasPrice),n.maxFeePerBlobGas&&(n.maxFeePerBlobGas=t.maxFeePerBlobGas??n.maxFeePerBlobGas),n.maxFeePerGas&&(n.maxFeePerGas=t.maxFeePerGas??n.maxFeePerGas),n.maxPriorityFeePerGas&&(n.maxPriorityFeePerGas=t.maxPriorityFeePerGas??n.maxPriorityFeePerGas),n.nonce&&(n.nonce=t.nonce??n.nonce);let o=await (async()=>{if("function"==typeof g?.fees?.baseFeeMultiplier){let r=await (0,l.s)(e,d.Q,"getBlock")({});return g.fees.baseFeeMultiplier({block:r,client:e,request:t})}return g?.fees?.baseFeeMultiplier??1.2})();if(o<1)throw new i.Fz;let a=o.toString().split(".")[1]?.length??0,c=10**a,u=e=>e*BigInt(Math.ceil(o*c))/BigInt(c);return n.maxFeePerGas&&!t.maxFeePerGas&&(n.maxFeePerGas=u(n.maxFeePerGas)),n.gasPrice&&!t.gasPrice&&(n.gasPrice=u(n.gasPrice)),{raw:r.raw,transaction:{from:N.from,...n}}}catch(r){throw(0,o.$)(r,{...t,chain:e.chain})}}},74587:function(e,t,r){"use strict";r.d(t,{Q:function(){return a}});var n=r(12197),i=r(59455),o=r(59069);async function a(e,{blockHash:t,blockNumber:r,blockTag:a=e.experimental_blockTag??"latest",includeTransactions:s}={}){let c=s??!1,l=void 0!==r?(0,i.eC)(r):void 0,u=null;if(!(u=t?await e.request({method:"eth_getBlockByHash",params:[t,c]},{dedupe:!0}):await e.request({method:"eth_getBlockByNumber",params:[l||a,c]},{dedupe:!!l})))throw new n.f({blockHash:t,blockNumber:r});return(e.chain?.formatters?.block?.format||o.Z)(u,"getBlock")}},13708:function(e,t,r){"use strict";r.d(t,{z:function(){return s}});let n=new Map,i=new Map;async function o(e,{cacheKey:t,cacheTime:r=Number.POSITIVE_INFINITY}){let o=function(e){let t=(e,t)=>({clear:()=>t.delete(e),get:()=>t.get(e),set:r=>t.set(e,r)}),r=t(e,n),o=t(e,i);return{clear:()=>{r.clear(),o.clear()},promise:r,response:o}}(t),a=o.response.get();if(a&&r>0&&Date.now()-a.created.getTime()<r)return a.data;let s=o.promise.get();s||(s=e(),o.promise.set(s));try{let e=await s;return o.response.set({created:new Date,data:e}),e}finally{o.promise.clear()}}let a=e=>`blockNumber.${e}`;async function s(e,{cacheTime:t=e.cacheTime}={}){return BigInt(await o(()=>e.request({method:"eth_blockNumber"}),{cacheKey:a(e.uid),cacheTime:t}))}},12363:function(e,t,r){"use strict";r.d(t,{L:function(){return i}});var n=r(72932);async function i(e){let t=await e.request({method:"eth_chainId"},{dedupe:!0});return(0,n.ly)(t)}},56570:function(e,t,r){"use strict";r.d(t,{C:function(){return i}});var n=r(59455);async function i(e,{address:t,blockNumber:r,blockTag:i="latest"}){let o=void 0!==r?(0,n.eC)(r):void 0,a=await e.request({method:"eth_getCode",params:[t,o||i]},{dedupe:!!o});if("0x"!==a)return a}},25283:function(e,t,r){"use strict";async function n(e){return BigInt(await e.request({method:"eth_gasPrice"}))}r.d(t,{o:function(){return n}})},39277:function(e,t,r){"use strict";r.d(t,{f:function(){return a}});var n=r(63228),i=r(59455),o=r(27481);async function a(e,{blockHash:t,blockNumber:r,blockTag:a,hash:s,index:c,sender:l,nonce:u}){let d=a||"latest",f=void 0!==r?(0,i.eC)(r):void 0,h=null;if(s?h=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?h=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,(0,i.eC)(c)]},{dedupe:!0}):(f||d)&&"number"==typeof c?h=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[f||d,(0,i.eC)(c)]},{dedupe:!!f}):l&&"number"==typeof u&&(h=await e.request({method:"eth_getTransactionBySenderAndNonce",params:[l,(0,i.eC)(u)]},{dedupe:!0})),!h)throw new n.Bh({blockHash:t,blockNumber:r,blockTag:d,hash:s,index:c});return(e.chain?.formatters?.transaction?.format||o.Tr)(h,"getTransaction")}},16689:function(e,t,r){"use strict";r.d(t,{K:function(){return o}});var n=r(72932),i=r(59455);async function o(e,{address:t,blockTag:r="latest",blockNumber:o}){let a=await e.request({method:"eth_getTransactionCount",params:[t,"bigint"==typeof o?(0,i.eC)(o):r]},{dedupe:!!o});return(0,n.ly)(a)}},78526:function(e,t,r){"use strict";r.d(t,{a:function(){return o}});var n=r(63228),i=r(13550);async function o(e,{hash:t}){let r=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!r)throw new n.Yb({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||i.fA)(r,"getTransactionReceipt")}},28766:function(e,t,r){"use strict";r.d(t,{L:function(){return c}});var n=r(65436),i=r(17283),o=r(34180),a=r(82645),s=r(50550);async function c(e,t){let{abi:r,address:c,args:l,functionName:u,...d}=t,f=(0,i.R)({abi:r,args:l,functionName:u});try{let{data:t}=await (0,a.s)(e,s.R,"call")({...d,data:f,to:c});return(0,n.k)({abi:r,args:l,functionName:u,data:t||"0x"})}catch(e){throw(0,o.S)(e,{abi:r,address:c,args:l,docsPath:"/docs/contract/readContract",functionName:u})}}},21541:function(e,t,r){"use strict";r.d(t,{a:function(){return l}});var n=r(19775),i=r(65436),o=r(17283),a=r(34180),s=r(82645),c=r(50550);async function l(e,t){let{abi:r,address:l,args:u,dataSuffix:d,functionName:f,...h}=t,p=h.account?(0,n.T)(h.account):e.account,g=(0,o.R)({abi:r,args:u,functionName:f});try{let{data:n}=await (0,s.s)(e,c.R,"call")({batch:!1,data:`${g}${d?d.replace("0x",""):""}`,to:l,...h,account:p}),o=(0,i.k)({abi:r,args:u,functionName:f,data:n||"0x"}),a=r.filter(e=>"name"in e&&e.name===t.functionName);return{result:o,request:{abi:a,address:l,args:u,dataSuffix:d,functionName:f,...h,account:p}}}catch(e){throw(0,a.S)(e,{abi:r,address:l,args:u,docsPath:"/docs/contract/simulateContract",functionName:f,sender:p?.address})}}},67348:function(e,t,r){"use strict";r.d(t,{e:function(){return p}});var n=r(12197),i=r(63228),o=r(82645),a=r(36478),s=r(56921),c=r(49287),l=r(31853),u=r(74587),d=r(39277),f=r(78526),h=r(2228);async function p(e,t){let r,p,g,m,y;let{checkReplacement:b=!0,confirmations:w=1,hash:v,onReplaced:E,retryCount:x=6,retryDelay:A=({count:e})=>200*~~(1<<e),timeout:S=18e4}=t,_=(0,l.P)(["waitForTransactionReceipt",e.uid,v]),I=t.pollingInterval?t.pollingInterval:e.chain?.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval,C=!1,{promise:O,resolve:P,reject:T}=(0,s.n)(),k=S?setTimeout(()=>{y?.(),m?.(),T(new i.mc({hash:v}))},S):void 0;return m=(0,a.N7)(_,{onReplaced:E,resolve:P,reject:T},async t=>{if((g=await (0,o.s)(e,f.a,"getTransactionReceipt")({hash:v}).catch(()=>void 0))&&w<=1){clearTimeout(k),t.resolve(g),m?.();return}y=(0,o.s)(e,h.q,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:I,async onBlockNumber(a){let s=e=>{clearTimeout(k),y?.(),e(),m?.()},l=a;if(!C)try{if(g){if(w>1&&(!g.blockNumber||l-g.blockNumber+1n<w))return;s(()=>t.resolve(g));return}if(b&&!r&&(C=!0,await (0,c.J)(async()=>{(r=await (0,o.s)(e,d.f,"getTransaction")({hash:v})).blockNumber&&(l=r.blockNumber)},{delay:A,retryCount:x}),C=!1),g=await (0,o.s)(e,f.a,"getTransactionReceipt")({hash:v}),w>1&&(!g.blockNumber||l-g.blockNumber+1n<w))return;s(()=>t.resolve(g))}catch(a){if(a instanceof i.Bh||a instanceof i.Yb){if(!r){C=!1;return}try{p=r,C=!0;let i=await (0,c.J)(()=>(0,o.s)(e,u.Q,"getBlock")({blockNumber:l,includeTransactions:!0}),{delay:A,retryCount:x,shouldRetry:({error:e})=>e instanceof n.f});C=!1;let a=i.transactions.find(({from:e,nonce:t})=>e===p.from&&t===p.nonce);if(!a||(g=await (0,o.s)(e,f.a,"getTransactionReceipt")({hash:a.hash}),w>1&&(!g.blockNumber||l-g.blockNumber+1n<w)))return;let d="replaced";a.to===p.to&&a.value===p.value&&a.input===p.input?d="repriced":a.from===a.to&&0n===a.value&&(d="cancelled"),s(()=>{t.onReplaced?.({reason:d,replacedTransaction:p,transaction:a,transactionReceipt:g}),t.resolve(g)})}catch(e){s(()=>t.reject(e))}}else s(()=>t.reject(a))}}})}),O}},2228:function(e,t,r){"use strict";r.d(t,{q:function(){return l}});var n=r(72932),i=r(82645),o=r(36478),a=r(41495),s=r(31853),c=r(13708);function l(e,{emitOnBegin:t=!1,emitMissed:r=!1,onBlockNumber:l,onError:u,poll:d,pollingInterval:f=e.pollingInterval}){let h;return(void 0!==d?d:"webSocket"!==e.transport.type&&"ipc"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type&&"ipc"!==e.transport.transports[0].config.type))?(()=>{let n=(0,s.P)(["watchBlockNumber",e.uid,t,r,f]);return(0,o.N7)(n,{onBlockNumber:l,onError:u},n=>(0,a.$)(async()=>{try{let t=await (0,i.s)(e,c.z,"getBlockNumber")({cacheTime:0});if(void 0!==h){if(t===h)return;if(t-h>1&&r)for(let e=h+1n;e<t;e++)n.onBlockNumber(e,h),h=e}(void 0===h||t>h)&&(n.onBlockNumber(t,h),h=t)}catch(e){n.onError?.(e)}},{emitOnBegin:t,interval:f}))})():(()=>{let i=(0,s.P)(["watchBlockNumber",e.uid,t,r]);return(0,o.N7)(i,{onBlockNumber:l,onError:u},t=>{let r=!0,i=()=>r=!1;return(async()=>{try{let o=(()=>{if("fallback"===e.transport.type){let t=e.transport.transports.find(e=>"webSocket"===e.config.type||"ipc"===e.config.type);return t?t.value:e.transport}return e.transport})(),{unsubscribe:a}=await o.subscribe({params:["newHeads"],onData(e){if(!r)return;let i=(0,n.y_)(e.result?.number);t.onBlockNumber(i,h),h=i},onError(e){t.onError?.(e)}});i=a,r||i()}catch(e){u?.(e)}})(),()=>i()})})()}},89239:function(e,t,r){"use strict";r.d(t,{x:function(){return l}});var n=r(19775),i=r(65704),o=r(93637),a=r(82645),s=r(12363),c=r(16689);async function l(e,t){let{account:r=e.account,chainId:l,nonce:u}=t;if(!r)throw new i.o({docsPath:"/docs/eip7702/prepareAuthorization"});let d=(0,n.T)(r),f=(()=>{if(t.executor)return"self"===t.executor?t.executor:(0,n.T)(t.executor)})(),h={address:t.contractAddress??t.address,chainId:l,nonce:u};return void 0===h.chainId&&(h.chainId=e.chain?.id??await (0,a.s)(e,s.L,"getChainId")({})),void 0===h.nonce&&(h.nonce=await (0,a.s)(e,c.K,"getTransactionCount")({address:d.address,blockTag:"pending"}),("self"===f||f?.address&&(0,o.E)(f.address,d.address))&&(h.nonce+=1)),h}},15687:function(e,t,r){"use strict";r.d(t,{QZ:function(){return I},ZE:function(){return P}});var n=r(19775),i=r(6458),o=r(8741),a=r(74587),s=r(16689),c=r(4496),l=r(44659),u=r(59455);function d(e){let{kzg:t}=e,r=e.to??("string"==typeof e.blobs[0]?"hex":"bytes"),n="string"==typeof e.blobs[0]?e.blobs.map(e=>(0,l.nr)(e)):e.blobs,i=[];for(let e of n)i.push(Uint8Array.from(t.blobToKzgCommitment(e)));return"bytes"===r?i:i.map(e=>(0,u.ci)(e))}function f(e){let{kzg:t}=e,r=e.to??("string"==typeof e.blobs[0]?"hex":"bytes"),n="string"==typeof e.blobs[0]?e.blobs.map(e=>(0,l.nr)(e)):e.blobs,i="string"==typeof e.commitments[0]?e.commitments.map(e=>(0,l.nr)(e)):e.commitments,o=[];for(let e=0;e<n.length;e++){let r=n[e],a=i[e];o.push(Uint8Array.from(t.computeBlobKzgProof(r,a)))}return"bytes"===r?o:o.map(e=>(0,u.ci)(e))}let h=r(10058).JQ;var p=r(93610),g=r(81544);class m extends g.G{constructor({maxSize:e,size:t}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${t} bytes`],name:"BlobSizeTooLargeError"})}}class y extends g.G{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}var b=r(46033),w=r(20556),v=r(82645),E=r(82061),x=r(54605),A=r(63228),S=r(332),_=r(12363);let I=["blobVersionedHashes","chainId","fees","gas","nonce","type"],C=new Map,O=new E.k(128);async function P(e,t){let r,g,E=t;E.account??=e.account,E.parameters??=I;let{account:P,chain:T=e.chain,nonceManager:k,parameters:N}=E,M="function"==typeof T?.prepareTransactionRequest?{fn:T.prepareTransactionRequest,runAt:["beforeFillTransaction"]}:Array.isArray(T?.prepareTransactionRequest)?{fn:T.prepareTransactionRequest[0],runAt:T.prepareTransactionRequest[1].runAt}:void 0;async function R(){return r||(void 0!==E.chainId?E.chainId:T?T.id:r=await (0,v.s)(e,_.L,"getChainId")({}))}let D=P?(0,n.T)(P):P,L=E.nonce;if(N.includes("nonce")&&void 0===L&&D&&k){let t=await R();L=await k.consume({address:D.address,chainId:t,client:e})}M?.fn&&M.runAt?.includes("beforeFillTransaction")&&(E=await M.fn({...E,chain:T},{phase:"beforeFillTransaction"}),L??=E.nonce);let B=(!(N.includes("blobVersionedHashes")||N.includes("sidecars"))||!E.kzg||!E.blobs)&&!1!==O.get(e.uid)&&["fees","gas"].some(e=>N.includes(e))&&(N.includes("chainId")&&"number"!=typeof E.chainId||N.includes("nonce")&&"number"!=typeof L||N.includes("fees")&&"bigint"!=typeof E.gasPrice&&("bigint"!=typeof E.maxFeePerGas||"bigint"!=typeof E.maxPriorityFeePerGas)||N.includes("gas")&&"bigint"!=typeof E.gas)?await (0,v.s)(e,S.b,"fillTransaction")({...E,nonce:L}).then(t=>{let{chainId:r,from:n,gas:i,gasPrice:o,nonce:a,maxFeePerBlobGas:s,maxFeePerGas:c,maxPriorityFeePerGas:l,type:u,...d}=t.transaction;return O.set(e.uid,!0),{...E,...n?{from:n}:{},...u?{type:u}:{},...void 0!==r?{chainId:r}:{},...void 0!==i?{gas:i}:{},...void 0!==o?{gasPrice:o}:{},...void 0!==a?{nonce:a}:{},...void 0!==s?{maxFeePerBlobGas:s}:{},...void 0!==c?{maxFeePerGas:c}:{},...void 0!==l?{maxPriorityFeePerGas:l}:{},..."nonceKey"in d&&void 0!==d.nonceKey?{nonceKey:d.nonceKey}:{}}}).catch(t=>("TransactionExecutionError"!==t.name||t.walk?.(e=>"MethodNotFoundRpcError"===e.name||"MethodNotSupportedRpcError"===e.name)&&O.set(e.uid,!1),E)):E;L??=B.nonce;let{blobs:U,gas:j,kzg:$,type:F}=E={...B,...D?{from:D?.address}:{},...L?{nonce:L}:{}};async function z(){return g||(g=await (0,v.s)(e,a.Q,"getBlock")({blockTag:"latest"}))}if(M?.fn&&M.runAt?.includes("beforeFillParameters")&&(E=await M.fn({...E,chain:T},{phase:"beforeFillParameters"})),N.includes("nonce")&&void 0===L&&D&&!k&&(E.nonce=await (0,v.s)(e,s.K,"getTransactionCount")({address:D.address,blockTag:"pending"})),(N.includes("blobVersionedHashes")||N.includes("sidecars"))&&U&&$){let e=d({blobs:U,kzg:$});if(N.includes("blobVersionedHashes")){let t=function(e){let{commitments:t,version:r}=e,n=e.to??("string"==typeof t[0]?"hex":"bytes"),i=[];for(let e of t)i.push(function(e){let{commitment:t,version:r=1}=e,n=e.to??("string"==typeof t?"hex":"bytes"),i=function(e,t){let r=h((0,p.v)(e,{strict:!1})?(0,l.O0)(e):e);return"bytes"===(t||"hex")?r:(0,u.NC)(r)}(t,"bytes");return i.set([r],0),"bytes"===n?i:(0,u.ci)(i)}({commitment:e,to:n,version:r}));return i}({commitments:e,to:"hex"});E.blobVersionedHashes=t}if(N.includes("sidecars")){let t=f({blobs:U,commitments:e,kzg:$}),r=function(e){let{data:t,kzg:r,to:n}=e,i=e.blobs??function(e){let t=e.to??("string"==typeof e.data?"hex":"bytes"),r="string"==typeof e.data?(0,l.nr)(e.data):e.data,n=(0,w.d)(r);if(!n)throw new y;if(n>761855)throw new m({maxSize:761855,size:n});let i=[],o=!0,a=0;for(;o;){let e=(0,b.q)(new Uint8Array(131072)),t=0;for(;t<4096;){let n=r.slice(a,a+31);if(e.pushByte(0),e.pushBytes(n),n.length<31){e.pushByte(128),o=!1;break}t++,a+=31}i.push(e)}return"bytes"===t?i.map(e=>e.bytes):i.map(e=>(0,u.ci)(e.bytes))}({data:t,to:n}),o=e.commitments??d({blobs:i,kzg:r,to:n}),a=e.proofs??f({blobs:i,commitments:o,kzg:r,to:n}),s=[];for(let e=0;e<i.length;e++)s.push({blob:i[e],commitment:o[e],proof:a[e]});return s}({blobs:U,commitments:e,proofs:t,to:"hex"});E.sidecars=r}}if(N.includes("chainId")&&(E.chainId=await R()),(N.includes("fees")||N.includes("type"))&&void 0===F)try{E.type=function(e){if(e.type)return e.type;if(void 0!==e.authorizationList)return"eip7702";if(void 0!==e.blobs||void 0!==e.blobVersionedHashes||void 0!==e.maxFeePerBlobGas||void 0!==e.sidecars)return"eip4844";if(void 0!==e.maxFeePerGas||void 0!==e.maxPriorityFeePerGas)return"eip1559";if(void 0!==e.gasPrice)return void 0!==e.accessList?"eip2930":"legacy";throw new A.j3({transaction:e})}(E)}catch{let t=C.get(e.uid);if(void 0===t){let r=await z();t="bigint"==typeof r?.baseFeePerGas,C.set(e.uid,t)}E.type=t?"eip1559":"legacy"}if(N.includes("fees")){if("legacy"!==E.type&&"eip2930"!==E.type){if(void 0===E.maxFeePerGas||void 0===E.maxPriorityFeePerGas){let t=await z(),{maxFeePerGas:r,maxPriorityFeePerGas:n}=await (0,i.C)(e,{block:t,chain:T,request:E});if(void 0===E.maxPriorityFeePerGas&&E.maxFeePerGas&&E.maxFeePerGas<n)throw new c.ld({maxPriorityFeePerGas:n});E.maxPriorityFeePerGas=n,E.maxFeePerGas=r}}else{if(void 0!==E.maxFeePerGas||void 0!==E.maxPriorityFeePerGas)throw new c.e5;if(void 0===E.gasPrice){let t=await z(),{gasPrice:r}=await (0,i.C)(e,{block:t,chain:T,request:E,type:"legacy"});E.gasPrice=r}}}return N.includes("gas")&&void 0===j&&(E.gas=await (0,v.s)(e,o.Q,"estimateGas")({...E,account:D,prepare:D?.type==="local"?[]:["blobVersionedHashes"]})),M?.fn&&M.runAt?.includes("afterFillParameters")&&(E=await M.fn({...E,chain:T},{phase:"afterFillParameters"})),(0,x.F)(E),delete E.parameters,E}},9769:function(e,t,r){"use strict";async function n(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}r.d(t,{p:function(){return n}})},85631:function(e,t,r){"use strict";r.d(t,{s:function(){return a}});var n=r(63228),i=r(13550),o=r(59455);async function a(e,{serializedTransaction:t,throwOnReceiptRevert:r,timeout:a}){let s=await e.request({method:"eth_sendRawTransactionSync",params:a?[t,(0,o.eC)(a)]:[t]},{retryCount:0}),c=(e.chain?.formatters?.transactionReceipt?.format||i.fA)(s);if("reverted"===c.status&&r)throw new n.A3({receipt:c});return c}},41709:function(e,t,r){"use strict";r.d(t,{T:function(){return b}});var n=r(19775),i=r(65704),o=r(81544),a=r(55834),s=r(40402),c=r(93606),l=r(70878),u=r(92614),d=r(82645),f=r(82061),h=r(54605),p=r(12363),g=r(15687),m=r(9769);let y=new f.k(128);async function b(e,t){let{account:r=e.account,assertChainId:f=!0,chain:b=e.chain,accessList:w,authorizationList:v,blobs:E,data:x,gas:A,gasPrice:S,maxFeePerBlobGas:_,maxFeePerGas:I,maxPriorityFeePerGas:C,nonce:O,type:P,value:T,...k}=t;if(void 0===r)throw new i.o({docsPath:"/docs/actions/wallet/sendTransaction"});let N=r?(0,n.T)(r):null;try{(0,h.F)(t);let r=await (async()=>t.to?t.to:null!==t.to&&v&&v.length>0?await (0,a.z)({authorization:v[0]}).catch(()=>{throw new o.G("`to` is required. Could not infer from `authorizationList`.")}):void 0)();if(N?.type==="json-rpc"||null===N){let t;null!==b&&(t=await (0,d.s)(e,p.L,"getChainId")({}),f&&(0,s.q)({currentChainId:t,chain:b}));let n=e.chain?.formatters?.transactionRequest?.format,i=(n||u.tG)({...(0,l.K)(k,{format:n}),accessList:w,account:N,authorizationList:v,blobs:E,chainId:t,data:x,gas:A,gasPrice:S,maxFeePerBlobGas:_,maxFeePerGas:I,maxPriorityFeePerGas:C,nonce:O,to:r,type:P,value:T},"sendTransaction"),o=y.get(e.uid);try{return await e.request({method:o?"wallet_sendTransaction":"eth_sendTransaction",params:[i]},{retryCount:0})}catch(t){if(!1===o)throw t;if("InvalidInputRpcError"===t.name||"InvalidParamsRpcError"===t.name||"MethodNotFoundRpcError"===t.name||"MethodNotSupportedRpcError"===t.name)return await e.request({method:"wallet_sendTransaction",params:[i]},{retryCount:0}).then(t=>(y.set(e.uid,!0),t)).catch(r=>{if("MethodNotFoundRpcError"===r.name||"MethodNotSupportedRpcError"===r.name)throw y.set(e.uid,!1),t;throw r});throw t}}if(N?.type==="local"){let t=await (0,d.s)(e,g.ZE,"prepareTransactionRequest")({account:N,accessList:w,authorizationList:v,blobs:E,chain:b,data:x,gas:A,gasPrice:S,maxFeePerBlobGas:_,maxFeePerGas:I,maxPriorityFeePerGas:C,nonce:O,nonceManager:N.nonceManager,parameters:[...g.QZ,"sidecars"],type:P,value:T,...k,to:r}),n=b?.serializers?.transaction,i=await N.signTransaction(t,{serializer:n});return await (0,d.s)(e,m.p,"sendRawTransaction")({serializedTransaction:i})}if(N?.type==="smart")throw new i.Y({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"});throw new i.Y({docsPath:"/docs/actions/wallet/sendTransaction",type:N?.type})}catch(e){if(e instanceof i.Y)throw e;throw(0,c.$)(e,{...t,account:N,chain:t.chain||void 0})}}},70550:function(e,t,r){"use strict";r.d(t,{l:function(){return a}});var n=r(19775),i=r(65704),o=r(59455);async function a(e,{account:t=e.account,message:r}){if(!t)throw new i.o({docsPath:"/docs/actions/wallet/signMessage"});let a=(0,n.T)(t);if(a.signMessage)return a.signMessage({message:r});let s="string"==typeof r?(0,o.$G)(r):r.raw instanceof Uint8Array?(0,o.NC)(r.raw):r.raw;return e.request({method:"personal_sign",params:[s,a.address]},{retryCount:0})}},69133:function(e,t,r){"use strict";r.d(t,{x:function(){return a}});var n=r(19775),i=r(65704),o=r(99493);async function a(e,t){let{account:r=e.account,domain:a,message:s,primaryType:c}=t;if(!r)throw new i.o({docsPath:"/docs/actions/wallet/signTypedData"});let l=(0,n.T)(r),u={EIP712Domain:(0,o.cj)({domain:a}),...t.types};if((0,o.iC)({domain:a,message:s,primaryType:c,types:u}),l.signTypedData)return l.signTypedData({domain:a,message:s,primaryType:c,types:u});let d=(0,o.H6)({domain:a,message:s,primaryType:c,types:u});return e.request({method:"eth_signTypedData_v4",params:[l.address,d]},{retryCount:0})}},50825:function(e,t,r){"use strict";r.d(t,{n:function(){return l}});var n=r(19775),i=r(65704),o=r(17283),a=r(34180),s=r(82645),c=r(41709);async function l(e,t){return l.internal(e,c.T,"sendTransaction",t)}!function(e){async function t(e,t,r,c){let{abi:l,account:u=e.account,address:d,args:f,dataSuffix:h,functionName:p,...g}=c;if(void 0===u)throw new i.o({docsPath:"/docs/contract/writeContract"});let m=u?(0,n.T)(u):null,y=(0,o.R)({abi:l,args:f,functionName:p});try{return await (0,s.s)(e,t,r)({data:`${y}${h?h.replace("0x",""):""}`,to:d,account:m,...g})}catch(e){throw(0,a.S)(e,{abi:l,address:d,args:f,docsPath:"/docs/contract/writeContract",functionName:p,sender:m?.address})}}e.internal=t}(l||(l={}))},82538:function(e,t,r){"use strict";r.d(t,{e:function(){return o}});var n=r(19775),i=r(78217);function o(e){let{batch:t,chain:r,ccipRead:o,key:a="base",name:s="Base Client",type:c="base"}=e,l=e.experimental_blockTag??("number"==typeof r?.experimental_preconfirmationTime?"pending":void 0),u=r?.blockTime??12e3,d=e.pollingInterval??Math.min(Math.max(Math.floor(u/2),500),4e3),f=e.cacheTime??d,h=e.account?(0,n.T)(e.account):void 0,{config:p,request:g,value:m}=e.transport({account:h,chain:r,pollingInterval:d}),y={account:h,batch:t,cacheTime:f,ccipRead:o,chain:r,key:a,name:s,pollingInterval:d,request:g,transport:{...p,...m},type:c,uid:(0,i.h)(),...l?{experimental_blockTag:l}:{}};return Object.assign(y,{extend:function e(t){return r=>{let n=r(t);for(let e in y)delete n[e];let i={...t,...n};return Object.assign(i,{extend:e(i)})}}(y)})}},51678:function(e,t,r){"use strict";r.d(t,{K:function(){return ed}});var n=r(82538),i=r(332),o=r(12363),a=r(59455);async function s(e,{chain:t}){let{id:r,name:n,nativeCurrency:i,rpcUrls:o,blockExplorers:s}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:(0,a.eC)(r),chainName:n,nativeCurrency:i,rpcUrls:o.default.http,blockExplorerUrls:s?Object.values(s).map(({url:e})=>e):void 0}]},{dedupe:!0,retryCount:0})}var c=r(23010),l=r(41709),u=r(31669);async function d(e){return e.account?.type==="local"?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map(e=>(0,u.x)(e))}var f=r(69921),h=r(36826),p=r(72932),g=r(13550),m=r(19775),y=r(81544),b=r(77014),w=r(17283),v=r(89256),E=r(93606);let x="0x5792579257925792579257925792579257925792579257925792579257925792",A=(0,a.eC)(0,{size:32});async function S(e,t){let{account:r=e.account,capabilities:n,chain:i=e.chain,experimental_fallback:o,experimental_fallbackDelay:s=32,forceAtomic:c=!1,id:u,version:d="2.0.0"}=t,f=r?(0,m.T)(r):null,h=t.calls.map(e=>{let t=e.abi?(0,w.R)({abi:e.abi,functionName:e.functionName,args:e.args}):e.data;return{data:e.dataSuffix&&t?(0,v.zo)([t,e.dataSuffix]):t,to:e.to,value:e.value?(0,a.eC)(e.value):void 0}});try{let t=await e.request({method:"wallet_sendCalls",params:[{atomicRequired:c,calls:h,capabilities:n,chainId:(0,a.eC)(i.id),from:f?.address,id:u,version:d}]},{retryCount:0});if("string"==typeof t)return{id:t};return t}catch(r){if(o&&("MethodNotFoundRpcError"===r.name||"MethodNotSupportedRpcError"===r.name||"UnknownRpcError"===r.name||r.details.toLowerCase().includes("does not exist / is not available")||r.details.toLowerCase().includes("missing or invalid. request()")||r.details.toLowerCase().includes("did not match any variant of untagged enum")||r.details.toLowerCase().includes("account upgraded to unsupported contract")||r.details.toLowerCase().includes("eip-7702 not supported")||r.details.toLowerCase().includes("unsupported wc_ method")||r.details.toLowerCase().includes("feature toggled misconfigured")||r.details.toLowerCase().includes("jsonrpcengine: response has no error or result for request"))){if(n&&Object.values(n).some(e=>!e.optional)){let e="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new b.vl(new y.G(e,{details:e}))}if(c&&h.length>1){let e="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new b.r0(new y.G(e,{details:e}))}let t=[];for(let r of h){let n=(0,l.T)(e,{account:f,chain:i,data:r.data,to:r.to,value:r.value?(0,p.y_)(r.value):void 0});t.push(n),s>0&&await new Promise(e=>setTimeout(e,s))}let r=await Promise.allSettled(t);if(r.every(e=>"rejected"===e.status))throw r[0].reason;let o=r.map(e=>"fulfilled"===e.status?e.value:A);return{id:(0,v.zo)([...o,(0,a.eC)(i.id,{size:32}),x])}}throw(0,E.$)(r,{...t,account:f,chain:t.chain})}}async function _(e,t){async function r(t){if(t.endsWith(x.slice(2))){let r=(0,h.f)((0,f.p5)(t,-64,-32)),n=(0,f.p5)(t,0,-64).slice(2).match(/.{1,64}/g),i=await Promise.all(n.map(t=>A.slice(2)!==t?e.request({method:"eth_getTransactionReceipt",params:[`0x${t}`]},{dedupe:!0}):void 0)),o=i.some(e=>null===e)?100:i.every(e=>e?.status==="0x1")?200:i.every(e=>e?.status==="0x0")?500:600;return{atomic:!1,chainId:(0,p.ly)(r),receipts:i.filter(Boolean),status:o,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[t]})}let{atomic:n=!1,chainId:i,receipts:o,version:a="2.0.0",...s}=await r(t.id),[c,l]=(()=>{let e=s.status;return e>=100&&e<200?["pending",e]:e>=200&&e<300?["success",e]:e>=300&&e<700?["failure",e]:"CONFIRMED"===e?["success",200]:"PENDING"===e?["pending",100]:[void 0,e]})();return{...s,atomic:n,chainId:i?(0,p.ly)(i):void 0,receipts:o?.map(e=>({...e,blockNumber:p.y_(e.blockNumber),gasUsed:p.y_(e.gasUsed),status:g.ew[e.status]}))??[],statusCode:l,status:c,version:a}}async function I(e,t={}){let{account:r=e.account,chainId:n}=t,i=r?(0,m.T)(r):void 0,o=n?[i?.address,[(0,a.eC)(n)]]:[i?.address],s=await e.request({method:"wallet_getCapabilities",params:o}),c={};for(let[e,t]of Object.entries(s))for(let[r,n]of(c[Number(e)]={},Object.entries(t)))"addSubAccount"===r&&(r="unstable_addSubAccount"),c[Number(e)][r]=n;return"number"==typeof n?c[n]:c}async function C(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}var O=r(89239),P=r(15687);async function T(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(e=>(0,u.K)(e))}async function k(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}class N extends y.G{constructor(e){super(`Call bundle failed with status: ${e.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=e}}var M=r(82645),R=r(36478),D=r(41495),L=r(56921),B=r(49287),U=r(31853);async function j(e,t){let r;let{id:n,pollingInterval:i=e.pollingInterval,status:o=({statusCode:e})=>200===e||e>=300,retryCount:a=4,retryDelay:s=({count:e})=>200*~~(1<<e),timeout:c=6e4,throwOnFailure:l=!1}=t,u=(0,U.P)(["waitForCallsStatus",e.uid,n]),{promise:d,resolve:f,reject:h}=(0,L.n)(),p=(0,R.N7)(u,{resolve:f,reject:h},t=>{let c=(0,D.$)(async()=>{let i=e=>{clearTimeout(r),c(),e(),p()};try{let r=await (0,B.J)(async()=>{let t=await (0,M.s)(e,_,"getCallsStatus")({id:n});if(l&&"failure"===t.status)throw new N(t);return t},{retryCount:a,delay:s});if(!o(r))return;i(()=>t.resolve(r))}catch(e){i(()=>t.reject(e))}},{interval:i,emitOnBegin:!0});return c});return r=c?setTimeout(()=>{p(),clearTimeout(r),h(new $({id:n}))},c):void 0,await d}class $ extends y.G{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}async function F(e,t){let{chain:r=e.chain}=t,n=t.timeout??Math.max((r?.blockTime??0)*3,5e3),i=await S(e,t);return await j(e,{...t,id:i.id,timeout:n})}var z=r(9769),q=r(85631),G=r(65704),H=r(63228),V=r(55834),W=r(40402),Z=r(70878),K=r(92614),Y=r(82061),J=r(54605),X=r(67348);let Q=new Y.k(128);async function ee(e,t){let{account:r=e.account,assertChainId:n=!0,chain:i=e.chain,accessList:a,authorizationList:s,blobs:c,data:l,gas:u,gasPrice:d,maxFeePerBlobGas:f,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:g,pollingInterval:b,throwOnReceiptRevert:w,type:v,value:x,...A}=t,S=t.timeout??Math.max((i?.blockTime??0)*3,5e3);if(void 0===r)throw new G.o({docsPath:"/docs/actions/wallet/sendTransactionSync"});let _=r?(0,m.T)(r):null;try{(0,J.F)(t);let r=await (async()=>t.to?t.to:null!==t.to&&s&&s.length>0?await (0,V.z)({authorization:s[0]}).catch(()=>{throw new y.G("`to` is required. Could not infer from `authorizationList`.")}):void 0)();if(_?.type==="json-rpc"||null===_){let t;null!==i&&(t=await (0,M.s)(e,o.L,"getChainId")({}),n&&(0,W.q)({currentChainId:t,chain:i}));let m=e.chain?.formatters?.transactionRequest?.format,y=(m||K.tG)({...(0,Z.K)(A,{format:m}),accessList:a,account:_,authorizationList:s,blobs:c,chainId:t,data:l,gas:u,gasPrice:d,maxFeePerBlobGas:f,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:g,to:r,type:v,value:x},"sendTransaction"),E=Q.get(e.uid),I=E?"wallet_sendTransaction":"eth_sendTransaction",C=await (async()=>{try{return await e.request({method:I,params:[y]},{retryCount:0})}catch(t){if(!1===E)throw t;if("InvalidInputRpcError"===t.name||"InvalidParamsRpcError"===t.name||"MethodNotFoundRpcError"===t.name||"MethodNotSupportedRpcError"===t.name)return await e.request({method:"wallet_sendTransaction",params:[y]},{retryCount:0}).then(t=>(Q.set(e.uid,!0),t)).catch(r=>{if("MethodNotFoundRpcError"===r.name||"MethodNotSupportedRpcError"===r.name)throw Q.set(e.uid,!1),t;throw r});throw t}})(),O=await (0,M.s)(e,X.e,"waitForTransactionReceipt")({checkReplacement:!1,hash:C,pollingInterval:b,timeout:S});if(w&&"reverted"===O.status)throw new H.A3({receipt:O});return O}if(_?.type==="local"){let n=await (0,M.s)(e,P.ZE,"prepareTransactionRequest")({account:_,accessList:a,authorizationList:s,blobs:c,chain:i,data:l,gas:u,gasPrice:d,maxFeePerBlobGas:f,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:g,nonceManager:_.nonceManager,parameters:[...P.QZ,"sidecars"],type:v,value:x,...A,to:r}),o=i?.serializers?.transaction,m=await _.signTransaction(n,{serializer:o});return await (0,M.s)(e,q.s,"sendRawTransactionSync")({serializedTransaction:m,throwOnReceiptRevert:w,timeout:t.timeout})}if(_?.type==="smart")throw new G.Y({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"});throw new G.Y({docsPath:"/docs/actions/wallet/sendTransactionSync",type:_?.type})}catch(e){if(e instanceof G.Y)throw e;throw(0,E.$)(e,{...t,account:_,chain:t.chain||void 0})}}async function et(e,t){let{id:r}=t;await e.request({method:"wallet_showCallsStatus",params:[r]})}async function er(e,t){let{account:r=e.account}=t;if(!r)throw new G.o({docsPath:"/docs/eip7702/signAuthorization"});let n=(0,m.T)(r);if(!n.signAuthorization)throw new G.Y({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:n.type});let i=await (0,O.x)(e,t);return n.signAuthorization(i)}var en=r(70550);async function ei(e,t){let{account:r=e.account,chain:n=e.chain,...i}=t;if(!r)throw new G.o({docsPath:"/docs/actions/wallet/signTransaction"});let s=(0,m.T)(r);(0,J.F)({account:s,...t});let c=await (0,M.s)(e,o.L,"getChainId")({});null!==n&&(0,W.q)({currentChainId:c,chain:n});let l=n?.formatters||e.chain?.formatters,u=l?.transactionRequest?.format||K.tG;return s.signTransaction?s.signTransaction({...i,chainId:c},{serializer:e.chain?.serializers?.transaction}):await e.request({method:"eth_signTransaction",params:[{...u({...i,account:s},"signTransaction"),chainId:(0,a.eC)(c),from:s.address}]},{retryCount:0})}var eo=r(69133);async function ea(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,a.eC)(t)}]},{retryCount:0})}async function es(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}var ec=r(50825);async function el(e,t){return ec.n.internal(e,ee,"sendTransactionSync",t)}function eu(e){return{addChain:t=>s(e,t),deployContract:t=>(function(e,t){let{abi:r,args:n,bytecode:i,...o}=t,a=(0,c.w)({abi:r,args:n,bytecode:i});return(0,l.T)(e,{...o,...o.authorizationList?{to:null}:{},data:a})})(e,t),fillTransaction:t=>(0,i.b)(e,t),getAddresses:()=>d(e),getCallsStatus:t=>_(e,t),getCapabilities:t=>I(e,t),getChainId:()=>(0,o.L)(e),getPermissions:()=>C(e),prepareAuthorization:t=>(0,O.x)(e,t),prepareTransactionRequest:t=>(0,P.ZE)(e,t),requestAddresses:()=>T(e),requestPermissions:t=>k(e,t),sendCalls:t=>S(e,t),sendCallsSync:t=>F(e,t),sendRawTransaction:t=>(0,z.p)(e,t),sendRawTransactionSync:t=>(0,q.s)(e,t),sendTransaction:t=>(0,l.T)(e,t),sendTransactionSync:t=>ee(e,t),showCallsStatus:t=>et(e,t),signAuthorization:t=>er(e,t),signMessage:t=>(0,en.l)(e,t),signTransaction:t=>ei(e,t),signTypedData:t=>(0,eo.x)(e,t),switchChain:t=>ea(e,t),waitForCallsStatus:t=>j(e,t),watchAsset:t=>es(e,t),writeContract:t=>(0,ec.n)(e,t),writeContractSync:t=>el(e,t)}}function ed(e){let{key:t="wallet",name:r="Wallet Client",transport:i}=e;return(0,n.e)({...e,key:t,name:r,transport:i,type:"walletClient"}).extend(eu)}},24250:function(e,t,r){"use strict";r.d(t,{q:function(){return d}});var n=r(81544),i=r(17057),o=r(77014),a=r(59455);let s=new(r(82061)).k(8192);var c=r(49287),l=r(31853),u=r(78217);function d({key:e,methods:t,name:r,request:d,retryCount:f=3,retryDelay:h=150,timeout:p,type:g},m){return{config:{key:e,methods:t,name:r,request:d,retryCount:f,retryDelay:h,timeout:p,type:g},request:function(e,t={}){return async(r,u={})=>{let{dedupe:d=!1,methods:f,retryDelay:h=150,retryCount:p=3,uid:g}={...t,...u},{method:m}=r;if(f?.exclude?.includes(m)||f?.include&&!f.include.includes(m))throw new o.gS(Error("method not supported"),{method:m});let y=d?(0,a.$G)(`${g}.${(0,l.P)(r)}`):void 0;return function(e,{enabled:t=!0,id:r}){if(!t||!r)return e();if(s.get(r))return s.get(r);let n=e().finally(()=>s.delete(r));return s.set(r,n),n}(()=>(0,c.J)(async()=>{try{return await e(r)}catch(e){switch(e.code){case o.s7.code:throw new o.s7(e);case o.B.code:throw new o.B(e);case o.LX.code:throw new o.LX(e,{method:r.method});case o.nY.code:throw new o.nY(e);case o.XS.code:throw new o.XS(e);case o.yR.code:throw new o.yR(e);case o.Og.code:throw new o.Og(e);case o.pT.code:throw new o.pT(e);case o.KB.code:throw new o.KB(e);case o.gS.code:throw new o.gS(e,{method:r.method});case o.Pv.code:throw new o.Pv(e);case o.GD.code:throw new o.GD(e);case o.ab.code:throw new o.ab(e);case o.PE.code:throw new o.PE(e);case o.Ts.code:throw new o.Ts(e);case o.u5.code:throw new o.u5(e);case o.I0.code:throw new o.I0(e);case o.x3.code:throw new o.x3(e);case o.vl.code:throw new o.vl(e);case o.Uu.code:throw new o.Uu(e);case o.Nt.code:throw new o.Nt(e);case o.EJ.code:throw new o.EJ(e);case o.fl.code:throw new o.fl(e);case o.NO.code:throw new o.NO(e);case o.r0.code:throw new o.r0(e);case 5e3:throw new o.ab(e);default:if(e instanceof n.G)throw e;throw new o.ir(e)}}},{delay:({count:e,error:t})=>{if(t&&t instanceof i.Gg){let e=t?.headers?.get("Retry-After");if(e?.match(/\d/))return 1e3*Number.parseInt(e,10)}return~~(1<<e)*h},retryCount:p,shouldRetry:({error:e})=>"code"in e&&"number"==typeof e.code?-1===e.code||e.code===o.Pv.code||e.code===o.XS.code:!(e instanceof i.Gg)||!e.status||403===e.status||408===e.status||413===e.status||429===e.status||500===e.status||502===e.status||503===e.status||504===e.status}),{enabled:d,id:y})}}(d,{methods:t,retryCount:f,retryDelay:h,uid:(0,u.h)()}),value:m}}},93715:function(e,t,r){"use strict";r.d(t,{P:function(){return i}});var n=r(24250);function i(e,t={}){let{key:r="custom",methods:i,name:o="Custom Provider",retryDelay:a}=t;return({retryCount:s})=>(0,n.q)({key:r,methods:i,name:o,request:e.request.bind(e),retryCount:t.retryCount??s,retryDelay:a,type:"custom"})}},98158:function(e,t,r){"use strict";r.d(t,{F8:function(){return n},MR:function(){return d},X$:function(){return l},Yi:function(){return i},_A:function(){return u},du:function(){return s},k3:function(){return a},nZ:function(){return c}});let n=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],i=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],o=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],a=[...o,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],s=[...o,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],c=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],l=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],u=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],d=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}]},74409:function(e,t,r){"use strict";r.d(t,{D:function(){return i},j:function(){return n}});let n="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",i="0x0000000000000000000000000000000000000000"},45434:function(e,t,r){"use strict";r.d(t,{NO:function(){return n},de:function(){return o},pG:function(){return i},xd:function(){return a}});let n="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",i="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",o="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",a="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033"},75018:function(e,t,r){"use strict";r.d(t,{rU:function(){return n},zL:function(){return i}});let n=2n**16n-1n,i=2n**256n-1n},55246:function(e,t,r){"use strict";r.d(t,{$:function(){return n},Up:function(){return i},hZ:function(){return o}});let n={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},i={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},o={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"}},98173:function(e,t,r){"use strict";r.d(t,{Zn:function(){return i},ez:function(){return n}});let n={gwei:9,wei:18},i={ether:-9,wei:9}},65531:function(e,t,r){"use strict";r.d(t,{CI:function(){return C},FM:function(){return m},Gy:function(){return _},KY:function(){return A},M4:function(){return d},MS:function(){return p},MX:function(){return v},Mi:function(){return T},S4:function(){return x},SM:function(){return S},Zh:function(){return h},cO:function(){return s},dh:function(){return I},eF:function(){return E},fM:function(){return a},fs:function(){return f},gr:function(){return u},hn:function(){return O},lC:function(){return y},mv:function(){return b},wM:function(){return P},wb:function(){return l},xB:function(){return c},xL:function(){return w},yP:function(){return g}});var n=r(7275),i=r(20556),o=r(81544);class a extends o.G{constructor({docsPath:e}){super("A constructor was not found on the ABI.\nMake sure you are using the correct ABI and that the constructor exists on it.",{docsPath:e,name:"AbiConstructorNotFoundError"})}}class s extends o.G{constructor({docsPath:e}){super("Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.\nMake sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists.",{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class c extends o.G{constructor({data:e,params:t,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${(0,n.h)(t,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=t,this.size=r}}class l extends o.G{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class u extends o.G{constructor({expectedLength:e,givenLength:t,type:r}){super(`ABI encoding array length mismatch for type ${r}.
Expected length: ${e}
Given length: ${t}`,{name:"AbiEncodingArrayLengthMismatchError"})}}class d extends o.G{constructor({expectedSize:e,value:t}){super(`Size of bytes "${t}" (bytes${(0,i.d)(t)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class f extends o.G{constructor({expectedLength:e,givenLength:t}){super(`ABI encoding params/values length mismatch.
Expected length (params): ${e}
Given length (values): ${t}`,{name:"AbiEncodingLengthMismatchError"})}}class h extends o.G{constructor(e,{docsPath:t}){super(`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).
Cannot encode error result without knowing what the parameter types are.
Make sure you are using the correct ABI and that the inputs exist on it.`,{docsPath:t,name:"AbiErrorInputsNotFoundError"})}}class p extends o.G{constructor(e,{docsPath:t}={}){super(`Error ${e?`"${e}" `:""}not found on ABI.
Make sure you are using the correct ABI and that the error exists on it.`,{docsPath:t,name:"AbiErrorNotFoundError"})}}class g extends o.G{constructor(e,{docsPath:t}){super(`Encoded error signature "${e}" not found on ABI.
Make sure you are using the correct ABI and that the error exists on it.
You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`,{docsPath:t,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class m extends o.G{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class y extends o.G{constructor(e,{docsPath:t}){super(`Encoded event signature "${e}" not found on ABI.
Make sure you are using the correct ABI and that the event exists on it.
You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`,{docsPath:t,name:"AbiEventSignatureNotFoundError"})}}class b extends o.G{constructor(e,{docsPath:t}={}){super(`Event ${e?`"${e}" `:""}not found on ABI.
Make sure you are using the correct ABI and that the event exists on it.`,{docsPath:t,name:"AbiEventNotFoundError"})}}class w extends o.G{constructor(e,{docsPath:t}={}){super(`Function ${e?`"${e}" `:""}not found on ABI.
Make sure you are using the correct ABI and that the function exists on it.`,{docsPath:t,name:"AbiFunctionNotFoundError"})}}class v extends o.G{constructor(e,{docsPath:t}){super(`Function "${e}" does not contain any \`outputs\` on ABI.
Cannot decode function result without knowing what the parameter types are.
Make sure you are using the correct ABI and that the function exists on it.`,{docsPath:t,name:"AbiFunctionOutputsNotFoundError"})}}class E extends o.G{constructor(e,{docsPath:t}){super(`Encoded function signature "${e}" not found on ABI.
Make sure you are using the correct ABI and that the function exists on it.
You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`,{docsPath:t,name:"AbiFunctionSignatureNotFoundError"})}}class x extends o.G{constructor(e,t){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${(0,n.t)(e.abiItem)}\`, and`,`\`${t.type}\` in \`${(0,n.t)(t.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class A extends o.G{constructor({expectedSize:e,givenSize:t}){super(`Expected bytes${e}, got bytes${t}.`,{name:"BytesSizeMismatchError"})}}class S extends o.G{constructor({abiItem:e,data:t,params:r,size:i}){super(`Data size of ${i} bytes is too small for non-indexed event parameters.`,{metaMessages:[`Params: (${(0,n.h)(r,{includeName:!0})})`,`Data:   ${t} (${i} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=t,this.params=r,this.size=i}}class _ extends o.G{constructor({abiItem:e,param:t}){super(`Expected a topic for indexed event parameter${t.name?` "${t.name}"`:""} on event "${(0,n.t)(e,{includeName:!0})}".`,{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class I extends o.G{constructor(e,{docsPath:t}){super(`Type "${e}" is not a valid encoding type.
Please provide a valid ABI type.`,{docsPath:t,name:"InvalidAbiEncodingType"})}}class C extends o.G{constructor(e,{docsPath:t}){super(`Type "${e}" is not a valid decoding type.
Please provide a valid ABI type.`,{docsPath:t,name:"InvalidAbiDecodingType"})}}class O extends o.G{constructor(e){super(`Value "${e}" is not a valid array.`,{name:"InvalidArrayError"})}}class P extends o.G{constructor(e){super(`"${e}" is not a valid definition type.
Valid types: "function", "event", "error"`,{name:"InvalidDefinitionTypeError"})}}class T extends o.G{constructor(e){super(`Type "${e}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}},65704:function(e,t,r){"use strict";r.d(t,{Y:function(){return o},o:function(){return i}});var n=r(81544);class i extends n.G{constructor({docsPath:e}={}){super("Could not find an Account to execute with this Action.\nPlease provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client.",{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class o extends n.G{constructor({docsPath:e,metaMessages:t,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:e,metaMessages:t,name:"AccountTypeNotSupportedError"})}}},10052:function(e,t,r){"use strict";r.d(t,{b:function(){return i}});var n=r(81544);class i extends n.G{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}},81544:function(e,t,r){"use strict";r.d(t,{G:function(){return o}});let n="2.44.4",i={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:r})=>t?`${e??"https://viem.sh"}${t}${r?`#${r}`:""}`:void 0,version:`viem@${n}`};class o extends Error{constructor(e,t={}){let r=t.cause instanceof o?t.cause.details:t.cause?.message?t.cause.message:t.details,a=t.cause instanceof o&&t.cause.docsPath||t.docsPath,s=i.getDocsUrl?.({...t,docsPath:a});super([e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...r?[`Details: ${r}`]:[],...i.version?[`Version: ${i.version}`]:[]].join("\n"),t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=a,this.metaMessages=t.metaMessages,this.name=t.name??this.name,this.shortMessage=e,this.version=n}walk(e){return function e(t,r){return r?.(t)?t:t&&"object"==typeof t&&"cause"in t&&void 0!==t.cause?e(t.cause,r):r?null:t}(this,e)}}},12197:function(e,t,r){"use strict";r.d(t,{f:function(){return i}});var n=r(81544);class i extends n.G{constructor({blockHash:e,blockNumber:t}){let r="Block";e&&(r=`Block at hash "${e}"`),t&&(r=`Block at number "${t}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}},35586:function(e,t,r){"use strict";r.d(t,{Bk:function(){return a},Yl:function(){return o},mm:function(){return i},pZ:function(){return s}});var n=r(81544);class i extends n.G{constructor({blockNumber:e,chain:t,contract:r}){super(`Chain "${t.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class o extends n.G{constructor({chain:e,currentChainId:t}){super(`The current chain of the wallet (id: ${t}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${t}`,`Expected Chain ID: ${e.id}  ${e.name}`],name:"ChainMismatchError"})}}class a extends n.G{constructor(){super("No chain was provided to the request.\nPlease provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient.",{name:"ChainNotFoundError"})}}class s extends n.G{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}},20010:function(e,t,r){"use strict";r.d(t,{cg:function(){return y},uq:function(){return b},Lu:function(){return w},Dk:function(){return v},Mo:function(){return E},VQ:function(){return x}});var n=r(19775),i=r(55246),o=r(33591),a=r(7275),s=r(31853);function c({abiItem:e,args:t,includeFunctionName:r=!0,includeName:n=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${r?e.name:""}(${e.inputs.map((e,r)=>`${n&&e.name?`${e.name}: `:""}${"object"==typeof t[r]?(0,s.P)(t[r]):t[r]}`).join(", ")})`}var l=r(64043),u=r(71282),d=r(29707),f=r(65531),h=r(81544),p=r(29625),g=r(63228),m=r(97564);class y extends h.G{constructor(e,{account:t,docsPath:r,chain:i,data:o,gas:a,gasPrice:s,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:f,to:h,value:m,stateOverride:y}){let b=t?(0,n.T)(t):void 0,w=(0,g.xr)({from:b?.address,to:h,value:void 0!==m&&`${(0,u.d)(m)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:a,gasPrice:void 0!==s&&`${(0,d.o)(s)} gwei`,maxFeePerGas:void 0!==c&&`${(0,d.o)(c)} gwei`,maxPriorityFeePerGas:void 0!==l&&`${(0,d.o)(l)} gwei`,nonce:f});y&&(w+=`
${(0,p.Bj)(y)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",w].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class b extends h.G{constructor(e,{abi:t,args:r,contractAddress:n,docsPath:i,functionName:o,sender:s}){let u=(0,l.mE)({abi:t,args:r,name:o}),d=u?c({abiItem:u,args:r,includeFunctionName:!1,includeName:!1}):void 0,f=u?(0,a.t)(u,{includeName:!0}):void 0,h=(0,g.xr)({address:n&&(0,m.C)(n),function:f,args:d&&"()"!==d&&`${[...Array(o?.length??0).keys()].map(()=>" ").join("")}${d}`,sender:s});super(e.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],h&&"Contract Call:",h].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=t,this.args=r,this.cause=e,this.contractAddress=n,this.functionName=o,this.sender=s}}class w extends h.G{constructor({abi:e,data:t,functionName:r,message:n}){let s,l,u,d,h;if(t&&"0x"!==t)try{let{abiItem:r,errorName:n,args:s}=l=(0,o.p)({abi:e,data:t});if("Error"===n)d=s[0];else if("Panic"===n){let[e]=s;d=i.$[e]}else{let e=r?(0,a.t)(r,{includeName:!0}):void 0,t=r&&s?c({abiItem:r,args:s,includeFunctionName:!1,includeName:!1}):void 0;u=[e?`Error: ${e}`:"",t&&"()"!==t?`       ${[...Array(n?.length??0).keys()].map(()=>" ").join("")}${t}`:""]}}catch(e){s=e}else n&&(d=n);s instanceof f.yP&&(h=s.signature,u=[`Unable to decode signature "${h}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${h}.`]),super(d&&"execution reverted"!==d||h?[`The contract function "${r}" reverted with the following ${h?"signature":"reason"}:`,d||h].join("\n"):`The contract function "${r}" reverted.`,{cause:s,metaMessages:u,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=l,this.raw=t,this.reason=d,this.signature=h}}class v extends h.G{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class E extends h.G{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class x extends h.G{constructor({data:e,message:t}){super(t||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}},33630:function(e,t,r){"use strict";r.d(t,{KD:function(){return a},T_:function(){return i},lQ:function(){return o}});var n=r(81544);class i extends n.G{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class o extends n.G{constructor({length:e,position:t}){super(`Position \`${t}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class a extends n.G{constructor({count:e,limit:t}){super(`Recursive read limit of \`${t}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}},47116:function(e,t,r){"use strict";r.d(t,{$s:function(){return o},W_:function(){return a},mV:function(){return i}});var n=r(81544);class i extends n.G{constructor({offset:e,position:t,size:r}){super(`Slice ${"start"===t?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}}class o extends n.G{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${t}).`,{name:"SizeExceedsPaddingSizeError"})}}class a extends n.G{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${t} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}},63152:function(e,t,r){"use strict";r.d(t,{Cd:function(){return a},J5:function(){return i},M6:function(){return s},yr:function(){return o}});var n=r(81544);class i extends n.G{constructor({max:e,min:t,signed:r,size:n,value:i}){super(`Number "${i}" is not in safe ${n?`${8*n}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${t} to ${e})`:`(above ${t})`}`,{name:"IntegerOutOfRangeError"})}}class o extends n.G{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class a extends n.G{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}class s extends n.G{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed ${t} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}},4496:function(e,t,r){"use strict";r.d(t,{Fz:function(){return o},e5:function(){return a},ld:function(){return s}});var n=r(29707),i=r(81544);class o extends i.G{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class a extends i.G{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class s extends i.G{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${(0,n.o)(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}},78125:function(e,t,r){"use strict";r.d(t,{C_:function(){return d},G$:function(){return s},Hh:function(){return a},M_:function(){return o},WF:function(){return f},ZI:function(){return c},cj:function(){return m},cs:function(){return g},dR:function(){return h},pZ:function(){return p},se:function(){return u},vU:function(){return l}});var n=r(29707),i=r(81544);class o extends i.G{constructor({cause:e,message:t}={}){let r=t?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(o,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(o,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted|gas required exceeds allowance/});class a extends i.G{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${(0,n.o)(t)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(a,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class s extends i.G{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${(0,n.o)(t)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(s,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class c extends i.G{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(c,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class l extends i.G{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}is lower than the current nonce of the account.
Try increasing the nonce or find the latest nonce with \`getTransactionCount\`.`,{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(l,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class u extends i.G{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(u,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class d extends i.G{constructor({cause:e}={}){super("The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account.",{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(d,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class f extends i.G{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(f,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class h extends i.G{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(h,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class p extends i.G{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(p,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class g extends i.G{constructor({cause:e,maxPriorityFeePerGas:t,maxFeePerGas:r}={}){super(`The provided tip (\`maxPriorityFeePerGas\`${t?` = ${(0,n.o)(t)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${(0,n.o)(r)} gwei`:""}).`,{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(g,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class m extends i.G{constructor({cause:e}){super(`An error occurred while executing: ${e?.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}},17057:function(e,t,r){"use strict";r.d(t,{Gg:function(){return a},W5:function(){return c},bs:function(){return s}});var n=r(31853),i=r(81544),o=r(97564);class a extends i.G{constructor({body:e,cause:t,details:r,headers:i,status:a,url:s}){super("HTTP request failed.",{cause:t,details:r,metaMessages:[a&&`Status: ${a}`,`URL: ${(0,o.G)(s)}`,e&&`Request body: ${(0,n.P)(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=a,this.url=s}}class s extends i.G{constructor({body:e,error:t,url:r}){super("RPC Request failed.",{cause:t,details:t.message,metaMessages:[`URL: ${(0,o.G)(r)}`,`Request body: ${(0,n.P)(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t.code,this.data=t.data,this.url=r}}class c extends i.G{constructor({body:e,url:t}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${(0,o.G)(t)}`,`Request body: ${(0,n.P)(e)}`],name:"TimeoutError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=t}}},77014:function(e,t,r){"use strict";r.d(t,{B:function(){return c},EJ:function(){return O},GD:function(){return b},I0:function(){return A},KB:function(){return g},LX:function(){return l},NO:function(){return T},Nt:function(){return C},Og:function(){return h},PE:function(){return v},Pv:function(){return y},Ts:function(){return E},Uu:function(){return I},XS:function(){return d},ab:function(){return w},fl:function(){return P},gS:function(){return m},ir:function(){return N},nY:function(){return u},pT:function(){return p},r0:function(){return k},s7:function(){return s},u5:function(){return x},vl:function(){return _},x3:function(){return S},yR:function(){return f}});var n=r(81544),i=r(17057);class o extends n.G{constructor(e,{code:t,docsPath:r,metaMessages:n,name:o,shortMessage:a}){super(a,{cause:e,docsPath:r,metaMessages:n||e?.metaMessages,name:o||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=o||e.name,this.code=e instanceof i.bs?e.code:t??-1}}class a extends o{constructor(e,t){super(e,t),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t.data}}class s extends o{constructor(e){super(e,{code:s.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(s,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class c extends o{constructor(e){super(e,{code:c.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(c,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class l extends o{constructor(e,{method:t}={}){super(e,{code:l.code,name:"MethodNotFoundRpcError",shortMessage:`The method${t?` "${t}"`:""} does not exist / is not available.`})}}Object.defineProperty(l,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class u extends o{constructor(e){super(e,{code:u.code,name:"InvalidParamsRpcError",shortMessage:"Invalid parameters were provided to the RPC method.\nDouble check you have provided the correct parameters."})}}Object.defineProperty(u,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class d extends o{constructor(e){super(e,{code:d.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(d,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class f extends o{constructor(e){super(e,{code:f.code,name:"InvalidInputRpcError",shortMessage:"Missing or invalid parameters.\nDouble check you have provided the correct parameters."})}}Object.defineProperty(f,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class h extends o{constructor(e){super(e,{code:h.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(h,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class p extends o{constructor(e){super(e,{code:p.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(p,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class g extends o{constructor(e){super(e,{code:g.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(g,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class m extends o{constructor(e,{method:t}={}){super(e,{code:m.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${t?` "${t}"`:""} is not supported.`})}}Object.defineProperty(m,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class y extends o{constructor(e){super(e,{code:y.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(y,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class b extends o{constructor(e){super(e,{code:b.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(b,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class w extends a{constructor(e){super(e,{code:w.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(w,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class v extends a{constructor(e){super(e,{code:v.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(v,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class E extends a{constructor(e,{method:t}={}){super(e,{code:E.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${t?` " ${t}"`:""}.`})}}Object.defineProperty(E,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class x extends a{constructor(e){super(e,{code:x.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(x,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class A extends a{constructor(e){super(e,{code:A.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(A,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class S extends a{constructor(e){super(e,{code:S.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(S,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class _ extends a{constructor(e){super(e,{code:_.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(_,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class I extends a{constructor(e){super(e,{code:I.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(I,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class C extends a{constructor(e){super(e,{code:C.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(C,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class O extends a{constructor(e){super(e,{code:O.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(O,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class P extends a{constructor(e){super(e,{code:P.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(P,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class T extends a{constructor(e){super(e,{code:T.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(T,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class k extends a{constructor(e){super(e,{code:k.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(k,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class N extends o{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}},29625:function(e,t,r){"use strict";r.d(t,{Bj:function(){return s},Nc:function(){return i},Z8:function(){return o}});var n=r(81544);class i extends n.G{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class o extends n.G{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function a(e){return e.reduce((e,{slot:t,value:r})=>`${e}        ${t}: ${r}
`,"")}function s(e){return e.reduce((e,{address:t,...r})=>{let n=`${e}    ${t}:
`;return r.nonce&&(n+=`      nonce: ${r.nonce}
`),r.balance&&(n+=`      balance: ${r.balance}
`),r.code&&(n+=`      code: ${r.code}
`),r.state&&(n+="      state:\n"+a(r.state)),r.stateDiff&&(n+="      stateDiff:\n"+a(r.stateDiff)),n},"  State Override:\n").slice(0,-1)}},63228:function(e,t,r){"use strict";r.d(t,{A3:function(){return d},Bh:function(){return l},Yb:function(){return u},j3:function(){return s},mc:function(){return f},mk:function(){return c},xr:function(){return a}});var n=r(71282),i=r(29707),o=r(81544);function a(e){let t=Object.entries(e).map(([e,t])=>void 0===t||!1===t?null:[e,t]).filter(Boolean),r=t.reduce((e,[t])=>Math.max(e,t.length),0);return t.map(([e,t])=>`  ${`${e}:`.padEnd(r+1)}  ${t}`).join("\n")}class s extends o.G{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",a(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class c extends o.G{constructor(e,{account:t,docsPath:r,chain:o,data:s,gas:c,gasPrice:l,maxFeePerGas:u,maxPriorityFeePerGas:d,nonce:f,to:h,value:p}){super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",a({chain:o&&`${o?.name} (id: ${o?.id})`,from:t?.address,to:h,value:void 0!==p&&`${(0,n.d)(p)} ${o?.nativeCurrency?.symbol||"ETH"}`,data:s,gas:c,gasPrice:void 0!==l&&`${(0,i.o)(l)} gwei`,maxFeePerGas:void 0!==u&&`${(0,i.o)(u)} gwei`,maxPriorityFeePerGas:void 0!==d&&`${(0,i.o)(d)} gwei`,nonce:f})].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class l extends o.G{constructor({blockHash:e,blockNumber:t,blockTag:r,hash:n,index:i}){let o="Transaction";r&&void 0!==i&&(o=`Transaction at block time "${r}" at index "${i}"`),e&&void 0!==i&&(o=`Transaction at block hash "${e}" at index "${i}"`),t&&void 0!==i&&(o=`Transaction at block number "${t}" at index "${i}"`),n&&(o=`Transaction with hash "${n}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class u extends o.G{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class d extends o.G{constructor({receipt:e}){super(`Transaction with hash "${e.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=e}}class f extends o.G{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}},97564:function(e,t,r){"use strict";r.d(t,{C:function(){return n},G:function(){return i}});let n=e=>e,i=e=>e},2742:function(e,t,r){"use strict";r.d(t,{r:function(){return g}});var n=r(65531),i=r(31669),o=r(46033),a=r(20556),s=r(69921),c=r(36826),l=r(63152),u=r(72932),d=r(59455);function f(e,t={}){void 0!==t.size&&(0,u.Yf)(e,{size:t.size});let r=(0,d.ci)(e,t);return(0,u.ly)(r,t)}var h=r(44659),p=r(30056);function g(e,t){let r="string"==typeof t?(0,h.nr)(t):t,g=(0,o.q)(r);if(0===(0,a.d)(r)&&e.length>0)throw new n.wb;if((0,a.d)(t)&&32>(0,a.d)(t))throw new n.xB({data:"string"==typeof t?t:(0,d.ci)(t),params:e,size:(0,a.d)(t)});let y=0,b=[];for(let t=0;t<e.length;++t){let r=e[t];g.setPosition(y);let[o,a]=function e(t,r,{staticPosition:o}){let a=(0,p.S)(r.type);if(a){let[n,i]=a;return function(t,r,{length:n,staticPosition:i}){if(!n){let n=i+f(t.readBytes(32)),o=n+32;t.setPosition(n);let a=f(t.readBytes(32)),s=m(r),c=0,l=[];for(let n=0;n<a;++n){t.setPosition(o+(s?32*n:c));let[i,a]=e(t,r,{staticPosition:o});c+=a,l.push(i)}return t.setPosition(i+32),[l,32]}if(m(r)){let o=i+f(t.readBytes(32)),a=[];for(let i=0;i<n;++i){t.setPosition(o+32*i);let[n]=e(t,r,{staticPosition:o});a.push(n)}return t.setPosition(i+32),[a,32]}let o=0,a=[];for(let s=0;s<n;++s){let[n,s]=e(t,r,{staticPosition:i+o});o+=s,a.push(n)}return[a,o]}(t,{...r,type:i},{length:n,staticPosition:o})}if("tuple"===r.type)return function(t,r,{staticPosition:n}){let i=0===r.components.length||r.components.some(({name:e})=>!e),o=i?[]:{},a=0;if(m(r)){let s=n+f(t.readBytes(32));for(let n=0;n<r.components.length;++n){let c=r.components[n];t.setPosition(s+a);let[l,u]=e(t,c,{staticPosition:s});a+=u,o[i?n:c?.name]=l}return t.setPosition(n+32),[o,32]}for(let s=0;s<r.components.length;++s){let c=r.components[s],[l,u]=e(t,c,{staticPosition:n});o[i?s:c?.name]=l,a+=u}return[o,a]}(t,r,{staticPosition:o});if("address"===r.type)return function(e){let t=e.readBytes(32);return[(0,i.x)((0,d.ci)((0,s.T4)(t,-20))),32]}(t);if("bool"===r.type)return[function(e,t={}){let r=e;if(void 0!==t.size&&((0,u.Yf)(r,{size:t.size}),r=(0,c.f)(r)),r.length>1||r[0]>1)throw new l.yr(r);return!!r[0]}(t.readBytes(32),{size:32}),32];if(r.type.startsWith("bytes"))return function(e,t,{staticPosition:r}){let[n,i]=t.type.split("bytes");if(!i){let t=f(e.readBytes(32));e.setPosition(r+t);let n=f(e.readBytes(32));if(0===n)return e.setPosition(r+32),["0x",32];let i=e.readBytes(n);return e.setPosition(r+32),[(0,d.ci)(i),32]}return[(0,d.ci)(e.readBytes(Number.parseInt(i,10),32)),32]}(t,r,{staticPosition:o});if(r.type.startsWith("uint")||r.type.startsWith("int"))return function(e,t){let r=t.type.startsWith("int"),n=Number.parseInt(t.type.split("int")[1]||"256",10),i=e.readBytes(32);return[n>48?function(e,t={}){void 0!==t.size&&(0,u.Yf)(e,{size:t.size});let r=(0,d.ci)(e,t);return(0,u.y_)(r,t)}(i,{signed:r}):f(i,{signed:r}),32]}(t,r);if("string"===r.type)return function(e,{staticPosition:t}){let r=f(e.readBytes(32));e.setPosition(t+r);let n=f(e.readBytes(32));if(0===n)return e.setPosition(t+32),["",32];let i=e.readBytes(n,32),o=function(e,t={}){let r=e;return void 0!==t.size&&((0,u.Yf)(r,{size:t.size}),r=(0,c.f)(r,{dir:"right"})),new TextDecoder().decode(r)}((0,c.f)(i));return e.setPosition(t+32),[o,32]}(t,{staticPosition:o});throw new n.CI(r.type,{docsPath:"/docs/contract/decodeAbiParameters"})}(g,r,{staticPosition:0});y+=a,b.push(o)}return b}function m(e){let{type:t}=e;if("string"===t||"bytes"===t||t.endsWith("[]"))return!0;if("tuple"===t)return e.components?.some(m);let r=(0,p.S)(e.type);return!!(r&&m({...e,type:r[1]}))}},33591:function(e,t,r){"use strict";r.d(t,{p:function(){return l}});var n=r(55246),i=r(65531),o=r(69921),a=r(10464),s=r(2742),c=r(7275);function l(e){let{abi:t,data:r}=e,l=(0,o.tP)(r,0,4);if("0x"===l)throw new i.wb;let u=[...t||[],n.Up,n.hZ].find(e=>"error"===e.type&&l===(0,a.C)((0,c.t)(e)));if(!u)throw new i.yP(l,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:u,args:"inputs"in u&&u.inputs&&u.inputs.length>0?(0,s.r)(u.inputs,(0,o.tP)(r,4)):void 0,errorName:u.name}}},87721:function(e,t,r){"use strict";r.d(t,{p:function(){return c}});var n=r(65531),i=r(69921),o=r(10464),a=r(2742),s=r(7275);function c(e){let{abi:t,data:r}=e,c=(0,i.tP)(r,0,4),l=t.find(e=>"function"===e.type&&c===(0,o.C)((0,s.t)(e)));if(!l)throw new n.eF(c,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:l.name,args:"inputs"in l&&l.inputs&&l.inputs.length>0?(0,a.r)(l.inputs,(0,i.tP)(r,4)):void 0}}},65436:function(e,t,r){"use strict";r.d(t,{k:function(){return s}});var n=r(65531),i=r(2742),o=r(64043);let a="/docs/contract/decodeFunctionResult";function s(e){let{abi:t,args:r,functionName:s,data:c}=e,l=t[0];if(s){let e=(0,o.mE)({abi:t,args:r,name:s});if(!e)throw new n.xL(s,{docsPath:a});l=e}if("function"!==l.type)throw new n.xL(void 0,{docsPath:a});if(!l.outputs)throw new n.MX(l.name,{docsPath:a});let u=(0,i.r)(l.outputs,c);return u&&u.length>1?u:u&&1===u.length?u[0]:void 0}},30056:function(e,t,r){"use strict";r.d(t,{E:function(){return p},S:function(){return m}});var n=r(65531),i=r(10052),o=r(81544),a=r(63152),s=r(4012),c=r(89256),l=r(8796),u=r(20556),d=r(69921),f=r(59455),h=r(23251);function p(e,t){if(e.length!==t.length)throw new n.fs({expectedLength:e.length,givenLength:t.length});let r=g(function({params:e,values:t}){let r=[];for(let p=0;p<e.length;p++)r.push(function e({param:t,value:r}){let p=m(t.type);if(p){let[i,o]=p;return function(t,{length:r,param:i}){let o=null===r;if(!Array.isArray(t))throw new n.hn(t);if(!o&&t.length!==r)throw new n.gr({expectedLength:r,givenLength:t.length,type:`${i.type}[${r}]`});let a=!1,s=[];for(let r=0;r<t.length;r++){let n=e({param:i,value:t[r]});n.dynamic&&(a=!0),s.push(n)}if(o||a){let e=g(s);if(o){let t=(0,f.eC)(s.length,{size:32});return{dynamic:!0,encoded:s.length>0?(0,c.zo)([t,e]):t}}if(a)return{dynamic:!0,encoded:e}}return{dynamic:!1,encoded:(0,c.zo)(s.map(({encoded:e})=>e))}}(r,{length:i,param:{...t,type:o}})}if("tuple"===t.type)return function(t,{param:r}){let n=!1,i=[];for(let o=0;o<r.components.length;o++){let a=r.components[o],s=Array.isArray(t)?o:a.name,c=e({param:a,value:t[s]});i.push(c),c.dynamic&&(n=!0)}return{dynamic:n,encoded:n?g(i):(0,c.zo)(i.map(({encoded:e})=>e))}}(r,{param:t});if("address"===t.type)return function(e){if(!(0,s.U)(e))throw new i.b({address:e});return{dynamic:!1,encoded:(0,l.gc)(e.toLowerCase())}}(r);if("bool"===t.type)return function(e){if("boolean"!=typeof e)throw new o.G(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:(0,l.gc)((0,f.C4)(e))}}(r);if(t.type.startsWith("uint")||t.type.startsWith("int")){let e=t.type.startsWith("int"),[,,n="256"]=h.lh.exec(t.type)??[];return function(e,{signed:t,size:r=256}){if("number"==typeof r){let n=2n**(BigInt(r)-(t?1n:0n))-1n,i=t?-n-1n:0n;if(e>n||e<i)throw new a.J5({max:n.toString(),min:i.toString(),signed:t,size:r/8,value:e.toString()})}return{dynamic:!1,encoded:(0,f.eC)(e,{size:32,signed:t})}}(r,{signed:e,size:Number(n)})}if(t.type.startsWith("bytes"))return function(e,{param:t}){let[,r]=t.type.split("bytes"),i=(0,u.d)(e);if(!r){let t=e;return i%32!=0&&(t=(0,l.gc)(t,{dir:"right",size:32*Math.ceil((e.length-2)/2/32)})),{dynamic:!0,encoded:(0,c.zo)([(0,l.gc)((0,f.eC)(i,{size:32})),t])}}if(i!==Number.parseInt(r,10))throw new n.M4({expectedSize:Number.parseInt(r,10),value:e});return{dynamic:!1,encoded:(0,l.gc)(e,{dir:"right"})}}(r,{param:t});if("string"===t.type)return function(e){let t=(0,f.$G)(e),r=Math.ceil((0,u.d)(t)/32),n=[];for(let e=0;e<r;e++)n.push((0,l.gc)((0,d.tP)(t,32*e,(e+1)*32),{dir:"right"}));return{dynamic:!0,encoded:(0,c.zo)([(0,l.gc)((0,f.eC)((0,u.d)(t),{size:32})),...n])}}(r);throw new n.dh(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}({param:e[p],value:t[p]}));return r}({params:e,values:t}));return 0===r.length?"0x":r}function g(e){let t=0;for(let r=0;r<e.length;r++){let{dynamic:n,encoded:i}=e[r];n?t+=32:t+=(0,u.d)(i)}let r=[],n=[],i=0;for(let o=0;o<e.length;o++){let{dynamic:a,encoded:s}=e[o];a?(r.push((0,f.eC)(t+i,{size:32})),n.push(s),i+=(0,u.d)(s)):r.push(s)}return(0,c.zo)([...r,...n])}function m(e){let t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}},23010:function(e,t,r){"use strict";r.d(t,{w:function(){return s}});var n=r(65531),i=r(89256),o=r(30056);let a="/docs/contract/encodeDeployData";function s(e){let{abi:t,args:r,bytecode:s}=e;if(!r||0===r.length)return s;let c=t.find(e=>"type"in e&&"constructor"===e.type);if(!c)throw new n.fM({docsPath:a});if(!("inputs"in c)||!c.inputs||0===c.inputs.length)throw new n.cO({docsPath:a});let l=(0,o.E)(c.inputs,r);return(0,i.SM)([s,l])}},17283:function(e,t,r){"use strict";r.d(t,{R:function(){return u}});var n=r(89256),i=r(30056),o=r(65531),a=r(10464),s=r(7275),c=r(64043);let l="/docs/contract/encodeFunctionData";function u(e){let{args:t}=e,{abi:r,functionName:u}=1===e.abi.length&&e.functionName?.startsWith("0x")?e:function(e){let{abi:t,args:r,functionName:n}=e,i=t[0];if(n){let e=(0,c.mE)({abi:t,args:r,name:n});if(!e)throw new o.xL(n,{docsPath:l});i=e}if("function"!==i.type)throw new o.xL(void 0,{docsPath:l});return{abi:[i],functionName:(0,a.C)((0,s.t)(i))}}(e),d=r[0],f="inputs"in d&&d.inputs?(0,i.E)(d.inputs,t??[]):void 0;return(0,n.SM)([u,f??"0x"])}},2908:function(e,t,r){"use strict";r.d(t,{_:function(){return u}});var n=r(65531),i=r(10052),o=r(4012),a=r(89256),s=r(8796),c=r(59455),l=r(23251);function u(e,t){if(e.length!==t.length)throw new n.fs({expectedLength:e.length,givenLength:t.length});let r=[];for(let u=0;u<e.length;u++){let d=e[u],f=t[u];r.push(function e(t,r,u=!1){if("address"===t){if(!(0,o.U)(r))throw new i.b({address:r});return(0,s.vk)(r.toLowerCase(),{size:u?32:null})}if("string"===t)return(0,c.$G)(r);if("bytes"===t)return r;if("bool"===t)return(0,s.vk)((0,c.C4)(r),{size:u?32:1});let d=t.match(l.lh);if(d){let[e,t,n="256"]=d,i=Number.parseInt(n,10)/8;return(0,c.eC)(r,{size:u?32:i,signed:"int"===t})}let f=t.match(l.eL);if(f){let[e,t]=f;if(Number.parseInt(t,10)!==(r.length-2)/2)throw new n.KY({expectedSize:Number.parseInt(t,10),givenSize:(r.length-2)/2});return(0,s.vk)(r,{dir:"right",size:u?32:null})}let h=t.match(l.Ow);if(h&&Array.isArray(r)){let[t,n]=h,i=[];for(let t=0;t<r.length;t++)i.push(e(n,r[t],!0));return 0===i.length?"0x":(0,a.SM)(i)}throw new n.Mi(t)}(d,f))}return(0,a.SM)(r)}},7275:function(e,t,r){"use strict";r.d(t,{h:function(){return o},t:function(){return i}});var n=r(65531);function i(e,{includeName:t=!1}={}){if("function"!==e.type&&"event"!==e.type&&"error"!==e.type)throw new n.wM(e.type);return`${e.name}(${o(e.inputs,{includeName:t})})`}function o(e,{includeName:t=!1}={}){return e?e.map(e=>(function(e,{includeName:t}){return e.type.startsWith("tuple")?`(${o(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")})(e,{includeName:t})).join(t?", ":","):""}},64043:function(e,t,r){"use strict";r.d(t,{mE:function(){return c}});var n=r(65531),i=r(93610),o=r(4012),a=r(45392),s=r(10464);function c(e){let t;let{abi:r,args:c=[],name:l}=e,u=(0,i.v)(l,{strict:!1}),d=r.filter(e=>u?"function"===e.type?(0,s.C)(e)===l:"event"===e.type&&(0,a.n)(e)===l:"name"in e&&e.name===l);if(0!==d.length){if(1===d.length)return d[0];for(let e of d)if("inputs"in e){if(!c||0===c.length){if(!e.inputs||0===e.inputs.length)return e;continue}if(e.inputs&&0!==e.inputs.length&&e.inputs.length===c.length&&c.every((t,r)=>{let n="inputs"in e&&e.inputs[r];return!!n&&function e(t,r){let n=typeof t,i=r.type;switch(i){case"address":return(0,o.U)(t,{strict:!1});case"bool":return"boolean"===n;case"function":case"string":return"string"===n;default:if("tuple"===i&&"components"in r)return Object.values(r.components).every((r,i)=>"object"===n&&e(Object.values(t)[i],r));if(/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(i))return"number"===n||"bigint"===n;if(/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(i))return"string"===n||t instanceof Uint8Array;if(/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(i))return Array.isArray(t)&&t.every(t=>e(t,{...r,type:i.replace(/(\[[0-9]{0,}\])$/,"")}));return!1}}(t,n)})){if(t&&"inputs"in t&&t.inputs){let r=function e(t,r,n){for(let i in t){let a=t[i],s=r[i];if("tuple"===a.type&&"tuple"===s.type&&"components"in a&&"components"in s)return e(a.components,s.components,n[i]);let c=[a.type,s.type];if(c.includes("address")&&c.includes("bytes20")||(c.includes("address")&&c.includes("string")||c.includes("address")&&c.includes("bytes"))&&(0,o.U)(n[i],{strict:!1}))return c}}(e.inputs,t.inputs,c);if(r)throw new n.S4({abiItem:e,type:r[0]},{abiItem:t,type:r[1]})}t=e}}return t||d[0]}}},31669:function(e,t,r){"use strict";r.d(t,{K:function(){return u},x:function(){return l}});var n=r(10052),i=r(44659),o=r(34763),a=r(82061),s=r(4012);let c=new a.k(8192);function l(e,t){if(c.has(`${e}.${t}`))return c.get(`${e}.${t}`);let r=t?`${t}${e.toLowerCase()}`:e.substring(2).toLowerCase(),n=(0,o.w)((0,i.qX)(r),"bytes"),a=(t?r.substring(`${t}0x`.length):r).split("");for(let e=0;e<40;e+=2)n[e>>1]>>4>=8&&a[e]&&(a[e]=a[e].toUpperCase()),(15&n[e>>1])>=8&&a[e+1]&&(a[e+1]=a[e+1].toUpperCase());let s=`0x${a.join("")}`;return c.set(`${e}.${t}`,s),s}function u(e,t){if(!(0,s.U)(e,{strict:!1}))throw new n.b({address:e});return l(e,t)}},22987:function(e,t,r){"use strict";r.d(t,{CR:function(){return d}});var n=r(89256);function i(e){return!!e&&"object"==typeof e&&"BYTES_PER_ELEMENT"in e&&1===e.BYTES_PER_ELEMENT&&"Uint8Array"===e.constructor.name}var o=r(8796),a=r(69921),s=r(44659),c=r(70044),l=r(34763),u=r(31669);function d(e){return"CREATE2"===e.opcode?function(e){let t=(0,s.O0)((0,u.K)(e.from)),r=(0,o.vk)(i(e.salt)?e.salt:(0,s.O0)(e.salt),{size:32}),c="bytecodeHash"in e?i(e.bytecodeHash)?e.bytecodeHash:(0,s.O0)(e.bytecodeHash):(0,l.w)(e.bytecode,"bytes");return(0,u.K)((0,a.tP)((0,l.w)((0,n.zo)([(0,s.O0)("0xff"),t,r,c])),12))}(e):function(e){let t=(0,s.O0)((0,u.K)(e.from)),r=(0,s.O0)(e.nonce);return 0===r[0]&&(r=new Uint8Array([])),(0,u.K)(`0x${(0,l.w)((0,c.LV)([t,r],"bytes")).slice(26)}`)}(e)}},4012:function(e,t,r){"use strict";r.d(t,{U:function(){return s}});var n=r(82061),i=r(31669);let o=/^0x[a-fA-F0-9]{40}$/,a=new n.k(8192);function s(e,t){let{strict:r=!0}=t??{},n=`${e}.${r}`;if(a.has(n))return a.get(n);let s=!!o.test(e)&&(e.toLowerCase()===e||!r||(0,i.x)(e)===e);return a.set(n,s),s}},93637:function(e,t,r){"use strict";r.d(t,{E:function(){return o}});var n=r(10052),i=r(4012);function o(e,t){if(!(0,i.U)(e,{strict:!1}))throw new n.b({address:e});if(!(0,i.U)(t,{strict:!1}))throw new n.b({address:t});return e.toLowerCase()===t.toLowerCase()}},55834:function(e,t,r){"use strict";r.d(t,{z:function(){return l}});var n=r(69021),i=r(89256),o=r(44659),a=r(59455),s=r(70044),c=r(34763);async function l(e){let{authorization:t,signature:r}=e;return(0,n.R)({hash:function(e){let{chainId:t,nonce:r,to:n}=e,l=e.contractAddress??e.address,u=(0,c.w)((0,i.SM)(["0x05",(0,s.LV)([t?(0,a.eC)(t):"0x",l,r?(0,a.eC)(r):"0x"])]));return"bytes"===n?(0,o.nr)(u):u}(t),signature:r??t})}},40402:function(e,t,r){"use strict";r.d(t,{q:function(){return i}});var n=r(35586);function i({chain:e,currentChainId:t}){if(!e)throw new n.Bk;if(t!==e.id)throw new n.Yl({chain:e,currentChainId:t})}},93627:function(e,t,r){"use strict";r.d(t,{L:function(){return i}});var n=r(35586);function i({blockNumber:e,chain:t,contract:r}){let i=t?.contracts?.[r];if(!i)throw new n.mm({chain:t,contract:{name:r}});if(e&&i.blockCreated&&i.blockCreated>e)throw new n.mm({blockNumber:e,chain:t,contract:{name:r,blockCreated:i.blockCreated}});return i.address}},46033:function(e,t,r){"use strict";r.d(t,{q:function(){return o}});var n=r(33630);let i={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new n.KD({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new n.lQ({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new n.T_({offset:e});let t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new n.T_({offset:e});let t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){let t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){let r=t??this.position;return this.assertPosition(r+e-1),this.bytes.subarray(r,r+e)},inspectUint8(e){let t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){let t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){let t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){let t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,255&e),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();let e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();let r=this.inspectBytes(e);return this.position+=t??e,r},readUint8(){this.assertReadLimit(),this._touch();let e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();let e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();let e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();let e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){let t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;let e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function o(e,{recursiveReadLimit:t=8192}={}){let r=Object.create(i);return r.bytes=e,r.dataView=new DataView(e.buffer??e,e.byteOffset,e.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=t,r}},89256:function(e,t,r){"use strict";function n(e){return"string"==typeof e[0]?i(e):function(e){let t=0;for(let r of e)t+=r.length;let r=new Uint8Array(t),n=0;for(let t of e)r.set(t,n),n+=t.length;return r}(e)}function i(e){return`0x${e.reduce((e,t)=>e+t.replace("0x",""),"")}`}r.d(t,{SM:function(){return i},zo:function(){return n}})},93610:function(e,t,r){"use strict";function n(e,{strict:t=!0}={}){return!!e&&"string"==typeof e&&(t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x"))}r.d(t,{v:function(){return n}})},8796:function(e,t,r){"use strict";r.d(t,{gc:function(){return o},vk:function(){return i}});var n=r(47116);function i(e,{dir:t,size:r=32}={}){return"string"==typeof e?o(e,{dir:t,size:r}):function(e,{dir:t,size:r=32}={}){if(null===r)return e;if(e.length>r)throw new n.$s({size:e.length,targetSize:r,type:"bytes"});let i=new Uint8Array(r);for(let n=0;n<r;n++){let o="right"===t;i[o?n:r-n-1]=e[o?n:e.length-n-1]}return i}(e,{dir:t,size:r})}function o(e,{dir:t,size:r=32}={}){if(null===r)return e;let i=e.replace("0x","");if(i.length>2*r)throw new n.$s({size:Math.ceil(i.length/2),targetSize:r,type:"hex"});return`0x${i["right"===t?"padEnd":"padStart"](2*r,"0")}`}},20556:function(e,t,r){"use strict";r.d(t,{d:function(){return i}});var n=r(93610);function i(e){return(0,n.v)(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}},69921:function(e,t,r){"use strict";r.d(t,{T4:function(){return l},p5:function(){return u},tP:function(){return a}});var n=r(47116),i=r(93610),o=r(20556);function a(e,t,r,{strict:n}={}){return(0,i.v)(e,{strict:!1})?u(e,t,r,{strict:n}):l(e,t,r,{strict:n})}function s(e,t){if("number"==typeof t&&t>0&&t>(0,o.d)(e)-1)throw new n.mV({offset:t,position:"start",size:(0,o.d)(e)})}function c(e,t,r){if("number"==typeof t&&"number"==typeof r&&(0,o.d)(e)!==r-t)throw new n.mV({offset:r,position:"end",size:(0,o.d)(e)})}function l(e,t,r,{strict:n}={}){s(e,t);let i=e.slice(t,r);return n&&c(i,t,r),i}function u(e,t,r,{strict:n}={}){s(e,t);let i=`0x${e.replace("0x","").slice((t??0)*2,(r??e.length)*2)}`;return n&&c(i,t,r),i}},36826:function(e,t,r){"use strict";function n(e,{dir:t="left"}={}){let r="string"==typeof e?e.replace("0x",""):e,n=0;for(let e=0;e<r.length-1&&"0"===r["left"===t?e:r.length-e-1].toString();e++)n++;return(r="left"===t?r.slice(n):r.slice(0,r.length-n),"string"==typeof e)?(1===r.length&&"right"===t&&(r=`${r}0`),`0x${r.length%2==1?`0${r}`:r}`):r}r.d(t,{f:function(){return n}})},72932:function(e,t,r){"use strict";r.d(t,{XA:function(){return c},Yf:function(){return a},ly:function(){return l},y_:function(){return s}});var n=r(63152),i=r(20556),o=r(36826);function a(e,{size:t}){if((0,i.d)(e)>t)throw new n.M6({givenSize:(0,i.d)(e),maxSize:t})}function s(e,t={}){let{signed:r}=t;t.size&&a(e,{size:t.size});let n=BigInt(e);if(!r)return n;let i=(e.length-2)/2;return n<=(1n<<8n*BigInt(i)-1n)-1n?n:n-BigInt(`0x${"f".padStart(2*i,"f")}`)-1n}function c(e,t={}){let r=e;if(t.size&&(a(r,{size:t.size}),r=(0,o.f)(r)),"0x00"===(0,o.f)(r))return!1;if("0x01"===(0,o.f)(r))return!0;throw new n.Cd(r)}function l(e,t={}){let r=s(e,t),i=Number(r);if(!Number.isSafeInteger(i))throw new n.J5({max:`${Number.MAX_SAFE_INTEGER}`,min:`${Number.MIN_SAFE_INTEGER}`,signed:t.signed,size:t.size,value:`${r}n`});return i}},44659:function(e,t,r){"use strict";r.d(t,{O0:function(){return l},nr:function(){return f},qX:function(){return h}});var n=r(81544),i=r(93610),o=r(8796),a=r(72932),s=r(59455);let c=new TextEncoder;function l(e,t={}){return"number"==typeof e||"bigint"==typeof e?f((0,s.eC)(e,t)):"boolean"==typeof e?function(e,t={}){let r=new Uint8Array(1);return(r[0]=Number(e),"number"==typeof t.size)?((0,a.Yf)(r,{size:t.size}),(0,o.vk)(r,{size:t.size})):r}(e,t):(0,i.v)(e)?f(e,t):h(e,t)}let u={zero:48,nine:57,A:65,F:70,a:97,f:102};function d(e){return e>=u.zero&&e<=u.nine?e-u.zero:e>=u.A&&e<=u.F?e-(u.A-10):e>=u.a&&e<=u.f?e-(u.a-10):void 0}function f(e,t={}){let r=e;t.size&&((0,a.Yf)(r,{size:t.size}),r=(0,o.vk)(r,{dir:"right",size:t.size}));let i=r.slice(2);i.length%2&&(i=`0${i}`);let s=i.length/2,c=new Uint8Array(s);for(let e=0,t=0;e<s;e++){let r=d(i.charCodeAt(t++)),o=d(i.charCodeAt(t++));if(void 0===r||void 0===o)throw new n.G(`Invalid byte sequence ("${i[t-2]}${i[t-1]}" in "${i}").`);c[e]=16*r+o}return c}function h(e,t={}){let r=c.encode(e);return"number"==typeof t.size?((0,a.Yf)(r,{size:t.size}),(0,o.vk)(r,{dir:"right",size:t.size})):r}},59455:function(e,t,r){"use strict";r.d(t,{$G:function(){return f},C4:function(){return c},NC:function(){return s},ci:function(){return l},eC:function(){return u}});var n=r(63152),i=r(8796),o=r(72932);let a=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function s(e,t={}){return"number"==typeof e||"bigint"==typeof e?u(e,t):"string"==typeof e?f(e,t):"boolean"==typeof e?c(e,t):l(e,t)}function c(e,t={}){let r=`0x${Number(e)}`;return"number"==typeof t.size?((0,o.Yf)(r,{size:t.size}),(0,i.vk)(r,{size:t.size})):r}function l(e,t={}){let r="";for(let t=0;t<e.length;t++)r+=a[e[t]];let n=`0x${r}`;return"number"==typeof t.size?((0,o.Yf)(n,{size:t.size}),(0,i.vk)(n,{dir:"right",size:t.size})):n}function u(e,t={}){let r;let{signed:o,size:a}=t,s=BigInt(e);a?r=o?(1n<<8n*BigInt(a)-1n)-1n:2n**(8n*BigInt(a))-1n:"number"==typeof e&&(r=BigInt(Number.MAX_SAFE_INTEGER));let c="bigint"==typeof r&&o?-r-1n:0;if(r&&s>r||s<c){let t="bigint"==typeof e?"n":"";throw new n.J5({max:r?`${r}${t}`:void 0,min:`${c}${t}`,signed:o,size:a,value:`${e}${t}`})}let l=`0x${(o&&s<0?(1n<<BigInt(8*a))+BigInt(s):s).toString(16)}`;return a?(0,i.vk)(l,{size:a}):l}let d=new TextEncoder;function f(e,t={}){return l(d.encode(e),t)}},70044:function(e,t,r){"use strict";r.d(t,{LV:function(){return s}});var n=r(81544),i=r(46033),o=r(44659),a=r(59455);function s(e,t="hex"){let r=function e(t){return Array.isArray(t)?function(e){let t=e.reduce((e,t)=>e+t.length,0),r=c(t);return{length:t<=55?1+t:1+r+t,encode(n){for(let{encode:i}of(t<=55?n.pushByte(192+t):(n.pushByte(247+r),1===r?n.pushUint8(t):2===r?n.pushUint16(t):3===r?n.pushUint24(t):n.pushUint32(t)),e))i(n)}}}(t.map(t=>e(t))):function(e){let t="string"==typeof e?(0,o.nr)(e):e,r=c(t.length);return{length:1===t.length&&t[0]<128?1:t.length<=55?1+t.length:1+r+t.length,encode(e){1===t.length&&t[0]<128||(t.length<=55?e.pushByte(128+t.length):(e.pushByte(183+r),1===r?e.pushUint8(t.length):2===r?e.pushUint16(t.length):3===r?e.pushUint24(t.length):e.pushUint32(t.length))),e.pushBytes(t)}}}(t)}(e),n=(0,i.q)(new Uint8Array(r.length));return(r.encode(n),"hex"===t)?(0,a.ci)(n.bytes):n.bytes}function c(e){if(e<256)return 1;if(e<65536)return 2;if(e<16777216)return 3;if(e<4294967296)return 4;throw new n.G("Length is too large.")}},7143:function(e,t,r){"use strict";r.d(t,{w:function(){return m},M:function(){return g}});var n=r(98158),i=r(55246),o=r(87721),a=r(65531),s=r(89256),c=r(10464),l=r(30056),u=r(7275),d=r(64043);let f="/docs/contract/encodeErrorResult";function h(e){let{abi:t,errorName:r,args:n}=e,i=t[0];if(r){let e=(0,d.mE)({abi:t,args:n,name:r});if(!e)throw new a.MS(r,{docsPath:f});i=e}if("error"!==i.type)throw new a.MS(void 0,{docsPath:f});let o=(0,u.t)(i),h=(0,c.C)(o),p="0x";if(n&&n.length>0){if(!i.inputs)throw new a.Zh(i.name,{docsPath:f});p=(0,l.E)(i.inputs,n)}return(0,s.SM)([h,p])}let p="/docs/contract/encodeFunctionResult",g="x-batch-gateway:true";async function m(e){let{data:t,ccipRequest:r}=e,{args:[s]}=(0,o.p)({abi:n.Yi,data:t}),c=[],u=[];return await Promise.all(s.map(async(e,t)=>{try{u[t]=e.urls.includes(g)?await m({data:e.data,ccipRequest:r}):await r(e),c[t]=!1}catch(e){c[t]=!0,u[t]="HttpRequestError"===e.name&&e.status?h({abi:n.Yi,errorName:"HttpError",args:[e.status,e.shortMessage]}):h({abi:[i.Up],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}})),function(e){let{abi:t,functionName:r,result:n}=e,i=t[0];if(r){let e=(0,d.mE)({abi:t,name:r});if(!e)throw new a.xL(r,{docsPath:p});i=e}if("function"!==i.type)throw new a.xL(void 0,{docsPath:p});if(!i.outputs)throw new a.MX(i.name,{docsPath:p});let o=(()=>{if(0===i.outputs.length)return[];if(1===i.outputs.length)return[n];if(Array.isArray(n))return n;throw new a.hn(n)})();return(0,l.E)(i.outputs,o)}({abi:n.Yi,functionName:"query",result:[c,u]})}},14015:function(e,t,r){"use strict";r.d(t,{P:function(){return a}});var n=r(20010),i=r(78125),o=r(18856);function a(e,{docsPath:t,...r}){let a=(()=>{let t=(0,o.k)(e,r);return t instanceof i.cj?e:t})();return new n.cg(a,{docsPath:t,...r})}},34180:function(e,t,r){"use strict";r.d(t,{S:function(){return c}});var n=r(65531),i=r(81544),o=r(20010),a=r(17057),s=r(77014);function c(e,{abi:t,address:r,args:c,docsPath:l,functionName:u,sender:d}){let f=e instanceof o.VQ?e:e instanceof i.G?e.walk(e=>"data"in e)||e.walk():{},{code:h,data:p,details:g,message:m,shortMessage:y}=f,b=e instanceof n.wb?new o.Dk({functionName:u}):[3,s.XS.code].includes(h)&&(p||g||m||y)||h===s.yR.code&&"execution reverted"===g&&p?new o.Lu({abi:t,data:"object"==typeof p?p.data:p,functionName:u,message:f instanceof a.bs?g:y??m}):e;return new o.uq(b,{abi:t,args:c,contractAddress:r,docsPath:l,functionName:u,sender:d})}},18856:function(e,t,r){"use strict";r.d(t,{k:function(){return o}});var n=r(81544),i=r(78125);function o(e,t){let r=(e.details||"").toLowerCase(),o=e instanceof n.G?e.walk(e=>e?.code===i.M_.code):e;return o instanceof n.G?new i.M_({cause:e,message:o.details}):i.M_.nodeMessage.test(r)?new i.M_({cause:e,message:e.details}):i.Hh.nodeMessage.test(r)?new i.Hh({cause:e,maxFeePerGas:t?.maxFeePerGas}):i.G$.nodeMessage.test(r)?new i.G$({cause:e,maxFeePerGas:t?.maxFeePerGas}):i.ZI.nodeMessage.test(r)?new i.ZI({cause:e,nonce:t?.nonce}):i.vU.nodeMessage.test(r)?new i.vU({cause:e,nonce:t?.nonce}):i.se.nodeMessage.test(r)?new i.se({cause:e,nonce:t?.nonce}):i.C_.nodeMessage.test(r)?new i.C_({cause:e}):i.WF.nodeMessage.test(r)?new i.WF({cause:e,gas:t?.gas}):i.dR.nodeMessage.test(r)?new i.dR({cause:e,gas:t?.gas}):i.pZ.nodeMessage.test(r)?new i.pZ({cause:e}):i.cs.nodeMessage.test(r)?new i.cs({cause:e,maxFeePerGas:t?.maxFeePerGas,maxPriorityFeePerGas:t?.maxPriorityFeePerGas}):new i.cj({cause:e})}},93606:function(e,t,r){"use strict";r.d(t,{$:function(){return a}});var n=r(78125),i=r(63228),o=r(18856);function a(e,{docsPath:t,...r}){let a=(()=>{let t=(0,o.k)(e,r);return t instanceof n.cj?e:t})();return new i.mk(a,{docsPath:t,...r})}},59069:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(27481);function i(e,t){let r=(e.transactions??[]).map(e=>"string"==typeof e?e:(0,n.Tr)(e));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:r,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}},70878:function(e,t,r){"use strict";function n(e,{format:t}){if(!t)return{};let r={};return!function t(n){for(let i of Object.keys(n))i in e&&(r[i]=e[i]),n[i]&&"object"==typeof n[i]&&!Array.isArray(n[i])&&t(n[i])}(t(e||{})),r}r.d(t,{K:function(){return n}})},55668:function(e,t,r){"use strict";function n(e,{args:t,eventName:r}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,blockTimestamp:e.blockTimestamp?BigInt(e.blockTimestamp):null===e.blockTimestamp?null:void 0,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...r?{args:t,eventName:r}:{}}}r.d(t,{U:function(){return n}})},27481:function(e,t,r){"use strict";r.d(t,{Tr:function(){return o},c8:function(){return i}});var n=r(72932);let i={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function o(e,t){let r={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?(0,n.ly)(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?(0,n.ly)(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?i[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(r.authorizationList=e.authorizationList.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))),r.yParity=(()=>{if(e.yParity)return Number(e.yParity);if("bigint"==typeof r.v){if(0n===r.v||27n===r.v)return 0;if(1n===r.v||28n===r.v)return 1;if(r.v>=35n)return r.v%2n===0n?1:0}})(),"legacy"===r.type&&(delete r.accessList,delete r.maxFeePerBlobGas,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas,delete r.yParity),"eip2930"===r.type&&(delete r.maxFeePerBlobGas,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas),"eip1559"===r.type&&delete r.maxFeePerBlobGas,r}},13550:function(e,t,r){"use strict";r.d(t,{ew:function(){return a},fA:function(){return s}});var n=r(72932),i=r(55668),o=r(27481);let a={"0x0":"reverted","0x1":"success"};function s(e,t){let r={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(e=>(0,i.U)(e)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?(0,n.ly)(e.transactionIndex):null,status:e.status?a[e.status]:null,type:e.type?o.c8[e.type]||e.type:null};return e.blobGasPrice&&(r.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(r.blobGasUsed=BigInt(e.blobGasUsed)),r}},92614:function(e,t,r){"use strict";r.d(t,{tG:function(){return o}});var n=r(59455);let i={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function o(e,t){let r={};return void 0!==e.authorizationList&&(r.authorizationList=e.authorizationList.map(e=>({address:e.address,r:e.r?(0,n.eC)(BigInt(e.r)):e.r,s:e.s?(0,n.eC)(BigInt(e.s)):e.s,chainId:(0,n.eC)(e.chainId),nonce:(0,n.eC)(e.nonce),...void 0!==e.yParity?{yParity:(0,n.eC)(e.yParity)}:{},...void 0!==e.v&&void 0===e.yParity?{v:(0,n.eC)(e.v)}:{}}))),void 0!==e.accessList&&(r.accessList=e.accessList),void 0!==e.blobVersionedHashes&&(r.blobVersionedHashes=e.blobVersionedHashes),void 0!==e.blobs&&("string"!=typeof e.blobs[0]?r.blobs=e.blobs.map(e=>(0,n.ci)(e)):r.blobs=e.blobs),void 0!==e.data&&(r.data=e.data),e.account&&(r.from=e.account.address),void 0!==e.from&&(r.from=e.from),void 0!==e.gas&&(r.gas=(0,n.eC)(e.gas)),void 0!==e.gasPrice&&(r.gasPrice=(0,n.eC)(e.gasPrice)),void 0!==e.maxFeePerBlobGas&&(r.maxFeePerBlobGas=(0,n.eC)(e.maxFeePerBlobGas)),void 0!==e.maxFeePerGas&&(r.maxFeePerGas=(0,n.eC)(e.maxFeePerGas)),void 0!==e.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=(0,n.eC)(e.maxPriorityFeePerGas)),void 0!==e.nonce&&(r.nonce=(0,n.eC)(e.nonce)),void 0!==e.to&&(r.to=e.to),void 0!==e.type&&(r.type=i[e.type]),void 0!==e.value&&(r.value=(0,n.eC)(e.value)),r}},82645:function(e,t,r){"use strict";function n(e,t,r){let n=e[t.name];if("function"==typeof n)return n;let i=e[r];return"function"==typeof i?i:r=>t(e,r)}r.d(t,{s:function(){return n}})},34763:function(e,t,r){"use strict";r.d(t,{w:function(){return S}});var n=r(42802),i=r(61714);let o=BigInt(0),a=BigInt(1),s=BigInt(2),c=BigInt(7),l=BigInt(256),u=BigInt(113),d=[],f=[],h=[];for(let e=0,t=a,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],d.push(2*(5*n+r)),f.push((e+1)*(e+2)/2%64);let i=o;for(let e=0;e<7;e++)(t=(t<<a^(t>>c)*u)%l)&s&&(i^=a<<(a<<BigInt(e))-a);h.push(i)}let p=(0,n.Vl)(h,!0),g=p[0],m=p[1],y=(e,t,r)=>r>32?(0,n.SD)(e,t,r):(0,n.EP)(e,t,r),b=(e,t,r)=>r>32?(0,n.mk)(e,t,r):(0,n.gm)(e,t,r);class w extends i.kb{constructor(e,t,r,n=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=o,(0,i.k8)(r),!(0<e&&e<200))throw Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=(0,i.Jq)(this.state)}clone(){return this._cloneInto()}keccak(){(0,i.Ux)(this.state32),function(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let n=(t+8)%10,i=(t+2)%10,o=r[i],a=r[i+1],s=y(o,a,1)^r[n],c=b(o,a,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=s,e[t+r+1]^=c}let t=e[2],i=e[3];for(let r=0;r<24;r++){let n=f[r],o=y(t,i,n),a=b(t,i,n),s=d[r];t=e[s],i=e[s+1],e[s]=o,e[s+1]=a}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=g[n],e[1]^=m[n]}(0,i.ru)(r)}(this.state32,this.rounds),(0,i.Ux)(this.state32),this.posOut=0,this.pos=0}update(e){(0,i.$h)(this),e=(0,i.O0)(e),(0,i.gk)(e);let{blockLen:t,state:r}=this,n=e.length;for(let i=0;i<n;){let o=Math.min(t-this.pos,n-i);for(let t=0;t<o;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,(128&t)!=0&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){(0,i.$h)(this,!1),(0,i.gk)(e),this.finish();let t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();let o=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+o),n),this.posOut+=o,n+=o}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,i.k8)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,i.eB)(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,(0,i.ru)(this.state)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:o}=this;return e||(e=new w(t,r,n,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=o,e.destroyed=this.destroyed,e}}let v=(0,i.V1)(()=>new w(136,1,32));var E=r(93610),x=r(44659),A=r(59455);function S(e,t){let r=v((0,E.v)(e,{strict:!1})?(0,x.O0)(e):e);return"bytes"===(t||"hex")?r:(0,A.NC)(r)}},45392:function(e,t,r){"use strict";r.d(t,{n:function(){return n}});let n=r(96697).r},10464:function(e,t,r){"use strict";r.d(t,{C:function(){return o}});var n=r(69921),i=r(96697);let o=e=>(0,n.tP)((0,i.r)(e),0,4)},96697:function(e,t,r){"use strict";r.d(t,{r:function(){return d}});var n=r(44659),i=r(34763);let o=e=>(0,i.w)((0,n.O0)(e));var a=r(62619);let s=/^tuple(?<array>(\[(\d*)\])*)$/;function c(e){let t="",r=e.length;for(let n=0;n<r;n++)t+=function e(t){let r=t.type;if(s.test(t.type)&&"components"in t){r="(";let n=t.components.length;for(let i=0;i<n;i++)r+=e(t.components[i]),i<n-1&&(r+=", ");let i=(0,a.Zw)(s,t.type);return r+=`)${i?.array||""}`,e({...t,type:r})}return("indexed"in t&&t.indexed&&(r=`${r} indexed`),t.name)?`${r} ${t.name}`:r}(e[n]),n!==r-1&&(t+=", ");return t}var l=r(81544);let u=e=>(function(e){let t=!0,r="",n=0,i="",o=!1;for(let a=0;a<e.length;a++){let s=e[a];if(["(",")",","].includes(s)&&(t=!0),"("===s&&n++,")"===s&&n--,t){if(0===n){if(" "===s&&["event","function",""].includes(i))i="";else if(i+=s,")"===s){o=!0;break}continue}if(" "===s){","!==e[a-1]&&","!==r&&",("!==r&&(r="",t=!1);continue}i+=s,r+=s}}if(!o)throw new l.G("Unable to normalize signature.");return i})("string"==typeof e?e:"function"===e.type?`function ${e.name}(${c(e.inputs)})${e.stateMutability&&"nonpayable"!==e.stateMutability?` ${e.stateMutability}`:""}${e.outputs?.length?` returns (${c(e.outputs)})`:""}`:"event"===e.type?`event ${e.name}(${c(e.inputs)})`:"error"===e.type?`error ${e.name}(${c(e.inputs)})`:"constructor"===e.type?`constructor(${c(e.inputs)})${"payable"===e.stateMutability?" payable":""}`:"fallback"===e.type?`fallback() external${"payable"===e.stateMutability?" payable":""}`:"receive() external payable");function d(e){return o(u(e))}},82061:function(e,t,r){"use strict";r.d(t,{k:function(){return n}});class n extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){let t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){let e=this.keys().next().value;e&&this.delete(e)}return this}}},36478:function(e,t,r){"use strict";r.d(t,{N7:function(){return a}});let n=new Map,i=new Map,o=0;function a(e,t,r){let a=++o,s=()=>n.get(e)||[],c=()=>{let t=s();n.set(e,t.filter(e=>e.id!==a))},l=()=>{let t=s();if(!t.some(e=>e.id===a))return;let r=i.get(e);if(1===t.length&&r){let e=r();e instanceof Promise&&e.catch(()=>{})}c()},u=s();if(n.set(e,[...u,{id:a,fns:t}]),u&&u.length>0)return l;let d={};for(let e in t)d[e]=(...t)=>{let r=s();if(0!==r.length)for(let n of r)n.fns[e]?.(...t)};let f=r(d);return"function"==typeof f&&i.set(e,f),l}},41495:function(e,t,r){"use strict";r.d(t,{$:function(){return i}});var n=r(33457);function i(e,{emitOnBegin:t,initialWaitTime:r,interval:i}){let o=!0,a=()=>o=!1;return(async()=>{let s;t&&(s=await e({unpoll:a}));let c=await r?.(s)??i;await (0,n.D)(c);let l=async()=>{o&&(await e({unpoll:a}),await (0,n.D)(i),l())};l()})(),a}},43226:function(e,t,r){"use strict";r.d(t,{S:function(){return o}});var n=r(56921);let i=new Map;function o({fn:e,id:t,shouldSplitBatch:r,wait:o=0,sort:a}){let s=async()=>{let t=u();c();let r=t.map(({args:e})=>e);0!==r.length&&e(r).then(e=>{a&&Array.isArray(e)&&e.sort(a);for(let r=0;r<t.length;r++){let{resolve:n}=t[r];n?.([e[r],e])}}).catch(e=>{for(let r=0;r<t.length;r++){let{reject:n}=t[r];n?.(e)}})},c=()=>i.delete(t),l=()=>u().map(({args:e})=>e),u=()=>i.get(t)||[],d=e=>i.set(t,[...u(),e]);return{flush:c,async schedule(e){let{promise:t,resolve:i,reject:a}=(0,n.n)();return(r?.([...l(),e])&&s(),u().length>0)?d({args:e,resolve:i,reject:a}):(d({args:e,resolve:i,reject:a}),setTimeout(s,o)),t}}}},56921:function(e,t,r){"use strict";function n(){let e=()=>void 0,t=()=>void 0;return{promise:new Promise((r,n)=>{e=r,t=n}),resolve:e,reject:t}}r.d(t,{n:function(){return n}})},49287:function(e,t,r){"use strict";r.d(t,{J:function(){return i}});var n=r(33457);function i(e,{delay:t=100,retryCount:r=2,shouldRetry:i=()=>!0}={}){return new Promise((o,a)=>{let s=async({count:c=0}={})=>{let l=async({error:e})=>{let r="function"==typeof t?t({count:c,error:e}):t;r&&await (0,n.D)(r),s({count:c+1})};try{let t=await e();o(t)}catch(e){if(c<r&&await i({count:c,error:e}))return l({error:e});a(e)}};s()})}},23251:function(e,t,r){"use strict";r.d(t,{Ow:function(){return n},eL:function(){return i},lh:function(){return o}});let n=/^(.*)\[([0-9]*)\]$/,i=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,o=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/},15566:function(e,t,r){"use strict";r.d(t,{r:function(){return s}});var n=r(34763),i=r(89256),o=r(20556),a=r(59455);function s(e,t){return(0,n.w)(function(e){let t="string"==typeof e?(0,a.$G)(e):"string"==typeof e.raw?e.raw:(0,a.ci)(e.raw),r=(0,a.$G)(`\x19Ethereum Signed Message:
${(0,o.d)(t)}`);return(0,i.zo)([r,t])}(e),t)}},42727:function(e,t,r){"use strict";r.d(t,{Jv:function(){return c},og:function(){return l}});var n=r(30056),i=r(89256),o=r(59455),a=r(34763),s=r(99493);function c(e){let{domain:t={},message:r,primaryType:n}=e,o={EIP712Domain:(0,s.cj)({domain:t}),...e.types};(0,s.iC)({domain:t,message:r,primaryType:n,types:o});let c=["0x1901"];return t&&c.push(l({domain:t,types:o})),"EIP712Domain"!==n&&c.push(u({data:r,primaryType:n,types:o})),(0,a.w)((0,i.zo)(c))}function l({domain:e,types:t}){return u({data:e,primaryType:"EIP712Domain",types:t})}function u({data:e,primaryType:t,types:r}){let i=function e({data:t,primaryType:r,types:i}){let s=[{type:"bytes32"}],c=[function({primaryType:e,types:t}){let r=(0,o.NC)(function({primaryType:e,types:t}){let r="",n=function e({primaryType:t,types:r},n=new Set){let i=t.match(/^\w*/u),o=i?.[0];if(n.has(o)||void 0===r[o])return n;for(let t of(n.add(o),r[o]))e({primaryType:t.type,types:r},n);return n}({primaryType:e,types:t});for(let i of(n.delete(e),[e,...Array.from(n).sort()]))r+=`${i}(${t[i].map(({name:e,type:t})=>`${t} ${e}`).join(",")})`;return r}({primaryType:e,types:t}));return(0,a.w)(r)}({primaryType:r,types:i})];for(let l of i[r]){let[r,u]=function t({types:r,name:i,type:s,value:c}){if(void 0!==r[s])return[{type:"bytes32"},(0,a.w)(e({data:c,primaryType:s,types:r}))];if("bytes"===s)return[{type:"bytes32"},(0,a.w)(c)];if("string"===s)return[{type:"bytes32"},(0,a.w)((0,o.NC)(c))];if(s.lastIndexOf("]")===s.length-1){let e=s.slice(0,s.lastIndexOf("[")),o=c.map(n=>t({name:i,type:e,types:r,value:n}));return[{type:"bytes32"},(0,a.w)((0,n.E)(o.map(([e])=>e),o.map(([,e])=>e)))]}return[{type:s},c]}({types:i,name:l.name,type:l.type,value:t[l.name]});s.push(r),c.push(u)}return(0,n.E)(s,c)}({data:e,primaryType:t,types:r});return(0,a.w)(i)}},69021:function(e,t,r){"use strict";r.d(t,{R:function(){return d}});var n=r(31669),i=r(34763),o=r(93610),a=r(20556),s=r(72932),c=r(59455);async function l({hash:e,signature:t}){let n=(0,o.v)(e)?e:(0,c.NC)(e),{secp256k1:i}=await Promise.resolve().then(r.bind(r,10846)),l=(()=>{if("object"==typeof t&&"r"in t&&"s"in t){let{r:e,s:r,v:n,yParity:o}=t,a=u(Number(o??n));return new i.Signature((0,s.y_)(e),(0,s.y_)(r)).addRecoveryBit(a)}let e=(0,o.v)(t)?t:(0,c.NC)(t);if(65!==(0,a.d)(e))throw Error("invalid signature length");let r=u((0,s.ly)(`0x${e.slice(130)}`));return i.Signature.fromCompact(e.substring(2,130)).addRecoveryBit(r)})().recoverPublicKey(n.substring(2)).toHex(!1);return`0x${l}`}function u(e){if(0===e||1===e)return e;if(27===e)return 0;if(28===e)return 1;throw Error("Invalid yParityOrV value")}async function d({hash:e,signature:t}){return function(e){let t=(0,i.w)(`0x${e.substring(4)}`).substring(26);return(0,n.x)(`0x${t}`)}(await l({hash:e,signature:t}))}},77911:function(e,t,r){"use strict";r.d(t,{mF:function(){return l}});var n=r(10052),i=r(47116),o=r(29625),a=r(4012),s=r(59455);function c(e){if(e&&0!==e.length)return e.reduce((e,{slot:t,value:r})=>{if(66!==t.length)throw new i.W_({size:t.length,targetSize:66,type:"hex"});if(66!==r.length)throw new i.W_({size:r.length,targetSize:66,type:"hex"});return e[t]=r,e},{})}function l(e){if(!e)return;let t={};for(let{address:r,...i}of e){if(!(0,a.U)(r,{strict:!1}))throw new n.b({address:r});if(t[r])throw new o.Nc({address:r});t[r]=function(e){let{balance:t,nonce:r,state:n,stateDiff:i,code:a}=e,l={};if(void 0!==a&&(l.code=a),void 0!==t&&(l.balance=(0,s.eC)(t)),void 0!==r&&(l.nonce=(0,s.eC)(r)),void 0!==n&&(l.state=c(n)),void 0!==i){if(l.state)throw new o.Z8;l.stateDiff=c(i)}return l}(i)}return t}},31853:function(e,t,r){"use strict";r.d(t,{P:function(){return n}});let n=(e,t,r)=>JSON.stringify(e,(e,r)=>{let n="bigint"==typeof r?r.toString():r;return"function"==typeof t?t(e,n):n},r)},54605:function(e,t,r){"use strict";r.d(t,{F:function(){return c}});var n=r(19775),i=r(75018),o=r(10052),a=r(78125),s=r(4012);function c(e){let{account:t,maxFeePerGas:r,maxPriorityFeePerGas:c,to:l}=e,u=t?(0,n.T)(t):void 0;if(u&&!(0,s.U)(u.address))throw new o.b({address:u.address});if(l&&!(0,s.U)(l))throw new o.b({address:l});if(r&&r>i.zL)throw new a.Hh({maxFeePerGas:r});if(c&&r&&c>r)throw new a.cs({maxFeePerGas:r,maxPriorityFeePerGas:c})}},99493:function(e,t,r){"use strict";r.d(t,{Xp:function(){return b},cj:function(){return y},H6:function(){return g},iC:function(){return m}});var n=r(65531),i=r(10052),o=r(31853),a=r(81544);class s extends a.G{constructor({domain:e}){super(`Invalid domain "${(0,o.P)(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class c extends a.G{constructor({primaryType:e,types:t}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(t))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class l extends a.G{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}var u=r(4012),d=r(20556),f=r(59455),h=r(23251),p=r(42727);function g(e){let{domain:t,message:r,primaryType:n,types:i}=e,a=(e,t)=>{let r={...t};for(let t of e){let{name:e,type:n}=t;"address"===n&&(r[e]=r[e].toLowerCase())}return r},s=i.EIP712Domain&&t?a(i.EIP712Domain,t):{},c=(()=>{if("EIP712Domain"!==n)return a(i[n],r)})();return(0,o.P)({domain:s,message:c,primaryType:n,types:i})}function m(e){let{domain:t,message:r,primaryType:o,types:a}=e,p=(e,t)=>{for(let r of e){let{name:e,type:o}=r,s=t[e],c=o.match(h.lh);if(c&&("number"==typeof s||"bigint"==typeof s)){let[e,t,r]=c;(0,f.eC)(s,{signed:"int"===t,size:Number.parseInt(r,10)/8})}if("address"===o&&"string"==typeof s&&!(0,u.U)(s))throw new i.b({address:s});let g=o.match(h.eL);if(g){let[e,t]=g;if(t&&(0,d.d)(s)!==Number.parseInt(t,10))throw new n.KY({expectedSize:Number.parseInt(t,10),givenSize:(0,d.d)(s)})}let m=a[o];m&&(function(e){if("address"===e||"bool"===e||"string"===e||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new l({type:e})}(o),p(m,s))}};if(a.EIP712Domain&&t){if("object"!=typeof t)throw new s({domain:t});p(a.EIP712Domain,t)}if("EIP712Domain"!==o){if(a[o])p(a[o],r);else throw new c({primaryType:o,types:a})}}function y({domain:e}){return["string"==typeof e?.name&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},("number"==typeof e?.chainId||"bigint"==typeof e?.chainId)&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function b({domain:e}){return(0,p.og)({domain:e,types:{EIP712Domain:y({domain:e})}})}},78217:function(e,t,r){"use strict";let n;r.d(t,{h:function(){return o}});let i=256;function o(e=11){if(!n||i+e>512){n="",i=0;for(let e=0;e<256;e++)n+=(256+256*Math.random()|0).toString(16).substring(1)}return n.substring(i,i+++e)}},71282:function(e,t,r){"use strict";r.d(t,{d:function(){return o}});var n=r(98173),i=r(39502);function o(e,t="wei"){return(0,i.b)(e,n.ez[t])}},29707:function(e,t,r){"use strict";r.d(t,{o:function(){return o}});var n=r(98173),i=r(39502);function o(e,t="wei"){return(0,i.b)(e,n.Zn[t])}},39502:function(e,t,r){"use strict";function n(e,t){let r=e.toString(),n=r.startsWith("-");n&&(r=r.slice(1));let[i,o]=[(r=r.padStart(t,"0")).slice(0,r.length-t),r.slice(r.length-t)];return o=o.replace(/(0+)$/,""),`${n?"-":""}${i||"0"}${o?`.${o}`:""}`}r.d(t,{b:function(){return n}})},33457:function(e,t,r){"use strict";async function n(e){return new Promise(t=>setTimeout(t,e))}r.d(t,{D:function(){return n}})},10846:function(e,t,r){"use strict";r.d(t,{secp256k1:function(){return eS}});var n=r(10058),i=r(61714);class o extends i.kb{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,i.z3)(e);let r=(0,i.O0)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let n=this.blockLen,o=new Uint8Array(n);o.set(r.length>n?e.create().update(r).digest():r);for(let e=0;e<o.length;e++)o[e]^=54;this.iHash.update(o),this.oHash=e.create();for(let e=0;e<o.length;e++)o[e]^=106;this.oHash.update(o),(0,i.ru)(o)}update(e){return(0,i.$h)(this),this.iHash.update(e),this}digestInto(e){(0,i.$h)(this),(0,i.gk)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:o,outputLen:a}=this;return e.finished=n,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let a=(e,t,r)=>new o(e,t).update(r).digest();a.create=(e,t)=>new o(e,t);let s=BigInt(0),c=BigInt(1);function l(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function u(e){if(!l(e))throw Error("Uint8Array expected")}function d(e,t){if("boolean"!=typeof t)throw Error(e+" boolean expected, got "+t)}function f(e){let t=e.toString(16);return 1&t.length?"0"+t:t}function h(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return""===e?s:BigInt("0x"+e)}let p="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,g=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function m(e){if(u(e),p)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=g[e[r]];return t}let y={_0:48,_9:57,A:65,F:70,a:97,f:102};function b(e){return e>=y._0&&e<=y._9?e-y._0:e>=y.A&&e<=y.F?e-(y.A-10):e>=y.a&&e<=y.f?e-(y.a-10):void 0}function w(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);if(p)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=b(e.charCodeAt(i)),o=b(e.charCodeAt(i+1));if(void 0===r||void 0===o)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+o}return n}function v(e){return h(m(e))}function E(e){return u(e),h(m(Uint8Array.from(e).reverse()))}function x(e,t){return w(e.toString(16).padStart(2*t,"0"))}function A(e,t){return x(e,t).reverse()}function S(e,t,r){let n;if("string"==typeof t)try{n=w(t)}catch(t){throw Error(e+" must be hex string or Uint8Array, cause: "+t)}else if(l(t))n=Uint8Array.from(t);else throw Error(e+" must be hex string or Uint8Array");let i=n.length;if("number"==typeof r&&i!==r)throw Error(e+" of length "+r+" expected, got "+i);return n}function _(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];u(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}let I=e=>"bigint"==typeof e&&s<=e;function C(e,t,r){return I(e)&&I(t)&&I(r)&&t<=e&&e<r}function O(e,t,r,n){if(!C(t,r,n))throw Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}let P=e=>(c<<BigInt(e))-c,T=e=>new Uint8Array(e),k=e=>Uint8Array.from(e),N={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||l(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function M(e,t,r={}){let n=(t,r,n)=>{let i=N[r];if("function"!=typeof i)throw Error("invalid validator function");let o=e[t];if((!n||void 0!==o)&&!i(o,e))throw Error("param "+String(t)+" is invalid. Expected "+r+", got "+o)};for(let[e,r]of Object.entries(t))n(e,r,!1);for(let[e,t]of Object.entries(r))n(e,t,!0);return e}function R(e){let t=new WeakMap;return(r,...n)=>{let i=t.get(r);if(void 0!==i)return i;let o=e(r,...n);return t.set(r,o),o}}let D=BigInt(0),L=BigInt(1),B=BigInt(2),U=BigInt(3),j=BigInt(4),$=BigInt(5),F=BigInt(8);function z(e,t){let r=e%t;return r>=D?r:t+r}function q(e,t,r){let n=e;for(;t-- >D;)n*=n,n%=r;return n}function G(e,t){if(e===D)throw Error("invert: expected non-zero number");if(t<=D)throw Error("invert: expected positive modulus, got "+t);let r=z(e,t),n=t,i=D,o=L,a=L,s=D;for(;r!==D;){let e=n/r,t=n%r,c=i-a*e,l=o-s*e;n=r,r=t,i=a,o=s,a=c,s=l}if(n!==L)throw Error("invert: does not exist");return z(i,t)}function H(e,t){let r=(e.ORDER+L)/j,n=e.pow(t,r);if(!e.eql(e.sqr(n),t))throw Error("Cannot find square root");return n}function V(e,t){let r=(e.ORDER-$)/F,n=e.mul(t,B),i=e.pow(n,r),o=e.mul(t,i),a=e.mul(e.mul(o,B),i),s=e.mul(o,e.sub(a,e.ONE));if(!e.eql(e.sqr(s),t))throw Error("Cannot find square root");return s}let W=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Z(e,t,r=!1){let n=Array(t.length).fill(r?e.ZERO:void 0),i=t.reduce((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r)),e.ONE),o=e.inv(i);return t.reduceRight((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r)),o),n}function K(e,t){let r=(e.ORDER-L)/B,n=e.pow(t,r),i=e.eql(n,e.ONE),o=e.eql(n,e.ZERO),a=e.eql(n,e.neg(e.ONE));if(!i&&!o&&!a)throw Error("invalid Legendre symbol result");return i?1:o?0:-1}function Y(e,t){void 0!==t&&(0,i.k8)(t);let r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function J(e,t,r=!1,n={}){let i;if(e<=D)throw Error("invalid field: expected ORDER > 0, got "+e);let{nBitLength:o,nByteLength:a}=Y(e,t);if(a>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let s=Object.freeze({ORDER:e,isLE:r,BITS:o,BYTES:a,MASK:P(o),ZERO:D,ONE:L,create:t=>z(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error("invalid field element: expected bigint, got "+typeof t);return D<=t&&t<e},is0:e=>e===D,isOdd:e=>(e&L)===L,neg:t=>z(-t,e),eql:(e,t)=>e===t,sqr:t=>z(t*t,e),add:(t,r)=>z(t+r,e),sub:(t,r)=>z(t-r,e),mul:(t,r)=>z(t*r,e),pow:(e,t)=>(function(e,t,r){if(r<D)throw Error("invalid exponent, negatives unsupported");if(r===D)return e.ONE;if(r===L)return t;let n=e.ONE,i=t;for(;r>D;)r&L&&(n=e.mul(n,i)),i=e.sqr(i),r>>=L;return n})(s,e,t),div:(t,r)=>z(t*G(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>G(t,e),sqrt:n.sqrt||(t=>(!i&&(i=e%j===U?H:e%F===$?V:function(e){if(e<BigInt(3))throw Error("sqrt is not defined for small field");let t=e-L,r=0;for(;t%B===D;)t/=B,r++;let n=B,i=J(e);for(;1===K(i,n);)if(n++>1e3)throw Error("Cannot find square root: probably non-prime P");if(1===r)return H;let o=i.pow(n,t),a=(t+L)/B;return function(e,n){if(e.is0(n))return n;if(1!==K(e,n))throw Error("Cannot find square root");let i=r,s=e.mul(e.ONE,o),c=e.pow(n,t),l=e.pow(n,a);for(;!e.eql(c,e.ONE);){if(e.is0(c))return e.ZERO;let t=1,r=e.sqr(c);for(;!e.eql(r,e.ONE);)if(t++,r=e.sqr(r),t===i)throw Error("Cannot find square root");let n=L<<BigInt(i-t-1),o=e.pow(s,n);i=t,s=e.sqr(o),c=e.mul(c,s),l=e.mul(l,o)}return l}}(e)),i(s,t))),toBytes:e=>r?A(e,a):x(e,a),fromBytes:e=>{if(e.length!==a)throw Error("Field.fromBytes: expected "+a+" bytes, got "+e.length);return r?E(e):v(e)},invertBatch:e=>Z(s,e),cmov:(e,t,r)=>r?t:e});return Object.freeze(s)}function X(e){if("bigint"!=typeof e)throw Error("field order must be bigint");return Math.ceil(e.toString(2).length/8)}function Q(e){let t=X(e);return t+Math.ceil(t/2)}let ee=BigInt(0),et=BigInt(1);function er(e,t){let r=t.negate();return e?r:t}function en(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw Error("invalid window size, expected [1.."+t+"], got W="+e)}function ei(e,t){en(e,t);let r=Math.ceil(t/e)+1,n=2**(e-1),i=2**e;return{windows:r,windowSize:n,mask:P(e),maxNumber:i,shiftBy:BigInt(e)}}function eo(e,t,r){let{windowSize:n,mask:i,maxNumber:o,shiftBy:a}=r,s=Number(e&i),c=e>>a;s>n&&(s-=o,c+=et);let l=t*n,u=l+Math.abs(s)-1;return{nextN:c,offset:u,isZero:0===s,isNeg:s<0,isNegF:t%2!=0,offsetF:l}}let ea=new WeakMap,es=new WeakMap;function ec(e){return es.get(e)||1}function el(e){return M(e.Fp,W.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),M(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Y(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function eu(e){void 0!==e.lowS&&d("lowS",e.lowS),void 0!==e.prehash&&d("prehash",e.prehash)}class ed extends Error{constructor(e=""){super(e)}}let ef={Err:ed,_tlv:{encode:(e,t)=>{let{Err:r}=ef;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");let n=t.length/2,i=f(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");let o=n>127?f(i.length/2|128):"";return f(e)+o+i+t},decode(e,t){let{Err:r}=ef,n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");let i=t[n++],o=0;if(128&i){let e=127&i;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");let a=t.subarray(n,n+e);if(a.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===a[0])throw new r("tlv.decode(long): zero leftmost byte");for(let e of a)o=o<<8|e;if(n+=e,o<128)throw new r("tlv.decode(long): not minimal encoding")}else o=i;let a=t.subarray(n,n+o);if(a.length!==o)throw new r("tlv.decode: wrong value length");return{v:a,l:t.subarray(n+o)}}},_int:{encode(e){let{Err:t}=ef;if(e<eh)throw new t("integer: negative integers are not allowed");let r=f(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){let{Err:t}=ef;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return v(e)}},toSig(e){let{Err:t,_int:r,_tlv:n}=ef,i=S("signature",e),{v:o,l:a}=n.decode(48,i);if(a.length)throw new t("invalid signature: left bytes after parsing");let{v:s,l:c}=n.decode(2,o),{v:l,l:u}=n.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(s),s:r.decode(l)}},hexFromSig(e){let{_tlv:t,_int:r}=ef,n=t.encode(2,r.encode(e.r)),i=t.encode(2,r.encode(e.s));return t.encode(48,n+i)}},eh=BigInt(0),ep=BigInt(1),eg=(BigInt(2),BigInt(3)),em=BigInt(4),ey=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),eb=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),ew=BigInt(0),ev=BigInt(1),eE=BigInt(2),ex=(e,t)=>(e+t/eE)/t,eA=J(ey,void 0,void 0,{sqrt:function(e){let t=BigInt(3),r=BigInt(6),n=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),s=BigInt(88),c=e*e*e%ey,l=c*c*e%ey,u=q(l,t,ey)*l%ey,d=q(u,t,ey)*l%ey,f=q(d,eE,ey)*c%ey,h=q(f,n,ey)*f%ey,p=q(h,i,ey)*h%ey,g=q(p,a,ey)*p%ey,m=q(g,s,ey)*g%ey,y=q(m,a,ey)*p%ey,b=q(y,t,ey)*l%ey,w=q(b,o,ey)*h%ey,v=q(w,r,ey)*c%ey,E=q(v,eE,ey);if(!eA.eql(eA.sqr(E),e))throw Error("Cannot find square root");return E}}),eS=function(e,t){let r=t=>(function(e){let t=function(e){let t=el(e);return M(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:r,n:n,nByteLength:i,nBitLength:o}=t,a=r.BYTES+1,u=2*r.BYTES+1;function f(e){return z(e,n)}let{ProjectivePoint:h,normPrivateKeyToScalar:p,weierstrassEquation:g,isWithinCurveOrder:y}=function(e){var t;let r=function(e){let t=el(e);M(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});let{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw Error("invalid endo: CURVE.a must be 0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}(e),{Fp:n}=r,i=J(r.n,r.nBitLength),o=r.toBytes||((e,t,r)=>{let i=t.toAffine();return _(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),a=r.fromBytes||(e=>{let t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function u(e){let{a:t,b:i}=r,o=n.sqr(e),a=n.mul(o,e);return n.add(n.add(a,n.mul(e,t)),i)}function f(e,t){let r=n.sqr(t),i=u(e);return n.eql(r,i)}if(!f(r.Gx,r.Gy))throw Error("bad curve params: generator point");let h=n.mul(n.pow(r.a,eg),em),p=n.mul(n.sqr(r.b),BigInt(27));if(n.is0(n.add(h,p)))throw Error("bad curve params: a or b");function g(e){let t;let{allowedPrivateKeyLengths:n,nByteLength:i,wrapPrivateKey:o,n:a}=r;if(n&&"bigint"!=typeof e){if(l(e)&&(e=m(e)),"string"!=typeof e||!n.includes(e.length))throw Error("invalid private key");e=e.padStart(2*i,"0")}try{t="bigint"==typeof e?e:v(S("private key",e,i))}catch(t){throw Error("invalid private key, expected hex or "+i+" bytes, got "+typeof e)}return o&&(t=z(t,a)),O("private key",t,ep,a),t}function y(e){if(!(e instanceof E))throw Error("ProjectivePoint expected")}let b=R((e,t)=>{let{px:r,py:i,pz:o}=e;if(n.eql(o,n.ONE))return{x:r,y:i};let a=e.is0();null==t&&(t=a?n.ONE:n.inv(o));let s=n.mul(r,t),c=n.mul(i,t),l=n.mul(o,t);if(a)return{x:n.ZERO,y:n.ZERO};if(!n.eql(l,n.ONE))throw Error("invZ was invalid");return{x:s,y:c}}),w=R(e=>{if(e.is0()){if(r.allowInfinityPoint&&!n.is0(e.py))return;throw Error("bad point: ZERO")}let{x:t,y:i}=e.toAffine();if(!n.isValid(t)||!n.isValid(i))throw Error("bad point: x or y not FE");if(!f(t,i))throw Error("bad point: equation left != right");if(!e.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0});class E{constructor(e,t,r){if(null==e||!n.isValid(e))throw Error("x required");if(null==t||!n.isValid(t)||n.is0(t))throw Error("y required");if(null==r||!n.isValid(r))throw Error("z required");this.px=e,this.py=t,this.pz=r,Object.freeze(this)}static fromAffine(e){let{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw Error("invalid affine point");if(e instanceof E)throw Error("projective point not allowed");let i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?E.ZERO:new E(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){let t=Z(n,e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(E.fromAffine)}static fromHex(e){let t=E.fromAffine(a(S("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return E.BASE.multiply(g(e))}static msm(e,t){return function(e,t,r,n){!function(e,t){if(!Array.isArray(e))throw Error("array expected");e.forEach((e,r)=>{if(!(e instanceof t))throw Error("invalid point at index "+r)})}(r,e),function(e,t){if(!Array.isArray(e))throw Error("array of scalars expected");e.forEach((e,r)=>{if(!t.isValid(e))throw Error("invalid scalar at index "+r)})}(n,t);let i=r.length,o=n.length;if(i!==o)throw Error("arrays of points and scalars must have equal length");let a=e.ZERO,l=function(e){let t;for(t=0;e>s;e>>=c,t+=1);return t}(BigInt(i)),u=1;l>12?u=l-3:l>4?u=l-2:l>0&&(u=2);let d=P(u),f=Array(Number(d)+1).fill(a),h=Math.floor((t.BITS-1)/u)*u,p=a;for(let e=h;e>=0;e-=u){f.fill(a);for(let t=0;t<o;t++){let i=Number(n[t]>>BigInt(e)&d);f[i]=f[i].add(r[t])}let t=a;for(let e=f.length-1,r=a;e>0;e--)r=r.add(f[e]),t=t.add(r);if(p=p.add(t),0!==e)for(let e=0;e<u;e++)p=p.double()}return p}(E,i,e,t)}_setWindowSize(e){I.setWindowSize(this,e)}assertValidity(){w(this)}hasEvenY(){let{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw Error("Field doesn't support isOdd")}equals(e){y(e);let{px:t,py:r,pz:i}=this,{px:o,py:a,pz:s}=e,c=n.eql(n.mul(t,s),n.mul(o,i)),l=n.eql(n.mul(r,s),n.mul(a,i));return c&&l}negate(){return new E(this.px,n.neg(this.py),this.pz)}double(){let{a:e,b:t}=r,i=n.mul(t,eg),{px:o,py:a,pz:s}=this,c=n.ZERO,l=n.ZERO,u=n.ZERO,d=n.mul(o,o),f=n.mul(a,a),h=n.mul(s,s),p=n.mul(o,a);return p=n.add(p,p),u=n.mul(o,s),u=n.add(u,u),c=n.mul(e,u),l=n.mul(i,h),l=n.add(c,l),c=n.sub(f,l),l=n.add(f,l),l=n.mul(c,l),c=n.mul(p,c),u=n.mul(i,u),h=n.mul(e,h),p=n.sub(d,h),p=n.mul(e,p),p=n.add(p,u),u=n.add(d,d),d=n.add(u,d),d=n.add(d,h),d=n.mul(d,p),l=n.add(l,d),h=n.mul(a,s),h=n.add(h,h),d=n.mul(h,p),c=n.sub(c,d),u=n.mul(h,f),u=n.add(u,u),new E(c,l,u=n.add(u,u))}add(e){y(e);let{px:t,py:i,pz:o}=this,{px:a,py:s,pz:c}=e,l=n.ZERO,u=n.ZERO,d=n.ZERO,f=r.a,h=n.mul(r.b,eg),p=n.mul(t,a),g=n.mul(i,s),m=n.mul(o,c),b=n.add(t,i),w=n.add(a,s);b=n.mul(b,w),w=n.add(p,g),b=n.sub(b,w),w=n.add(t,o);let v=n.add(a,c);return w=n.mul(w,v),v=n.add(p,m),w=n.sub(w,v),v=n.add(i,o),l=n.add(s,c),v=n.mul(v,l),l=n.add(g,m),v=n.sub(v,l),d=n.mul(f,w),l=n.mul(h,m),d=n.add(l,d),l=n.sub(g,d),d=n.add(g,d),u=n.mul(l,d),g=n.add(p,p),g=n.add(g,p),m=n.mul(f,m),w=n.mul(h,w),g=n.add(g,m),m=n.sub(p,m),m=n.mul(f,m),w=n.add(w,m),p=n.mul(g,w),u=n.add(u,p),p=n.mul(v,w),l=n.mul(b,l),l=n.sub(l,p),p=n.mul(b,g),d=n.mul(v,d),new E(l,u,d=n.add(d,p))}subtract(e){return this.add(e.negate())}is0(){return this.equals(E.ZERO)}wNAF(e){return I.wNAFCached(this,e,E.normalizeZ)}multiplyUnsafe(e){let{endo:t,n:i}=r;O("scalar",e,eh,i);let o=E.ZERO;if(e===eh)return o;if(this.is0()||e===ep)return this;if(!t||I.hasPrecomputes(this))return I.wNAFCachedUnsafe(this,e,E.normalizeZ);let{k1neg:a,k1:s,k2neg:c,k2:l}=t.splitScalar(e),u=o,d=o,f=this;for(;s>eh||l>eh;)s&ep&&(u=u.add(f)),l&ep&&(d=d.add(f)),f=f.double(),s>>=ep,l>>=ep;return a&&(u=u.negate()),c&&(d=d.negate()),d=new E(n.mul(d.px,t.beta),d.py,d.pz),u.add(d)}multiply(e){let t,i;let{endo:o,n:a}=r;if(O("scalar",e,ep,a),o){let{k1neg:r,k1:a,k2neg:s,k2:c}=o.splitScalar(e),{p:l,f:u}=this.wNAF(a),{p:d,f:f}=this.wNAF(c);l=I.constTimeNegate(r,l),d=I.constTimeNegate(s,d),d=new E(n.mul(d.px,o.beta),d.py,d.pz),t=l.add(d),i=u.add(f)}else{let{p:r,f:n}=this.wNAF(e);t=r,i=n}return E.normalizeZ([t,i])[0]}multiplyAndAddUnsafe(e,t,r){let n=E.BASE,i=(e,t)=>t!==eh&&t!==ep&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),o=i(this,t).add(i(e,r));return o.is0()?void 0:o}toAffine(e){return b(this,e)}isTorsionFree(){let{h:e,isTorsionFree:t}=r;if(e===ep)return!0;if(t)return t(E,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:e,clearCofactor:t}=r;return e===ep?this:t?t(E,this):this.multiplyUnsafe(r.h)}toRawBytes(e=!0){return d("isCompressed",e),this.assertValidity(),o(E,this,e)}toHex(e=!0){return d("isCompressed",e),m(this.toRawBytes(e))}}E.BASE=new E(r.Gx,r.Gy,n.ONE),E.ZERO=new E(n.ZERO,n.ONE,n.ZERO);let{endo:x,nBitLength:A}=r,I=(t=x?Math.ceil(A/2):A,{constTimeNegate:er,hasPrecomputes:e=>1!==ec(e),unsafeLadder(e,t,r=E.ZERO){let n=e;for(;t>ee;)t&et&&(r=r.add(n)),n=n.double(),t>>=et;return r},precomputeWindow(e,r){let{windows:n,windowSize:i}=ei(r,t),o=[],a=e,s=a;for(let e=0;e<n;e++){s=a,o.push(s);for(let e=1;e<i;e++)s=s.add(a),o.push(s);a=s.double()}return o},wNAF(e,r,n){let i=E.ZERO,o=E.BASE,a=ei(e,t);for(let e=0;e<a.windows;e++){let{nextN:t,offset:s,isZero:c,isNeg:l,isNegF:u,offsetF:d}=eo(n,e,a);n=t,c?o=o.add(er(u,r[d])):i=i.add(er(l,r[s]))}return{p:i,f:o}},wNAFUnsafe(e,r,n,i=E.ZERO){let o=ei(e,t);for(let e=0;e<o.windows&&n!==ee;e++){let{nextN:t,offset:a,isZero:s,isNeg:c}=eo(n,e,o);if(n=t,!s){let e=r[a];i=i.add(c?e.negate():e)}}return i},getPrecomputes(e,t,r){let n=ea.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&ea.set(t,r(n))),n},wNAFCached(e,t,r){let n=ec(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)},wNAFCachedUnsafe(e,t,r,n){let i=ec(e);return 1===i?this.unsafeLadder(e,t,n):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),t,n)},setWindowSize(e,r){en(r,t),es.set(e,r),ea.delete(e)}});return{CURVE:r,ProjectivePoint:E,normPrivateKeyToScalar:g,weierstrassEquation:u,isWithinCurveOrder:function(e){return C(e,ep,r.n)}}}({...t,toBytes(e,t,n){let i=t.toAffine(),o=r.toBytes(i.x);return(d("isCompressed",n),n)?_(Uint8Array.from([t.hasEvenY()?2:3]),o):_(Uint8Array.from([4]),o,r.toBytes(i.y))},fromBytes(e){let t=e.length,n=e[0],i=e.subarray(1);if(t===a&&(2===n||3===n)){let e;let t=v(i);if(!C(t,ep,r.ORDER))throw Error("Point is not on curve");let o=g(t);try{e=r.sqrt(o)}catch(e){throw Error("Point is not on curve"+(e instanceof Error?": "+e.message:""))}return(1&n)==1!=((e&ep)===ep)&&(e=r.neg(e)),{x:t,y:e}}if(t===u&&4===n)return{x:r.fromBytes(i.subarray(0,r.BYTES)),y:r.fromBytes(i.subarray(r.BYTES,2*r.BYTES))};throw Error("invalid Point, expected length of "+a+", or uncompressed "+u+", got "+t)}}),b=(e,t,r)=>v(e.slice(t,r));class I{constructor(e,t,r){O("r",e,ep,n),O("s",t,ep,n),this.r=e,this.s=t,null!=r&&(this.recovery=r),Object.freeze(this)}static fromCompact(e){return new I(b(e=S("compactSignature",e,2*i),0,i),b(e,i,2*i))}static fromDER(e){let{r:t,s:r}=ef.toSig(S("DER",e));return new I(t,r)}assertValidity(){}addRecoveryBit(e){return new I(this.r,this.s,e)}recoverPublicKey(e){let{r:i,s:o,recovery:a}=this,s=B(S("msgHash",e));if(null==a||![0,1,2,3].includes(a))throw Error("recovery id invalid");let c=2===a||3===a?i+t.n:i;if(c>=r.ORDER)throw Error("recovery id 2 or 3 invalid");let l=(1&a)==0?"02":"03",u=h.fromHex(l+m(x(c,r.BYTES))),d=G(c,n),p=f(-s*d),g=f(o*d),y=h.BASE.multiplyAndAddUnsafe(u,p,g);if(!y)throw Error("point at infinify");return y.assertValidity(),y}hasHighS(){return this.s>n>>ep}normalizeS(){return this.hasHighS()?new I(this.r,f(-this.s),this.recovery):this}toDERRawBytes(){return w(this.toDERHex())}toDERHex(){return ef.hexFromSig(this)}toCompactRawBytes(){return w(this.toCompactHex())}toCompactHex(){return m(x(this.r,i))+m(x(this.s,i))}}function N(e){if("bigint"==typeof e)return!1;if(e instanceof h)return!0;let n=S("key",e).length,o=r.BYTES,a=o+1;if(!t.allowedPrivateKeyLengths&&i!==a)return n===a||n===2*o+1}let D=t.bits2int||function(e){if(e.length>8192)throw Error("input is too large");let t=v(e),r=8*e.length-o;return r>0?t>>BigInt(r):t},B=t.bits2int_modN||function(e){return f(D(e))},U=P(o);function j(e){return O("num < 2^"+o,e,eh,U),x(e,i)}let $={lowS:t.lowS,prehash:!1},F={lowS:t.lowS,prehash:!1};return h.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return h.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(!0===N(e))throw Error("first arg must be private key");if(!1===N(t))throw Error("second arg must be public key");return h.fromHex(t).multiply(p(e)).toRawBytes(r)},sign:function(e,i,o=$){let{seed:a,k2sig:s}=function(e,i,o=$){if(["recovered","canonical"].some(e=>e in o))throw Error("sign() legacy options not supported");let{hash:a,randomBytes:s}=t,{lowS:c,prehash:l,extraEntropy:u}=o;null==c&&(c=!0),e=S("msgHash",e),eu(o),l&&(e=S("prehashed msgHash",a(e)));let d=B(e),g=p(i),m=[j(g),j(d)];if(null!=u&&!1!==u){let e=!0===u?s(r.BYTES):u;m.push(S("extraEntropy",e))}return{seed:_(...m),k2sig:function(e){let t=D(e);if(!y(t))return;let r=G(t,n),i=h.BASE.multiply(t).toAffine(),o=f(i.x);if(o===eh)return;let a=f(r*f(d+o*g));if(a===eh)return;let s=(i.x===o?0:2)|Number(i.y&ep),l=a;if(c&&a>n>>ep)l=a>n>>ep?f(-a):a,s^=1;return new I(o,l,s)}}}(e,i,o);return(function(e,t,r){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let n=T(e),i=T(e),o=0,a=()=>{n.fill(1),i.fill(0),o=0},s=(...e)=>r(i,n,...e),c=(e=T(0))=>{i=s(k([0]),e),n=s(),0!==e.length&&(i=s(k([1]),e),n=s())},l=()=>{if(o++>=1e3)throw Error("drbg: tried 1000 values");let e=0,r=[];for(;e<t;){let t=(n=s()).slice();r.push(t),e+=n.length}return _(...r)};return(e,t)=>{let r;for(a(),c(e);!(r=t(l()));)c();return a(),r}})(t.hash.outputLen,t.nByteLength,t.hmac)(a,s)},verify:function(e,r,i,o=F){let a,s;r=S("msgHash",r),i=S("publicKey",i);let{lowS:c,prehash:u,format:d}=o;if(eu(o),"strict"in o)throw Error("options.strict was renamed to lowS");if(void 0!==d&&"compact"!==d&&"der"!==d)throw Error("format must be compact or der");let p="string"==typeof e||l(e),g=!p&&!d&&"object"==typeof e&&null!==e&&"bigint"==typeof e.r&&"bigint"==typeof e.s;if(!p&&!g)throw Error("invalid signature, expected Uint8Array, hex string or Signature instance");try{if(g&&(s=new I(e.r,e.s)),p){try{"compact"!==d&&(s=I.fromDER(e))}catch(e){if(!(e instanceof ef.Err))throw e}s||"der"===d||(s=I.fromCompact(e))}a=h.fromHex(i)}catch(e){return!1}if(!s||c&&s.hasHighS())return!1;u&&(r=t.hash(r));let{r:m,s:y}=s,b=B(r),w=G(y,n),v=f(b*w),E=f(m*w),x=h.BASE.multiplyAndAddUnsafe(a,v,E)?.toAffine();return!!x&&f(x.x)===m},ProjectivePoint:h,Signature:I,utils:{isValidPrivateKey(e){try{return p(e),!0}catch(e){return!1}},normPrivateKeyToScalar:p,randomPrivateKey:()=>{let e=Q(t.n);return function(e,t,r=!1){let n=e.length,i=X(t),o=Q(t);if(n<16||n<o||n>1024)throw Error("expected "+o+"-1024 bytes of input, got "+n);let a=z(r?E(e):v(e),t-L)+L;return r?A(a,i):x(a,i)}(t.randomBytes(e),t.n)},precompute:(e=8,t=h.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}})({...e,hash:t,hmac:(e,...r)=>a(t,e,(0,i.eV)(...r)),randomBytes:i.O6});return{...r(t),create:r}}({a:ew,b:BigInt(7),Fp:eA,n:eb,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-ev*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=BigInt("0x100000000000000000000000000000000"),o=ex(t*e,eb),a=ex(-r*e,eb),s=z(e-o*t-a*n,eb),c=z(-o*r-a*t,eb),l=s>i,u=c>i;if(l&&(s=eb-s),u&&(c=eb-c),s>i||c>i)throw Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:l,k1:s,k2neg:u,k2:c}}}},n.JQ)},42802:function(e,t,r){"use strict";r.d(t,{$p:function(){return d},EP:function(){return f},FL:function(){return u},Fn:function(){return b},IH:function(){return m},Iq:function(){return s},NI:function(){return a},Ou:function(){return l},SD:function(){return p},Vl:function(){return o},Xb:function(){return w},ac:function(){return y},gm:function(){return h},m_:function(){return c},mk:function(){return g},pp:function(){return x},u8:function(){return v},zP:function(){return E}});let n=BigInt(4294967296-1),i=BigInt(32);function o(e,t=!1){let r=e.length,o=new Uint32Array(r),a=new Uint32Array(r);for(let s=0;s<r;s++){let{h:r,l:c}=function(e,t=!1){return t?{h:Number(e&n),l:Number(e>>i&n)}:{h:0|Number(e>>i&n),l:0|Number(e&n)}}(e[s],t);[o[s],a[s]]=[r,c]}return[o,a]}let a=(e,t,r)=>e>>>r,s=(e,t,r)=>e<<32-r|t>>>r,c=(e,t,r)=>e>>>r|t<<32-r,l=(e,t,r)=>e<<32-r|t>>>r,u=(e,t,r)=>e<<64-r|t>>>r-32,d=(e,t,r)=>e>>>r-32|t<<64-r,f=(e,t,r)=>e<<r|t>>>32-r,h=(e,t,r)=>t<<r|e>>>32-r,p=(e,t,r)=>t<<r-32|e>>>64-r,g=(e,t,r)=>e<<r-32|t>>>64-r;function m(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/4294967296|0)|0,l:0|i}}let y=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),b=(e,t,r,n)=>t+r+n+(e/4294967296|0)|0,w=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),v=(e,t,r,n,i)=>t+r+n+i+(e/4294967296|0)|0,E=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0),x=(e,t,r,n,i,o)=>t+r+n+i+o+(e/4294967296|0)|0},10058:function(e,t,r){"use strict";r.d(t,{JQ:function(){return d}});var n=r(61714);class i extends n.kb{constructor(e,t,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=(0,n.GL)(this.buffer)}update(e){(0,n.$h)(this),e=(0,n.O0)(e),(0,n.gk)(e);let{view:t,buffer:r,blockLen:i}=this,o=e.length;for(let a=0;a<o;){let s=Math.min(i-this.pos,o-a);if(s===i){let t=(0,n.GL)(e);for(;i<=o-a;a+=i)this.process(t,a);continue}r.set(e.subarray(a,a+s),this.pos),this.pos+=s,a+=s,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,n.$h)(this),(0,n.eB)(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:i,isLE:o}=this,{pos:a}=this;t[a++]=128,(0,n.ru)(this.buffer.subarray(a)),this.padOffset>i-a&&(this.process(r,0),a=0);for(let e=a;e<i;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),o=BigInt(4294967295),a=Number(r>>i&o),s=Number(r&o),c=n?4:0,l=n?0:4;e.setUint32(t+c,a,n),e.setUint32(t+l,s,n)}(r,i-8,BigInt(8*this.length),o),this.process(r,0);let s=(0,n.GL)(e),c=this.outputLen;if(c%4)throw Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,u=this.get();if(l>u.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)s.setUint32(4*e,u[e],o)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=i,e.length=n,e.pos=a,n%t&&e.buffer.set(r),e}clone(){return this._cloneInto()}}let o=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);var a=r(42802);let s=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),c=new Uint32Array(64);class l extends i{constructor(e=32){super(64,e,8,!1),this.A=0|o[0],this.B=0|o[1],this.C=0|o[2],this.D=0|o[3],this.E=0|o[4],this.F=0|o[5],this.G=0|o[6],this.H=0|o[7]}get(){let{A:e,B:t,C:r,D:n,E:i,F:o,G:a,H:s}=this;return[e,t,r,n,i,o,a,s]}set(e,t,r,n,i,o,a,s){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|a,this.H=0|s}process(e,t){for(let r=0;r<16;r++,t+=4)c[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=c[e-15],r=c[e-2],i=(0,n.np)(t,7)^(0,n.np)(t,18)^t>>>3,o=(0,n.np)(r,17)^(0,n.np)(r,19)^r>>>10;c[e]=o+c[e-7]+i+c[e-16]|0}let{A:r,B:i,C:o,D:a,E:l,F:u,G:d,H:f}=this;for(let e=0;e<64;e++){var h,p,g,m;let t=f+((0,n.np)(l,6)^(0,n.np)(l,11)^(0,n.np)(l,25))+((h=l)&u^~h&d)+s[e]+c[e]|0,y=((0,n.np)(r,2)^(0,n.np)(r,13)^(0,n.np)(r,22))+((p=r)&(g=i)^p&(m=o)^g&m)|0;f=d,d=u,u=l,l=a+t|0,a=o,o=i,i=r,r=t+y|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,a=a+this.D|0,l=l+this.E|0,u=u+this.F|0,d=d+this.G|0,f=f+this.H|0,this.set(r,i,o,a,l,u,d,f)}roundClean(){(0,n.ru)(c)}destroy(){this.set(0,0,0,0,0,0,0,0),(0,n.ru)(this.buffer)}}let u=a.Vl(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e)));u[0],u[1];let d=(0,n.V1)(()=>new l)},61714:function(e,t,r){"use strict";r.d(t,{kb:function(){return m},gk:function(){return o},$h:function(){return s},z3:function(){return a},k8:function(){return i},eB:function(){return c},ru:function(){return u},eV:function(){return g},V1:function(){return y},GL:function(){return d},O6:function(){return b},np:function(){return f},Ux:function(){return h},O0:function(){return p},Jq:function(){return l}});let n="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function i(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function o(e,...t){if(!(e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function a(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.createHasher");i(e.outputLen),i(e.blockLen)}function s(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function c(e,t){o(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}function l(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function u(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function d(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function f(e,t){return e<<32-t|e>>>t}let h=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]?e=>e:function(e){for(let r=0;r<e.length;r++){var t;e[r]=(t=e[r])<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}return e};function p(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}(e)),o(e),e}function g(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];o(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}class m{}function y(e){let t=t=>e().update(p(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function b(e=32){if(n&&"function"==typeof n.getRandomValues)return n.getRandomValues(new Uint8Array(e));if(n&&"function"==typeof n.randomBytes)return Uint8Array.from(n.randomBytes(e));throw Error("crypto.getRandomValues must be defined")}},72138:function(e,t,r){"use strict";r.d(t,{G:function(){return n}});class n extends Error{constructor(e,t={}){let r=t.cause instanceof n?t.cause.details:t.cause?.message?t.cause.message:t.details,i=t.cause instanceof n&&t.cause.docsPath||t.docsPath;super([e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...r?[`Details: ${r}`]:[],"Version: abitype@1.2.3"].join("\n")),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),t.cause&&(this.cause=t.cause),this.details=r,this.docsPath=i,this.metaMessages=t.metaMessages,this.shortMessage=e}}},67995:function(e,t,r){"use strict";r.d(t,{F:function(){return i},Hk:function(){return o}});var n=r(72138);class i extends n.G{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class o extends n.G{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}},97913:function(e,t,r){"use strict";r.d(t,{$r:function(){return i},TT:function(){return a},_D:function(){return c},aZ:function(){return l},jO:function(){return o},zL:function(){return s}});var n=r(72138);class i extends n.G{constructor({params:e}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class o extends n.G{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class a extends n.G{constructor({param:e,name:t}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${t}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class s extends n.G{constructor({param:e,type:t,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${t?` in "${t}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class c extends n.G{constructor({param:e,type:t,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${t?` in "${t}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class l extends n.G{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}},36701:function(e,t,r){"use strict";r.d(t,{H6:function(){return a},Vs:function(){return o},wn:function(){return i}});var n=r(72138);class i extends n.G{constructor({signature:e,type:t}){super(`Invalid ${t} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class o extends n.G{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class a extends n.G{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}},75475:function(e,t,r){"use strict";r.d(t,{V:function(){return a}});var n=r(99940),i=r(19540),o=r(64289);function a(e){let t=(0,i.D)(e),r=[],a=e.length;for(let i=0;i<a;i++){let a=e[i];(0,n.N0)(a)||r.push((0,o.cK)(a,t))}return r}},26374:function(e,t,r){"use strict";r.d(t,{n:function(){return s}});var n=r(97913),i=r(99940),o=r(19540),a=r(64289);function s(e){let t=[];if("string"==typeof e){let r=(0,a.Q4)(e),n=r.length;for(let e=0;e<n;e++)t.push((0,a.C$)(r[e],{modifiers:i.LY}))}else{let r=(0,o.D)(e),n=e.length;for(let o=0;o<n;o++){let n=e[o];if((0,i.N0)(n))continue;let s=(0,a.Q4)(n),c=s.length;for(let e=0;e<c;e++)t.push((0,a.C$)(s[e],{modifiers:i.LY,structs:r}))}}if(0===t.length)throw new n.$r({params:e});return t}},99940:function(e,t,r){"use strict";r.d(t,{Dt:function(){return I},EC:function(){return v},LY:function(){return S},N0:function(){return p},PI:function(){return b},QM:function(){return A},SA:function(){return a},Wg:function(){return _},_c:function(){return o},a4:function(){return y},c3:function(){return c},g1:function(){return g},l$:function(){return f},qm:function(){return E},rh:function(){return d},wA:function(){return l}});var n=r(62619);let i=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function o(e){return i.test(e)}function a(e){return(0,n.Zw)(i,e)}let s=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function c(e){return s.test(e)}function l(e){return(0,n.Zw)(s,e)}let u=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function d(e){return u.test(e)}function f(e){return(0,n.Zw)(u,e)}let h=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function p(e){return h.test(e)}function g(e){return(0,n.Zw)(h,e)}let m=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function y(e){return m.test(e)}function b(e){return(0,n.Zw)(m,e)}let w=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function v(e){return w.test(e)}function E(e){return(0,n.Zw)(w,e)}let x=/^receive\(\) external payable$/;function A(e){return x.test(e)}let S=new Set(["memory","indexed","storage","calldata"]),_=new Set(["indexed"]),I=new Set(["calldata","memory","storage"])},19540:function(e,t,r){"use strict";r.d(t,{D:function(){return d}});var n=r(62619),i=r(67995),o=r(97913),a=r(36701),s=r(72138);class c extends s.G{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}var l=r(99940),u=r(64289);function d(e){let t={},r=e.length;for(let n=0;n<r;n++){let r=e[n];if(!(0,l.N0)(r))continue;let i=(0,l.g1)(r);if(!i)throw new a.wn({signature:r,type:"struct"});let o=i.properties.split(";"),s=[],c=o.length;for(let e=0;e<c;e++){let t=o[e].trim();if(!t)continue;let r=(0,u.C$)(t,{type:"struct"});s.push(r)}if(!s.length)throw new a.H6({signature:r});t[i.name]=s}let s={},d=Object.entries(t),h=d.length;for(let e=0;e<h;e++){let[r,a]=d[e];s[r]=function e(t=[],r={},a=new Set){let s=[],l=t.length;for(let d=0;d<l;d++){let l=t[d];if(n.cN.test(l.type))s.push(l);else{let t=(0,n.Zw)(f,l.type);if(!t?.type)throw new o.aZ({abiParameter:l});let{array:d,type:h}=t;if(h in r){if(a.has(h))throw new c({type:h});s.push({...l,type:`tuple${d??""}`,components:e(r[h],r,new Set([...a,h]))})}else if((0,u.uN)(h))s.push(l);else throw new i.F({type:h})}}return s}(a,t)}return s}let f=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/},64289:function(e,t,r){"use strict";r.d(t,{uN:function(){return y},C$:function(){return g},cK:function(){return d},Q4:function(){return m}});var n=r(62619),i=r(67995),o=r(97913),a=r(36701),s=r(72138);class c extends s.G{constructor({current:e,depth:t}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${t>0?"opening":"closing"} parentheses.`],details:`Depth "${t}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}let l=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);var u=r(99940);function d(e,t={}){if((0,u.rh)(e))return function(e,t={}){let r=(0,u.l$)(e);if(!r)throw new a.wn({signature:e,type:"function"});let n=m(r.parameters),i=[],o=n.length;for(let e=0;e<o;e++)i.push(g(n[e],{modifiers:u.Dt,structs:t,type:"function"}));let s=[];if(r.returns){let e=m(r.returns),n=e.length;for(let r=0;r<n;r++)s.push(g(e[r],{modifiers:u.Dt,structs:t,type:"function"}))}return{name:r.name,type:"function",stateMutability:r.stateMutability??"nonpayable",inputs:i,outputs:s}}(e,t);if((0,u.c3)(e))return function(e,t={}){let r=(0,u.wA)(e);if(!r)throw new a.wn({signature:e,type:"event"});let n=m(r.parameters),i=[],o=n.length;for(let e=0;e<o;e++)i.push(g(n[e],{modifiers:u.Wg,structs:t,type:"event"}));return{name:r.name,type:"event",inputs:i}}(e,t);if((0,u._c)(e))return function(e,t={}){let r=(0,u.SA)(e);if(!r)throw new a.wn({signature:e,type:"error"});let n=m(r.parameters),i=[],o=n.length;for(let e=0;e<o;e++)i.push(g(n[e],{structs:t,type:"error"}));return{name:r.name,type:"error",inputs:i}}(e,t);if((0,u.a4)(e))return function(e,t={}){let r=(0,u.PI)(e);if(!r)throw new a.wn({signature:e,type:"constructor"});let n=m(r.parameters),i=[],o=n.length;for(let e=0;e<o;e++)i.push(g(n[e],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:r.stateMutability??"nonpayable",inputs:i}}(e,t);if((0,u.EC)(e))return function(e){let t=(0,u.qm)(e);if(!t)throw new a.wn({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}(e);if((0,u.QM)(e))return{type:"receive",stateMutability:"payable"};throw new a.Vs({signature:e})}let f=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,h=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,p=/^u?int$/;function g(e,t){var r,a;let s;let c=function(e,t,r){let n="";if(r)for(let e of Object.entries(r)){if(!e)continue;let t="";for(let r of e[1])t+=`[${r.type}${r.name?`:${r.name}`:""}]`;n+=`(${e[0]}{${t}})`}return t?`${t}:${e}${n}`:`${e}${n}`}(e,t?.type,t?.structs);if(l.has(c))return l.get(c);let d=n.cN.test(e),w=(0,n.Zw)(d?h:f,e);if(!w)throw new o.jO({param:e});if(w.name&&("address"===(r=w.name)||"bool"===r||"function"===r||"string"===r||"tuple"===r||n.eL.test(r)||n.lh.test(r)||b.test(r)))throw new o.TT({param:e,name:w.name});let v=w.name?{name:w.name}:{},E="indexed"===w.modifier?{indexed:!0}:{},x=t?.structs??{},A={};if(d){s="tuple";let e=m(w.type),t=[],r=e.length;for(let n=0;n<r;n++)t.push(g(e[n],{structs:x}));A={components:t}}else if(w.type in x)s="tuple",A={components:x[w.type]};else if(p.test(w.type))s=`${w.type}256`;else if("address payable"===w.type)s="address";else if(s=w.type,t?.type!=="struct"&&!y(s))throw new i.Hk({type:s});if(w.modifier){if(!t?.modifiers?.has?.(w.modifier))throw new o.zL({param:e,type:t?.type,modifier:w.modifier});if(u.Dt.has(w.modifier)&&(a=s,!w.array&&"bytes"!==a&&"string"!==a&&"tuple"!==a))throw new o._D({param:e,type:t?.type,modifier:w.modifier})}let S={type:`${s}${w.array??""}`,...v,...E,...A};return l.set(c,S),S}function m(e,t=[],r="",n=0){let i=e.trim().length;for(let o=0;o<i;o++){let i=e[o],a=e.slice(o+1);switch(i){case",":return 0===n?m(a,[...t,r.trim()]):m(a,t,`${r}${i}`,n);case"(":return m(a,t,`${r}${i}`,n+1);case")":return m(a,t,`${r}${i}`,n-1);default:return m(a,t,`${r}${i}`,n)}}if(""===r)return t;if(0!==n)throw new c({current:r,depth:n});return t.push(r.trim()),t}function y(e){return"address"===e||"bool"===e||"function"===e||"string"===e||n.eL.test(e)||n.lh.test(e)}let b=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/},62619:function(e,t,r){"use strict";function n(e,t){let r=e.exec(t);return r?.groups}r.d(t,{Zw:function(){return n},cN:function(){return a},eL:function(){return i},lh:function(){return o}});let i=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,o=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,a=/^\(.+?\).*?$/},58274:function(e){"use strict";e.exports={i8:"6.6.1"}}}]);