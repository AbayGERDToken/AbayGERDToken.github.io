(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1235],{89214:function(){},85568:function(){},3738:function(e,t,a){Promise.resolve().then(a.bind(a,51176))},51176:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return l}});var n=a(57437),s=a(2265),r=a(99376),c=a(38776),i=a(58511),o=a.n(i);function l(){let e=(0,r.useRouter)(),{login:t,logout:i,isLoading:l,error:u,isLogged:d,address:h}=(0,c.m)(),[m,f]=s.useState(null),[_,b]=s.useState(null),[x,p]=s.useState(!1),[g,y]=s.useState(!1);(0,s.useEffect)(()=>{d&&h?(async()=>{p(!0);try{let e=await N(h);e?b("Balance: ".concat(e," GERD")):b("Balance: 0.00 GERD")}catch(e){console.error("Balance check error:",e),b("Balance: Unable to fetch")}finally{p(!1)}})():b(null)},[d,h]);let N=async e=>{try{let t=new new(await Promise.all([a.e(5260),a.e(4879),a.e(1943)]).then(a.bind(a,51943))).default("https://bsc-dataseed1.binance.org:443").eth.Contract([{constant:!0,inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],type:"function"}],"0x6B16DE4F92e91e91357b5b02640EBAf5be9CF83c"),n=await t.methods.decimals().call(),s=await t.methods.balanceOf(e).call();return(Number(s)/10**Number(n)).toFixed(2)}catch(e){return console.error("Error fetching balance:",e),null}},w=async e=>{try{f(null),b(null),await t(e)}catch(e){f(e instanceof Error?e.message:"Login failed. Please try again.")}},j=async()=>{try{f(null),b(null),await i()}catch(e){f(e instanceof Error?e.message:"Logout failed. Please try again.")}},C=async()=>{if(h)try{await navigator.clipboard.writeText(h),y(!0),setTimeout(()=>y(!1),2e3)}catch(e){console.error("Failed to copy address:",e)}},v=u||m;return(0,n.jsx)("div",{className:o().authContainer,children:(0,n.jsxs)("div",{className:o().authCard,children:[(0,n.jsxs)("div",{className:o().header,children:[(0,n.jsx)("div",{className:o().icon,children:(0,n.jsx)("i",{className:"fas fa-wallet"})}),(0,n.jsx)("h1",{className:o().title,children:"Welcome to GERD Token"}),(0,n.jsx)("p",{className:o().subtitle,children:"Sign in to access your wallet and claim tokens"})]}),v&&(0,n.jsxs)("div",{className:o().errorAlert,children:[(0,n.jsx)("i",{className:"fas fa-exclamation-circle me-2"}),v]}),d&&h&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:o().successAlert,children:[(0,n.jsx)("i",{className:"fas fa-check-circle me-2"}),x?(0,n.jsxs)(n.Fragment,{children:["Wallet connected! Loading balance...",(0,n.jsx)("i",{className:"fas fa-spinner fa-spin ms-2"})]}):(0,n.jsxs)(n.Fragment,{children:["Wallet connected! ",_||"Balance: N/A"]})]}),(0,n.jsxs)("div",{className:o().addressContainer,children:[(0,n.jsx)("div",{className:o().addressLabel,children:"Wallet Address:"}),(0,n.jsxs)("div",{className:o().addressRow,children:[(0,n.jsx)("code",{className:o().addressText,children:h}),(0,n.jsxs)("button",{className:o().copyButton,onClick:C,title:"Copy address",children:[(0,n.jsx)("i",{className:"fas ".concat(g?"fa-check":"fa-copy")}),g?"Copied!":"Copy"]})]})]})]}),d&&(0,n.jsxs)("button",{className:o().disconnectButton,onClick:j,disabled:l,children:[(0,n.jsx)("i",{className:"fas fa-sign-out-alt me-2"}),"Disconnect Wallet"]}),d&&!x&&(0,n.jsxs)("button",{className:o().proceedButton,onClick:()=>e.push("/claim-form?address=".concat(h)),children:[(0,n.jsx)("i",{className:"fas fa-arrow-right me-2"}),"Proceed to Claim Form"]}),!d&&(0,n.jsxs)("div",{className:o().loginOptions,children:[(0,n.jsx)("button",{className:o().loginButton,onClick:()=>w("google"),disabled:l,children:l?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("i",{className:"fas fa-spinner fa-spin me-2"}),"Connecting..."]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("i",{className:"fab fa-google me-2"}),"Continue with Google"]})}),(0,n.jsx)("button",{className:o().loginButton,onClick:()=>w("facebook"),disabled:l,children:l?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("i",{className:"fas fa-spinner fa-spin me-2"}),"Connecting..."]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("i",{className:"fab fa-facebook me-2"}),"Continue with Facebook"]})})]}),(0,n.jsx)("div",{className:o().footer,children:(0,n.jsxs)("p",{className:o().footerText,children:[(0,n.jsx)("i",{className:"fas fa-shield-alt me-2"}),"Your credentials are secured with Web3Auth"]})})]})})}},38776:function(e,t,a){"use strict";a.d(t,{Web3AuthProvider:function(){return o},m:function(){return l}});var n=a(57437),s=a(2265),r=a(87077),c=a(52745);let i=(0,s.createContext)(void 0);function o(e){let{children:t}=e,[o,l]=(0,s.useState)(null),[u,d]=(0,s.useState)(null),[h,m]=(0,s.useState)(!0),[f,_]=(0,s.useState)(!1),[b,x]=(0,s.useState)(null),[p,g]=(0,s.useState)(null);(0,s.useEffect)(()=>{(async()=>{try{let e="BNcEwCq57jR5I5e5DPH4MXK0QXUIcMfFDjOC7-z3CH7hdBs3xIszdCbbfXgMdhzAOvJaJgb9zZQRFZu7vhP3nGM";if(!e)throw Error("Missing Web3Auth Client ID");let t=new r.$L({clientId:e,web3AuthNetwork:"sapphire_devnet",chainConfig:{chainNamespace:c.E.EIP155,chainId:"0x38",rpcTarget:"https://bsc-dataseed1.binance.org:443",displayName:"Binance Smart Chain",blockExplorer:"https://bscscan.com",ticker:"BNB",tickerName:"Binance Coin"}});if(await t.init(),l(t),"connected"===t.status){d(t.provider);let e=await y(t.provider);x(e),_(!0)}}catch(e){console.error("Web3Auth init error:",e),g(e instanceof Error?e.message:"Failed to initialize Web3Auth")}finally{m(!1)}})()},[]);let y=async e=>{if(!e)return null;try{let t=await e.request({method:"eth_accounts"});return Array.isArray(t)&&t.length>0?t[0]:null}catch(e){return console.error("Error getting account:",e),null}},N=async e=>{try{if(g(null),!o)throw Error("Web3Auth not initialized");let e=await o.connect();if(e){d(e);let t=await y(e);x(t),_(!0)}}catch(e){throw g(e instanceof Error?e.message:"Login failed"),e}},w=async()=>{try{if(!o)throw Error("Web3Auth not initialized");await o.logout(),d(null),x(null),_(!1)}catch(e){throw console.error("Logout error:",e),e}},j=async e=>{try{if(!u||!b)return null;let t=new new(await Promise.all([a.e(5260),a.e(4879),a.e(1943)]).then(a.bind(a,51943))).default("https://bsc-dataseed1.binance.org:443").eth.Contract([{constant:!0,inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],type:"function"}],e),n=await t.methods.decimals().call(),s=await t.methods.balanceOf(b).call();return(Number(s)/10**Number(n)).toFixed(2)}catch(e){return console.error("Error fetching balance:",e),null}};return(0,n.jsx)(i.Provider,{value:{web3auth:o,provider:u,isLoading:h,isLogged:f,address:b,error:p,login:N,logout:w,getUserBalance:j},children:t})}function l(){let e=(0,s.useContext)(i);if(void 0===e)throw Error("useWeb3Auth must be used within Web3AuthProvider");return e}},99376:function(e,t,a){"use strict";var n=a(35475);a.o(n,"useRouter")&&a.d(t,{useRouter:function(){return n.useRouter}}),a.o(n,"useSearchParams")&&a.d(t,{useSearchParams:function(){return n.useSearchParams}})},58511:function(e){e.exports={authContainer:"auth_authContainer__PUpxE",authCard:"auth_authCard__PPlHI",header:"auth_header__RGNy2",icon:"auth_icon__g6RW5",title:"auth_title__saMM4",subtitle:"auth_subtitle__aClGr",errorAlert:"auth_errorAlert__3B0hT",successAlert:"auth_successAlert__i0EHt",addressContainer:"auth_addressContainer__9vB80",addressLabel:"auth_addressLabel__3Lkmn",addressRow:"auth_addressRow__T6vyx",addressText:"auth_addressText__rewsG",copyButton:"auth_copyButton__chW7n",loginOptions:"auth_loginOptions__St1YR",loginButton:"auth_loginButton__5U0gh",proceedButton:"auth_proceedButton__cGocG",disconnectButton:"auth_disconnectButton__mBi6x",footer:"auth_footer__CPqgI",footerText:"auth_footerText__hemoJ"}}},function(e){e.O(0,[2604,9496,6971,751,800,2971,2117,1744],function(){return e(e.s=3738)}),_N_E=e.O()}]);