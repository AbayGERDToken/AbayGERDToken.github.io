(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1235],{89214:function(){},85568:function(){},3738:function(e,t,a){Promise.resolve().then(a.bind(a,55679))},55679:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return u}});var n=a(57437),r=a(2265),s=a(35475),i=a(38776),c=a(58511),l=a.n(c),o=a(25566);function u(){let e=(0,s.useRouter)(),{login:t,isLoading:c,error:u,isLogged:h,address:d}=(0,i.m)(),[m,f]=r.useState(null),[_,p]=r.useState(null);(0,r.useEffect)(()=>{h&&d&&(async()=>{try{let t=await b(d);t&&"0.00"!==t&&p("Balance: ".concat(t," GERD")),setTimeout(()=>{e.push("/claim-form")},1500)}catch(t){console.error("Balance check error:",t),e.push("/claim-form")}})()},[h,d,e]);let b=async e=>{try{let t=new(await Promise.all([a.e(5260),a.e(4879),a.e(1943)]).then(a.bind(a,51943))).default(o.env.NEXT_PUBLIC_BSC_RPC_URL||""),n=o.env.NEXT_PUBLIC_GERD_TOKEN_ADDRESS||"",r=new t.eth.Contract([{constant:!0,inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],type:"function"}],n),s=await r.methods.decimals().call(),i=await r.methods.balanceOf(e).call();return(Number(i)/10**Number(s)).toFixed(2)}catch(e){return console.error("Error fetching balance:",e),null}},N=async e=>{try{f(null),p(null),await t(e)}catch(e){f(e instanceof Error?e.message:"Login failed. Please try again.")}},g=u||m;return(0,n.jsx)("div",{className:l().authContainer,children:(0,n.jsxs)("div",{className:l().authCard,children:[(0,n.jsxs)("div",{className:l().header,children:[(0,n.jsx)("div",{className:l().icon,children:(0,n.jsx)("i",{className:"fas fa-wallet"})}),(0,n.jsx)("h1",{className:l().title,children:"Welcome to GERD Token"}),(0,n.jsx)("p",{className:l().subtitle,children:"Sign in to access your wallet and claim tokens"})]}),g&&(0,n.jsxs)("div",{className:l().errorAlert,children:[(0,n.jsx)("i",{className:"fas fa-exclamation-circle me-2"}),g]}),_&&(0,n.jsxs)("div",{className:l().successAlert,children:[(0,n.jsx)("i",{className:"fas fa-check-circle me-2"}),"Wallet created! ",_]}),(0,n.jsxs)("div",{className:l().loginOptions,children:[(0,n.jsx)("button",{className:l().loginButton,onClick:()=>N("google"),disabled:c,children:c?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("i",{className:"fas fa-spinner fa-spin me-2"}),"Connecting..."]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("i",{className:"fab fa-google me-2"}),"Continue with Google"]})}),(0,n.jsx)("button",{className:l().loginButton,onClick:()=>N("facebook"),disabled:c,children:c?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("i",{className:"fas fa-spinner fa-spin me-2"}),"Connecting..."]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("i",{className:"fab fa-facebook me-2"}),"Continue with Facebook"]})})]}),(0,n.jsx)("div",{className:l().footer,children:(0,n.jsxs)("p",{className:l().footerText,children:[(0,n.jsx)("i",{className:"fas fa-shield-alt me-2"}),"Your credentials are secured with Web3Auth"]})})]})})}},38776:function(e,t,a){"use strict";a.d(t,{Web3AuthProvider:function(){return o},m:function(){return u}});var n=a(57437),r=a(2265),s=a(87077),i=a(52745),c=a(25566);let l=(0,r.createContext)(void 0);function o(e){let{children:t}=e,[o,u]=(0,r.useState)(null),[h,d]=(0,r.useState)(null),[m,f]=(0,r.useState)(!0),[_,p]=(0,r.useState)(!1),[b,N]=(0,r.useState)(null),[g,x]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{try{let e=c.env.NEXT_PUBLIC_WEB3AUTH_CLIENT_ID;if(!e)throw Error("Missing Web3Auth Client ID");let t=new s.$L({clientId:e,web3AuthNetwork:"sapphire_devnet",chainConfig:{chainNamespace:i.E.EIP155,chainId:"0x38",rpcTarget:c.env.NEXT_PUBLIC_BSC_RPC_URL||"https://bsc-dataseed1.binance.org:443",displayName:"Binance Smart Chain",blockExplorer:"https://bscscan.com",ticker:"BNB",tickerName:"Binance Coin"}});if(await t.init(),u(t),"connected"===t.status){d(t.provider);let e=await C(t.provider);N(e),p(!0)}}catch(e){console.error("Web3Auth init error:",e),x(e instanceof Error?e.message:"Failed to initialize Web3Auth")}finally{f(!1)}})()},[]);let C=async e=>{if(!e)return null;try{let t=await e.request({method:"eth_accounts"});return Array.isArray(t)&&t.length>0?t[0]:null}catch(e){return console.error("Error getting account:",e),null}},w=async e=>{try{if(x(null),!o)throw Error("Web3Auth not initialized");let e=await o.connect();if(e){d(e);let t=await C(e);N(t),p(!0)}}catch(e){throw x(e instanceof Error?e.message:"Login failed"),e}},y=async()=>{try{if(!o)throw Error("Web3Auth not initialized");await o.logout(),d(null),N(null),p(!1)}catch(e){throw console.error("Logout error:",e),e}},E=async e=>{try{if(!h||!b)return null;let t=new new(await Promise.all([a.e(5260),a.e(4879),a.e(1943)]).then(a.bind(a,51943))).default(c.env.NEXT_PUBLIC_BSC_RPC_URL||"").eth.Contract([{constant:!0,inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],type:"function"}],e),n=await t.methods.decimals().call(),r=await t.methods.balanceOf(b).call();return(Number(r)/10**Number(n)).toFixed(2)}catch(e){return console.error("Error fetching balance:",e),null}};return(0,n.jsx)(l.Provider,{value:{web3auth:o,provider:h,isLoading:m,isLogged:_,address:b,error:g,login:w,logout:y,getUserBalance:E},children:t})}function u(){let e=(0,r.useContext)(l);if(void 0===e)throw Error("useWeb3Auth must be used within Web3AuthProvider");return e}},58511:function(e){e.exports={authContainer:"auth_authContainer__PUpxE",authCard:"auth_authCard__PPlHI",header:"auth_header__RGNy2",icon:"auth_icon__g6RW5",title:"auth_title__saMM4",subtitle:"auth_subtitle__aClGr",errorAlert:"auth_errorAlert__3B0hT",successAlert:"auth_successAlert__i0EHt",loginOptions:"auth_loginOptions__St1YR",loginButton:"auth_loginButton__5U0gh",footer:"auth_footer__CPqgI",footerText:"auth_footerText__hemoJ"}}},function(e){e.O(0,[2604,9496,6971,751,800,2971,2117,1744],function(){return e(e.s=3738)}),_N_E=e.O()}]);